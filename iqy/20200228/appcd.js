(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["appcd"],{"91d5":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("header",{staticClass:"m-header"},[a("AuraLogoIqiyi",{attrs:{to:"/"}}),a("div",{staticClass:"comment-header"},[a("div",{staticClass:"c-title"},[e._v("泡泡")]),a("HeaderTopButton")],1)],1),a("LoadPage",{attrs:{callback:e.init}},[e.mainComment?a("div",{staticClass:"m-box"},[a("div",{staticClass:"m-box-items m-box-items-full"},[a("div",{staticClass:"m-comment-user"},[a("a",{staticClass:"c-photo",style:"background-image:url("+e.removeProtocol(e.mainComment.userInfo.icon)+")",attrs:{href:"javascript:void(0)"}}),a("div",{staticClass:"info"},[a("a",{staticClass:"c-name",attrs:{href:"javascript:void(0)"}},[e._v(e._s(e.mainComment.userInfo.uname))]),a("div",{staticClass:"c-info"},[a("span",{staticClass:"c-time"},[e._v(e._s(e._f("formatTime")(e.mainComment.addTime)))])])]),a("a",{directives:[{name:"pingback",rawName:"v-pingback",value:"808201_more",expression:"'808201_more'"},{name:"show-pingback",rawName:"v-show-pingback",value:"808201_more",expression:"'808201_more'"}],staticClass:"more-link",attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.showMore(e.mainComment)}}},[a("i",{staticClass:"more-icon"}),a("span",{staticClass:"desc"},[e._v("更多")])])])]),a("div",{staticClass:"m-box"},[a("div",{staticClass:"m-box-items m-box-items-full"},[a("div",{staticClass:"m-comment-descInfo"},[a("div",{staticClass:"info",domProps:{innerHTML:e._s(e.mainComment.content)}}),e.mainComment.picture?a("div",{directives:[{name:"pingback",rawName:"v-pingback",value:"707211_picall",expression:"'707211_picall'"}],staticClass:"img"},[a("img",{attrs:{src:e.removeProtocol(e.mainComment.picture.url)},on:{click:function(t){return e.showImageViewer(e.mainComment.picture.url)}}})]):e._e()])])])]):e._e(),a("div",{staticClass:"comment-title"},[e._v("全部评论\n      "),e.mainComment&&(0===e.replyCount||e.replyCount)?a("span",{staticClass:"num"},[e._v("（"+e._s(e.replyCount)+"）")]):e._e()]),e.comments.length?a("CommentDetailList",{directives:[{name:"scroll-to",rawName:"v-scroll-to",value:e.scrollToComment,expression:"scrollToComment"}],attrs:{comments:e.comments,"main-comment-id":e.mainComment.id,"cloud-state":e.cloudState},on:{reply:e.commentPublish,showMore:e.showMore,showImageViewer:e.showImageViewer}}):e._e()],1),e.comments.length?a("LoadBottom",{attrs:{callback:e.getData,"load-complete":e.loadComplete}}):e._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:e.reportShow,expression:"reportShow"}],ref:"cover",staticClass:"cover"}),a("div",{directives:[{name:"show",rawName:"v-show",value:e.reportShow,expression:"reportShow"}],staticClass:"m-pp-report"},[a("a",{directives:[{name:"pingback",rawName:"v-pingback",value:"808201_report",expression:"'808201_report'"}],staticClass:"c-report-link",attrs:{href:"javascript:void(0);"},on:{click:e.report}},[e._v("举报")]),a("a",{directives:[{name:"pingback",rawName:"v-pingback",value:"808201_delete",expression:"'808201_delete'"},{name:"show",rawName:"v-show",value:e.deleteEnable,expression:"deleteEnable"}],staticClass:"c-report-link",attrs:{href:"javascript:void(0);"},on:{click:e.removeComment}},[e._v("删除")]),a("a",{directives:[{name:"pingback",rawName:"v-pingback",value:"808201_cancel",expression:"'808201_cancel'"}],staticClass:"c-report-link",attrs:{href:"javascript:void(0);"},on:{click:e.hideMore}},[e._v("取消")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.toastShow,expression:"toastShow"}],staticClass:"m-toast"},[a("div",{staticClass:"info"},[e._v(e._s(e.toastText))])]),e.mainComment&&e.cloudState&&e.cloudState.inputBoxEnable&&e.cloudState.contentDisplayEnable?a("div",{staticClass:"m-commet-fixed"},[a("div",{staticClass:"inner"},[a("div",{staticClass:"c-comment-input",on:{click:function(t){return e.commentPublish(e.mainComment)}}},[e._v("我来说两句…")]),a("div",{staticClass:"handle"},[0===e.replyCount||e.replyCount?a("a",{staticClass:"c-link",attrs:{href:"javascript:void(0);"},on:{click:function(t){e.scrollToComment=!0}}},[a("i",{staticClass:"comment-icon icon-comment"}),a("span",{staticClass:"num"},[e._v(" "+e._s(e.replyCount))])]):e._e(),0===e.likes||e.likes?a("a",{directives:[{name:"pingback",rawName:"v-pingback",value:"808201_thumbsup",expression:"'808201_thumbsup'"}],staticClass:"c-link selected",attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.toggleLike(e.mainComment.id)}}},[a("i",{staticClass:"comment-icon",class:{"icon-love":e.agree}}),a("span",{staticClass:"num"},[e._v(" "+e._s(e.likes)+" ")])]):e._e()])])]):e._e(),a("BackTop"),a("CommentPublish",{attrs:{"place-holder":"回复  "+e.commentPlaceHolder+"：","reply-id":String(e.handleComment.id),"content-id":e.$route.query.tvid,"publish-comment-visible":e.commentPublishShow,"fake-write-enable":e.cloudState.fakeWriteEnable,"audit-strategy-enable":e.cloudState.auditStrategyEnable},on:{back:function(t){e.commentPublishShow=!1},success:e.CommentSuccess}}),a("CommentReport",{attrs:{"comment-id":String(e.handleComment.id),show:e.commentReportShow},on:{arrowLeftClick:function(t){e.commentReportShow=!1},success:e.reportSuccess}}),a("UserVerify",{attrs:{verify:e.verify},on:{"update:verify":function(t){e.verify=t},success:e.verifySuccess}}),e.pictureViewerShow?a("ImageViewer",{attrs:{images:e.imageViewerList,"scroll-top":e.scrollTop,show:e.pictureViewerShow},on:{"update:show":function(t){e.pictureViewerShow=t}}}):e._e()],1)},i=[],o=a("5176"),s=a.n(o),r=(a("ac6a"),a("f3e2"),a("96cf"),a("3b8d")),c=a("cebc"),m=a("2f62"),l=(a("57e7"),a("87ac"));function u(e,t){return d.apply(this,arguments)}function d(){return d=Object(r["a"])(regeneratorRuntime.mark(function e(t,a){var n,i,o,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.commit,i=t.state,o=a.commentId,!i.comment.comments.length){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,Object(l["h"])(o);case 6:r=e.sent,r.comments&&r.comments.forEach(function(e){s()(e,{unfold:!1,deleteEnable:!1}),e.replySource&&s()(e.replySource,{unfold:!1})}),n("setComments",r);case 9:case"end":return e.stop()}},e)})),d.apply(this,arguments)}function p(e,t){t.comments&&(t.comments=e.comment.comments.concat(t.comments)),e.comment=t}function h(e,t){t.comments=e.comment.comments.splice(1,0,t)}function f(e,t){var a=e.comment.comments.indexOf(t);e.comment.comments.splice(a,1),e.comment.totalCount--}function v(e){e.comment.comments=[],e.comment.totalCount=0}function g(e){e.comment.comments[0].likes++}function b(e){e.comment.comments[0].likes--}function k(e){e.comment.comments[0].agree=!1}function w(e){e.comment.comments[0].agree=!0}function C(e){e.comment.comments[0].replyCount++}function _(e){e.comment.comments[0].replyCount--}var y={namespaced:!0,state:function(){return{comment:{comments:[]}}},actions:{getData:u},mutations:{setComments:p,addComments:h,deleteComment:f,emptyComment:v,addMainLikes:g,minusMainLikes:b,addMainReplyCount:C,minusMainReplyCount:_,cancelMainLike:k,mainLike:w}},x=a("fe3a"),S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"m-comment comment-all comment-sub"},e._l(e.comments,function(t){return a("div",{key:t.id,staticClass:"comment-info"},[a("div",{staticClass:"user-info",class:{"user-starV":!1}},[t.userInfo?a("a",{staticClass:"info-link",attrs:{href:"javascript:void(0)"}},[a("div",{staticClass:"c-photo",style:"background-image:url("+e.removeProtocol(t.userInfo.icon)+")"}),a("div",{staticClass:"info"},[a("div",{staticClass:"name"},[a("span",{staticClass:"name-des"},[e._v(e._s(t.userInfo.uname))]),t.replySource&&t.replySource.id!==e.mainCommentId?a("span",{staticClass:"reply-name"},[e._v("回复了 "+e._s(t.replySource.userInfo.uname))]):e._e()]),a("div",{staticClass:"des"},[t.floor?a("span",{staticClass:"c-des"},[e._v(e._s(t.floor)+"楼")]):e._e(),t.addTime?a("span",{staticClass:"c-des"},[e._v(e._s(e._f("formatTime")(t.addTime)))]):e._e()])])]):e._e(),a("a",{directives:[{name:"pingback",rawName:"v-pingback",value:"808201_more",expression:"'808201_more'"},{name:"show-pingback",rawName:"v-show-pingback",value:"808201_more",expression:"'808201_more'"}],staticClass:"c-report-link",attrs:{href:"javascript:void(0)"},on:{click:function(a){return e.$emit("showMore",t)}}},[a("i",{staticClass:"c-glyphicon c-glyphicon-ellipsis"})])]),a("div",{staticClass:"content",class:{selected:t.unfold}},[a("div",{staticClass:"info"},[a("p",{domProps:{innerHTML:e._s(t.content)}}),a("a",{staticClass:"c-link",attrs:{href:"javascript:void(0)"},on:{click:function(e){t.unfold=!t.unfold}}},[e._v("\n          "+e._s(t.unfold?"收起":"展开")+"\n        ")])]),t.picture&&t.picture.url?a("div",{staticClass:"img"},[a("img",{directives:[{name:"pingback",rawName:"v-pingback",value:"707211_picall",expression:"'707211_picall'"}],attrs:{src:e.removeProtocol(t.picture.url)},on:{click:function(a){return e.$emit("showImageViewer",t.picture.url)}}})]):e._e()]),t.replySource&&t.replySource.id!==e.mainCommentId?a("div",{staticClass:"reply",class:{selected:t.replySource.unfold}},[a("div",{staticClass:"name-sub"},[a("div",{staticClass:"name-des"},[e._v(e._s(t.replySource.userInfo.uname))]),a("span",{staticClass:"num"},[e._v(e._s(t.replySource.floor)+"楼")])]),a("div",{staticClass:"info"},[a("p",{domProps:{innerHTML:e._s(t.replySource.content)}}),a("a",{staticClass:"c-link",attrs:{href:"javascript:void(0)"},on:{click:function(e){t.replySource.unfold=!t.replySource.unfold}}},[e._v("\n          "+e._s(t.replySource.unfold?"收起":"展开")+"\n        ")])])]):e._e(),e.cloudState.inputBoxEnable?a("div",{staticClass:"reply-link"},[a("a",{directives:[{name:"pingback",rawName:"v-pingback",value:"808201_answer",expression:"'808201_answer'"},{name:"show-pingback",rawName:"v-show-pingback",value:"808201_answer",expression:"'808201_answer'"}],staticClass:"c-link",attrs:{href:"javascript:void(0)"},on:{click:function(a){return e.$emit("reply",t)}}},[e._v("回复")])]):e._e()])}),0)},P=[],T=a("3260"),L=a("090f"),j={name:"CommentDetailList",filters:{formatTime:T["a"]},props:{comments:{type:Array,default:function(){return[]}},mainCommentId:{type:String,default:""},cloudState:{type:Object,default:function(){return{}}}},methods:{removeProtocol:L["a"]}},I=j,N=a("2877"),M=Object(N["a"])(I,S,P,!1,null,null,null),$=M.exports,O=a("7b93"),V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Popup",{attrs:{show:e.show,"scroll-top":e.scrollTop,fullscreen:!0,position:"right"}},[a("section",{staticClass:"m-comment-topSite"},[a("a",{staticClass:"c-goback",attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.$emit("arrowLeftClick")}}},[a("i",{staticClass:"c-glyphicon c-glyphicon-arrowLeft"})]),a("div",{staticClass:"c-content"},[e._v("举报")]),a("a",{staticClass:"c-handle-link",class:{disabled:e.disabled},attrs:{href:"javascript:void(0);"},on:{click:e.submit}},[e._v("\n      提交\n    ")])]),a("section",{staticClass:"m-comment-report"},[a("div",{staticClass:"title"},[e._v("请选择举报原因")]),a("div",{staticClass:"report-reasons"},e._l(e.reasons,function(t,n){return 4!=n?a("a",{key:n,staticClass:"c-reason",class:{selected:e.reasonSelect.reason==n},attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.reasonClick(n)}}},[e._v("\n        "+e._s(t.desc)+"\n      ")]):e._e()}),0),a("div",{staticClass:"title"},[e._v("其他")]),a("div",{staticClass:"m-report-add"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.reasons[4].desc,expression:"reasons[4].desc"}],staticClass:"c-editor",attrs:{maxlength:"50",placeholder:"补充原因..."},domProps:{value:e.reasons[4].desc},on:{input:[function(t){t.target.composing||e.$set(e.reasons[4],"desc",t.target.value)},e.inputHandle]}}),a("span",{staticClass:"c-num",class:{selected:e.reasons[4].desc.length}},[a("i",{staticClass:"num"},[e._v(e._s(e.reasons[4].desc.length))]),e._v("/50")])])]),a("AuraToast",{directives:[{name:"show",rawName:"v-show",value:e.toast.show,expression:"toast.show"}],class:e.toast.toastClass,attrs:{text:e.toast.text}},[a("i",{class:e.toast.icon})])],1)},B=[],R=a("8530"),D=a("8296"),q={name:"CommentReport",components:{Popup:R["a"]},props:{show:{type:Boolean,default:!1},commentId:{type:String,default:null}},data:function(){return{reasons:[{desc:"发布淫秽信息",reason:0},{desc:"发布商业信息",reason:1},{desc:"发布政治敏感信息",reason:2},{desc:"欺诈骗钱",reason:3},{desc:"",reason:4},{desc:"谩骂,人身攻击",reason:5}],reasonSelect:{reason:null},toast:{show:!1,text:"",icon:"",toastClass:""},scrollTop:0}},computed:{disabled:function(){return null===this.reasonSelect.reason}},watch:{commentId:function(){this.reset()},show:function(e){this.scrollTop=e?document.body.scrollTop||document.documentElement.scrollTop:this.scrollTop}},methods:{reset:function(){this.reasons[4].desc="",this.reasonSelect={reason:null}},reasonClick:function(e){this.reasonSelect=this.reasons[e],this.reasons[4].desc=""},getParam:function(){return{reason:this.reasonSelect.reason,other_reason:this.reasonSelect.desc,commentId:this.commentId}},inputHandle:function(){this.reasonSelect=this.reasons[4],!this.reasons[4].desc&&this.reset()},submit:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.disabled){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Object(l["l"])(this.getParam());case 5:t=e.sent,a=t.data,"A00000"===a.code?this.reportSuccess():this.reportFail(a.msg),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](2),this.reportFail();case 13:case"end":return e.stop()}},e,this,[[2,10]])}));function t(){return e.apply(this,arguments)}return t}(),reportSuccess:function(){this.showToast("举报成功","success-icon","toast-square"),this.$emit("success")},reportFail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"举报失败，网络异常";this.showToast(e)},showToast:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var a,n,i=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=i.length>1&&void 0!==i[1]?i[1]:"",n=i.length>2&&void 0!==i[2]?i[2]:"",this.toast={show:!0,text:t,icon:a,toastClass:n},e.next=5,Object(D["V"])(2e3);case 5:this.toast.show=!1;case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}},E=q,A=Object(N["a"])(E,V,B,!1,null,null,null),K=A.exports,H=a("f4c6"),z=a("465e"),W=a("23b1"),F=a("da1f"),U=a("9e5e"),J=a("7f00"),G=a("aa91"),Z=a("21fd"),Q=a("5846"),X=a("4e77"),Y={update:function(e,t){t.value&&window.scrollTo(0,e.offsetTop)}},ee={name:"CommentDetail",components:{AuraLogoIqiyi:H["a"],HeaderTopButton:J["a"],LoadBottom:F["a"],BackTop:U["a"],CommentPublish:O["a"],CommentDetailList:$,CommentReport:K,UserVerify:W["a"],ImageViewer:z["a"],LoadPage:G["a"]},directives:{scrollTo:Y},filters:{formatTime:T["a"]},mixins:[x["a"]],style:["base","comment"],data:function(){return{cloudState:{},scrollToComment:!1,handleComment:"",deleteEnable:!1,toastText:"",toastShow:!1,reportShow:!1,commentPublishShow:!1,commentReportShow:!1,pictureViewerShow:!1,commentPlaceHolder:"",isRealName:!1,verify:!1,imageViewerList:[],scrollTop:0}},computed:Object(c["a"])({},Object(m["e"])("commentDetailStore",{comment:"comment",mainComment:function(e){return e.comment.comments[0]},comments:function(e){return e.comment.comments.slice(1)},lastCommentId:function(e){return e.comment.comments.slice(-1)[0].id},remaining:function(e){return e.comment.remaining},replyCount:function(e){return e.comment.comments[0].replyCount},likes:function(e){return e.comment.comments[0].likes},agree:function(e){return e.comment.comments[0].agree}}),{loadComplete:function(){return!this.remaining}}),asyncData:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a=t.store,t.route,a.registerModule("commentDetailStore",y,{preserveState:a.state.commentDetailStore});case 2:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),mounted:function(){this.$refs.cover.addEventListener("touchmove",function(e){e.preventDefault()})},destroyed:function(){Object(X["h"])(this.cancelScrollToComment)},methods:{init:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={is_video_page:this.$route.query.is_video_page,tvid:this.$route.query.tvid,aid:this.$route.query.aid,cid:this.$route.query.cid,business:"comment"},e.next=3,Object(l["b"])(t);case 3:return this.cloudState=e.sent,e.next=6,Object(Z["s"])({qipuId:this.$route.query.tvid});case 6:if(a=e.sent,this.cloudState&&a.commentAllowed){e.next=9;break}return e.abrupt("return");case 9:this.cloudState.contentDisplayEnable&&(this.$store.dispatch("commentDetailStore/getData",{commentId:this.$route.query.commentId}),this.$store.dispatch("getUserInfo",{authcookie:this.$store.$cookies.get("P00001")}),Object(X["e"])(this.cancelScrollToComment));case 10:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),cancelScrollToComment:function(){this.scrollToComment=!1},getData:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["h"])(this.$route.query.commentId,this.lastCommentId);case 2:t=e.sent,t.comments.slice().forEach(function(e){s()(e,{unfold:!1}),e.replySource&&s()(e.replySource,{unfold:!1})}),this.$store.commit("commentDetailStore/setComments",t);case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),showMore:function(e){if(!e.isFakeWriteComment){var t=this.$store.state.userInfo.userinfo.uid;this.deleteEnable=this.mainComment.userInfo.uid===t||e.userInfo.uid===t,this.handleComment=e,this.reportShow=!0}},hideMore:function(){this.deleteEnable=!1,this.reportShow=!1},CommentSuccess:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var a,n,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.cloudState.fakeWriteEnable||!this.cloudState.auditStrategyEnable){e.next=7;break}return a=this.$store.state.userInfo.userinfo,n={userInfo:{icon:a.icon,uname:a.nickname,uid:a.uid},content:t.content,picture:t.picture,id:t.id,replySource:this.handleComment,floor:this.comments[0]?this.comments[0].floor+1:1,addTime:t.addTime,isFakeWriteComment:!0,unfold:!1},e.next=5,Object(Q["a"])({data:n,key:"content"});case 5:this.$store.commit("commentDetailStore/addComments",n),this.$store.commit("commentDetailStore/addMainReplyCount");case 7:setTimeout(function(){i.commentPublishShow=!1},2e3);case 8:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),report:function(){this.hideMore(),this.commentReportShow=!0},reportSuccess:function(){var e=this;setTimeout(function(){e.commentReportShow=!1},2e3)},verifySuccess:function(){this.isRealName=!0},commentPublish:function(e){e.isFakeWriteComment||(this.isRealName?(this.commentPlaceHolder=e.userInfo.uname,this.commentPublishShow=!0,this.handleComment=e):this.verify=!0)},showImageViewer:function(e){this.pictureViewerShow=!0,this.imageViewerList[0]={url:e},this.scrollTop=document.body.scrollTop||document.documentElement.scrollTop},removeComment:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.hideMore(),e.next=3,Object(l["c"])(this.handleComment.id);case 3:t=e.sent,t?(this.toastShow=!0,this.toastText="删除成功",this.handleComment===this.mainComment?setTimeout(function(){location.href=a.$route.query.origin},2e3):(this.$store.commit("commentDetailStore/deleteComment",this.handleComment),this.$store.commit("commentDetailStore/minusMainReplyCount"))):(this.toastShow=!0,this.toastText="删除失败"),setTimeout(function(){a.toastShow=!1},2e3);case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),toggleLike:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.$store.state.userInfo,t&&t.userinfo&&t.userinfo.uid||(location.href="//m.iqiyi.com/user.html#baseLogin"),!this.agree){e.next=10;break}return e.next=5,Object(l["k"])(this.mainComment.id);case 5:if(!e.sent){e.next=8;break}this.$store.commit("commentDetailStore/minusMainLikes"),this.$store.commit("commentDetailStore/cancelMainLike");case 8:e.next=15;break;case 10:return e.next=12,Object(l["i"])(this.mainComment.id);case 12:if(!e.sent){e.next=15;break}this.$store.commit("commentDetailStore/addMainLikes"),this.$store.commit("commentDetailStore/mainLike");case 15:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),removeProtocol:L["a"]}},te=ee,ae=Object(N["a"])(te,n,i,!1,null,null,null);t["default"]=ae.exports},f4c2:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ChannelPage",{attrs:{types:e.channelCategorys,cid:e.channelId,"list-type":"vertical",pos:"1",cname:"dongman"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.onSearchByTag;return[a("ChannelDongmanList",{attrs:{"card-map":e.cardMap,cards:e.cards},on:{clickLoadMore:n}})]}}])})},i=[],o=(a("ac6a"),a("f3e2"),a("7f7f"),a("fe3a")),s=a("e178"),r=a("95ac"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ChannelListCommon",{attrs:{page:e.page,total:2,load:!1},on:{"update:page":[function(t){e.page=t},e.getCards]}},[e.cardMap[1]?a("VideoList",{attrs:{videos:e.cardMap[1].videos,start:0,end:1,name:"m-focus"},scopedSlots:e._u([{key:"body",fn:function(t){var n=t.videos;return[a("AuraVideoList",{directives:[{name:"pingback",rawName:"v-pingback",value:"704131_ayunying1",expression:"'704131_ayunying1'"}],staticClass:"m-pic-horizontal-full",attrs:{videos:n,"hide-sub-title":!0,"hide-title":!0},scopedSlots:e._u([{key:"img",fn:function(t){var n=t.video;return[a("AuraVideo",{staticClass:"piclist-link",style:"background-image:url("+n.imageUrl+");",attrs:{href:n.pageUrl,video:n},scopedSlots:e._u([{key:"lb",fn:function(){return[a("span",{staticClass:"c-title"},[e._v("\n                "+e._s(n.mainTitle)+"\n              ")])]},proxy:!0}],null,!0)})]}}],null,!0)})]}}],null,!1,144700671)}):e._e(),a("ButtonDown",{directives:[{name:"show-pingback",rawName:"v-show-pingback",value:"903212_badaxiazai",expression:"'903212_badaxiazai'"},{name:"pingback",rawName:"v-pingback",value:"903212_badaxiazai",expression:"'903212_badaxiazai'"}],staticClass:"m-box-items m-box-items-full",attrs:{"schema-url":"iqiyi-acg://com.qiyi.acg?target=main&s1=basem_hp","down-app-android-url":"http://mbdapp.iqiyi.com/j/acg/acg_13167.apk","down-app-ios-url":"https://itunes.apple.com/cn/app/id1317763917","to-page":"custom"}},[a("section",{staticClass:"m-banner-img"},[a("img",{attrs:{src:"http://www.iqiyipic.com/common/fix/h5-aura/dongman-banner.png",width:"100%"}})])]),a("ChannelChaseCategory",{staticClass:"m-box-items",attrs:{chases:e.chases,page:e.page},on:{clickChases:e.clickChase}}),e.popupShow?a("ButtonDown",{directives:[{name:"show-pingback",rawName:"v-show-pingback",value:"903211_badaxiazai",expression:"'903211_badaxiazai'"},{name:"pingback",rawName:"v-pingback",value:"804231_bfybutton",expression:"'804231_bfybutton'"}],attrs:{"schema-url":"iqiyi-acg://com.qiyi.acg?target=main&s1=basem_hp","down-app-android-url":"http://mbdapp.iqiyi.com/j/acg/acg_13168.apk","down-app-ios-url":"https://itunes.apple.com/cn/app/id1317763917","to-page":"custom"}},[a("div",{staticClass:"cover"}),a("div",{staticClass:"m-banner-pop qibabu-banner",staticStyle:{"background-image":"url(http://www.iqiyipic.com/common/fix/h5-aura/dongman-pop.png)"}},[a("a",{staticClass:"c-close-link",attrs:{href:"javascript:void(0)"},on:{click:function(t){return t.stopPropagation(),e.closePopup(t)}}},[e._v("\n        关闭\n      ")]),a("a",{staticClass:"c-link",attrs:{href:"javascript:void(0)"}},[e._v("\n        为孩子下载\n      ")])])]):e._e(),e.cardMap[1]?a("VideoList",{attrs:{videos:e.cardMap[1].videos,start:1,end:7,remainder:2},scopedSlots:e._u([{key:"body",fn:function(e){var t=e.videos;return[a("AuraVideoList",{directives:[{name:"pingback",rawName:"v-pingback",value:"704131_ayunying2",expression:"'704131_ayunying2'"}],staticClass:"m-pic-vertical",attrs:{"hide-sub-title":!0,ellipsis:!1,videos:t}})]}}],null,!1,3053996238)}):e._e(),a("div",{directives:[{name:"show-pingback",rawName:"v-show-pingback",value:"704121_aremen",expression:"'704121_aremen'"}]},[e.cardMap[2]?a("VideoList",{attrs:{videos:e.cardMap[2].videos,start:0,end:1},scopedSlots:e._u([{key:"header",fn:function(){return[a("AuraCardTitle",{attrs:{title:e.cardMap[2].cardName}})]},proxy:!0},{key:"body",fn:function(e){var t=e.videos;return[a("AuraVideoList",{directives:[{name:"pingback",rawName:"v-pingback",value:"704131_aremen",expression:"'704131_aremen'"}],staticClass:"m-pic-horizontal-full",attrs:{videos:t,lazyload:!0}})]}}],null,!1,768295662)}):e._e(),e.cardMap[2]?a("VideoList",{attrs:{videos:e.cardMap[2].videos,start:1,end:7,remainder:2},scopedSlots:e._u([{key:"body",fn:function(e){var t=e.videos;return[a("AuraVideoList",{directives:[{name:"pingback",rawName:"v-pingback",value:"704121_aremen",expression:"'704121_aremen'"}],staticClass:"m-pic-vertical",attrs:{"hide-sub-title":!0,ellipsis:!1,videos:t,lazyload:!0}})]}}],null,!1,3074365350)}):e._e()],1),e.cardMap[3]?a("VideoList",{directives:[{name:"show-pingback",rawName:"v-show-pingback",value:"704121_ameiri",expression:"'704121_ameiri'"}],attrs:{id:"weekday",videos:e.cardMap[3].weekVideos,name:"m-scrollxList"},scopedSlots:e._u([{key:"header",fn:function(){return[a("AuraCardTitle",{attrs:{title:e.cardMap[3].cardName}})]},proxy:!0},{key:"body",fn:function(e){var t=e.videos;return[a("ChannelWeekVideoList",{attrs:{"week-videos":t,"hide-sub-title":!1,lazyload:!0,"list-type":"vertical","item-pingback":"704131_ameiri2","nav-item-pingback":"704131_ameiri1"}})]}},{key:"footer",fn:function(){return[a("AuraCardMore",{directives:[{name:"pingback",rawName:"v-pingback",value:"704131_ameiri3",expression:"'704131_ameiri3'"}],attrs:{text:"查看所有排片",href:"/m5/dongman/weekday.html"}})]},proxy:!0}],null,!1,1861354256)}):e._e(),e._l(e.cards,function(t,n){return a("VideoList",{directives:[{name:"recommend-show-pingback",rawName:"v-recommend-show-pingback",value:{card:t,pingback:e.pingback},expression:"{card: card, pingback}"}],key:n,attrs:{videos:t.videos,remainder:2},scopedSlots:e._u([{key:"header",fn:function(){return[a("AuraCardTitle",{attrs:{title:t.cardName}})]},proxy:!0},{key:"body",fn:function(n){var i=n.videos;return[a("AuraVideoList",{directives:[{name:"recommend-click-pingback",rawName:"v-recommend-click-pingback",value:{card:t,pingback:e.pingback},expression:"{card: card, pingback}"},{name:"show-pingback",rawName:"v-show-pingback",value:t.showPingback,expression:"card.showPingback"},{name:"pingback",rawName:"v-pingback",value:t.pingback,expression:"card.pingback"}],staticClass:"m-pic-vertical",attrs:{"hide-sub-title":!0,ellipsis:!1,videos:i,lazyload:!0}})]}},{key:"footer",fn:function(){return[a("AuraCardMore",{directives:[{name:"pingback",rawName:"v-pingback",value:t.moreBack,expression:"card.moreBack"}],attrs:{text:"查看更多"},nativeOn:{click:function(a){return e.searchByTags([t.looKmore],"NM")}}})]},proxy:!0}],null,!0)})}),e._l(e.cardInfos,function(t,n){return a("VideoList",{directives:[{name:"recommend-show-pingback",rawName:"v-recommend-show-pingback",value:{card:t,pingback:e.pingback},expression:"{card: card, pingback}"}],key:"dong_"+n,attrs:{videos:t.videos,remainder:2},scopedSlots:e._u([{key:"header",fn:function(){return[a("AuraCardTitle",{attrs:{title:t.cardName}})]},proxy:!0},{key:"body",fn:function(n){var i=n.videos;return[a("AuraVideoList",{directives:[{name:"recommend-click-pingback",rawName:"v-recommend-click-pingback",value:{card:t,pingback:e.pingback},expression:"{card: card, pingback}"},{name:"show-pingback",rawName:"v-show-pingback",value:t.showPingback,expression:"card.showPingback"},{name:"pingback",rawName:"v-pingback",value:t.pingback,expression:"card.pingback"}],staticClass:"m-pic-vertical",attrs:{"hide-sub-title":!0,ellipsis:!1,videos:i,lazyload:!0}})]}},{key:"footer",fn:function(){return[a("AuraCardMore",{directives:[{name:"pingback",rawName:"v-pingback",value:t.moreBack,expression:"card.moreBack"}],attrs:{text:"查看更多"},nativeOn:{click:function(a){return e.searchByTags(t.looKmore,"NM")}}})]},proxy:!0}],null,!0)})}),a("VideoList",{directives:[{name:"show-pingback",rawName:"v-show-pingback",value:"704121_arebofenlei",expression:"'704121_arebofenlei'"}],attrs:{videos:e.hotTags,name:"m-hotTags"},scopedSlots:e._u([{key:"header",fn:function(){return[a("AuraCardTitle",{attrs:{title:"热播分类"}})]},proxy:!0},{key:"body",fn:function(t){var n=t.videos;return[a("ChannelHotTag",{directives:[{name:"pingback",rawName:"v-pingback",value:"704131_arebofenlei",expression:"'704131_arebofenlei'"}],attrs:{"hot-tags":n},on:{selectTag:e.searchByTags}})]}}])})],2)},m=[],l=(a("96cf"),a("3b8d")),u=a("2f62"),d=a("6810"),p=a("bfde"),h=a("3434"),f=a("4ebf"),v=a("3203"),g=a("6638"),b=a("46cd"),k=a("38ff"),w=a("96d5"),C=a("0b77"),_=a("7e9b"),y=a("4f30"),x=a("fc9d"),S=a("2c06"),P=a("8296"),T={name:"ChannelDongmanList",components:{ChannelChaseCategory:h["a"],ChannelWeekVideoList:f["a"],ChannelChaseVideo:v["a"],ChannelHotTag:g["a"],ButtonDown:k["a"],ChannelListCommon:b["a"],VideoList:d["a"]},directives:{"recommend-show-pingback":_["e"],"recommend-click-pingback":_["d"]},mixins:[C["a"]],props:{cardMap:{type:Object,default:function(){return{}}},cards:{type:Array,default:function(){return[]}}},data:function(){return{popupShow:!1,page:0,chases:[],hotTags:[],cardInfos:[]}},computed:Object(u["e"])("dongman",["channelId","pingback"]),created:function(){var e=this,t=this.cardMap["1.1"];t&&t.videos&&t.videos.forEach(function(t,a){var n="",i=t.mainTitle,o="",s="",r="",c=Object(x["b"])(t);switch(a){case 0:n=t.rseat?t.rseat:"704131_arukou1",o=t.image?t.image:"//www.iqiyipic.com/common/fix/h5-aura/channel-column-9.png",s=2,r="#weekday";break;case 1:n=t.rseat?t.rseat:"704131_arukou2",o=t.image?t.image:"//www.iqiyipic.com/common/fix/h5-aura/channel-column-10.png";break;case 2:n=t.rseat?t.rseat:"704131_arukou3",o=t.image?t.image:"//www.iqiyipic.com/common/fix/h5-aura/channel-column-11.png";break}c?e.chases.push({title:i,page:s,href:r,rseat:n,image:o,search:c}):e.chases.push({title:i,rseat:n,href:r,page:s,image:o})})},mounted:function(){this.init()},methods:{init:function(){var e="DONGMAN_POPUP",t=this.$cookies.get(e);this.popupShow=!t&&!Object(p["b"])();var a=new Date;a.setTime(a.getTime()+864e5),this.$cookies.set(e,1,{expires:a,domain:".iqiyi.com",path:"/"})},handerLib:function(e){var t=[];if(e&&e.category&&e.category.forEach(function(e){e.categoryId&&e.categoryId+""!=="-1"&&e.categoryId+""!=="0"&&t.push({desc:e.parentId+"",name:e.categoryName+"",id:e.categoryId+""})}),e&&e.libPageSort){var a="综合排序",n="-24";"new"===e.libPageSort?(a="新上线",n="-4"):"hot"===e.libPageSort&&(a="热播单",n="-11"),t.push({desc:"sort",name:a,id:n})}return t},handerHotTags:function(e){var t=this,a=[];return e&&e.videos&&e.videos.forEach(function(e){var n=e.mainTitle,i=[];e&&e.libPageConfig&&(i=t.handerLib(e.libPageConfig)),a.push({text:n,search:i})}),a},getCards:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t){var a,n,i,o=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a={ppuid:this.$cookies.get(S["d"])||void 0,uid:this.$cookies.get(S["f"])||void 0,authCookie:this.$cookies.get(S["c"])||void 0,system:Object(P["n"])(this.$userAgent.userAgent||"").os.android?"android":"ios",page:t+1||0},e.next=3,Object(w["e"])("dongman",a);case 3:n=e.sent,i=[],n.cards.length>0&&n.cards.forEach(function(e,t){if(+e.order>3&&e.cardType+""!=="17"){var a=Object(y["formatTitle"])(e,o.channelId,o.title);switch(+e.order){case 4:a.showPingback="704121_ariben",a.pingback="704131_ariben1",a.moreBack="704131_ariben2",a.looKmore=o.handerLib(e.libPageConfig);break;case 5:a.showPingback="704121_aguochan",a.pingback="704131_aguochan1",a.moreBack="704131_aguochan2",a.looKmore=o.handerLib(e.libPageConfig);break;case 6:a.showPingback="704121_adonghuafilm",a.pingback="704131_adonghuafilm1",a.moreBack="704131_adonghuafilm2",a.looKmore=o.handerLib(e.libPageConfig);break;case 7:a.showPingback="704121_aoumei",a.pingback="704131_aoumei1",a.moreBack="704131_aoumei2",a.looKmore=o.handerLib(e.libPageConfig);break;case 8:a.showPingback="704121_ateshe",a.pingback="704131_ateshe1",a.moreBack="704131_ateshe2",a.looKmore=o.handerLib(e.libPageConfig);break;case 9:a.showPingback="704121_ayuanchuang",a.pingback="704131_ayuanchuang1",a.moreBack="704131_ayuanchuang2",a.looKmore=o.handerLib(e.libPageConfig);break;case 10:a.showPingback="704121_aqingxs",a.pingback="704131_aqingxs1",a.moreBack="704131_aqingxs2",a.looKmore=o.handerLib(e.libPageConfig);break;case 11:a.showPingback="704121_amangai",a.pingback="704131_amangai1",a.moreBack="704131_amangai2",a.looKmore=o.handerLib(e.libPageConfig);break;case 12:a.showPingback="704121_ayouxi",a.pingback="704131_ayouxi1",a.moreBack="704131_ayouxi2",a.looKmore=o.handerLib(e.libPageConfig);break;case 13:a.showPingback="704121_agaoxiao",a.pingback="704131_agaoxiao1",a.moreBack="704131_agaoxiao2",a.looKmore=o.handerLib(e.libPageConfig);break;case 14:a.showPingback="704121_arexue",a.pingback="704131_arexue1",a.moreBack="704131_arexue2",a.looKmore=o.handerLib(e.libPageConfig);break;case 15:a.showPingback="704121_alianai",a.pingback="704131_alianai1",a.moreBack="704131_alianai2",a.looKmore=o.handerLib(e.libPageConfig);break;case 16:a.showPingback="704121_akehuan",a.pingback="704131_akehuan1",a.moreBack="704131_akehuan2",a.looKmore=o.handerLib(e.libPageConfig);break;case 17:a.showPingback="704121_ahejiahuan",a.pingback="704131_ahejiahuan1",a.moreBack="704131_ahejiahuan2",a.looKmore=o.handerLib(e.libPageConfig);break;case 18:a.showPingback="704121_abudaixi",a.pingback="704131_abudaixi1",a.moreBack="704131_abudaixi2",a.looKmore=o.handerLib(e.libPageConfig);break}i.push(a)}19===+e.order&&e.cardType+""==="17"&&(o.hotTags=o.handerHotTags(e))}),this.cardInfos&&this.cardInfos.length>0?this.cardInfos=this.cardInfos.concat(i):this.cardInfos=i;case 7:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),closePopup:function(){this.popupShow=!1}}},L=T,j=a("2877"),I=Object(j["a"])(L,c,m,!1,null,null,null),N=I.exports,M=a("9ec9"),$="dongman",O={name:"ChannelZongyi",components:{ChannelPage:r["a"],ChannelDongmanList:N},asyncData:function(e){var t=e.store;e.route,e.res;t.registerModule($,s["a"],{preserveState:t.state[$]})},mixins:[o["a"],M["a"]],style:["base","channel"],title:"动漫频道-动画片大全-动画电影-高清正版动漫视频|爱奇艺",head:function(){return this.channelSeo({cname:"dongman",keywords:"动漫,动漫视频,动画电影,动画片大全",appid:1877023,description:"爱奇艺动漫频道拥有高清正版动漫视频库，动漫视频、动画电影、动画片在线观看。动漫视频内容丰富全面，正版高清，播放流畅，类型包含日本动漫、欧美动漫、国产动漫、电视动画、动画电影、卡通动漫等动漫类型，经典动漫视频在线播放。"})},data:function(){return{name:$,title:{1:!1,2:!0,4:!1,5:!1,6:!1,7:!1,8:!1}}},computed:{kvs:function(){return this.$store.state[this.name].kvs||{}},cards:function(){var e=this,t=this.$store.state[this.name].cards||[],a=[];return t.length>0&&t.forEach(function(t,n){if(+t.order>3){var i=Object(y["formatTitle"])(t,e.channelId,e.title);a.push(i)}}),a}},destroyed:function(){this.$store.unregisterModule(this.name)}},V=O,B=Object(j["a"])(V,n,i,!1,null,null,null);t["default"]=B.exports}}]);