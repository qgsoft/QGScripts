(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["appucu"],{"7e7e":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("section",{staticClass:"m-pc-goBack"},[r("router-link",{staticClass:"c-goBack-link",attrs:{to:"/u/"}},[r("i",{staticClass:"c-glyphicon c-glyphicon-arrowLeft"})])],1),r("section",{staticClass:"m-login"},[e._m(0),r("div",{staticClass:"userInfo"},[r("div",{staticClass:"user"},[r("div",{staticClass:"user-info"},[r("img",{staticClass:"user-pic",attrs:{src:e.loginUser.icon}})]),e.loginPhone?r("p",{staticClass:"user-name"},[r("span",{staticClass:"area-code"},[e._v("+"+e._s(e.areaCode))]),e._v(" "+e._s(e.loginPhone)+"\n        ")]):e._e()])]),r("div",{staticClass:"login-lock-tip"},[e._v("\n      检测到您的账号，请点击确认登录\n    ")]),r("a",{staticClass:"c-btn-block c-btn-base",attrs:{href:"javascript:void(0)"},on:{click:e.login}},[e._v("登录")]),r("div",{staticClass:"tips-link"},[r("a",{staticClass:"c-tips-link",attrs:{href:"javascript:void(0)"},on:{click:e.changeUser}},[e._v("切换账号\n      ")])])]),r("section",{staticClass:"m-pc-footer"},[r("a",{directives:[{name:"pingback",rawName:"v-pingback",value:"h5cmm_2hlp",expression:"'h5cmm_2hlp'"}],staticClass:"c-link",attrs:{href:"/u/feedback?entry=other"}},[e._v("帮助反馈")])])])},s=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-title"},[r("h3",{staticClass:"c-title"},[e._v("登录")])])}],i=r("795b"),a=r.n(i),c=(r("ac6a"),r("5df3"),r("96cf"),r("3b8d")),o=r("a4bb"),u=r.n(o),l=r("b2e7");function h(e,t){return f.apply(this,arguments)}function f(){return f=Object(c["a"])(regeneratorRuntime.mark(function e(t,r){var n,s,i,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.commit,s=t.state,u()(s.userInfo.userinfo).length){e.next=7;break}return e.next=4,l["E"](r);case 4:i=e.sent,a=i&&"A00000"===i.code?i.data:s.userInfo,a&&n("setUserInfo",a);case 7:case"end":return e.stop()}},e)})),f.apply(this,arguments)}function p(e,t){return d.apply(this,arguments)}function d(){return d=Object(c["a"])(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t.userInfo=r;case 1:case"end":return e.stop()}},e)})),d.apply(this,arguments)}var m={namespaced:!0,state:function(){return{userInfo:{userinfo:{}}}},actions:{getUserInfo:h},mutations:{setUserInfo:p}},g=r("fe3a"),v={name:"UserCheckUser",mixins:[g["a"]],style:["base","user"],data:function(){var e=this.$route.query.redirectUrl||"/u/",t=this.$route.query.P00001;return{authcookie:t,redirectUrl:e}},asyncData:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:r=t.store,t.route,r.registerModule("checkuser",m,{preserveState:r.state.checkuser}),e.next=8;break;case 8:return e.abrupt("return",a.a.resolve());case 9:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),computed:{loginPhone:function(){return this.loginUser.phone||this.loginUser.email||this.loginUser.nickname||""},areaCode:function(){if(this.loginUser.phone)return this.loginUser.area_code||"86"},currentUser:function(){return this.$store.state.userInfo.userinfo},loginUser:function(){return this.$store.state.checkuser.userInfo.userinfo},same:function(){return this.currentUser.uid&&this.loginUser.uid&&this.currentUser.uid===this.loginUser.uid}},beforeMount:function(){this.loginUser.uid?this.same&&this.login():window.location.href=this.redirectUrl},methods:{login:function(){Object(l["r"])(this.redirectUrl,this.authcookie)},changeUser:function(){Object(l["P"])({redirectUrl:"".concat(location.protocol,"//m.iqiyi.com/user.html?redirect_url=").concat(this.redirectUrl)})}}},k=v,U=r("2877"),b=Object(U["a"])(k,n,s,!1,null,null,null);t["default"]=b.exports}}]);