(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["appPw"],{f890:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"m-box"},[a("PlayVideoRelated",{on:{sourceLayerFoo:function(t){return e.$refs.platformLimit&&e.$refs.platformLimit.sourceLayerFooHandle(t)},fullscreenClick:e.clearLayer},scopedSlots:e._u([{key:"layer",fn:function(){return[a("PlayWechatEndLayer",{attrs:{poster:e.videoInfo.imageUrl}}),e.albumInfo.isWeChatKnowledgePay?[a("PlayKnowledgePayLayer",{attrs:{"is-show-packages":!1}}),a("PlayKnowledgeOfflineLayer")]:e._e()]},proxy:!0}])}),a("PlayAppBanner",{attrs:{enable:{shaoer:!1,dongman:!1}}})],1),a("div",{staticClass:"m-box"},[a("PlayVideoInfo",{ref:"videoInfo"})],1),e.controlInfo.politicallySensitive?e._e():a("PlayWechatAroundVideo"),e.page>1?[e.controlInfo.detailComment?a("PlayWechatComment"):e._e(),a("AuraFooter")]:e._e(),e.page<2?a("LoadBottom",{attrs:{callback:e.loadMore}}):e._e(),a("WechatShareLayer",{attrs:{show:e.showShareLayer},on:{click:function(t){e.showShareLayer=!1}}}),a("PlayWechatBottomDiversion",{on:{share:function(t){e.showShareLayer=!0}}}),a("PlayPlatformLimit",{ref:"platformLimit"})],2)},n=[],o=a("795b"),s=a.n(o),r=(a("96cf"),a("3b8d")),c=a("cebc"),l=a("2f62"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.videos.length?a("div",{directives:[{name:"show-pingback",rawName:"v-show-pingback",value:"707211_rmzb",expression:"'707211_rmzb'"}],ref:"rec",staticClass:"m-box"},[e._m(0),a("div",{staticClass:"m-box-items m-box-items-full"},[a("AuraVideoRowList",{directives:[{name:"pingback",rawName:"v-pingback",value:"h5_zhoubian_app",expression:"'h5_zhoubian_app'"}],attrs:{subtype:e.subtype,videos:e.videos,"show-desc":!1,"show-row-title":!1,"show-sub-title":!1,"customer-class":"m-imgTextList-leftRight","customer-ul-class":"imgTextListLR-item"},on:{click:e.onVideoClick},scopedSlots:e._u([{key:"extra",fn:function(e){var t=e.video;return[a("VideoCount",{attrs:{status:t.hotDisplayStatus,count:t.hotDisplayCount}})]}}],null,!1,754731361)})],1)]):e._e()},p=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"m-box-items m-box-items-full"},[a("section",{staticClass:"m-title"},[a("h3",{staticClass:"c-title-des"},[e._v("周边视频")])])])}],d=(a("d92a"),a("ac6a"),a("f3e2"),a("21fd")),h=a("9a35"),m=a("8296"),f=a("ab22"),b=a("5321"),v={name:"PlayAroundVideo",components:{VideoCount:h["a"]},data:function(){return{response:{},showNum:f["t"].wechat.around,subtype:"H5zbsp_822"}},computed:Object(c["a"])({},Object(l["e"])("play",["videoInfo","subTemplate"]),{cid:function(){return this.videoInfo.cid},aid:function(){return this.videoInfo.aid},videos:function(){var e=this.$route.query.social_platform,t=this.response&&this.response.videos||[];return t.forEach(function(t,a){var i=Object(f["r"])(this.subTemplate,this.videoInfo.cid);t.pageUrl=Object(m["K"])("".concat(t.pageUrl,"?social_platform=").concat(e,"#vfrm=").concat(i)),t.callApp=a<this.showNum,t.callApp?t.upperRightCorner="APP":t.play={card:"videoAround",redirect:!1,url:t.pageUrl,qipuId:t.qipuId,selectClass:"selected"},t.lowerRightCorner=t.duration}.bind(this)),t},pingback:function(){return this.response.pingback}}),beforeMount:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getVideos();case 3:this.response=e.sent,this.sendBlockRecommend(),e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](0),this.response={},document.dispatchEvent(new Event("scroll"));case 11:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}(),methods:{getVideos:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,a,i,n=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n.length>0&&void 0!==n[0]?n[0]:"",t=this.videoInfo,a=this.subTemplate.short?"h_swan":"h_zebra",i={type:"video",area:a,channelId:t.cid,referenceId:t.qipuId,size:5,albumId:t.aid},e.abrupt("return",Object(d["k"])(i));case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onVideoClick:function(e,t){event.preventDefault(),e.callApp&&this.$dispatch("GlobalCallapp","toPlay",{extralOptions:{aid:e.aid||e.albumId,cid:e.cid,vid:e.vid,tvid:e.tvid||e.id||e.qipuId},subtype:this.subtype}),this.sendClickRecommend(e,t)},sendBlockRecommend:function(){var e=[],t=[];this.videos.forEach(function(a){e.push(a.albumId||a.qipuId||a.id),t.push(a.source)}),Object(b["i"])({usract:"show",aid:this.aid,cid:this.cid,eventId:this.pingback.eventId,bkt:this.pingback.bkt,area:this.pingback.area,albumList:e.join(","),source:t.join(",")})},sendClickRecommend:function(e,t){Object(b["j"])({cid:this.cid,aid:this.aid,tvid:e.qipuId,eventId:this.pingback.eventId,bkt:this.pingback.bkt,area:this.pingback.area,rank:t,taid:e.id||e.aid,tcid:e.cid,source:e.source})}}},y=v,w=a("2877"),g=Object(w["a"])(y,u,p,!1,null,null,null),k=g.exports,_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"m-box m-box-borderST"},[a("div",{staticClass:"m-box-items m-box-items-full"},[a("PlayComment",{directives:[{name:"show-pingback",rawName:"v-show-pingback",value:"808201_comment",expression:"'808201_comment'"}],attrs:{"video-info":e.videoInfo,"qipu-id":e.videoInfo.qipuId,aid:e.videoInfo.aid,cid:e.videoInfo.cid,"show-num":3,"more-pingback":"902282_pldl","callapp-pingback":"902281_pldl"}})],1)])},x=[],P=a("4de8"),C={name:"PlayWechatComment",components:{PlayComment:P["a"]},computed:Object(c["a"])({},Object(l["e"])("play",["videoInfo"]))},I=C,j=Object(w["a"])(I,_,x,!1,null,null,null),O=j.exports,L=a("b75f"),$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.end&&!e.hasErrorTip?a("div",{staticClass:"m-play-appGuide guide-bgcol",style:"background-image: url("+e.poster+")"},[a("PlayButtonDown",{directives:[{name:"show-pingback",rawName:"v-show-pingback",value:"903081_daoliu",expression:"'903081_daoliu'"},{name:"pingback",rawName:"v-pingback",value:"903081_daoliu",expression:"'903081_daoliu'"}],staticClass:"c-link c-link-iqy",attrs:{subtype:"H5pyqb_835","down-app-url":"//ota.iqiyi.com/f4.jsp?url=h5_fuceng"}},[a("i",{staticClass:"c-glyphicon c-glyphicon-iqy"}),e._v("打开爱奇艺，看更多视频！\n  ")]),a("a",{staticClass:"c-link c-link-again",attrs:{href:"javascript:void(0)"},on:{click:e.replay}},[a("i",{staticClass:"c-glyphicon c-glyphicon-album-Bplay"}),e._v("重播\n  ")])],1):e._e()},B=[],E=a("cf20"),S={name:"PlayWechatEndLayer",components:{PlayButtonDown:E["a"]},props:{poster:{type:String,default:""}},data:function(){return{end:!1,hasErrorTip:!1}},beforeMount:function(){var e=this,t=this.$parent;t.$on("created",function(){e.$player=t,t.on("play",function(){e.end=!1}),t.$on("playEnd",function(){e.end=!0}),t.$on("sourceTypeChange",function(t){var a=t.type;e.hasErrorTip=0!==a})})},methods:{replay:function(){this.$player.show(),this.$player.play()}}},R=S,W=Object(w["a"])(R,$,B,!1,null,null,null),q=W.exports,A=a("6f42"),V=a("aa95"),D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"m-bottomIQY-diversion bottomIQY-fixed"},[e.opacity?a("div",{staticClass:"m-bottomIQY-diversionBox",style:{opacity:e.opacity}},[a("PlayButtonDown",{directives:[{name:"pingback",rawName:"v-pingback",value:{rseat:"wechat_openapp",block:"wechat_openapp"},expression:"{rseat: 'wechat_openapp', block: 'wechat_openapp'}"}],staticClass:"diversion-btn",attrs:{subtype:"H5pyqf_834",text:"打开爱奇艺APP","down-app-url":"//ota.iqiyi.com/f4.jsp?url=h5_fuceng"}}),a("a",{directives:[{name:"pingback",rawName:"v-pingback",value:{rseat:"wechat_share",block:"wechat_openapp"},expression:"{rseat: 'wechat_share', block: 'wechat_openapp'}"}],staticClass:"diversion-btn ",attrs:{href:"javascript:;"},on:{click:function(t){return e.$emit("share")}}},[a("i",{staticClass:"c-icon-weixin-white"}),e._v("分享给好友")])],1):e._e()])},T=[],N=a("4e77"),F={name:"PlayWechatBottomDiversion",components:{PlayButtonDown:E["a"]},data:function(){return{isFix:!1,opacity:0,landscapeOffset:600,threshold:60,isSendBlock:!1}},watch:{isFix:function(e){e&&!this.isSendBlock&&(Object(b["h"])({block:"wechat_openapp"}),this.isSendBlock=!0)}},mounted:function(){this.refresh({landscape:90===window.orientation||-90===window.orientation}),Object(N["e"])(this.checkHeight),Object(N["c"])(this.refresh)},destroyed:function(){Object(N["h"])(this.checkHeight),Object(N["f"])(this.refresh)},methods:{refresh:function(e){var t=e.landscape?this.landscapeOffset:0;this.threshold=this.$el.offsetHeight+t},checkHeight:function(e){var t=e.scrollOffset.y/this.threshold;t<1?(this.opacity=t,this.isFix=!1):(this.opacity=1,this.isFix=!0)}}},H=F,z=Object(w["a"])(H,D,T,!1,null,null,null),K=z.exports,M=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"m-WXShare-diversion",class:{dn:!e.show},on:{click:function(t){return e.$emit("click")}}})},U=[],Q={name:"WechatShareLayer",props:{show:{type:Boolean,default:!1}}},Y=Q,G=Object(w["a"])(Y,M,U,!1,null,null,null),J=G.exports,X=a("302b"),Z=a("da1f"),ee=a("eda2"),te=a("b65b"),ae=a("a466"),ie=a("ba2c"),ne={name:"PlayWechat",components:{PlayVideoRelated:L["a"],PlayWechatEndLayer:q,PlayAppBanner:A["a"],PlayVideoInfo:V["a"],PlayWechatAroundVideo:k,PlayWechatBottomDiversion:K,PlayWechatComment:O,WechatShareLayer:J,PlayKnowledgePayLayer:ee["a"],PlayKnowledgeOfflineLayer:te["a"],AuraFooter:X["a"],PlayPlatformLimit:ie["a"],LoadBottom:Z["a"]},mixins:[ae["a"]],data:function(){return{showShareLayer:!1,page:1}},computed:Object(c["a"])({},Object(l["e"])("play",["videoInfo","albumInfo","controlInfo"])),mounted:function(){this.controlInfo.politicallySensitive&&this.loadMore()},methods:{loadMore:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.page=this.page+1,e.abrupt("return",s.a.resolve());case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},oe=ne,se=Object(w["a"])(oe,i,n,!1,null,null,null);t["default"]=se.exports}}]);