(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["appPK"],{"4f635":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"m-box"},[a("PlayVideoRelated",{on:{sourceLayerFoo:function(t){return e.$refs.platformLimit&&e.$refs.platformLimit.sourceLayerFooHandle(t)},fullscreenClick:e.clearLayer},scopedSlots:e._u([{key:"layer",fn:function(){return[a("PlayKnowledgePayLayer",{on:{showPackageLayer:function(t){e.isShowPackageLayer=!e.isShowPackageLayer}}}),a("PlayKnowledgeOfflineLayer")]},proxy:!0}])}),a("PlayKnowledgeAppBanner"),a("PlayLongExtendBar",{attrs:{"is-comment-load":e.isCommentLoad,"is-show-normal":!0},on:{scrollToComment:e.loadNextPage}})],1),a("PlayLongVideoInfo",{ref:"videoInfo"},[e.albumInfo.priceInfo&&e.albumInfo.priceInfo.validity?a("div",{staticClass:"data-info"},[e._v("\n      有效期："+e._s(e.albumInfo.priceInfo.validity)+"\n    ")]):e._e()]),a("PlayKnowledgePriceInfo"),a("PlayKnowledgePackageLayer",{attrs:{open:e.isShowPackageLayer},on:{"update:open":function(t){e.isShowPackageLayer=t}}}),e.subTemplate.album&&!e.controlInfo.politicallySensitive?a("PlayKnowledgeAlbum",{directives:[{name:"show-pingback",rawName:"v-show-pingback",value:"lesson",expression:"'lesson'"}],on:{showAlbumLayer:function(t){e.isShowAlbumLayer=!e.isShowAlbumLayer}}}):e._e(),e.subTemplate.album&&!e.controlInfo.politicallySensitive?a("PlayKnowledgeAlbumLayer",{directives:[{name:"show-pingback",rawName:"v-show-pingback",value:"lesson_area",expression:"'lesson_area'"}],attrs:{open:e.isShowAlbumLayer},on:{"update:open":function(t){e.isShowAlbumLayer=t}}}):e._e(),e.subTemplate.source&&!e.controlInfo.politicallySensitive?a("PlayKnowledgeSource",{directives:[{name:"show-pingback",rawName:"v-show-pingback",value:"lesson",expression:"'lesson'"}],on:{showSourceLayer:function(t){e.isShowSourceLayer=!e.isShowSourceLayer}}}):e._e(),e.subTemplate.source&&!e.controlInfo.politicallySensitive?a("PlayKnowledgeSourceLayer",{directives:[{name:"show-pingback",rawName:"v-show-pingback",value:"lesson_area",expression:"'lesson_area'"}],attrs:{open:e.isShowSourceLayer},on:{"update:open":function(t){e.isShowSourceLayer=t}}}):e._e(),e.controlInfo.politicallySensitive?e._e():a("PlayKnowledgeTeacher"),e.controlInfo.politicallySensitive?e._e():a("PlayVideoUser",{attrs:{"sub-rseat":"follow"}}),e.controlInfo.politicallySensitive?e._e():a("PlayKnowledgeDesc"),e.controlInfo.politicallySensitive?e._e():a("PlayKnowledgeDetail"),e.page>=1?[e.controlInfo.politicallySensitive?e._e():a("PlayKnowledgeRecommend",{on:{showPackageLayer:function(t){e.isShowPackageLayer=!e.isShowPackageLayer}}}),e.controlInfo.detailComment?a("PlayKnowledgeComment"):e._e(),e.controlInfo.politicallySensitive?e._e():a("VideoRecommend",{attrs:{"show-pingback":"712121_H5_h_bee","item-pingback":"h5_cainixihuan_app","channel-id":e.videoInfo.cid,"is-ugc":e.videoInfo.isUGC,tvid:e.videoInfo.qipuId,"album-id":e.albumInfo.qipuId||e.videoInfo.sourceId,vfrm:e.recVfrm}}),a("AuraFooter")]:e._e(),a("PlayKnowledgePayButton"),a("PlayPlatformLimit",{ref:"platformLimit"}),e.page<1?a("LoadBottom",{attrs:{"load-complete":1===e.page,callback:e.loadNextPage}}):e._e(),a("BackTop")],2)},s=[],n=a("795b"),o=a.n(n),r=a("cebc"),l=a("2f62"),c=a("da1f"),u=a("9e5e"),d=a("b75f"),p=a("cfb9"),m=a("8d17"),h=a("9f66"),f=a("4e08"),g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"m-box m-box-borderST",attrs:{id:"comment"}},[a("div",{staticClass:"m-box-items m-box-items-full"},[a("PlayComment",{directives:[{name:"show-pingback",rawName:"v-show-pingback",value:"808201_comment",expression:"'808201_comment'"}],attrs:{"is-hide-load-error":!0,"qipu-id":e.videoInfo.qipuId,aid:e.videoInfo.aid,cid:e.videoInfo.cid,"show-num":3},scopedSlots:e._u([{key:"callApp",fn:function(t){var i=t.count;return[a("PlayKnowledgeButtonDown",{attrs:{"down-app-pos":"comment_callapp"}},[a("a",{directives:[{name:"show-pingback",rawName:"v-show-pingback",value:"902281_pldl",expression:"'902281_pldl'"},{name:"pingback",rawName:"v-pingback",value:"902281_pldl",expression:"'902281_pldl'"}],staticClass:"c-btn c-btn-block",attrs:{href:"javascript:;"}},[a("i",{staticClass:"c-glyphicon c-glyphicon-iqy"}),e._v("打开爱奇艺APP，参与"+e._s(i)+"条热门大讨论！\n          ")])])]}}])},[a("portal",{attrs:{to:"more"}},[a("PlayKnowledgeButtonDown",{attrs:{"down-app-pos":"comment_more"}},[a("a",{directives:[{name:"show-pingback",rawName:"v-show-pingback",value:"902282_pldl",expression:"'902282_pldl'"},{name:"pingback",rawName:"v-pingback",value:"902282_pldl",expression:"'902282_pldl'"}],staticClass:"c-link",attrs:{href:"javascript:void(0);"}},[e._v("更多")])])],1)],1)],1)])},v=[],b=a("4de8"),y=a("8d9b"),I={name:"PlayKnowledgeComment",components:{PlayComment:b["a"],PlayKnowledgeButtonDown:y["a"]},computed:Object(r["a"])({},Object(l["e"])("play",["videoInfo"]))},_=I,P=a("2877"),C=Object(P["a"])(_,g,v,!1,null,null,null),w=C.exports,k=a("d323"),x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.teacher&&e.teacher.name&&e.teacher.imgUrl?a("div",{directives:[{name:"show-pingback",rawName:"v-show-pingback",value:"teacher",expression:"'teacher'"}],staticClass:"m-box"},[a("div",{staticClass:"m-box-items m-box-items-full"},[a("AuraCardTitle",{attrs:{title:"讲师"}})],1),a("div",{staticClass:"m-box-items m-box-items-full"},[a("section",{staticClass:"m-lecturer"},[a("div",{staticClass:"lecturer-img",style:"background-image: url("+e.teacher.imgUrl+")"}),a("div",{staticClass:"lecturer-intro"},[a("div",{staticClass:"intro-name"},[a("span",{staticClass:"c-name"},[e._v(e._s(e.teacher.name))]),a("span",{staticClass:"c-des"},[e._v("|  "+e._s(e.teacher.prompt))])]),a("div",{staticClass:"intro-info",class:{openItro:e.isShow}},[e._v("\n          "+e._s(e.teacher.description)+"\n          "),a("a",{staticClass:"c-link",attrs:{href:"javascript:void(0);"},on:{click:function(t){e.isShow=!e.isShow}}},[e._v("展开")])])])])])]):e._e()},L=[],S=a("8296"),O={name:"PlayKnowledgeTeacher",data:function(){return{isShow:!1}},computed:Object(r["a"])({},Object(l["e"])("play",["albumInfo"]),{teacher:function(){var e=this.albumInfo.instructor;return e&&e.imgUrl&&(e.imgUrl=Object(S["W"])(e.imgUrl)),e}})},j=O,T=Object(P["a"])(j,x,L,!1,null,null,null),N=T.exports,R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.albumInfo.desc?a("div",{staticClass:"m-box"},[a("div",{staticClass:"m-box-items m-box-items-full"},[a("AuraCardTitle",{attrs:{title:"课程亮点"}})],1),a("div",{staticClass:"m-box-items m-box-items-full"},[a("section",{staticClass:"m-lecturerCourse-intro",class:{openItro:e.isShowDesc}},[a("div",{staticClass:"intro-box"},[a("div",{staticClass:"intro-item"},[e._v(e._s(e.albumInfo.desc))])]),a("a",{staticClass:"c-link",attrs:{href:"javascript:void(0)"},on:{click:function(t){e.isShowDesc=!e.isShowDesc}}},[a("span",{staticClass:"c-link-info"},[e._v(e._s(e.isShowDesc?"收起全部":"查看更多"))]),a("i",{staticClass:"c-glyphicon c-glyphicon-fw-arrow"})])])])]):e._e()},V=[],$={name:"PlayKnowledgeDesc",data:function(){return{isShowDesc:!1}},computed:Object(r["a"])({},Object(l["e"])("play",["albumInfo"]),{teacher:function(){return this.albumInfo.instructor}})},K=$,q=Object(P["a"])(K,R,V,!1,null,null,null),A=q.exports,E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.priceInfo&&e.priceInfo.detailUrl?a("div",{staticClass:"m-box"},[a("div",{staticClass:"m-box-items m-box-items-full"},[a("AuraCardTitle",{attrs:{title:"课程详情"}})],1),a("div",{staticClass:"m-box-items m-box-items-full"},[a("section",{staticClass:"m-lecturerCourse-details",class:{openItro:e.isShowDesc}},[a("div",{staticClass:"details-box"},e._l(e.desc,function(t,i){return a("div",{key:i,staticClass:"details-content"},[2===t.type?a("div",{staticClass:"details-img"},[a("img",{staticClass:"c-img",attrs:{src:t.value}})]):e._e(),1===t.type?a("div",{staticClass:"details-info"},[e._v("\n            "+e._s(t.value)+"\n          ")]):e._e()])}),0),a("a",{staticClass:"c-link",attrs:{href:"javascript:void(0)"},on:{click:function(t){e.isShowDesc=!e.isShowDesc}}},[a("span",{staticClass:"c-link-info"},[e._v(e._s(e.isShowDesc?"收起全部":"查看更多"))]),a("i",{staticClass:"c-glyphicon c-glyphicon-fw-arrow"})])])])]):e._e()},D=[],B=(a("ac6a"),a("f3e2"),a("96cf"),a("3b8d")),U=a("5fe1"),F={name:"PlayKnowledgeDetail",data:function(){return{desc:[],isShowDesc:!1}},computed:Object(r["a"])({},Object(l["e"])("play",["albumInfo"]),{priceInfo:function(){return this.albumInfo.priceInfo}}),mounted:function(){this.getDetail()},methods:{getDetail:function(){var e=Object(B["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.priceInfo&&this.priceInfo.detailUrl,t){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Object(U["g"])(t);case 5:a=e.sent,a.forEach(function(e){if(e.value){var t=Object(S["W"])(e.value);e.value=t}}),this.desc=a;case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},H=F,M=Object(P["a"])(H,E,D,!1,null,null,null),Y=M.exports,z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("PlayInfoLayer",e._g(e._b({style:"overflow: hidden",attrs:{id:"PlayPackageLayer","associated-id":e.albumInfo.qipuId,"pop-class":"","layer-info":"am-video-info-noAnime","close-rseat":"507141_2"},scopedSlots:e._u([{key:"content",fn:function(){return[a("div",{staticClass:"m-seriesRecommend-layer"},[a("div",{staticClass:"seriesRecommendLayer-details"},[a("div",{staticClass:"details-header"},[a("div",{staticClass:"header-content"},[a("div",{staticClass:"c-title"},[e._v("套餐推荐"),a("span",{staticClass:"c-info"},[e._v("("+e._s(e.priceInfo.packageNum)+")")])]),a("a",{staticClass:"close-info-btn",attrs:{href:"javascript:;"},on:{click:e.close}},[a("i",{staticClass:"c-glyphicon c-glyphicon-guideClose"})])])]),a("div",{staticClass:"details-info"},[e._v(e._s(e.albumInfo.albumName?"《"+e.albumInfo.albumName+"》包含在如下套餐中:":""))])]),a("div",{staticClass:"details-tab"},[a("ul",{staticClass:"tabList-item"},e._l(e.packageItem,function(t,i){return a("li",{key:i,class:{selected:i===e.curIndex}},[a("span",{directives:[{name:"pingback",rawName:"v-pingback",value:"package_"+t.productName,expression:"`package_${item.productName}`"}],staticClass:"c-link-item",attrs:{href:"javascript:;"},on:{click:function(t){return e.updateIndex(i)}}},[e._v("\n              套餐"+e._s(i+1)+"\n            ")])])}),0)]),a("div",{staticClass:"seriesRecommendLayer-box"},[a("section",{staticClass:"m-seriesRecommend"},[a("ul",{staticClass:"seriesRecommend-ul"},[a("li",{staticClass:"seriesRecommend-li"},[a("div",{staticClass:"series-item"},[a("div",{staticClass:"item-seriesIntro"},[a("div",{staticClass:"seriesIntro-details"},[e.packageInfo.productName?a("div",{staticClass:"seriesIntro-title"},[e._v(e._s(e.packageInfo.productName))]):e._e(),a("div",{staticClass:"seriesIntro-price"},[e.packageInfo.realPrice?a("span",{staticClass:"price-num"},[e._v(e._s(parseInt(e.packageInfo.realPrice)/100))]):e._e(),a("span",{staticClass:"price-yuan"},[e._v("元")]),e.packageInfo.savingFee?a("span",{staticClass:"price-duibi"},[e._v("(比分开购买便宜"+e._s(parseInt(e.packageInfo.savingFee)/100)+"元)")]):e._e()]),a("div",{staticClass:"seriesIntro-time"},[e._v("共"+e._s(e.length)+"门课程/有效期："+e._s(e.packageInfo.validity))])]),a("div",{directives:[{name:"pingback",rawName:"v-pingback",value:"buy",expression:"'buy'"}],staticClass:"seriesIntro-payBtn",on:{click:function(t){return e.toPay(e.packageInfo.pid||"")}}},[e._v("\n                    打包购买\n                  ")])])])])]),a("ul",{staticClass:"item-seriesList",staticStyle:{"overflow-y":"scroll"}},e._l(e.albumInfos,function(t,i){return a("li",{key:i,staticClass:"seriesList-item"},[a("div",{staticClass:"seriesList-img"},[a("a",{directives:[{name:"pingback",rawName:"v-pingback",value:"lesson_"+t.name,expression:"`lesson_${item.name}`"}],staticClass:"seriesList-link",style:"background-image:url("+t.pic+");",attrs:{href:t.pageUrl||"javascript:void(0);",title:t.name}},[t.lessonTotalNum-t.lessonUpdateNum>0?a("div",{staticClass:"c-lrb"},[a("span",{staticClass:"c-update"},[e._v(e._s("更新至"+t.lessonUpdateNum+"集"))])]):a("div",{staticClass:"c-lrb"},[a("span",{staticClass:"c-update"},[e._v(e._s(t.lessonTotalNum+"集全"))])])])]),a("div",{staticClass:"seriesList-title"},[a("div",{staticClass:"c-title"},[a("a",{attrs:{href:t.pageUrl||"javascript:void(0);",title:t.name}},[e._v("\n                    "+e._s(t.name)+"\n                  ")])]),t.originPrice>0?a("div",{staticClass:"c-yuanjia"},[e._v("原价"+e._s(parseInt(t.originPrice)/100))]):e._e()])])}),0)])])]),a("AuraToast",{directives:[{name:"show",rawName:"v-show",value:e.toast,expression:"toast"}],attrs:{text:e.toast}})]},proxy:!0}])},"PlayInfoLayer",e.$attrs,!1),e.$listeners))},J=[],W=a("e814"),X=a.n(W),G=a("8d4a"),Q=a("a09a"),Z={name:"PlayKnowledgePackageLayer",components:{PlayInfoLayer:G["a"]},mixins:[Q["a"]],data:function(){return{curIndex:0,packageTab:[],packageItem:[]}},computed:Object(r["a"])({},Object(l["e"])("play",{albumInfo:"albumInfo"}),{priceInfo:function(){return this.albumInfo.priceInfo||{}},packageInit:function(){return this.priceInfo.packageInfos||{}},packageNum:function(){return this.priceInfo.packageNum||0},curItem:function(){return this.packageItem[this.curIndex]?this.packageItem[this.curIndex].albumInfos:[]},length:function(){return this.curItem?this.curItem.length:this.packageInit[this.curIndex].albumInfos.length},albumInfos:function(){return this.packageItem[this.curIndex]?this.curItem:this.packageInit[this.curIndex].albumInfos},packageInfo:function(){return this.packageItem.length?this.packageItem[this.curIndex]:[]}}),mounted:function(){this.packageNum&&this.packageNum>0&&(this.packagesTab(),this.getPackageList(this.curIndex))},methods:{updateIndex:function(e){this.curIndex=e,this.getPackageList(e)},packagesTab:function(){for(var e=0;e<this.packageNum;e++)this.packageTab.push(e)},getPackageList:function(){var e=Object(B["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(U["f"])(this.albumInfo.qipuId);case 2:a=e.sent,this.packageItem=a.packageInfos,this.format(this.packageItem);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),syncPackage:function(){this.format(this.packageInit)},format:function(e){var t=!0;e.forEach(function(e,a){e.albumInfos.forEach(function(e,a){0===X()(e.originPrice)&&(t=!1),t||(e.originPrice=0)})})},close:function(){this.$emit("update:open",!1)}}},ee=Z,te=Object(P["a"])(ee,z,J,!1,null,null,null),ae=te.exports,ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.packages&&e.packages.length?a("div",{staticClass:"m-box"},[a("div",{staticClass:"m-box-items m-box-items-full"},[a("AuraCardTitle",{attrs:{title:"套餐推荐("+(e.packageNum||"")+")"}})],1),a("section",{directives:[{name:"scroll",rawName:"v-scroll.scrollX",value:{eventPassthrough:"vertical",click:!1},expression:"{eventPassthrough: 'vertical', click: false}",modifiers:{scrollX:!0}}],staticClass:"m-seriesRecommend"},[a("ul",{staticClass:"seriesRecommend-ul"},e._l(e.packages,function(t,i){return a("li",{key:i,staticClass:"seriesRecommend-li"},[a("div",{staticClass:"series-item"},[a("div",{staticClass:"item-seriesIntro"},[a("div",{staticClass:"seriesIntro-details",on:{click:e.showPackageLayer}},[a("div",{staticClass:"seriesIntro-title"},[e._v(e._s(t.productName))]),a("div",{staticClass:"seriesIntro-price"},[t.realPrice?a("span",{staticClass:"price-num"},[e._v(e._s(parseInt(t.realPrice)/100))]):e._e(),a("span",{staticClass:"price-yuan"},[e._v("元")]),t.savingFee?a("span",{staticClass:"price-duibi"},[e._v("\n                  (比分开购买便宜"+e._s(parseInt(t.savingFee)/100)+"元)\n                ")]):e._e()]),a("div",{staticClass:"seriesIntro-time"},[e._v("共"+e._s(t.albumInfos.length)+"门课程/有效期："+e._s(t.validity))])]),a("div",{directives:[{name:"pingback",rawName:"v-pingback",value:"buy",expression:"'buy'"}],staticClass:"seriesIntro-payBtn",on:{click:function(a){return e.toPay(t.pid||"")}}},[e._v("\n              打包购买\n            ")])]),t&&t.albumInfos?a("ul",{staticClass:"item-seriesList"},e._l(t.albumInfos.slice(0,3),function(i,s){return a("li",{key:s,staticClass:"seriesList-item",on:{click:e.showPackageLayer}},[a("div",{staticClass:"seriesList-img"},[a("span",{staticClass:"seriesList-link",style:"background-image:url("+i.pic+")"},[a("div",{staticClass:"c-lrb"},[a("span",{staticClass:"c-update"},[e._v(e._s(i.lessonTotalNum)+"集全")])]),a("div",{directives:[{name:"pingback",rawName:"v-pingback",value:"more",expression:"'more'"},{name:"show",rawName:"v-show",value:3!==t.albumInfos.length&&t.albumInfos.slice(0,3).length>=3&&s===t.albumInfos.slice(0,3).length-1,expression:"item.albumInfos.length !== 3 && item.albumInfos.slice(0, 3).length >= 3 && index === (item.albumInfos.slice(0, 3).length - 1)"}],staticClass:"moreLink-cover"},[a("div",{staticClass:"moreLink-chinese"},[e._v("查看更多")]),a("div",{staticClass:"moreLink-line"}),a("div",{staticClass:"moreLink-eng"},[e._v("See more")])])])]),a("div",{staticClass:"seriesList-title"},[a("div",{staticClass:"c-title"},[e._v(e._s(i.name))]),i.originPrice>0?a("div",{staticClass:"c-yuanjia"},[e._v("原价"+e._s(parseInt(i.originPrice)/100))]):e._e()])])}),0):e._e()])])}),0)]),a("AuraToast",{directives:[{name:"show",rawName:"v-show",value:e.toast,expression:"toast"}],attrs:{text:e.toast}})],1):e._e()},se=[],ne=a("7e9b"),oe={name:"PlayKnowledgeRecommend",directives:{"recommend-show-pingback":ne["e"],"recommend-click-pingback":ne["d"]},mixins:[Q["a"]],data:function(){return{response:null,packages:null}},computed:Object(r["a"])({},Object(l["e"])("play",["videoInfo","subTemplate","albumInfo"]),{priceInfo:function(){return this.albumInfo.priceInfo?this.albumInfo.priceInfo:{}},packageNum:function(){return this.priceInfo.packageNum?this.priceInfo.packageNum:0}}),mounted:function(){var e=Object(B["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.packageNum&&this.packageNum>0)){e.next=5;break}return e.next=3,this.getVideos();case 3:this.response=e.sent,this.packages=this.packageInfos();case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{getVideos:function(){var e=Object(B["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(U["f"])(this.albumInfo.qipuId);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),packageInfos:function(){var e=!0,t=[],a=this.response&&this.response.packageInfos||[];return a.forEach(function(a,i){a.albumInfos.forEach(function(t,a){0===X()(t.originPrice)&&(e=!1),e||(t.originPrice=0),t.pic=Object(S["W"])(t.pic)}),t.push(a)}),t},showPackageLayer:function(){this.$emit("showPackageLayer")}}},re=oe,le=Object(P["a"])(re,ie,se,!1,null,null,null),ce=le.exports,ue=a("eda2"),de=a("b65b"),pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isVipAlbum&&e.priceInfo?a("div",{staticClass:"m-box"},[a("div",{staticClass:"m-box-items m-box-items-full"},[e.isNeedPay?a("section",{staticClass:"m-priceDiscount"},[a("div",{staticClass:"discount-price"},[e._v(e._s(e.realPrice)+"\n        "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.realPrice,expression:"realPrice"}],staticClass:"price-yuan"},[e._v("元")]),a("span",{directives:[{name:"show",rawName:"v-show",value:e.realPrice&&e.originPrice>e.realPrice,expression:"realPrice && originPrice > realPrice"}],staticClass:"price-original"},[e._v("原价"+e._s(e.originPrice)+"元")])]),e.hitRules&&e.hitRules.length?a("div",{staticClass:"discount-tag"},e._l(e.hitRules,function(t,i){return a("span",{key:i,staticClass:"tag-item"},[e._v(e._s(t.ruleName))])}),0):e._e(),e.unHitRules?a("div",{staticClass:"discount-more"},[a("div",{staticClass:"more-item"},[a("span",{staticClass:"item-tit"},[e._v("更多优惠")]),a("span",{domProps:{innerHTML:e._s(e.unHitRules)}})])]):e._e()]):e._e(),e.hasPay?a("section",{staticClass:"m-priceDiscount"},[a("div",{staticClass:"discount-payOK"},[e._v("您已购买该课程/有效期至"+e._s(e.validityDate))])]):e._e()])]):e._e()},me=[],he=a("b2e7"),fe={name:"PlayKnowledgePriceInfo",mixins:[Q["a"]],methods:{isLogin:function(){return Object(he["M"])()}}},ge=fe,ve=Object(P["a"])(ge,pe,me,!1,null,null,null),be=ve.exports,ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.isVipAlbum&&e.realPrice?a("section",{directives:[{name:"show-pingback",rawName:"v-show-pingback",value:"order",expression:"'order'"}],staticClass:"m-bottomBtn-pay",class:{payOK:!e.isNeedPay}},[e.isNeedPay?a("div",{directives:[{name:"pingback",rawName:"v-pingback",value:"go_bug_bottom",expression:"'go_bug_bottom'"}],staticClass:"m-bottomBtn-payBox",on:{click:function(t){return e.toPay("")}}},[a("div",{staticClass:"pay-tit"},[e._v("购买课程")]),a("div",{staticClass:"pay-info"},[e._v("(￥"+e._s(e.realPrice)+"/共"+e._s(e.albumInfo.videoCount)+"集)")])]):e.hasPay?a("div",{staticClass:"m-bottomBtn-payBox"},[a("div",{staticClass:"pay-tit"},[e._v("已购买")]),e.validityDate?a("div",{staticClass:"pay-info"},[e._v("\n        (有效期至 "+e._s(e.validityDate)+")\n      ")]):e._e()]):e.isOffline?a("div",{staticClass:"m-bottomBtn-payBox",on:{click:function(t){return e.$router.push("/edu")}}},[a("div",{staticClass:"pay-tit"},[e._v("课程已下线，请观看其他课程")])]):e._e()]):e._e(),a("AuraToast",{directives:[{name:"show",rawName:"v-show",value:e.toast,expression:"toast"}],attrs:{text:e.toast}})],1)},Ie=[],_e={name:"PlayKnowledgePayButton",mixins:[Q["a"]],mounted:function(){this.afterLogin()}},Pe=_e,Ce=Object(P["a"])(Pe,ye,Ie,!1,null,null,null),we=Ce.exports,ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.videos&&e.videos.length?a("div",{staticClass:"m-box"},[a("div",{staticClass:"m-box-items m-box-items-full"},[a("AuraCardTitle",{attrs:{title:"选集"},scopedSlots:e._u([{key:"rightBtn",fn:function(){return[a("a",{staticClass:"c-link",attrs:{href:"javascript:void(0)"},on:{click:e.showAlbumLayer}},[a("i",{staticClass:"c-glyphicon c-glyphicon-arrowRight"})])]},proxy:!0}],null,!1,1731830936)})],1),a("div",{staticClass:"m-box-items m-box-items-full"},[a("ScrollLoad",{staticClass:"m-anthology-text",attrs:{callback:e.scrollLoadPage,"load-completed":e.loadCompleted,length:e.length,"qipu-id":e.videoInfo.qipuId,"layer-open":e.layerOpen,tag:"section"},on:{loadFailure:e.onLoadFailure}},[a("ul",{staticClass:"m-anthologyText-list",staticStyle:{transform:"translate(0px, 0px) scale(1)"}},e._l(e.videos,function(t,i){return a("li",{directives:[{name:"pingback",rawName:"v-pingback",value:"l"+(i+1),expression:"`l${index + 1}`"},{name:"play",rawName:"v-play",value:{continuous:!0,card:"albumList",selectClass:"selected",qipuId:t.qipuId,url:t.pageUrl,vfrm:"30-26-15-7",action:"upsert",block:"lesson",rseat:"l"+(i+1),index:i},expression:"{\n            continuous: true,\n            card: 'albumList',\n            selectClass: 'selected',\n            qipuId: video.qipuId,\n            url: video.pageUrl,\n            vfrm: '30-26-15-7',\n            action: 'upsert',\n            block: 'lesson',\n            rseat: `l${index + 1}`,\n            index: index\n          }"}],key:t.id+"_"+i+"_album",class:{selected:e.videoInfo.qipuId===t.qipuId}},[a("a",{staticClass:"c-anthology-link",attrs:{href:"javascript:void(0)"}},[a("div",{staticClass:"c-anthology-txt"},[e._v(e._s(t.title))]),a("div",{staticClass:"c-rt"},[t.upperRightCorner?a("AuraVideoPicicon",{attrs:{text:t.upperRightCorner}}):e._e()],1)])])}),0)])],1)]):e._e()},xe=[],Le=a("a745"),Se=a.n(Le),Oe=(a("57e7"),a("bd86")),je=(a("55dd"),a("6e73")),Te=a("1d52"),Ne=a("3e9e"),Re={name:"PlayKnowledgeAlbum",components:{ScrollLoad:je["a"]},data:function(){return{rightPage:1,leftPage:1,layerVideos:[],loadVideos:[],loadCompleted:!1,hasLoadPage:[]}},computed:Object(r["a"])({},Object(l["e"])("play",["videoList","albumInfo","subTemplate","videoInfo","layerPage","albumListInfo","layerOpen"]),{videos:function(){var e=this.layerVideos.length?this.layerVideos:this.formatVideos(this.videoList.videos);return e.concat(this.loadVideos).sort(function(e,t){return e.pd-t.pd})},length:function(){return this.videos.length},totalPages:function(){return this.videoList.totalPages}}),watch:{layerPage:function(){var e=Object(B["a"])(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t===a){e.next=8;break}return this.layerVideos=this.albumListInfo[t],this.loadVideos=[],this.rightPage=t,this.hasLoadPage=[],this.hasLoadPage.push(t),e.next=8,this.loadPrePage(t);case 8:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}()},beforeMount:function(){this.initVideos(),this.$store.dispatch("play/albumListInfo",Object(Oe["a"])({},this.rightPage,this.formatVideos(this.videoList.videos)))},mounted:function(){var e={card:"albumList",action:"update",qipuId:this.videoInfo.qipuId};Ne["a"].setCurVideo(e)},methods:{initVideos:function(){var e=Object(B["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.rightPage=this.videoList.currentPage,t=this.rightPage,this.videoList.videos.length){e.next=5;break}return e.next=5,this.loadAlbum(t);case 5:return this.hasLoadPage.push(t),e.next=8,this.loadPrePage(t);case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),loadPrePage:function(e){if(e>1)return this.leftPage=e-1,this.loadAlbum(this.leftPage)},scrollLoadPage:function(e){var t=e.scrollToRight;t?this.rightPage=this.rightPage+1:this.leftPage=this.leftPage-1;var a=t?this.rightPage:this.leftPage;return a<1||a>this.totalPages||this.hasLoadPage.indexOf(a)>-1?o.a.resolve():this.loadAlbum(a)},loadAlbum:function(){var e=Object(B["a"])(regeneratorRuntime.mark(function e(t){var a,i,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a={albumId:this.albumInfo.qipuId,size:this.videoList.pageSize,page:t,needPrevue:!1},e.next=3,Object(Te["a"])(a);case 3:i=e.sent,s=this.formatVideos(i&&i.videos),this.$store.dispatch("play/albumListInfo",Object(Oe["a"])({},t,s)),this.loadVideos=this.loadVideos.concat(s),this.hasLoadPage.push(t);case 8:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),formatVideos:function(e){var t=this;if(!Se()(e)||!e.length)return[];var a=2===this.albumInfo.bossStatus,i=this.albumInfo.priceInfo&&this.albumInfo.priceInfo.right;return e.forEach(function(e){e.upperRightCorner=0===e.bossStatus&&a&&!i?"试看":"",e.order=e.pd,e.title=t.title(e),e.selected=t.videoInfo.qipuId===e.qipuId}),e},onLoadFailure:function(e){this.loadCompleted=!0},title:function(e){if(this.subTemplate.album){var t=Object(U["e"])(e.shortTitle);return(e.order?"第".concat(e.order,"集"):"")+(t?": "+t:"")}return this.subTemplate.source?e.shortTitle:e.videoName||e.shortTitle},showAlbumLayer:function(){this.$emit("showAlbumLayer")}}},Ve=Re,$e=Object(P["a"])(Ve,ke,xe,!1,null,null,null),Ke=$e.exports,qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("PlayInfoLayer",e._g(e._b({style:"overflow: hidden",attrs:{id:"PlayAlbumLayer","associated-id":e.videoInfo.qipuId,"pop-class":"m-episode-pop","close-rseat":"507141_2"},scopedSlots:e._u([{key:"content",fn:function(){return[a("section",{ref:"title",staticClass:"g-tab-num g-tab-txt"},[a("div",{staticClass:"m-tab-num m-sliding"},[a("div",{staticClass:"m-tab-num-list m-sliding-list",staticStyle:{"-webkit-transform":"translate(0px, 0px) scale(1)",transform:"translate(0px, 0px) scale(1)"}},[a("span",{staticClass:"c-tab-item"},[e._v("选集"),a("span",{staticClass:"c-tabItem-info"},[e._v(e._s(e.updateStatus))])])])])]),a("section",{ref:"tab",staticClass:"g-tab-num g-tab-episodeNum"},[a("VideoTabScroll",{staticClass:"m-tab-num m-sliding",attrs:{"list-length":e.videoList.totalPages,"scroll-x":!0}},[a("VideoEpisodeTabs",{attrs:{"video-info":e.pageInfo,"paging-type":"group"},on:{changeTag:e.toggleChangeTag}})],1)],1),a("PlayPositionLayer",{staticClass:"m-anthology-list",attrs:{"cur-page":e.page}},e._l(e.videos,function(t,i){return a("div",{directives:[{name:"pingback",rawName:"v-pingback",value:"l"+(i+1),expression:"`l${index + 1}`"},{name:"play",rawName:"v-play",value:{continuous:!0,card:"albumList",action:"upsert",selectClass:"selected",qipuId:t.qipuId,url:t.pageUrl,redirect:!1,vfrm:"30-26-15-7",block:"lesson_area",rseat:"l"+(i+1),index:i},expression:"{\n          continuous: true,\n          card: 'albumList',\n          action: 'upsert',\n          selectClass: 'selected',\n          qipuId: video.qipuId,\n          url: video.pageUrl,\n          redirect: false,\n          vfrm: '30-26-15-7',\n          block: 'lesson_area',\n          rseat: `l${index + 1}`,\n          index: index\n        }"}],key:t.id+"_"+i+"_albumlayer",staticClass:"m-anthologyList-item",class:{selected:e.videoInfo.qipuId===t.qipuId},on:{click:e.toggleVideoClick}},[a("div",{staticClass:"anthologyList-title"},[a("div",{staticClass:"c-title"},[t.upperRightCorner?a("i",{staticClass:"c-picicon c-picicon-tryseeHollow"},[e._v(e._s(t.upperRightCorner))]):e._e(),e._v("\n            "+e._s(t.title)+"\n          ")]),a("div",{staticClass:"c-time"},[a("i",{staticClass:"c-icon-timelong"}),e._v("片长"+e._s(t.duration))])])])}),0)]},proxy:!0}])},"PlayInfoLayer",e.$attrs,!1),e.$listeners))},Ae=[],Ee=a("9bf7"),De=a("dbce"),Be=a("1d21"),Ue={name:"PlayKnowledgeAlbumLayer",components:{PlayInfoLayer:G["a"],VideoEpisodeTabs:Ee["a"],PlayPositionLayer:De["a"],VideoTabScroll:Be["a"]},data:function(){return{page:1,videos:[],pageInfo:{}}},computed:Object(r["a"])({},Object(l["e"])("play",["albumInfo","videoInfo","subTemplate","videoList","albumListInfo","layerOpen"]),{selectIndex:function(){return this.videoInfo.order},updateStatus:function(){var e=this.albumInfo,t=e.videoCount;return this.subTemplate.album&&t&&e.latestVideoOrder?t===e.latestVideoOrder?"".concat(t,"集全"):t>e.latestVideoOrder?"更新至".concat(e.latestVideoOrder,"集/共").concat(t,"集全"):"更新至".concat(e.latestVideoOrder,"集"):this.subTemplate.short?this.videoInfo.issueTime+"发布":""}}),watch:{page:function(e,t){e!==t&&(this.videos=this.albumListInfo[this.page])},layerOpen:function(e){e&&(this.page=this.getPage(),this.pageInfo={currentPage:this.page,pageSize:this.videoList.pageSize,total:this.videoList.total},this.videos=this.albumListInfo[this.page])}},methods:{title:function(e){if(this.subTemplate.album){var t=Object(U["e"])(e.shortTitle);return(e.order?"第".concat(e.order,"集"):"")+(t?": "+t:"")}return e.videoName||e.shortTitle},getPage:function(){return this.selectIndex?Math.ceil(this.selectIndex/this.videoList.pageSize):this.videoList.currentPage},toggleChangeTag:function(){var e=Object(B["a"])(regeneratorRuntime.mark(function e(t){var a,i,s,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.page=t,a=this.albumListInfo[t],!a||!a.length){e.next=4;break}return e.abrupt("return");case 4:return i={albumId:this.videoInfo.aid,size:this.videoList.pageSize,page:t,needPrevue:!0},e.next=7,Object(Te["a"])(i);case 7:s=e.sent,n=this.formatVideos(s&&s.videos),this.$store.dispatch("play/albumListInfo",Object(Oe["a"])({},t,n)),this.videos=n;case 11:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),formatVideos:function(e){var t=this;if(!Se()(e)||!e.length)return[];var a=2===this.albumInfo.bossStatus,i=this.albumInfo.priceInfo&&this.albumInfo.priceInfo.right;return e.forEach(function(e){e.upperRightCorner=0===e.bossStatus&&a&&!i?"试看":"",e.order=e.pd,e.title=t.title(e)}),e},toggleVideoClick:function(){this.$store.dispatch("play/layerPage",this.page)}}},Fe=Ue,He=Object(P["a"])(Fe,qe,Ae,!1,null,null,null),Me=He.exports,Ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.videos.length,expression:"videos.length"}],staticClass:"m-box"},[a("div",{staticClass:"m-box-items m-box-items-full"},[a("AuraCardTitle",{attrs:{title:"选集"},scopedSlots:e._u([{key:"rightBtn",fn:function(){return[a("a",{staticClass:"c-link",attrs:{href:"javascript:void(0)"},on:{click:e.showSourceLayer}},[a("i",{staticClass:"c-glyphicon c-glyphicon-arrowRight"})])]},proxy:!0}])})],1),a("div",{staticClass:"m-box-items m-box-items-full"},[a("ScrollLoad",{staticClass:"m-anthology-text",attrs:{callback:e.scrollLoadPage,"load-completed":e.loadCompleted,length:e.length,"qipu-id":e.videoInfo.qipuId,"is-init-load":e.rightPage!==e.totalPages-1,"layer-open":e.layerOpen,tag:"section"},on:{loadFailure:e.onLoadFailure}},[a("ul",{staticClass:"m-anthologyText-list",staticStyle:{transform:"translate(0px, 0px) scale(1)"}},e._l(e.videos,function(t,i){return a("li",{directives:[{name:"pingback",rawName:"v-pingback",value:"l"+(i+1),expression:"`l${index + 1}`"},{name:"play",rawName:"v-play",value:{continuous:!0,card:"albumList",selectClass:"selected",qipuId:t.qipuId,url:t.pageUrl,action:"upsert",block:"lesson",rseat:"l"+(i+1),index:i},expression:"{\n            continuous: true,\n            card: 'albumList',\n            selectClass: 'selected',\n            qipuId: video.qipuId,\n            url: video.pageUrl,\n            action: 'upsert',\n            block: 'lesson',\n            rseat: `l${index + 1}`,\n            index: index\n          }"}],key:t.id+"_"+i+"_album",class:{selected:e.videoInfo.qipuId===t.qipuId}},[a("a",{staticClass:"c-anthology-link",attrs:{href:"javascript:void(0)"}},[a("div",{staticClass:"c-anthology-txt"},[e._v(e._s(t.title))]),a("div",{staticClass:"c-rt"},[t.upperRightCorner?a("AuraVideoPicicon",{attrs:{text:t.upperRightCorner}}):e._e()],1)])])}),0)])],1)])},ze=[],Je=(a("20d6"),a("0cd8"),a("5a0c")),We=a.n(Je),Xe={name:"PlayKnowledgeSource",components:{ScrollLoad:je["a"]},data:function(){return{leftPage:0,rightPage:0,videos:[],loadCompleted:!1,hasLoadPage:[]}},computed:Object(r["a"])({},Object(l["e"])("play",["videoList","albumInfo","subTemplate","videoInfo","sourceListInfo","layerPage","layerOpen","secureJsonpToken"]),{summary:function(){var e=this.videoList.summary,t=[];return e.reduce(function(e,a){a.monthList.forEach(function(e){t.push({year:a.year,month:e})})},{}),t},length:function(){return this.videos.length},totalPages:function(){return this.summary.length}}),watch:{layerPage:function(){var e=Object(B["a"])(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t===a){e.next=7;break}return this.videos=this.sourceListInfo[t],this.rightPage=t,this.hasLoadPage=[],this.hasLoadPage.push(t),e.next=7,this.loadPrePage(t);case 7:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),videoList:{handler:function(){this.videos=this.formatVideos(this.videoList.videos)},immediate:!0}},beforeMount:function(){this.initVideos(),this.$store.dispatch("play/sourceListInfo",Object(Oe["a"])({},this.rightPage,this.formatVideos(this.videoList.videos))),this.$store.dispatch("play/sourceSummary",this.summary)},mounted:function(){var e={card:"albumList",action:"update",qipuId:this.videoInfo.qipuId};Ne["a"].setCurVideo(e)},methods:{initVideos:function(){var e=Object(B["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.setCurrentPage(),t=this.rightPage,this.videoList.videos.length){e.next=5;break}return e.next=5,this.loadSource(t);case 5:return this.hasLoadPage.push(t),e.next=8,this.loadPrePage(t);case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),setCurrentPage:function(){var e={year:this.videoList.currentYear,month:this.videoList.currentMonth};this.rightPage=this.summary.findIndex(function(t){return t.year===e.year&&t.month===e.month})},loadPrePage:function(e){if(e>0)return this.leftPage=e-1,this.loadSource(this.leftPage,!1)},scrollLoadPage:function(e){var t=e.scrollToRight;t?this.rightPage=this.rightPage+1:this.leftPage=this.leftPage-1;var a=t?this.rightPage:this.leftPage;return a<0||a>=this.totalPages||this.hasLoadPage.indexOf(a)>-1?o.a.resolve():this.loadSource(a,t)},loadSource:function(){var e=Object(B["a"])(regeneratorRuntime.mark(function e(t,a){var i,s,n,o,r,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=this.summary[t],s=i.year,n=i.month,o={sourceId:this.videoInfo.sourceId,year:s,month:n,order:"asc",token:this.secureJsonpToken},e.next=4,Object(Te["d"])(o);case 4:r=e.sent,l=this.formatVideos(r),this.$store.dispatch("play/sourceListInfo",Object(Oe["a"])({},t,l)),this.videos=a?this.videos.concat(l):l.concat(this.videos),this.hasLoadPage.push(t);case 9:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),formatVideos:function(e){var t=this;if(!Se()(e)||!e.length)return[];var a=2===this.albumInfo.bossStatus,i=this.albumInfo.priceInfo&&this.albumInfo.priceInfo.right;return e.forEach(function(e){e.upperRightCorner=0===e.bossStatus&&a&&!i?"试看":"",e.order=e.pd,e.title=t.title(e),e.selected=t.videoInfo.qipuId===e.qipuId}),e},onLoadFailure:function(e){this.loadCompleted=!0},title:function(e){if(this.subTemplate.source){var t=e.period?We()(e.period).format("YYYY-MM-DD"):"",a=Object(U["e"])(e.shortTitle);return(t?"".concat(t,"期"):"")+(a?": ".concat(a):"")}return e.videoName||e.shortTitle},showSourceLayer:function(){this.$emit("showSourceLayer")}}},Ge=Xe,Qe=Object(P["a"])(Ge,Ye,ze,!1,null,null,null),Ze=Qe.exports,et=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("PlayInfoLayer",e._g(e._b({style:"overflow: hidden",attrs:{id:"PlayAlbumLayer","associated-id":e.videoInfo.qipuId,"pop-class":"m-episode-pop","close-rseat":"507141_2"},scopedSlots:e._u([{key:"content",fn:function(){return[a("section",{staticClass:"g-tab-num g-tab-txt"},[a("div",{staticClass:"m-tab-num m-sliding"},[a("div",{staticClass:"m-tab-num-list m-sliding-list",staticStyle:{"-webkit-transform":"translate(0px, 0px) scale(1)",transform:"translate(0px, 0px) scale(1)"}},[a("span",{staticClass:"c-tab-item"},[e._v("选集"),a("span",{staticClass:"c-tabItem-info"},[e._v(e._s(e.updateStatus))])])])])]),a("section",{staticClass:"g-tab-num g-tab-episodeNum"},[a("VideoSourceTabs",{attrs:{"format-summary":e.sourceSummary,"cur-year":e.curDate.year,"cur-month":e.curDate.month,"paging-type":"group"},on:{changeTab:e.toggleChangeTab}})],1),a("PlayPositionLayer",{staticClass:"m-anthology-list",attrs:{"cur-page":e.page}},e._l(e.videos,function(t,i){return a("div",{directives:[{name:"pingback",rawName:"v-pingback",value:"l"+(i+1),expression:"`l${index + 1}`"},{name:"play",rawName:"v-play",value:{continuous:!0,card:"albumList",action:"upsert",selectClass:"selected",qipuId:t.qipuId,url:t.pageUrl,redirect:!1,block:"lesson_area",rseat:"l"+(i+1),index:i},expression:"{\n          continuous: true,\n          card: 'albumList',\n          action: 'upsert',\n          selectClass: 'selected',\n          qipuId: video.qipuId,\n          url: video.pageUrl,\n          redirect: false,\n          block: 'lesson_area',\n          rseat: `l${index + 1}`,\n          index: index\n        }"}],key:t.id+"_"+i+"_albumlayer",staticClass:"m-anthologyList-item",class:{selected:e.videoInfo.qipuId===t.qipuId},on:{click:e.toggleVideoClick}},[a("div",{staticClass:"anthologyList-num"},[a("div",{staticClass:"c-num"})]),a("div",{staticClass:"anthologyList-title"},[a("div",{staticClass:"c-title"},[t.upperRightCorner?a("i",{staticClass:"c-picicon c-picicon-tryseeHollow"},[e._v(e._s(t.upperRightCorner))]):e._e(),e._v("\n            "+e._s(t.title)+"\n          ")]),a("div",{staticClass:"c-time"},[a("i",{staticClass:"c-icon-timelong"}),e._v("片长"+e._s(t.duration))])])])}),0)]},proxy:!0}])},"PlayInfoLayer",e.$attrs,!1),e.$listeners))},tt=[],at=a("d7dd"),it=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{ref:"root",style:{height:e.height+"px"}},[a("div",{ref:"layer"},[e._t("default")],2)])},st=[],nt=(a("6762"),a("2fdb"),a("7514"),a("774e")),ot=a.n(nt),rt=(a("c5f6"),a("1fba")),lt={name:"PlayPositionLayer",props:{curPage:{type:Number,default:0}},data:function(){return{height:0,scroll:null}},watch:{curPage:function(e,t){e!==t&&this.scroll&&this.scroll.refresh()}},mounted:function(){var e=this;this.updateHeight(),this.$nextTick(function(){this.initScroll()}),this.actionForSafari(function(){window.addEventListener("resize",e.updateHeight)})},destroyed:function(){var e=this;this.scroll=null,this.actionForSafari(function(){window.removeEventListener("resize",e.updateHeight)})},methods:{initScroll:function(){var e=this.$refs.root;this.scroll=new rt["a"](e,{scrollY:!0,click:!0}),this.scrollToElement()},scrollToElement:function(){var e=this.$refs.layer;if(e){var t=null,a=ot()(e.children);a.find(function(e,a){Array.prototype.includes.call(e.classList,"selected")&&(t=e)}),t&&this.scroll.scrollToElement(t,0,!0,!0)}},updateHeight:function(){var e=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,t=document.getElementById("video"),a=t&&t.parentNode.clientHeight;this.height=e-a-this.$el.offsetTop},actionForSafari:function(e){S["i"].safari&&e&&e()}}},ct=lt,ut=Object(P["a"])(ct,it,st,!1,null,null,null),dt=ut.exports,pt={name:"PlayKnowledgeSourceLayer",components:{PlayInfoLayer:G["a"],VideoSourceTabs:at["a"],PlayPositionLayer:dt},data:function(){return{page:0,videos:[]}},computed:Object(r["a"])({},Object(l["e"])("play",["albumInfo","videoInfo","subTemplate","videoList","sourceListInfo","sourceSummary","layerOpen","secureJsonpToken"]),{curDate:function(){return{year:this.videoInfo.period.slice(0,4),month:this.videoInfo.period.slice(4,6)}},updateStatus:function(){return this.subTemplate.source&&this.albumInfo.showContent?this.albumInfo.showContent:this.subTemplate.short?this.videoInfo.issueTime+"发布":""}}),watch:{page:function(e,t){e!==t&&(this.videos=this.sourceListInfo[this.page])},layerOpen:function(e){e&&(this.setPage(this.curDate),this.videos=this.sourceListInfo[this.page])}},methods:{title:function(e){if(this.subTemplate.source){var t=e.period?We()(e.period).format("YYYY-MM-DD"):"",a=Object(U["e"])(e.shortTitle);return(t?"".concat(t,"期"):"")+(a?": ".concat(a):"")}return e.videoName||e.shortTitle},setPage:function(e){this.page=this.sourceSummary.findIndex(function(t){return t.year===e.year&&t.month===e.month})},toggleChangeTab:function(){var e=Object(B["a"])(regeneratorRuntime.mark(function e(t){var a,i,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.setPage(t),a=this.sourceListInfo[this.page],!a||!a.length){e.next=4;break}return e.abrupt("return");case 4:return i={sourceId:this.videoInfo.sourceId,year:t.year,month:t.month,order:"asc",token:this.secureJsonpToken},e.next=7,Object(Te["d"])(i);case 7:s=e.sent,this.videos=this.formatVideos(s),this.$store.dispatch("play/sourceListInfo",Object(Oe["a"])({},this.page,this.videos));case 10:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),formatVideos:function(e){var t=this;if(!Se()(e)||!e.length)return[];var a=2===this.albumInfo.bossStatus,i=this.albumInfo.priceInfo&&this.albumInfo.priceInfo.right;return e.forEach(function(e){e.upperRightCorner=0===e.bossStatus&&a&&!i?"试看":"",e.order=e.pd,e.title=t.title(e)}),e},toggleVideoClick:function(){this.$store.dispatch("play/layerPage",this.page)}}},mt=pt,ht=Object(P["a"])(mt,et,tt,!1,null,null,null),ft=ht.exports,gt=a("a466"),vt=a("ba2c"),bt={name:"PlayKnowledge",components:{PlayVideoRelated:d["a"],PlayKnowledgeAppBanner:m["a"],PlayLongExtendBar:p["a"],PlayLongVideoInfo:h["a"],PlayVideoUser:f["a"],PlayKnowledgeComment:w,VideoRecommend:k["a"],PlayKnowledgeTeacher:N,PlayKnowledgeDesc:A,PlayKnowledgeDetail:Y,PlayKnowledgePackageLayer:ae,PlayKnowledgeRecommend:ce,PlayKnowledgePayLayer:ue["a"],PlayKnowledgeOfflineLayer:de["a"],PlayKnowledgePayButton:we,PlayKnowledgeAlbum:Ke,PlayKnowledgeAlbumLayer:Me,PlayKnowledgePriceInfo:be,PlayKnowledgeSource:Ze,PlayKnowledgeSourceLayer:ft,BackTop:u["a"],LoadBottom:c["a"],PlayPlatformLimit:vt["a"]},mixins:[gt["a"]],data:function(){return{isShowAlbumLayer:!1,isShowSourceLayer:!1,isShowPackageLayer:!1,isCommentLoad:!1,page:0}},computed:Object(r["a"])({},Object(l["e"])("play",["videoInfo","albumInfo","subTemplate","controlInfo"]),{recVfrm:function(){return this.albumInfo.isSource?"30-28-18-7":"30-26-18-7"}}),mounted:function(){this.controlInfo.politicallySensitive&&this.loadNextPage()},methods:{loadNextPage:function(){return this.page=this.page+1,this.isCommentLoad=!0,o.a.resolve()}}},yt=bt,It=Object(P["a"])(yt,i,s,!1,null,null,null);t["default"]=It.exports}}]);