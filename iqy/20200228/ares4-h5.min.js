/*! @cupid/ares@4.16.2 by iQiyi, Thu Sep 26 2019 10:57:39 GMT+0800 (CST) */
!function (e, t) {
  'object' == typeof exports && 'object' == typeof module ? module.exports = t()  : 'function' == typeof define && define.amd ? define([], t)  : 'object' == typeof exports ? exports.ares = t()  : e.ares = t()
}(this, function () {
  return function (e) {
    function t(i) {
      if (n[i]) return n[i].exports;
      var r = n[i] = {
        exports: {
        },
        id: i,
        loaded: !1
      };
      return e[i].call(r.exports, r, r.exports, t),
      r.loaded = !0,
      r.exports
    }
    var n = {
    };
    return t.m = e,
    t.c = n,
    t.p = '',
    t(0)
  }(function (e) {
    for (var t in e) if (Object.prototype.hasOwnProperty.call(e, t)) switch (typeof e[t]) {
      case 'function':
        break;
      case 'object':
        e[t] = function (t) {
          var n = t.slice(1),
          i = e[t[0]];
          return function (e, t, r) {
            i.apply(this, [
              e,
              t,
              r
            ].concat(n))
          }
        }(e[t]);
        break;
      default:
        e[t] = e[e[t]]
    }
    return e
  }([[179,
  7],
  ,
  ,
  ,
  ,
  ,
  ,
  function (e, t, n) {
    (function (t, i) {
      function r() {
        h.ctx = m,
        h.open(),
        h.overwriteQueue(l),
        a()
      }
      function o(e, n) {
        if (p.call(this), this.sdk = m, f.element(e)) {
          var i = e;
          n = t.extend({
            videoElement: i,
            entrance: this
          }, n)
        } else {
          var r = t.get(window, 'Q.PageInfo.i18n') || t.get(window, 'uniqy.PageInfo.i18n');
          n = t.extend({
          }, n, {
            adPlayerId: e,
            locale: r
          })
        }
        m.init(n)
      }
      function a() {
        'function' == typeof i.define && (s() || i.define('ares', function () {
          return o
        })),
        o.AdPadding = o,
        window.CupidAdSdk = o
      }
      function s() {
        return null != document.getElementById('flashbox')
      }
      var c = n(19) ('index'),
      u = n(25),
      d = n(134),
      l = 'aresqueue',
      p = n(44),
      f = t.is,
      v = n(57),
      h = n(168) (t.get(i, [
        l,
        'q'
      ])),
      m = new u({
      }, d);
      i.ares3 = e.exports = m,
      i.aresprint = function () {
        c(d)
      },
      r(),
      t.inherits(o, p),
      t.extend(o.prototype, {
        start: t.noop,
        stop: function () {
          var e = this.sdk;
          e && e.stop()
        },
        notifyCupidSdk: function (e, t) {
          var n = this.sdk;
          t.sdk = n,
          n && n.notifyCupidSdk(e, t)
        },
        addEventListener: o.prototype.on,
        removeEventListener: o.prototype.off,
        dispatchEvent: o.prototype.emit
      }),
      t.extend(o, v.event)
    }).call(t, n(8), function () {
      return this
    }())
  },
  function (e, t, n) {
    e.exports = n(9)
  },
  function (e, t, n) {
    (function (t) {
      function t(e) {
        return this instanceof t ? (this.__value = e, void (this.__chain = !1))  : new t(e)
      }
      var i = n(10);
      e.exports = i.extend(t, i),
      n(12),
      n(13),
      n(14),
      n(16),
      n(17),
      n(18),
      t.mixin(t, t)
    }).call(t, n(8))
  },
  [
    180,
    11
  ],
  function (e, t) {
    (function (e) {
      function n(e) {
        var t = a.toString.call(e);
        return t.substring(8, t.length - 1).toLowerCase()
      }
      function i(e) {
        return typeof e
      }
      function r(e, t) {
        return a.hasOwnProperty.call(e, t)
      }
      var o = t,
      a = Object.prototype;
      e = e || {
      };
      var s = e.navigator;
      o.browser = function () {
        return !(o.wechatApp() || !s || e.window != e)
      },
      o.h5 = function () {
        return !(!o.browser() || !s.geolocation)
      },
      o.mobile = function () {
        return !(!o.browser() || !/mobile/i.test(s.userAgent))
      },
      o.wechatApp = function () {
        return !('object' != typeof wx || !wx || !o.fn(wx.createVideoContext))
      },
      o._class = n,
      o._type = i,
      o.owns = r,
      o.nan = function (e) {
        return e !== e
      },
      o.bool = function (e) {
        return 'boolean' == n(e)
      },
      o.infinite = function (e) {
        return e == 1 / 0 || e == - (1 / 0)
      },
      o.number = function (e) {
        return !isNaN(e) && 'number' == n(e)
      },
      o.iod = function (e) {
        return !(!o.number(e) || o.infinite(e))
      },
      o.decimal = function (e) {
        return !!o.iod(e) && 0 != e % 1
      },
      o.integer = function (e) {
        return !!o.iod(e) && 0 == e % 1
      },
      o.oof = function (e) {
        if (e) {
          var t = i(e);
          return 'object' == t || 'function' == t
        }
        return !1
      },
      o.object = function (e) {
        return o.oof(e) && 'function' != n(e)
      },
      o.hash = o.plainObject = function (e) {
        return !(!e || 'object' != n(e)) && (!e.nodeType && !e.setInterval)
      },
      o.undef = function (e) {
        return 'undefined' == i(e)
      },
      o.fn = function (e) {
        return 'function' == n(e)
      },
      o.string = function (e) {
        return 'string' == n(e)
      },
      o.nos = function (e) {
        return o.iod(e) || o.string(e)
      },
      o.array = function (e) {
        return 'array' == n(e)
      },
      o.arraylike = function (e) {
        if (!o.window(e) && o.object(e)) {
          var t = e.length;
          if (o.integer(t) && t >= 0) return !0
        }
        return !1
      },
      o.window = function (e) {
        return !(!e || e.window != e)
      },
      o.empty = function (e) {
        if (o.string(e) || o.arraylike(e)) return 0 === e.length;
        if (o.hash(e)) for (var t in e) if (r(e, t)) return !1;
        return !0
      },
      o.element = function (e) {
        return !(!e || 1 !== e.nodeType)
      },
      o.regexp = function (e) {
        return 'regexp' == n(e)
      }
    }).call(t, function () {
      return this
    }())
  },
  function (e, t, n) {
    function i(e, t) {
      var n = [
      ],
      i = r.len(t);
      if (i) for (t = t.sort(function (e, t) {
        return e - t
      }); i--; ) {
        var o = t[i];
        n.push(c.splice.call(e, o, 1) [0])
      }
      return n.reverse(),
      n
    }
    var r = e.exports = n(9),
    o = r.each,
    a = r.includes,
    s = r.is,
    c = Array.prototype;
    r.reject = function (e, t) {
      return r.filter(e, function (e, n, i) {
        return !t(e, n, i)
      })
    },
    r.without = function (e) {
      var t = r.slice(arguments, 1);
      return r.difference(e, t)
    },
    r.difference = function (e, t) {
      var n = [
      ];
      return r.each(e, function (e) {
        a(t, e) || n.push(e)
      }),
      n
    },
    r.pluck = function (e, t) {
      return r.map(e, function (e) {
        if (e) return e[t]
      })
    },
    r.size = function (e) {
      var t = r.len(e);
      return null == t && (t = r.keys(e).length),
      t
    },
    r.first = function (e) {
      if (e) return e[0]
    },
    r.last = function (e) {
      var t = r.len(e);
      if (t) return e[t - 1]
    },
    r.asyncMap = function (e, t, n) {
      var i,
      r,
      a = [
      ],
      s = 0;
      o(e, function (o, c) {
        r = !0,
        t(o, function (t, r) {
          if (!i) {
            if (s++, t) return i = !0,
            n(t);
            a[c] = r,
            s == e.length && (i = !0, n(null, a))
          }
        })
      }),
      r || n(null)
    },
    r.uniq = function (e) {
      return r.uniqBy(e)
    },
    r.uniqBy = function (e, t) {
      var n = [
      ],
      i = [
      ];
      return s.fn(t) || (t = null),
      o(e, function (e) {
        var r = e;
        t && (r = t(e)),
        a(i, r) || (i.push(r), n.push(e))
      }),
      n
    },
    r.flatten = function (e) {
      var t = [
      ];
      return o(e, function (e) {
        s.arraylike(e) ? o(e, function (e) {
          t.push(e)
        })  : t.push(e)
      }),
      t
    },
    r.union = function () {
      return r.uniq(r.flatten(arguments))
    },
    r.sample = function (e, t) {
      for (var n = r.toArray(e), i = n.length, o = Math.min(t || 1, i), a = 0; a < i; a++) {
        var s = r.random(a, i - 1),
        c = n[s];
        n[s] = n[a],
        n[a] = c
      }
      return n.length = o,
      null == t ? n[0] : n
    },
    r.shuffle = function (e) {
      return r.sample(e, 1 / 0)
    },
    r.compact = function (e) {
      return r.filter(e, r.identity)
    },
    r.rest = function (e) {
      return r.slice(e, 1)
    },
    r.invoke = function () {
      var e = arguments,
      t = e[0],
      n = e[1],
      i = s.fn(n);
      return e = r.slice(e, 2),
      r.map(t, function (t) {
        if (i) return n.apply(t, e);
        if (null != t) {
          var r = t[n];
          if (s.fn(r)) return r.apply(t, e)
        }
      })
    },
    r.partition = function (e, t) {
      var n = r.groupBy(e, function (e, n, i) {
        var r = t(e, n, i);
        return r ? 1 : 2
      });
      return [n[1] || [
      ],
      n[2] || [
      ]]
    },
    r.groupBy = function (e, t) {
      var n = {
      };
      return r.each(e, function (e, i, r) {
        var o = t(e, i, r);
        n[o] = n[o] || [
        ],
        n[o].push(e)
      }),
      n
    },
    r.range = function () {
      var e = arguments;
      if (e.length < 2) return r.range(e[1], e[0]);
      var t = e[0] || 0,
      n = e[1] || 0,
      i = e[2];
      s.number(i) || (i = 1);
      var o = n - t;
      0 != i && (o /= i);
      for (var a = [
      ], c = t, u = 0; u < o; u++) a.push(c),
      c += i;
      return a
    },
    r.pullAt = function (e) {
      var t = r.slice(arguments, 1);
      return i(e, t)
    },
    r.remove = function (e, t) {
      for (var n = r.len(e) || 0, o = [
      ]; n--; ) t(e[n], n, e) && o.push(n);
      return i(e, o)
    },
    r.fill = function (e, t, n) {
    }
  },
  function (e, t, n) {
    function i(e) {
      if (o.array(e)) return e;
      var t = [
      ];
      return r.tostr(e).replace(s, function (e, n, i, r) {
        var o = n || e;
        i && (o = r.replace(c, '$1')),
        t.push(o)
      }),
      t
    }
    var r = e.exports = n(9),
    o = r.is,
    a = (r.each, r.forIn);
    r.only = function (e, t) {
      return e = e || {
      },
      o.string(t) && (t = t.split(/ +/)),
      r.reduce(t, function (t, n) {
        return null != e[n] && (t[n] = e[n]),
        t
      }, {
      })
    },
    r.values = function (e) {
      return r.map(r.keys(e), function (t) {
        return e[t]
      })
    },
    r.pick = function (e, t) {
      if (!o.fn(t)) return r.pick(e, function (e, n) {
        return n == t
      });
      var n = {
      };
      return a(e, function (e, i, r) {
        t(e, i, r) && (n[i] = e)
      }),
      n
    },
    r.functions = function (e) {
      return r.keys(r.pick(e, function (e) {
        return o.fn(e)
      }))
    },
    r.mapKeys = function (e, t) {
      var n = {
      };
      return a(e, function (e, i, r) {
        var o = t(e, i, r);
        n[o] = e
      }),
      n
    },
    r.mapObject = r.mapValues = function (e, t) {
      var n = {
      };
      return a(e, function (e, i, r) {
        n[i] = t(e, i, r)
      }),
      n
    },
    r.get = function (e, t) {
      if (t = i(t), t.length) {
        var n = r.every(t, function (t) {
          if (null != e) return e = e[t],
          !0
        });
        if (n) return e
      }
    },
    r.has = function (e, t) {
      if (t = i(t), t.length) {
        var n = r.every(t, function (t) {
          if (null != e && o.owns(e, t)) return e = e[t],
          !0
        });
        if (n) return !0
      }
      return !1
    },
    r.set = function (e, t, n) {
      t = i(t);
      var a = e;
      return r.every(t, function (e, i) {
        if (o.oof(a)) {
          if (i + 1 != t.length) {
            var r = a[e];
            if (null == r) {
              var r = {
              };
              ~~e == e && (r = [
              ])
            }
            return a = a[e] = r,
            !0
          }
          a[e] = n
        }
      }),
      e
    },
    r.create = function () {
      function e() {
      }
      return function (t, n) {
        return 'object' != typeof t && (t = null),
        e.prototype = t,
        r.extend(new e, n)
      }
    }(),
    r.defaults = function () {
      var e = arguments,
      t = e[0],
      n = r.slice(e, 1);
      return t && r.each(n, function (e) {
        r.mapObject(e, function (e, n) {
          o.undef(t[n]) && (t[n] = e)
        })
      }),
      t
    },
    r.isMatch = function (e, t) {
      var n = !0;
      return e = e || {
      },
      a(t, function (t, i) {
        if (t !== e[i]) return n = !1,
        !1
      }),
      n
    },
    r.toPlainObject = function (e) {
      var t = {
      };
      return a(e, function (e, n) {
        t[n] = e
      }),
      t
    },
    r.invert = function (e) {
      var t = {
      };
      return a(e, function (e, n) {
        t[e] = n
      }),
      t
    };
    var s = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,
    c = /\\(\\)?/g
  },
  function (e, t, n) {
    function i(e) {
      function t() {
        var t = arguments,
        i = t[0];
        if (!n.has(i)) {
          var r = e.apply(this, t);
          n.set(i, r)
        }
        return n.get(i)
      }
      var n = new i.Cache;
      return t.cache = n,
      t
    }
    var r = e.exports = n(9),
    o = r.is,
    a = r.slice;
    r.bind = function (e, t) {
      if (o.string(t)) {
        var n = e;
        e = n[t],
        t = n
      }
      if (!o.fn(e)) return e;
      var i = a(arguments, 2);
      return t = t || this,
      function () {
        return e.apply(t, r.flatten([i,
        arguments]))
      }
    },
    r.inherits = function (e, t) {
      e.super_ = t,
      e.prototype = r.create(t.prototype, {
        constructor: e
      })
    },
    r.delay = function (e, t) {
      var n = r.slice(arguments, 2);
      return setTimeout(function () {
        e.apply(this, n)
      }, t)
    },
    r.before = function (e, t) {
      return function () {
        if (e > 1) return e--,
        t.apply(this, arguments)
      }
    },
    r.once = function (e) {
      return r.before(2, e)
    },
    r.after = function (e, t) {
      return function () {
        return e > 1 ? void e-- : t.apply(this, arguments)
      }
    },
    r.throttle = function (e, t, n) {
      return t = t || 0,
      n = r.extend({
        leading: !0,
        trailing: !0,
        maxWait: t
      }, n),
      r.debounce(e, t, n)
    },
    r.debounce = function (e, t, n) {
      function i() {
        return !(p - d > t) && !(u && p - l > u)
      }
      function o(e, t, n) {
        return d = r.now(),
        e.apply(t, n)
      }
      function a() {
        c && (clearTimeout(c), c = null)
      }
      function s() {
        p = r.now();
        var s = i();
        l = p;
        var u = this,
        d = arguments;
        a(),
        s ? n.trailing && (c = r.delay(function () {
          o(e, u, d)
        }, t))  : o(e, u, d)
      }
      t = t || 0,
      n = r.extend({
        leading: !1,
        trailing: !0
      }, n);
      var c,
      u = n.maxWait,
      d = 0,
      l = 0,
      p = r.now();
      return n.leading || (d = p),
      s.cancel = a,
      s
    },
    i.Cache = n(15),
    r.memoize = i,
    r.wrap = function (e, t) {
      return function () {
        var n = [
          e
        ];
        return n.push.apply(n, arguments),
        t.apply(this, n)
      }
    },
    r.curry = function (e) {
      function t(i) {
        return function () {
          var o = i.concat(r.slice(arguments));
          return o.length >= n ? (o.length = n, e.apply(this, o))  : t(o)
        }
      }
      var n = e.length;
      return t([])
    }
  },
  function (e, t, n) {
    function i() {
      this.data = {
      }
    }
    var r = n(9),
    o = r.is;
    e.exports = i;
    var a = i.prototype;
    a.has = function (e) {
      return o.owns(this.data, e)
    },
    a.get = function (e) {
      return this.data[e]
    },
    a.set = function (e, t) {
      this.data[e] = t
    },
    a['delete'] = function (e) {
      delete this.data[e]
    }
  },
  function (e, t, n) {
    var i = e.exports = n(9),
    r = i.is;
    i.now = function () {
      return + new Date
    },
    i.constant = function (e) {
      return function () {
        return e
      }
    },
    i.identity = function (e) {
      return e
    },
    i.random = function (e, t) {
      return e + Math.floor(Math.random() * (t - e + 1))
    },
    i.mixin = function (e, t, n) {
      var o = i.functions(t);
      if (e) if (r.fn(e)) {
        n = n || {
        };
        var a = (!!n.chain, e.prototype);
        i.each(o, function (e) {
          var n = t[e];
          a[e] = function () {
            var e = this,
            t = [
              e.__value
            ];
            t.push.apply(t, arguments);
            var i = n.apply(e, t);
            return e.__chain ? (e.__value = i, e)  : i
          }
        })
      } else i.each(o, function (n) {
        e[n] = t[n]
      });
      return e
    },
    i.chain = function (e) {
      var t = i(e);
      return t.__chain = !0,
      t
    },
    i.value = function () {
      return this.__chain = !1,
      this.__value
    }
  },
  function (e, t, n) {
    function i(e, t) {
      e = o.tostr(e) || ' ';
      var n = Math.floor(t / e.length) + 1;
      return o.repeat(e, n).slice(0, t)
    }
    function r(e) {
      return e || 0 == e ? e + '' : ''
    }
    var o = e.exports = n(9);
    o.tostr = r;
    var a = o.indexOf;
    o.split = function (e, t, n) {
      return e = r(e),
      e.split(t, n)
    },
    o.capitalize = function (e) {
      return e = r(e),
      e.charAt(0).toUpperCase() + e.substr(1)
    },
    o.decapitalize = function (e) {
      return e = r(e),
      e.charAt(0).toLowerCase() + e.substr(1)
    },
    o.camelCase = function (e) {
      e = r(e);
      var t = e.split(/[^\w]|_+/);
      return t = o.map(t, function (e) {
        return o.capitalize(e)
      }),
      o.decapitalize(t.join(''))
    },
    o.startsWith = function (e, t) {
      return 0 == a(e, t)
    },
    o.endsWith = function (e, t) {
      return t += '',
      t == o.slice(e, o.len(e) - o.len(t))
    },
    o.lower = function (e) {
      return r(e).toLowerCase()
    },
    o.upper = function (e) {
      return r(e).toUpperCase()
    },
    o.repeat = function (e, t) {
      return o.map(o.range(t), function () {
        return e
      }).join('')
    },
    o.padStart = function (e, t, n) {
      e = o.tostr(e),
      t = t || 0;
      var r = t - e.length;
      return i(n, r) + e
    },
    o.padEnd = function (e, t, n) {
      e = o.tostr(e),
      t = t || 0;
      var r = t - e.length;
      return e + i(n, r)
    }
  },
  function (e, t, n) {
    var i = e.exports = n(9);
    i.sum = function (e) {
      return i.reduce(e, function (e, t) {
        return e + t
      }, 0)
    },
    i.max = function (e, t) {
      var n = - 1,
      r = - (1 / 0);
      return t = t || i.identity,
      i.each(e, function (e, i) {
        e = t(e),
        e > r && (r = e, n = i)
      }),
      n > - 1 ? e[n] : r
    },
    i.min = function (e, t) {
      var n = - 1,
      r = 1 / 0;
      return t = t || i.identity,
      i.each(e, function (e, i) {
        e = t(e),
        e < r && (r = e, n = i)
      }),
      n > - 1 ? e[n] : r
    }
  },
  function (e, t, n) {
    function i(e) {
      return r.getLogger(e).getLevelFunction()
    }
    var r = n(20),
    o = r.Log,
    a = n(24);
    e.exports = i,
    o.outputers = [
      o.custom.outputers.color
    ],
    o.prefix = 'ad:ares3:',
    a.wechatApp() ? o.setName('*')  : o.init('aresde')
  },
  function (e, t, n) {
    var i = n(21),
    r = i.getLogger();
    e.exports = t = r
  },
  function (e, t, n) {
    (function (i) {
      function r(e) {
        var t = this;
        l.string(e) && (e = {
          name: e
        }),
        e = e || {
        },
        t.name = e.name || r.defaultName,
        t.enabled = t.isNameMatch(t.name),
        t.Log = r
      }
      function o(e) {
        var t = m.toname(e.level);
        p.console(t, e.data)
      }
      function a(e) {
        e.time = d.now(),
        s(e)
      }
      function s(e) {
        h.push(e),
        h.length > r.MAX_LOG_LEN && h.shift()
      }
      function c(e) {
        e = e || r.defaultName;
        var t = v[e];
        return t || (t = v[e] = new r(e)),
        t
      }
      function u(e) {
        var t = [
        ],
        n = [
        ];
        return e && l.string(e) && d.each(e.split(/[\s,]+/), function (e) {
          e = e.replace(/\*/g, '.*?');
          var i = e.charAt(0);
          '-' == i ? t.push(new RegExp('^' + d.slice(e, 1) + '$'))  : n.push(new RegExp('^' + e + '$'))
        }),
        {
          skips: t,
          names: n
        }
      }
      var d = n(8),
      l = d.is,
      p = n(22);
      e.exports = t = r;
      var f = {
        level: 0,
        MAX_LOG_LEN: 3000,
        debugKey: 'debug',
        defaultLevelName: 'log',
        defaultName: 'default',
        _name: '',
        prefix: '',
        outputers: [
        ],
        logFilters: [
          a
        ],
        custom: {
          outputers: {
            color: n(23)
          }
        }
      };
      d.extend(r, f);
      var v = {
      },
      h = r.logs = [
      ];
      p.hasConsole() && r.outputers.push(o);
      var m = {
        name2code: {
          verbose: 0,
          log: 1,
          debug: 2,
          info: 3,
          warn: 4,
          error: 5
        },
        toname: function (e) {
          return l.number(e) && (e = m.code2name[e]),
          l.string(e) || (e = r.defaultLevelName),
          e
        },
        tocode: function (e) {
          return l.string(e) && (e = m.name2code[d.lower(e)]),
          l.number(e) || (e = m.name2code[r.defaultLevelName]),
          e
        }
      };
      m.code2name = d.invert(m.name2code),
      r.LEVEL = m,
      r.setLevel = function (e) {
        r.level = m.tocode(e)
      },
      r.setName = function (e) {
        r._name = e,
        r.pattern = u(e),
        d.forIn(v, function (t) {
          t.enabled = t.isNameMatch(e)
        })
      },
      r.getPlainLog = function () {
        return d.map(r.logs, function (e) {
          return d.map(e.data, function (e) {
            var t = e;
            if (i.JSON) try {
              t = JSON.stringify(e)
            } catch (n) {
              t = '[Nested]'
            }
            return t
          }).join(' ')
        }).join('\r\n')
      },
      r.getLogger = c,
      r.setName(r._name),
      r.setLevel(r.level),
      r.init = function (e) {
        e = e || r.debugKey;
        var t;
        if (i.location) {
          var n = new RegExp(e + '=(\\S+)'),
          o = n.exec(i.location.href);
          o && (t = o[1])
        }
        if (null == t) try {
          t = localStorage[e]
        } catch (a) {
        }
        null == t && i.process && (t = d.get(i, [
          'process',
          'env',
          e
        ])),
        r.setName(t)
      },
      r.init();
      var g = r.prototype;
      g.getLogger = c,
      g.getLevelFunction = function (e) {
        var t = m.tocode(e),
        n = this;
        return function () {
          n.print(t, arguments)
        }
      },
      d.each(d.keys(m.name2code), function (e) {
        var t = m.tocode(e);
        r[d.upper(e)] = t,
        g[e] = function () {
          var e = this;
          e.print(t, arguments)
        }
      }),
      g.print = function (e, t) {
        var n = this;
        if (n.enabled && e >= r.level) {
          var i = {
            level: e,
            name: n.name,
            data: t
          };
          d.each(r.logFilters, function (e) {
            e(i, r.lastLog)
          }),
          r.lastLog = i,
          d.each(r.outputers, function (e) {
            e(i, r)
          })
        }
      },
      g.isNameMatch = function (e) {
        function t(t) {
          return t.test(e)
        }
        var n = r.pattern;
        return !!e && (!d.some(n.skips, t) && !!d.some(n.names, t))
      }
    }).call(t, function () {
      return this
    }())
  },
  function (e, t) {
    (function (e) {
      t.hasConsole = function () {
        return !!e.console
      },
      t.console = function (e, t) {
        var n = Function.prototype.apply || console[e].apply;
        n.call(console[e], console, t)
      }
    }).call(t, function () {
      return this
    }())
  },
  function (e, t, n) {
    function i() {
      return !!u.wechatApp() || !r() && !!u.browser()
    }
    function r() {
      return !(!u.browser() || !/Trident/i.test(navigator.userAgent))
    }
    function o(e, t) {
      var n = c.now(),
      i = n - (s || n),
      r = 'color:' + a(e.name);
      s = n;
      var o = t.prefix + e.name,
      u = '%c' + o + '%c',
      l = [
        null,
        r,
        f
      ];
      c.each(e.data, function (e) {
        l.push(e),
        u += ' %o'
      }),
      l.push(r),
      u += '%c +' + i + 'ms',
      l[0] = u,
      d.console('log', l)
    }
    function a(e) {
      return v[e] || (v[e] = l[p++ % l.length]),
      v[e]
    }
    var s,
    c = n(8),
    u = c.is,
    d = n(22),
    l = 'lightseagreen forestgreen goldenrod dodgerblue darkorchid crimson'.split(' '),
    p = 0,
    f = 'color:inherit',
    v = {
    };
    e.exports = c.noop,
    d.hasConsole() && (i() ? e.exports = o : e.exports = function (e, t) {
      d.console('log', e.data)
    })
  },
  11,
  function (e, t, n) {
    (function (t, i) {
      function r(e, n) {
        var i = this;
        i.adTheme = 'default',
        i.relatedTheme = 'default',
        i.setParent(n),
        p.call(i, u),
        t.extend(i, P),
        i.bindNormalEvent(),
        i.bindToolFunc(),
        i.version = i.getVal('sdkVersion'),
        i.adMap = {
        },
        i.external = I,
        i.hijackVideoConfig(['playbackRate'])
      }
      function o(e, t) {
        function n() {
          var n = e.width(),
          i = n == a;
          i || (d('video resize', a, '==>', n), t(), a = n)
        }
        $(window).off('resize');
        var i = 5000,
        r = 100,
        o = new b(r, i / r),
        a = e.width();
        o.on('timer', n),
        $(window).on('resize', function () {
          n(),
          o.reset(),
          o.start()
        })
      }
      function a(e) {
        var n = e || {
        };
        return n.episodeId = n.episodeId || n.tvId,
        n.adPlayerId = n.adPlayerId || n.playerId,
        n.videoDuration = n.videoDuration || n.duration,
        n.isVIP = n.isVIP || n.isVip,
        n.upd = 1 == n.upd ? 1 : 0,
        n.videoDefinition = n.videoDefinition || n.resIndex,
        n = t.extend({
          isVIP: !1
        }, n)
      }
      function s(e) {
        return v.isAdPlayerId(e) || (d('invalid cid, use default cid'), e = _),
        e
      }
      function c(e, n) {
        var i = 'mp4';
        return e ? 'm3u8' == t.lower(e) && (i = 'm3u8')  : 'i' == t.lower(t.first(n)) && (i = 'm3u8'),
        i
      }
      var u = 'sdk',
      d = n(19) (u),
      l = n(20),
      p = n(43),
      f = n(58),
      v = n(71),
      h = n(163),
      m = n(88),
      g = n(107),
      y = n(104),
      b = n(90),
      x = n(60),
      w = n(76),
      T = n(121),
      k = n(120),
      I = n(167),
      P = n(159),
      C = t.is,
      A = 'uaaUserId adPlayerId passportId videoMidware videoElement passportCookie isVIP clientVersion isMacH5 showVoiceIcon locale formatType deviceType vId entrance adTheme relatedTheme upd ptid'.split(' ');
      e.exports = r;
      var V = 'qc_105136_100610',
      _ = 'qc_100001_100226';
      t.inherits(r, p);
      var E = r.prototype;
      E.hijackVideoConfig = function (e) {
        try {
          var n = document.querySelector('video');
          n && e.length && t.each(e, function (e) {
            Object.defineProperty(n, e, {
              set: function (e) {
              },
              get: function () {
              }
            })
          })
        } catch (i) {
          d('hijackVideoConfig 方法运行有异常: ', i)
        }
      },
      E.getSummary = function () {
        var e = this;
        return 'sdk: ' + e.version
      },
      E.showSummary = function () {
        var e = this;
        e.$panel = e.$panel || $('<div>').css({
          position: 'fixed',
          top: 100,
          right: 100,
          'min-width': '100px',
          'min-height': '100px',
          background: '#fff'
        }).addClass('cupid-summary-panel');
        var t = v.getSummaryTreeInDom(e);
        return e.$panel.empty().append(t),
        e.$panel.show().appendTo('body'),
        e.$panel[0]
      },
      E.init = function (e) {
        var n = this;
        d('@entrance init', e, e.episodeId),
        e = t.extend({
        }, e),
        e = a(e);
        var i = t.only(e, A);
        if (t.extend(n, i), n.locale) {
          var r = n.locale;
          r = t.includes(['tw_t',
          'cn_t',
          'zh-TW'], r) ? 'tw' : 'cn';
          var o = m.setLocale(r);
          d('set locale', n.locale, 'get', o)
        }
        t.includes(n.locale, 'tw') && (n.adPlayerId = V, d('force use tw cid', V)),
        n.isH5VideoMode() && (n.formatType = c(n.formatType, n.deviceType), d('use format type', n.formatType)),
        n.adPlayerId = s(n.adPlayerId),
        n.uaaUserId = n.uaaUserId || v.getUaaUserId(),
        n.video || (n.video = new h(n.videoElement, n));
        var u = new f(e, n);
        return d('currentView', n.currentView, n),
        n.currentView && n.video && !u.isPreload && n.onManualSwitchView(),
        n
      },
      E.stop = function (e) {
        var n = t.get(e, 'videoEventId');
        d('stop view', n);
        var i = this;
        if (t.remove(i.children, function (e) {
          return e.videoEventId == n && (e.isCurrentView() && (i.currentView = null), e.abort(), i.video && i.video.enableVideo(), !0)
        }), i.isH5VideoMode()) {
          var r = i.video;
          r && (r.hideAllAdElements('sdk结束'), r.$video.off())
        }
      },
      E.notifyCupidSdk = function (e, t) {
        d('notify cupid sdk:', e, t);
        var n = this,
        i = n[e];
        C.fn(i) && i(t)
      },
      E.removeInvalidAd = function (e) {
        var n = e.vid,
        i = e.sdk || this,
        r = i.children[i.children.length - 1];
        d('currentview', i.currentView),
        C.array(n) && n.length > 0 ? t.each(n, function (e) {
          d('find invalid ad and remove it', e),
          v.getAdByVidAndRemove(e, r)
        })  : d('no invalid vid', e)
      },
      E.onManualSwitchView = function () {
        var e = this,
        t = e.currentView;
        t && (d('手动切集'), e.currentView = null, t.abort())
      },
      E.switchToVideoViewById = function (e) {
        var n = this,
        i = t.find(n.children, function (t) {
          return !t.isExpired && t.videoEventId == e
        });
        i && n.switchToVideoView(i)
      },
      E.switchToVideoView = function (e) {
        if (e && e.isVideoView()) {
          var n = this;
          if (n.currentView != e) {
            n.currentView && (n.lastView = n.currentView, n.lastView.isExpired = !0),
            n.currentView = e,
            d('switch to video view', e.episodeId);
            var i = t.filter(n.children, function (e) {
              return !(!e.isVideoView() || e == n.currentView)
            });
            t.each(i, function (e) {
              e.abort()
            }),
            n.children = t.difference(n.children, i),
            e.tryPlayPreload()
          }
        }
      },
      E.smartGetAd = function (e) {
        var t = this;
        return v.smartGetAd(t, e)
      },
      E.bindNormalEvent = function () {
        var e = this;
        e.on('bridge', function (t, n, i) {
          d('bridge', t, n, i);
          var r = v.getAdById(t, e);
          r && r.emit('bridge', n, i)
        }),
        e.on('click', function (t) {
          if (d('click', t), t) {
            var n = v.getAdById(t.id, e);
            n && n.emit('clickAndOpen')
          }
        }),
        e.on('impression', function (t) {
          if (d('impression', t), t) {
            var n = v.getAdById(t.id, e);
            n && n.emit('impression')
          }
        }),
        e.on('impressionAdZone', function (n) {
          d('impressionAdZone', n);
          var i = t.get(n, 'adZoneId'),
          r = e.currentView;
          r && i && t.each(r.children, function (e) {
            t.each(e.children, function (e) {
              e.adZoneId == i && e.sendEmptyTrackingBeforeTimeSlice(1 / 0)
            })
          })
        }),
        e.on(e.DEFINITION_SWITCHING_SHOW, function () {
          e.emit('impressionAdZone', {
            adZoneId: e.DEFINITION_SWITCHING_SHOW
          })
        })
      },
      E.bindVideoEvent = function () {
        d('bind video event');
        var e = this;
        if (e.getVal('isVideoSupportOverlay')) {
          var n = e.video;
          n && (n.on('pause', function (t) {
            var i = v.getActionType(t);
            if ('controls' == i) {
              var r = n.currentTime();
              if (r) {
                var o = e.currentView;
                o && null == n.getCurrentAd() && (d('user pause', r), o.pauseTimes++, o.loadPause(), o.pause())
              }
            }
          }), n.on('play', function () {
            d('play');
            var i = e.currentView;
            i && (i.tryStopPauseAd(), t.delay(function () {
              null == n.getCurrentAd() && i.showAndResume()
            }))
          }), e.bindMouseMove())
        }
        return o(e.video.$video, function () {
          e.resize()
        }),
        e
      },
      E.resize = function () {
        var e = this;
        e.currentView && e.currentView.resize()
      },
      E.isH5VideoMode = function () {
        return !!this.videoElement
      },
      E.isPCWVideoMode = function () {
        return !!this.videoMidware
      },
      E.bindMouseMove = function () {
        var e = this,
        t = new b(1000, 5),
        n = 0;
        t.on('timer', function () {
          var e = t.repeatCount - t.currentCount;
          d('mousemove countdown', e + '/' + t.repeatCount)
        }),
        t.on('timerComplete', function () {
          var t = e.currentView;
          t && t.tryStopToolbar()
        }),
        e.video.$video.on('mousemove', function () {
          if (n++, 1 == n && setTimeout(function () {
            n = 0
          }, 1000), n >= 10) {
            var i = e.currentView;
            i && i.isVideoPlaying && (i.tryPlayToolbar(), n = 0, t.start())
          }
          t.currentCount = 0
        })
      },
      E.unbindMouseMove = function () {
        var e = this;
        e.video.$video.off('mousemove')
      },
      E.bridgeEmit = function (e, t, n) {
        return this.emit('bridge', e, t, n)
      },
      E.getUser = function () {
        var e = this,
        n = t.only(e, 'isVIP passportId passportCookie uaaUserId cupidUserId');
        if (e.isPCWVideoMode()) {
          var i = e.video.getUserInfo();
          t.extend(n, i)
        }
        return n || {
        }
      },
      E.updateUser = function () {
        var e = this,
        n = e.getUser();
        return d('update user info', n),
        t.extend(e, n),
        n
      },
      E.bindToolFunc = function () {
        t.extend(this, {
          md5: y,
          base64: g,
          i18n: m,
          $: window.$,
          _: t,
          qs: x,
          url: w,
          byteCode: T,
          Promise: i,
          tool: v,
          log: l
        }, k)
      }
    }).call(t, n(8), n(26))
  },
  function (e, t, n) {
    var i = (n(27), n(39));
    i.resolve = n(41),
    i.reject = n(42),
    i.prototype['catch'] = i.prototype.caught = function (e) {
      return this.then(null, e)
    },
    e.exports = i
  },
  [
    179,
    28
  ],
  [
    181,
    27,
    31,
    32,
    33,
    34,
    35,
    37,
    38
  ],
  [
    180,
    30
  ],
  11,
  function (e, t) {
    e.exports = function (e) {
      var t = e.is;
      e.isString = t.string,
      e.isArray = t.array,
      e.isArrayLike = t.arraylike,
      e.isBoolean = t.bool,
      e.isElement = t.element,
      e.isEmpty = t.empty,
      e.isFunction = t.fn,
      e.isInteger = t.integer,
      e.isNaN = t.nan,
      e.isNumber = t.number,
      e.isObject = t.object,
      e.isPlainObject = t.plainObject,
      e.isRegExp = t.regexp,
      e.isString = t.string,
      e.isUndefined = t.undef
    }
  },
  function (e, t) {
    e.exports = function (e) {
      var t = e.is;
      e.now = function () {
        return + new Date
      },
      e.constant = function (e) {
        return function () {
          return e
        }
      },
      e.identity = function (e) {
        return e
      },
      e.random = function (e, t) {
        return e + Math.floor(Math.random() * (t - e + 1))
      },
      e.mixin = function (n, i, r) {
        var o = e.functions(i);
        if (n) if (t.fn(n)) {
          r = r || {
          };
          var a = n.prototype;
          e.each(o, function (e) {
            var t = i[e];
            a[e] = function () {
              var e = this,
              n = [
                e.__value
              ];
              n.push.apply(n, arguments);
              var i = t.apply(e, n);
              return e.__chain ? (e.__value = i, e)  : i
            }
          })
        } else e.each(o, function (e) {
          n[e] = i[e]
        });
        return n
      },
      e.chain = function (t) {
        var n = e(t);
        return n.__chain = !0,
        n
      },
      e.value = function () {
        return this.__chain = !1,
        this.__value
      };
      var n = 0;
      e.uniqueId = function (t) {
        return n++,
        e.toString(t) + n
      }
    }
  },
  function (e, t) {
    e.exports = function (e) {
      function t(t, n) {
        var i = e.size(n);
        return t < 0 && (t += i),
        t < 0 && (t = 0),
        t > i && (t = i),
        t || 0
      }
      function n(t, n) {
        var i = [
        ],
        r = e.len(n);
        if (r) for (n = n.sort(function (e, t) {
          return e - t
        }); r--; ) {
          var o = n[r];
          i.push(a.splice.call(t, o, 1) [0])
        }
        return i.reverse(),
        i
      }
      var i = e.forEach = e.each,
      r = e.includes,
      o = e.is,
      a = Array.prototype;
      e.reject = function (t, n) {
        return e.filter(t, function (e, t, i) {
          return !n(e, t, i)
        })
      },
      e.without = function (t) {
        var n = e.slice(arguments, 1);
        return e.difference(t, n)
      },
      e.difference = function (t, n) {
        var i = [
        ];
        return e.each(t, function (e) {
          r(n, e) || i.push(e)
        }),
        i
      },
      e.pluck = function (t, n) {
        return e.map(t, function (e) {
          if (e) return e[n]
        })
      },
      e.nth = function (n, i) {
        i = t(i, n),
        i = i || 0;
        var r;
        return r = e.isString(n) ? n.charAt(i)  : n[i]
      },
      e.first = function (t) {
        if (t) return e.nth(t, 0)
      },
      e.last = function (t) {
        var n = e.len(t);
        if (n) return e.nth(t, n - 1)
      },
      e.asyncMap = function (e, t, n) {
        var r,
        o,
        a = [
        ],
        s = 0;
        i(e, function (i, c) {
          o = !0,
          t(i, function (t, i) {
            if (!r) {
              if (s++, t) return r = !0,
              n(t);
              a[c] = i,
              s == e.length && (r = !0, n(null, a))
            }
          })
        }),
        o || n(null)
      },
      e.uniq = function (t) {
        return e.uniqBy(t)
      },
      e.uniqBy = function (e, t) {
        var n = [
        ],
        a = [
        ];
        return o.fn(t) || (t = null),
        i(e, function (e) {
          var i = e;
          t && (i = t(e)),
          r(a, i) || (a.push(i), n.push(e))
        }),
        n
      },
      e.flatten = function (e) {
        var t = [
        ];
        return i(e, function (e) {
          o.arraylike(e) ? i(e, function (e) {
            t.push(e)
          })  : t.push(e)
        }),
        t
      },
      e.union = function () {
        return e.uniq(e.flatten(arguments))
      },
      e.sampleSize = function (t, n) {
        for (var i = e.toArray(t), r = i.length, o = Math.min(n || 1, r), a = 0; a < r; a++) {
          var s = e.random(a, r - 1),
          c = i[s];
          i[s] = i[a],
          i[a] = c
        }
        return i.length = o,
        i
      },
      e.sample = function (t) {
        return e.first(e.sampleSize(t, 1))
      },
      e.shuffle = function (t) {
        return e.sampleSize(t, 1 / 0)
      },
      e.compact = function (t) {
        return e.filter(t, e.identity)
      },
      e.rest = function (t) {
        return e.slice(t, 1)
      },
      e.invoke = function () {
        var t = arguments,
        n = t[0],
        i = t[1],
        r = o.fn(i);
        return t = e.slice(t, 2),
        e.map(n, function (e) {
          if (r) return i.apply(e, t);
          if (null != e) {
            var n = e[i];
            if (o.fn(n)) return n.apply(e, t)
          }
        })
      },
      e.partition = function (t, n) {
        var i = e.groupBy(t, function (e, t, i) {
          var r = n(e, t, i);
          return r ? 1 : 2
        });
        return [i[1] || [
        ],
        i[2] || [
        ]]
      },
      e.groupBy = function (t, n) {
        var i = {
        };
        return e.each(t, function (e, t, r) {
          var o = n(e, t, r);
          i[o] = i[o] || [
          ],
          i[o].push(e)
        }),
        i
      },
      e.range = function () {
        var t = arguments;
        if (t.length < 2) return e.range(t[1], t[0]);
        var n = t[0] || 0,
        i = t[1] || 0,
        r = t[2];
        o.number(r) || (r = 1);
        var a = i - n;
        0 != r && (a /= r);
        for (var s = [
        ], c = n, u = 0; u < a; u++) s.push(c),
        c += r;
        return s
      },
      e.pullAt = function (t) {
        var i = e.slice(arguments, 1);
        return n(t, i)
      },
      e.remove = function (t, i) {
        for (var r = e.len(t) || 0, o = [
        ]; r--; ) i(t[r], r, t) && o.push(r);
        return n(t, o)
      },
      e.fill = function (n, i, r, o) {
        var a = e.size(n);
        r = t(r, n) || 0,
        o = t(o, n) || a;
        for (var s = r; s < o; s++) n[s] = i;
        return n
      },
      e.size = function (t) {
        var n = 0;
        if (t) {
          var i = t.length;
          e.isInteger(i) && i >= 0 ? n = i : e.isObject(t) && (n = e.keys(t).length)
        }
        return n
      }
    }
  },
  function (e, t) {
    e.exports = function (e) {
      function t(t) {
        if (n.array(t)) return t;
        var i = [
        ];
        return e.toString(t).replace(r, function (e, t, n, r) {
          var a = t || e;
          n && (a = r.replace(o, '$1')),
          i.push(a)
        }),
        i
      }
      var n = e.is,
      i = e.forIn;
      e.only = function (t, i) {
        return t = t || {
        },
        n.string(i) && (i = i.split(/ +/)),
        e.reduce(i, function (e, n) {
          return null != t[n] && (e[n] = t[n]),
          e
        }, {
        })
      },
      e.values = function (t) {
        return e.map(e.keys(t), function (e) {
          return t[e]
        })
      },
      e.pick = function (t, r) {
        if (!n.fn(r)) return e.pick(t, function (e, t) {
          return t == r
        });
        var o = {
        };
        return i(t, function (e, t, n) {
          r(e, t, n) && (o[t] = e)
        }),
        o
      },
      e.functions = function (t) {
        return e.keys(e.pick(t, function (e) {
          return n.fn(e)
        }))
      },
      e.mapKeys = function (e, t) {
        var n = {
        };
        return i(e, function (e, i, r) {
          var o = t(e, i, r);
          n[o] = e
        }),
        n
      },
      e.mapObject = e.mapValues = function (e, t) {
        var n = {
        };
        return i(e, function (e, i, r) {
          n[i] = t(e, i, r)
        }),
        n
      },
      e.get = function (n, i) {
        if (i = t(i), i.length) {
          var r = e.every(i, function (e) {
            if (null != n) return n = n[e],
            !0
          });
          if (r) return n
        }
      },
      e.has = function (i, r) {
        if (r = t(r), r.length) {
          var o = e.every(r, function (e) {
            if (null != i && n.owns(i, e)) return i = i[e],
            !0
          });
          if (o) return !0
        }
        return !1
      },
      e.set = function (i, r, o) {
        r = t(r);
        var a = i;
        return e.every(r, function (e, t) {
          if (n.oof(a)) {
            if (t + 1 != r.length) {
              var i = a[e];
              if (null == i) {
                var i = {
                };
                ~~e == e && (i = [
                ])
              }
              return a = a[e] = i,
              !0
            }
            a[e] = o
          }
        }),
        i
      },
      e.create = function () {
        function t() {
        }
        return function (n, i) {
          return 'object' != typeof n && (n = null),
          t.prototype = n,
          e.extend(new t, i)
        }
      }(),
      e.defaults = function () {
        var t = arguments,
        i = t[0],
        r = e.slice(t, 1);
        return i && e.each(r, function (t) {
          e.mapObject(t, function (e, t) {
            n.undef(i[t]) && (i[t] = e)
          })
        }),
        i
      },
      e.isMatch = function (e, t) {
        var n = !0;
        return e = e || {
        },
        i(t, function (t, i) {
          if (t !== e[i]) return n = !1,
          !1
        }),
        n
      },
      e.toPlainObject = function (e) {
        var t = {
        };
        return i(e, function (e, n) {
          t[n] = e
        }),
        t
      },
      e.invert = function (e) {
        var t = {
        };
        return i(e, function (e, n) {
          t[e] = n
        }),
        t
      };
      var r = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,
      o = /\\(\\)?/g
    }
  },
  [
    182,
    36
  ],
  function (e, t, n) {
    function i() {
      this.data = {
      }
    }
    var r = n(29),
    o = r.is;
    e.exports = i;
    var a = i.prototype;
    a.has = function (e) {
      return o.owns(this.data, e)
    },
    a.get = function (e) {
      return this.data[e]
    },
    a.set = function (e, t) {
      this.data[e] = t
    },
    a['delete'] = function (e) {
      delete this.data[e]
    }
  },
  function (e, t) {
    e.exports = function (e) {
      function t(t, i) {
        t = n(t) || ' ';
        var r = Math.floor(i / t.length) + 1;
        return e.repeat(t, r).slice(0, i)
      }
      function n(e) {
        return e || 0 == e ? e + '' : ''
      }
      e.tostr = e.toString = n;
      var i = e.indexOf;
      e.split = function (e, t, i) {
        return e = n(e),
        e.split(t, i)
      },
      e.capitalize = function (e) {
        return e = n(e),
        e.charAt(0).toUpperCase() + e.substr(1).toLowerCase()
      },
      e.upperFirst = function (e) {
        return e = n(e),
        e.charAt(0).toUpperCase() + e.substr(1)
      },
      e.lowerFirst = function (e) {
        return e = n(e),
        e.charAt(0).toLowerCase() + e.substr(1)
      },
      e.camelCase = function (t) {
        t = n(t);
        var i = t.split(/[^\w]|_+/);
        return i = e.map(i, function (t) {
          return e.capitalize(t)
        }),
        e.lowerFirst(i.join(''))
      },
      e.startsWith = function (e, t) {
        return 0 == i(e, t)
      },
      e.endsWith = function (t, n) {
        return n += '',
        n == e.slice(t, e.len(t) - e.len(n))
      },
      e.toLower = e.lower = function (e) {
        return n(e).toLowerCase()
      },
      e.toUpper = e.upper = function (e) {
        return n(e).toUpperCase()
      },
      e.repeat = function (t, n) {
        return e.map(e.range(n), function () {
          return t
        }).join('')
      },
      e.padStart = function (e, i, r) {
        e = n(e),
        i = i || 0;
        var o = i - e.length;
        return t(r, o) + e
      },
      e.padEnd = function (e, i, r) {
        e = n(e),
        i = i || 0;
        var o = i - e.length;
        return e + t(r, o)
      };
      var r = {
        '&': '&amp',
        '<': '&lt',
        '>': '&gt',
        '"': '&quot',
        '\'': '&#39'
      };
      e.escape = function (e) {
        return n(e).replace(/[&<>"']/g, function (e) {
          return r[e] || e
        })
      },
      e.template = function (t) {
        function n(t) {
          var n = e.first(t);
          if ('=' === n || '-' === n) {
            var i = e.slice(t, 1);
            '-' === n && (i = '_.escape(' + i + ')'),
            r.push('ret += ' + i)
          } else r.push(t)
        }
        function i(e) {
          r.push('ret += "' + e.replace(/('|"|\\)/g, '\\$1').replace(/\r/g, '\\r').replace(/\n/g, '\\n') + '"')
        }
        var r = [
          'with(data) {var ret = ""'
        ];
        e.each(e.split(t, '<%'), function (t, r) {
          var o = t.split('%>');
          return o[1] ? (n(e.trim(o[0])), i(o[1]))  : void i(o[0])
        }),
        r.push('return ret}');
        var o = new Function('data', r.join('\n')),
        a = {
          _: e
        },
        s = function (t) {
          return o(e.extend({
          }, a, t))
        };
        return s
      }
    }
  },
  function (e, t) {
    e.exports = function (e) {
      e.sum = function (t) {
        return e.reduce(t, function (e, t) {
          return e + t
        }, 0)
      },
      e.max = function (t, n) {
        var i = - 1,
        r = - (1 / 0);
        return n = n || e.identity,
        e.each(t, function (e, t) {
          e = n(e),
          e > r && (r = e, i = t)
        }),
        i > - 1 ? t[i] : r
      },
      e.min = function (t, n) {
        var i = - 1,
        r = 1 / 0;
        return n = n || e.identity,
        e.each(t, function (e, t) {
          e = n(e),
          e < r && (r = e, i = t)
        }),
        i > - 1 ? t[i] : r
      }
    }
  },
  function (e, t, n) {
    (function (t, i, r) {
      function t(e) {
        var t = this;
        t.handlers = {
        },
        t.children = [
        ],
        t.state = d;
        var n = f(t, l),
        i = f(t, p);
        try {
          e(function (e) {
            n(e)
          }, function (e) {
            i(e)
          })
        } catch (r) {
          i(r)
        }
      }
      function o(e, t, n) {
        e.state = t,
        e.result = n,
        c.each(e.children, function (e) {
          a(e, t, n)
        })
      }
      function a(e, t, n) {
        s(function () {
          var i = e.handlers[t];
          if (u.fn(i)) {
            var r;
            try {
              r = i(n)
            } catch (a) {
              return o(e, p, a)
            }
            f(e, l, r)
          } else f(e, t, n)
        })
      }
      function s(e) {
        i.process && r.nextTick ? r.nextTick(e)  : setTimeout(e)
      }
      var c = n(27),
      u = c.is,
      d = 0,
      l = 1,
      p = - 1;
      e.exports = t,
      t.prototype.then = function (e, n) {
        var i = this,
        r = new t(c.noop),
        o = r.handlers;
        return o[l] = e,
        o[p] = n,
        d == i.state ? i.children.push(r)  : a(r, i.state, i.result),
        r
      };
      var f = c.curry(function (e, t, n) {
        if (e === n) return f(e, p, new TypeError('circle promise'));
        if (e.state == d) {
          var i;
          if (u.oof(n)) try {
            i = n.then
          } catch (r) {
            return o(e, p, r)
          }
          if (u.fn(i)) {
            var a = c.once(function (t, n) {
              t == p ? o(e, t, n)  : f(e, t, n)
            });
            try {
              i.call(n, function (e) {
                a(l, e)
              }, function (e) {
                a(p, e)
              })
            } catch (s) {
              a(p, s)
            }
          } else o(e, t, n)
        }
      })
    }).call(t, n(26), function () {
      return this
    }(), n(40))
  },
  function (e, t) {
    function n() {
      throw new Error('setTimeout has not been defined')
    }
    function i() {
      throw new Error('clearTimeout has not been defined')
    }
    function r(e) {
      if (d === setTimeout) return setTimeout(e, 0);
      if ((d === n || !d) && setTimeout) return d = setTimeout,
      setTimeout(e, 0);
      try {
        return d(e, 0)
      } catch (t) {
        try {
          return d.call(null, e, 0)
        } catch (t) {
          return d.call(this, e, 0)
        }
      }
    }
    function o(e) {
      if (l === clearTimeout) return clearTimeout(e);
      if ((l === i || !l) && clearTimeout) return l = clearTimeout,
      clearTimeout(e);
      try {
        return l(e)
      } catch (t) {
        try {
          return l.call(null, e)
        } catch (t) {
          return l.call(this, e)
        }
      }
    }
    function a() {
      h && f && (h = !1, f.length ? v = f.concat(v)  : m = - 1, v.length && s())
    }
    function s() {
      if (!h) {
        var e = r(a);
        h = !0;
        for (var t = v.length; t; ) {
          for (f = v, v = [
          ]; ++m < t; ) f && f[m].run();
          m = - 1,
          t = v.length
        }
        f = null,
        h = !1,
        o(e)
      }
    }
    function c(e, t) {
      this.fun = e,
      this.array = t
    }
    function u() {
    }
    var d,
    l,
    p = e.exports = {
    };
    !function () {
      try {
        d = 'function' == typeof setTimeout ? setTimeout : n
      } catch (e) {
        d = n
      }
      try {
        l = 'function' == typeof clearTimeout ? clearTimeout : i
      } catch (e) {
        l = i
      }
    }();
    var f,
    v = [
    ],
    h = !1,
    m = - 1;
    p.nextTick = function (e) {
      var t = new Array(arguments.length - 1);
      if (arguments.length > 1) for (var n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
      v.push(new c(e, t)),
      1 !== v.length || h || r(s)
    },
    c.prototype.run = function () {
      this.fun.apply(null, this.array)
    },
    p.title = 'browser',
    p.browser = !0,
    p.env = {
    },
    p.argv = [
    ],
    p.version = '',
    p.versions = {
    },
    p.on = u,
    p.addListener = u,
    p.once = u,
    p.off = u,
    p.removeListener = u,
    p.removeAllListeners = u,
    p.emit = u,
    p.prependListener = u,
    p.prependOnceListener = u,
    p.listeners = function (e) {
      return []
    },
    p.binding = function (e) {
      throw new Error('process.binding is not supported')
    },
    p.cwd = function () {
      return '/'
    },
    p.chdir = function (e) {
      throw new Error('process.chdir is not supported')
    },
    p.umask = function () {
      return 0
    }
  },
  function (e, t, n) {
    var i = n(39);
    e.exports = function (e) {
      return new i(function (t, n) {
        t(e)
      })
    }
  },
  function (e, t, n) {
    var i = n(39);
    e.exports = function (e) {
      return new i(function (t, n) {
        n(e)
      })
    }
  },
  function (e, t, n) {
    (function (i, r) {
      function o(e) {
        var t = this;
        t[l] = e,
        t.memory = {
        },
        s.call(t),
        t.setState('idle')
      }
      function a(e) {
        var t = - 1;
        return e && e.getCuepointType && (t = e.getCuepointType()),
        t = parseInt(t),
        c.number(t) || (t = - 1),
        t
      }
      var s = n(44),
      c = i.is,
      u = n(57);
      e.exports = t = o;
      var d = 'global sdk view request slot ad env'.split(' '),
      l = 'contextName';
      i.inherits(o, s);
      var p = o.prototype;
      o.getLevel = function (e) {
        return i.indexOf(d, e)
      },
      p.isContext = function (e) {
        return this[l] == e
      },
      p.index = function () {
        var e = this;
        return e.parent ? i.indexOf(e.parent.children, e)  : - 1
      },
      p.setState = function (e) {
        var t = this;
        t.state != e && (t.lastState = t.state, t.state = e, t.emit('statechange', e))
      },
      p.belong = function (e) {
        var t = i.indexOf(d, this[l]),
        n = i.indexOf(d, e);
        return t > - 1 && n > - 1 && n <= t
      },
      p.setParent = function (e) {
        var t = this;
        e && (t[e[l]] = t.parent = e, e.children = e.children || [
        ], e.children.push(t))
      },
      p.getParentByName = function (e) {
        for (var t = this; t; ) {
          if (t[l] == e) return t;
          t = t.parent
        }
      },
      p.getVideo = function () {
        var e = this,
        t = e.getParentByName('sdk');
        if (t) return t.video
      },
      p.getVal = function (e) {
        for (var t = this; t; ) {
          if (i.has(t, e)) return t[e];
          t = t.parent
        }
      },
      p.getMultiVals = function (e) {
        var t = this,
        n = {
        };
        return i.each(e, function (e) {
          n[e] = t.getVal(e)
        }),
        n
      },
      p.getInfo = function () {
        return {
        }
      },
      p.getParam = function () {
        for (var e = this, t = 8, n = [
        ]; t-- && e; ) n.push(e),
        e = e.parent;
        return n.reverse(),
        n.unshift({
        }),
        i.extend.apply(i, n)
      },
      p.isPause = function () {
        return u.pause == a(this)
      },
      p.isPreroll = function () {
        return u.preroll == a(this)
      },
      p.isMidroll = function () {
        return u.midroll == a(this)
      },
      p.isRoll = function () {
        return i.includes([u.preroll,
        u.midroll,
        u.postroll], a(this))
      },
      p.isPage = function () {
        return u.page == a(this)
      },
      p.isToolbar = function () {
        return u.toolbar == a(this)
      },
      p.isViewPoint = function () {
        return u.viewPoint == a(this)
      },
      p.isGeneralOverlay = function () {
        var e = [
          u.viewPoint,
          u.common_overlay,
          u.common_overlay2
        ];
        return i.includes(e, a(this))
      },
      p.isEnded = function () {
        var e = this.state,
        t = 'ended' == e || 'end' == e;
        return !!t
      },
      p.runIfNotEnded = function (e) {
        this.isEnded() || e()
      },
      p.isLiving = function (e) {
        var t,
        n = this;
        if (n.error ? t = n.error : n.isEnded() && (t = 'ended'), t) return r.reject(t);
        var i = e();
        return r.resolve(i)
      },
      i.each('pause resume resize'.split(' '), function (e) {
        p[e] = function () {
          var t = this;
          t.runIfNotEnded(function () {
            i.each(t.children, function (t) {
              if (t.isContext('ad')) {
                var n = i.includes(['playing',
                'paused',
                'complete'], t.state);
                if (!n) return
              }
              t[e]()
            })
          })
        }
      })
    }).call(t, n(8), n(26))
  },
  function (e, t, n) {
    function i() {
      return this instanceof i ? void (this[a] = new o)  : new i
    }
    var r = n(45),
    o = n(55);
    e.exports = i;
    var a = 'emitter',
    s = i.prototype;
    s.on = function (e, t) {
      return this[a].on(e, t)
    },
    s.once = function (e, t) {
      return this[a].once(e, t)
    },
    s.emit = function (e) {
      var t = r.slice(arguments, 1),
      n = this;
      return n[a].emit(e, null, function (e) {
        e.handler.apply(n, t)
      })
    },
    s.off = function (e, t) {
      var n;
      return t && (n = function (e) {
        return e.handler == t
      }),
      this[a].off(e, n)
    }
  },
  [
    179,
    46
  ],
  [
    181,
    45,
    47,
    48,
    49,
    50,
    51,
    53,
    54
  ],
  31,
  32,
  33,
  34,
  [
    182,
    52
  ],
  36,
  37,
  38,
  function (e, t, n) {
    function i() {
      return this instanceof i ? void (this.cache = {
      })  : new i
    }
    function r() {
      return !0
    }
    function o(e) {
      e.handler()
    }
    var a = n(45),
    s = n(56),
    c = a.is;
    e.exports = i;
    var u = i.prototype;
    u.on = function (e, t) {
      if (c.fn(t)) {
        var n = {
        };
        n.handler = t;
        var i = s(this.cache, e, [
        ]);
        return i.push(n),
        n
      }
    },
    u.once = function (e, t) {
      function n() {
        i || (i = !0, r.off(function (e) {
          return e.handler == n
        }), n = null, t.apply(this, arguments))
      }
      if (c.fn(t)) {
        var i,
        r = this;
        return r.on(e, n)
      }
    },
    u.emit = function (e, t, n) {
      var i = this.filter(e, t);
      return a.each(i, n || o),
      i
    },
    u.off = function (e, t) {
      void 0 === e ? this.cache = {
      }
       : a.remove(this.cache[e], t || r)
    },
    u.filter = function (e, t) {
      return a.filter(this.cache[e], t || r)
    }
  },
  function (e, t) {
    e.exports = function (e, t, n) {
      if (n = n || {
      }, e) {
        if (null != e[t]) return e[t];
        e[t] = n
      }
      return n
    }
  },
  function (e, t, n) {
    (function (e) {
      var n = t;
      n.name2cuepoint = {
        page: 0,
        preroll: 1,
        midroll: 2,
        postroll: 3,
        corner: 4,
        mark: 5,
        pause: 6,
        toolbar: 7,
        viewPoint: 8,
        overlay: 9,
        common_overlay: 10,
        common_overlay2: 11
      },
      n.event = {
        EVENT_CUPID_READY: 'ready',
        EVENT_CUPID_NO_AD: 'noad',
        EVENT_CUPID_SKIP_AD: 'skip'
      },
      n.adSkipVipMap = {
        0: {
          negative: [
            32,
            128
          ]
        },
        32: {
          positive: [
            32,
            128
          ]
        }
      },
      e.extend(n, n.name2cuepoint),
      n.cuepoint2name = e.invert(n.name2cuepoint)
    }).call(t, n(8))
  },
  function (e, t, n) {
    (function (t, i) {
      function r(e, t) {
        var n = this;
        c.call(n, a),
        n.setParent(t),
        n.sdk = t,
        n.video = n.sdk.video,
        n.init(e),
        n.currentOverlayAds = [
        ],
        n.bindEvent(),
        n.toolbarRequest = null,
        n.isBusyLoading = !0,
        n.hasPrerollRequestFailed = !1,
        n.pageUrl = v.getPageUrl()
      }
      function o(e) {
        var n = [
          e.episodeId,
          e.uaaUserId,
          t.now(),
          Math.random()
        ];
        return d(n.join(''))
      }
      var a = 'view',
      s = n(20).Log,
      c = n(43),
      u = n(59),
      d = n(104),
      l = n(105),
      p = n(161),
      f = n(57),
      v = n(71),
      h = t.is,
      m = 'videoEventId channelId episodeId albumId videoDefinition videoDuration autoload playSource isPreload'.split(' ');
      e.exports = r,
      t.inherits(r, c);
      var g = r.prototype;
      g.getSummary = function () {
        var e = this,
        t = [
        ];
        return e.isCurrentView() && t.push('进行中!!'),
        e.isVideoView() && (t.push('视频', e.episodeId), e.isPreload && t.push('连播')),
        t.push(e.videoEventId),
        t.join(' ')
      },
      g.isVideoView = function () {
        var e = this;
        return !(h.empty(e.episodeId) || !e.video)
      },
      g.isCurrentView = function () {
        var e = this;
        return !(!e.sdk || e != e.sdk.currentView)
      },
      g.isSportsVipVideo = function () {
        var e = this,
        t = e.videoInfo && e.videoInfo.videoType;
        return 32 == t
      },
      g.notifyPlayer = function (e) {
        var n = this;
        e = t.extend({
          tvId: n.episodeId,
          videoEventId: n.getVal('videoEventId')
        }, e),
        n.log.debug('notify video adplayer_ad_info', e),
        n.sdk.emit('adplayer_ad_info', e)
      },
      g.notifyH5Player = function (e, t) {
        var n = this;
        n.log.debug('notify h5 player', e, t);
        var i = {
          type: e,
          data: t
        },
        r = n.getVal('entrance');
        r && r.dispatchEvent(e, i)
      },
      g.tryPlayToolbar = function () {
        var e = this;
        if (e.toolbarRequest) e.toolbarRequest.tryReplay();
         else if (e.schedule) {
          var t = e.schedule.getAdBreaksByType(f.toolbar);
          h.empty(t) || (e.log.debug('request toolbar'), e.toolbarRequest = new l({
            adBreaks: t
          }, e), e.toolbarRequest.play())
        }
      },
      g.tryStopToolbar = function () {
        var e = this;
        e.toolbarRequest && (e.log.debug('stop toolbar'), e.toolbarRequest.abort())
      },
      g.startVideo = function (e) {
        var t = this;
        if (!0 !== t.isVideoPlaying && !t.ended) {
          var n = 'roll-ended',
          i = {
            rollType: e,
            videoEventId: t.getVal('videoEventId')
          };
          t.log.debug(n, i),
          t.onNetworkFree(),
          t.sdk.emit(n, i),
          t.schedule && (t.schedule.startTimer(), t.showAndResume()),
          t.isVideoPlaying = !0,
          t.sdk.video.removeOptions('video start')
        }
      },
      g.startLoadVideo = function (e) {
        var t = this;
        if (!t.ended) {
          e = e || {
          };
          var n = 'roll-load-finish',
          i = {
            rollType: e.rollType,
            reason: e.reason,
            videoEventId: t.getVal('videoEventId')
          };
          t.log.debug(n, i),
          t.sdk.emit(n, i)
        }
      },
      g.stopVideo = function (e) {
        var t = this;
        if (!1 !== t.isVideoPlaying) {
          var n = 'roll-play',
          i = {
            videoEventId: t.getVal('videoEventId'),
            rollType: e
          };
          t.log.debug(n, i),
          t.sdk.emit(n, i),
          t.schedule && t.schedule.stopTimer(),
          t.isVideoPlaying = !1
        }
      },
      g.init = function (e) {
        var n = this;
        e = t.extend({
          playSource: 0,
          isPreload: !1
        }, e);
        var r = t.only(e, m);
        t.extend(n, r),
        n.log = s.getLogger('view:' + (n.episodeId || 'untitled')),
        n.log.debug('init');
        var a = e.videoEventId || o(e);
        n.id = n.videoEventId = a,
        n.isVideoView() && (n.adPlayedDurationInView = 0, n.midrollPointsPlayedInView = 0, n.lastRollCompleteTime = NaN, n.lastMidrollRequestTime = 0, n.pauseRequestTimes = 0, n.pauseTimes = 0),
        n.schedule = new p(n),
        u.send(n, {
          type: 'visit',
          subtype: 'success',
          location: t.get(i, 'location.href'),
          customInfo: n.getVal('sdkUrl')
        });
        var c = this;
        return c.isPreload && c.sdk.currentView && (c.continueFromView = c.sdk.currentView),
        0 != n.autoload && n.load(e),
        n
      },
      g.getContinuingViews = function () {
        for (var e = this, t = [
        ], n = e.continueFromView; n; ) t.push(n),
        n = n.continueFromView;
        return t
      },
      g.load = function (e) {
        var t = this;
        t.log.debug('load'),
        e = e || {
        };
        var n = new l(e, t);
        return t.isPreload || n.play(),
        t
      },
      g.tryPlayPreload = function () {
        var e = this;
        if (e.isPreload) {
          var n = t.first(e.children);
          n && n.play()
        }
      },
      g.onNetworkFree = function () {
        var e = this;
        if (e.isBusyLoading) {
          e.log.debug('network free'),
          e.isBusyLoading = !1;
          var t = e.sdk;
          t.isPCWVideoMode() && e.tryRequestSecondaryAd()
        }
      },
      g.tryRequestSecondaryAd = function () {
        var e = this;
        if (e.log.debug('try load viewpoint and page'), e.schedule) {
          var t = e.schedule.getAdBreaksByType(f.viewPoint),
          n = e.schedule.getAdBreaksByType(f.page),
          i = t.concat(n);
          if (!h.empty(i)) {
            var r = new l({
              adBreaks: i
            }, e);
            r.play()
          }
        }
      },
      g.abort = function () {
        var e = this;
        e.ended || (e.log.debug('abort'), e.ended = !0, e.schedule && e.schedule.stopTimer(), v.notifyPage('clearAds', {
          templateType: 'viewPoint',
          adZoneId: e.viewPointAdZoneId,
          videoEventId: e.getVal('videoEventId')
        }), t.map(e.children, function (e) {
          e.abort()
        }))
      },
      g.bindEvent = function () {
        var e = this;
        return e.once('startLoadVideo', function (t) {
          e.startLoadVideo(t)
        }),
        e.on('skip', function () {
          e.notifyH5Player(f.event.EVENT_CUPID_SKIP_AD)
        }),
        e
      },
      g.loadPause = function (e) {
        var n = this;
        if (n.schedule) {
          var i = n.schedule.getAdBreaksByType(f.pause);
          if (i = t.map(i, function (e) {
            return t.extend({
            }, e, {
              sequenceId: n.pauseTimes
            })
          }), h.empty(i)) n.log.debug('no pause schedule');
           else {
            n.log.debug('load pause'),
            e = e || {
            },
            e.requestIndex = e.requestIndex || 1,
            n.pauseRequestTimes++;
            var r = new l({
              adBreaks: i,
              requestIndex: e.requestIndex,
              from: e.from
            }, n);
            r.play()
          }
        }
      },
      g.addCurrentOverlayAd = function (e) {
        this.currentOverlayAds.push(e)
      },
      g.removeCurrentOverlayAd = function (e) {
        t.remove(this.currentOverlayAds, function (t) {
          return e == t
        })
      },
      g.showAndResume = function () {
        var e = this;
        e.resume(),
        t.each(e.currentOverlayAds, function (t) {
          e.log.debug('show and resume current overlay', t.format());
          var n = t.$adzone;
          n && n.show()
        })
      },
      g.tryStopPauseAd = function () {
        var e = this;
        t.remove(e.children, function (e) {
          if (e.isPause()) return e.abort(),
          !0
        })
      }
    }).call(t, n(8), function () {
      return this
    }())
  },
  function (e, t, n) {
    (function (i) {
      function r() {
        var e = this;
        e.uncompressedParam = {
        },
        e.compressedParam = {
        },
        e.pingbackParam = {
        }
      }
      var o = n(19) ('pingback'),
      a = n(60),
      s = n(71),
      c = n(93),
      u = n(43),
      d = i.is;
      e.exports = t = r;
      var l = [
        'isVIP',
        'isPreload'
      ],
      p = '//msg.qy.net/cp2.gif',
      f = {
        visit: 'v',
        player: 'pl',
        policy: 'p',
        show: 's',
        template: 'tp',
        creative: 'c',
        tracking: 't',
        exchangeTracking: 'x',
        mixer: 'm',
        statistics: 'st',
        ad: 'a',
        inventory: 'i',
        questionnaireInquiry: 'qi'
      },
      v = {
        success: 's',
        error: 'e',
        load: 'l',
        skip: 'sk',
        skipClick: 'sc',
        click: 'clk',
        impression: 'imp',
        adblock: 'adb',
        close: 'cls',
        start: 'st',
        unsupported: 'uns'
      },
      h = {
        type: 'p',
        subtype: 't',
        uaaUserId: 'u',
        cupidUserId: 'a',
        episodeId: 'v',
        albumId: 'b',
        channelId: 'c',
        videoEventId: 'e',
        adPlayerId: 'y',
        customInfo: 'x',
        timestamp: 's',
        videoDuration: 'd',
        isVIP: 'g',
        isPreload: 'pl',
        passportId: 'pp',
        location: 'lc',
        sdkVersion: 'av',
        clientVersion: 'vv',
        requestId: 'rid',
        sequenceId: 'sq',
        orderItemId: 'od',
        creativeId: 'ct',
        dspId: 'dp',
        adInfo: 'ai',
        adStrategy: 'as',
        rawInventory: 'ri',
        originalInventory: 'oi',
        deliveredInventory: 'di',
        forbiddenInventory: 'fi',
        requestDuration: 'rd',
        requestCount: 'rc',
        reqCount: 'rc',
        errorCode: 'ec',
        errCode: 'ec',
        errorMessage: 'em',
        errMessage: 'em',
        errMsg: 'em'
      },
      m = c(h),
      g = 'type subtype timestamp videoEventId adPlayerId uaaUserId cupidUserId sdkVersion clientVersion isVIP videoDuration requestId',
      y = {
        visit: 'episodeId albumId channelId location passportId customInfo isPreload',
        show: 'requestCount requestDuration',
        creative: '',
        tracking: '',
        statistics: '',
        ad: 'episodeId albumId channelId sequenceId',
        inventory: 'episodeId albumId channelId rawInventory originalInventory deliveredInventory forbiddenInventory'
      };
      r.send = function (e, t, n) {
        var i = new r;
        i.addUncompressedParam(t),
        i.addCompressedParam(n),
        i.getType(),
        i.getContextParam(e),
        i.filterContextParam(),
        i.mergeContextParam(),
        i.normalizeParam(),
        i.compressKey(),
        i.mergePingbackParam(),
        i.send()
      },
      r.sendStatistics = function (e, t, n) {
        return r.send(e, {
          type: 'statistics',
          subtype: t,
          customInfo: n
        })
      };
      var b = r.prototype;
      b.getContextParam = function (e) {
        var t = this;
        e instanceof u ? (t.context = e, t.contextParam = e.getParam())  : t.contextParam = e
      },
      b.filterContextParam = function () {
        var e = this,
        t = g + ' ' + y[e.type];
        e.contextParam = i.only(e.contextParam, t)
      },
      b.mergeContextParam = function () {
        this.addUncompressedParam(this.contextParam)
      },
      b.getType = function () {
        var e = this,
        t = e.uncompressedParam;
        e.type = e.type || t.type,
        e.subtype = e.subtype || t.subtype,
        t.type = f[e.type] || e.type,
        t.subtype = v[e.subtype] || e.subtype
      },
      b.normalizeParam = function () {
        var e = this,
        t = e.uncompressedParam;
        if (e.context && e.context.isContext('ad')) {
          var n = e.context;
          e.addUncompressedParam({
            adInfo: n.getAdInfo()
          })
        }
        i.each(l, function (e) {
          var n = t[e];
          d.bool(n) && (t[e] = n ? 1 : 0)
        }),
        t.timestamp = s.getCalibratedTime(),
        i.forIn(t, function (e, n) {
          if (d.string(e)) {
            var i = e.length;
            'em' == n && i > 300 && (e = e.slice(0, 150) + '||' + e.slice(i - 150)),
            t[n] = e
          }
        })
      },
      b.addCompressedParam = function (e) {
        i.extend(this.compressedParam, e)
      },
      b.addUncompressedParam = function (e) {
        i.extend(this.uncompressedParam, e)
      },
      b.compressKey = function () {
        var e = this;
        e.addCompressedParam(m(e.uncompressedParam))
      },
      b.mergePingbackParam = function () {
        var e = this;
        if (e.context) {
          var t = e.context.getVal('pingbackParam');
          i.extend(e.pingbackParam, t)
        }
      },
      b.send = function () {
        var e = this,
        t = e.compressedParam || {
        },
        n = e.pingbackParam || {
        },
        r = {
        },
        c = '';
        o('send', e.type || t.p, e.subtype || t.t, 'uncompressedParam', e.uncompressedParam, 'compressedParam', t, 'pingbackParam', n),
        i.forIn(t, function (e, t) {
          i.has(n, t) || (r[t] = e)
        }),
        d.empty(n) || (c = '&' + a.stringify(n, '&', '=', {
          keepRaw: !0
        }));
        var u = p + '?' + a.stringify(r) + c;
        s.ping(u)
      }
    }).call(t, n(8))
  },
  function (e, t, n) {
    function i(e, t, n) {
      return n = r.find(arguments, function (e) {
        return o.object(e)
      }),
      e = o.nos(e) ? e : void 0,
      t = o.nos(t) ? t : void 0,
      n = r.extend({
      }, a, n, {
        sep: e,
        eq: t
      })
    }
    var r = n(61),
    o = r.is,
    a = {
      sep: '&',
      eq: '=',
      encode: encodeURIComponent,
      decode: decodeURIComponent,
      keepRaw: !1,
      sort: null,
      ignoreValues: [
        void 0
      ]
    };
    t.parse = function (e, t, n, o) {
      e += '',
      o = i(t, n, o);
      var a = o.decode;
      return e = e.split(o.sep),
      r.reduce(e, function (e, t) {
        if (t = t.split(o.eq), 2 == t.length) {
          var n = t[0],
          i = t[1];
          if (!o.keepRaw) try {
            n = a(n),
            i = a(i)
          } catch (r) {
          }
          e[n] = i
        }
        return e
      }, {
      })
    },
    t.stringify = function (e, t, n, a) {
      a = i(t, n, a);
      var s = r.keys(e),
      c = a.sort;
      c && (o.fn(c) ? s.sort(c)  : s.sort());
      var u = a.encode,
      d = [
      ];
      return r.each(s, function (t) {
        var n = e[t];
        r.includes(a.ignoreValues, n) || ((o.nan(n) || null == n) && (n = ''), a.keepRaw || (t = u(t), n = u(n)), d.push(t + a.eq + n))
      }),
      d.join(a.sep)
    }
  },
  [
    179,
    62
  ],
  [
    181,
    61,
    63,
    64,
    65,
    66,
    67,
    69,
    70
  ],
  31,
  32,
  33,
  34,
  [
    182,
    68
  ],
  36,
  37,
  38,
  function (e, t, n) {
    (function (e, i, r) {
      function o(e) {
        var t = !0;
        try {
          window.__player__.errorTip(e)
        } catch (n) {
          t = !1,
          a('show black screen fail', n.message)
        }
        return t
      }
      var a = n(19) ('tool'),
      s = n(72),
      c = e.document,
      u = n(73),
      d = n(75),
      l = i.is,
      p = n(76),
      f = n(87),
      v = n(88),
      h = n(89).template,
      m = n(90),
      g = n(60);
      t.addStyle = i.once(function () {
        a('add style');
        var e = c.createElement('style');
        e.type = 'text/css';
        var t = n(91);
        e.styleSheet ? e.styleSheet.cssText = t : e.innerHTML = t,
        $('head').append(e)
      }),
      t.getSummaryTree = function (e) {
        var n = {
        };
        if (e) {
          n.name = e.getSummary();
          var r = i.map(e.children, function (e) {
            return t.getSummaryTree(e)
          });
          r.length && (n.children = r)
        }
        return n
      },
      t.getSummaryTreeInDom = function (e) {
        var n = $('<div>');
        if (e) {
          var r = $('<span>');
          r.text(e.getSummary()),
          n.append(r);
          var o = $('<ul>');
          i.each(e.children, function (e) {
            var n = t.getSummaryTreeInDom(e),
            i = $('<li>');
            i.append(n),
            o.append(i)
          }),
          n.append(o)
        }
        return n
      },
      t.sumBy = function (e, t) {
        var n = 0;
        return i.each(e, function (e) {
          n += i.get(e, t) || 0
        }),
        n
      },
      t.isWechatApp = function () {
        return !('object' != typeof wx || !wx || !l.fn(wx.createVideoContext))
      },
      t.isPageSupportViewPoint = function () {
        return t.isPageSupportAd('viewPoint')
      },
      t.parseJSON = function (t) {
        var n = i.get(e, 'JSON.parse') || $.parseJSON;
        return n(t)
      },
      t.rawNotifyPage = function (e) {
        try {
          return Q.__callbacks__.iqiyi_player_notice(e)
        } catch (t) {
        }
      },
      t.notifyPage = function (e, n) {
        a('notify page', e, n);
        var i,
        r = {
          type: e,
          data: n
        };
        try {
          i = JSON.stringify(r)
        } catch (o) {
          i = null
        }
        if (i) return t.rawNotifyPage(i)
      },
      t.isPageSupportAd = function (e) {
        try {
          return Q.external.checkAdSupport(e)
        } catch (t) {
          return !1
        }
      },
      t.isPageJobDone = function () {
        try {
          return Q.external.jobdone()
        } catch (e) {
          return !1
        }
      },
      t.waitPageJobDone = function (e) {
        if (t.isPageJobDone()) e();
         else var n = m.interval(function () {
          t.isPageJobDone() && (n.stop(), e())
        }, 1000)
      },
      t.open = function (t, n) {
        if (i.size(t) > 2) {
          l.mobile() && (n = '_self');
          var r = e.open(t, n || '_blank');
          r && (r.opener = null)
        }
      },
      t.getCalibratedTime = function () {
        var e = i.now();
        return l.integer(t.deltaTime) && (e += t.deltaTime),
        e
      },
      t.getTrackingTime = function () {
        return parseInt(t.getCalibratedTime() / 1000)
      },
      t.isRoll = function (e) {
        return e = parseInt(e),
        i.includes([1,
        2,
        3], e)
      },
      t.getAdById = function (e, t) {
        return i.get(t, [
          'adMap',
          e
        ])
      },
      t.getAdById2 = function (e, n) {
        return t.getAd(n, function (t) {
          return t.id == e
        })
      },
      t.smartGetAd = function (e, n) {
        return t.getAd(e, function (e) {
          return t.isAdMatch(e, n)
        })
      },
      t.isAdMatch = function (e, t) {
        if (e) {
          var n = e.creative,
          r = e.slot;
          if (n && r) {
            var o = [
              e.id,
              e.orderItemId,
              r.adZoneId,
              n.creativeId,
              n.templateType
            ];
            return o = i.map(o, i.lower),
            i.includes(o, i.lower(t))
          }
        }
        return !1
      },
      t.getAd = function (e, t) {
        var n;
        return i.some(e.children, function (e) {
          return i.some(e.children, function (e) {
            return i.some(e.children, function (e) {
              return i.some(e.children, function (e) {
                return !!t(e) && (n = e, !0)
              })
            })
          })
        }),
        n
      },
      t.getAdByVidAndRemove = function (e, t) {
        i.each(t.children, function (t) {
          t.isPreroll() && i.each(t.children, function (t) {
            if (1 == t.cuepointType) for (var n = t.ads.length - 1; n >= 0; n--) {
              var i = t.ads[n];
              i.matchedVideo && e == i.matchedVideo.video && (a('find ad by invalid vid', e, i.matchedVideo.video), t.duration = t.duration - i.duration, i.emit('creativeLoad'), i.emit('error', new d('creative http error', i.creative.creativeObject, u.CREATIVE_HTTP_ERROR)), t.ads.splice(n, 1), a('remove ad by invalid vid success', t.ads))
            }
          })
        })
      },
      t.isAdPlayerId = function (e) {
        return !!i.startsWith(e, 'qc_') && e.length == 'qc_100001_100000'.length
      },
      t.isAd = function (e) {
        return !!(e && 'orderItemId' in e)
      },
      t.getAllParam = function (e) {
        for (var t = 8, n = [
        ]; t-- && e; ) n.push(e),
        e = e.parent;
        return n.reverse(),
        n.unshift({
        }),
        i.extend.apply(i, n)
      };
      var y = 1024,
      b = {
        1: 300,
        2: 600,
        3: 1.1 * y,
        4: 1.5 * y,
        5: 3 * y,
        10: 8 * y,
        96: 170
      },
      x = i.map([['jUrl',
      'f4v',
      1,
      - 1000],
      [
        'bUrl',
        'f4v',
        170
      ],
      [
        'gUrl',
        'f4v',
        300
      ],
      [
        'cUrl',
        'f4v',
        1.5 * y
      ],
      [
        'lowUrl',
        'f4v',
        300,
        - 1000
      ],
      [
        'highUrl',
        'f4v',
        600,
        - 1000
      ],
      [
        'm200Url',
        'mp4',
        300
      ],
      [
        'm400Url',
        'mp4',
        600
      ],
      [
        'jVid',
        'vid',
        1,
        - 1000
      ],
      [
        'bVid',
        'vid',
        170
      ],
      [
        'gVid',
        'vid',
        300
      ],
      [
        'cVid',
        'vid',
        1.5 * y
      ],
      [
        'm200Vid',
        'mvid',
        300
      ],
      [
        'm400Vid',
        'mvid',
        600
      ]], function (e) {
        return {
          key: e[0],
          videoFormat: e[1],
          minBandwidth: e[2],
          priority: e[3]
        }
      });
      t.chooseAdVideoByVideoDefinition = function (e, t, n) {
        e = e || {
        };
        var r = b[t] || 1 * y,
        o = i.map(x, function (t) {
          var o = - 1,
          a = t.key,
          s = e[a];
          return n == t.videoFormat && (l.empty(s) || (o = 2000 + (t.priority || 0), o += r >= t.minBandwidth ? t.minBandwidth : 1 / t.minBandwidth)),
          i.extend({
            score: o,
            video: s
          }, t)
        }),
        a = i.max(o, function (e) {
          return e.score
        });
        if (a.score > 0) {
          var s = 'g',
          c = a.minBandwidth;
          return c <= 170 ? s = 'b' : c >= 1.5 * y && (s = 'c'),
          a.videoDefinition = t,
          a.definitionLevel = s,
          a
        }
      },
      t.translate = i.curry(function (e, t) {
        return i.mapKeys(t, function (t, n) {
          return e[n]
        })
      }),
      t.convertBoolInQuery = i.curry(function (e, t) {
        return i.each(e, function (e) {
          var n = t[e];
          l.bool(n) && (n = n ? 1 : 0),
          t[e] = n
        })
      }),
      t.isEmptySlot = function (e) {
        if (e) {
          if (!l.empty(e.ads)) return !1;
          var t = e.emptyTracking;
          if (t && !l.empty(t.timeSlices)) return !1
        }
        return !0
      },
      t.getUaaUserId = function () {
        var e = s.get('QC005');
        return l.empty(e) && (e = s.get('QC006')),
        e || ''
      },
      t.getFirstTimeSlice = function (e) {
        var t = NaN;
        return l.string(e) && (e = e.split(',')),
        t = parseInt(i.first(e))
      },
      t.getPageUrl = function () {
        return p.parse(i.get(e, 'location.href'), !0)
      },
      t.getPathBasename = function (e) {
        return i.last(i.split(e, '/'))
      },
      t.getUrlBasename = function (e) {
        if (e = p.parse(e)) return t.getPathBasename(e.pathname)
      },
      t.ping = function (e) {
        (new Image).src = e
      },
      t.replacePlain = function (e, n, r, o) {
        if (e && n) {
          var a = e.split(n);
          if (r = i.tostr(r), e = a.join(r), o) {
            var s = encodeURIComponent(n);
            s != n && (e = t.replacePlain(e, s, r))
          }
        }
        return e
      },
      t.replaceMap = function (e, n, r) {
        return i.forIn(n, function (n, i) {
          e = t.replacePlain(e, i, n, r)
        }),
        e
      },
      t.replaceTimeMacro = function (e, n) {
        n = n || i.now();
        var r = {
          '[timestamp]': n,
          '[M_timestamp]': n,
          '[TIMESTAMP]': n,
          '[randnum]': n,
          __timeStamp__: n,
          __TS__: n
        };
        return t.replaceMap(e, r, !0)
      },
      t.getCreativeType = function (e) {
        var n = p.parse(e);
        if (n) {
          var r = n.pathname,
          o = t.getExtname(r);
          return o = i.slice(o, 1),
          f.lookup(o)
        }
      },
      t.getRenderType = function (e) {
        var n = t.getCreativeType(e);
        return t.getRenderTypeByMime(n)
      },
      t.getRenderTypeByMime = function (e) {
        return t.isMimeMatch(e, 'image') ? 'image' : t.isMimeMatch(e, 'flash') ? 'swf' : t.isMimeMatch(e, 'video') ? 'video' : t.isMimeMatch(e, 'html') ? 'html' : void 0
      },
      t.isCreativeType = function (e, n) {
        var i = t.getCreativeType(e);
        return !(!i || !t.isMimeMatch(i, n))
      },
      t.isMimeMatch = function (e, t) {
        return i.includes(e, t)
      },
      t.getExtname = function (e) {
        e += '';
        var t = e.split('.');
        return '.' + i.last(t)
      },
      t.setCursor = function (e, t) {
        t ? e.css({
          cursor: 'pointer'
        })  : e.css({
          cursor: ''
        })
      },
      t.addAdBadge = function (e, n) {
        t.addStyle(),
        n = n || {
        };
        var i = h('<span class="cupid-badge">{广告}</span>', v.resource),
        r = $(i);
        'bottom-left' == n.position ? r.css({
          bottom: 0,
          left: 0
        })  : r.css({
          top: 0,
          left: 0
        }),
        e.append(r)
      },
      t.loadImage = function (e, t) {
        var n = new Image,
        o = $(n),
        a = i.once(function () {
          o.off('load').off('error')
        });
        return new r(function (r, s) {
          o.on('load', function () {
            a(),
            r(n)
          }),
          o.on('error', function () {
            a(),
            s('error')
          }),
          t && i.delay(function () {
            a(),
            s('timeout')
          }, t),
          e = e.replace(/^http:/, ''),
          o.attr('src', e)
        })
      },
      t.getAdInfo = function (e) {
        e = e || {
        };
        var t = e.slot || {
        },
        n = t.getVal('formatType') || '',
        r = e.creative || {
        },
        o = r.creativeObject || {
        },
        a = e.matchedVideo || {
        },
        s = 'm3u8' == n ? a.video : '',
        c = [
          t.cuepointType,
          e.dspId,
          e.orderItemId,
          r.creativeId,
          r.templateType,
          o.qipuid,
          s
        ];
        return c = i.map(c, function (e) {
          return null == e && (e = ''),
          e
        }),
        c.join('||')
      },
      t.getScalingRange = function (e, t, n) {
        e = e || {
        },
        t = t || {
        },
        t = {
          width: l.number(t.width) ? t.width : 1 / 0,
          height: l.number(t.height) ? t.height : 1 / 0
        },
        n = n || {
        },
        n = {
          width: n.width || 0,
          height: n.height || 0
        };
        var i = Math.max(n.width / e.width, n.height / e.height),
        r = Math.min(t.width / e.width, t.height / e.height);
        return i > r && (i = r = NaN),
        {
          min: i,
          max: r
        }
      },
      t.getActionType = function (e) {
        return i.get(e, 'originalEvent.data.actionType')
      },
      t.isControlsAction = function (e) {
        return 'controls' == t.getActionType(e)
      },
      t.invisible = function (e) {
        $(e).css({
          visibility: 'hidden'
        })
      },
      t.visible = function (e) {
        $(e).css({
          visibility: ''
        })
      },
      t.humanizeDuration = function (e) {
        var t = e,
        n = [
        ],
        r = Math.floor(t / 60 / 60);
        r > 0 && (t -= 60 * r * 60, n.push(r));
        var o = Math.floor(t / 60);
        o > 0 && (t -= 60 * o, n.push(o));
        var a = Math.floor(t);
        return n.push(a),
        n = i.map(n, function (e) {
          return i.padStart(e, 2, '0')
        }),
        n.join(':')
      },
      t.getQiyiResponseLevel = function () {
        var t = i.get(e, 'Q.PageInfo.respInfo');
        if (t) return {
          responseLevel: t.curLayout || 0,
          config: t.cnf
        }
      },
      t.tryAppend = function (e, t) {
        var n = $(e),
        i = $(t);
        i.parent().get(0) != n.get(0) && n.append(i)
      },
      t.getPriceText = function (e) {
        return e = parseFloat(e),
        isNaN(e) ? '' : '￥' + e
      },
      t.limitText = function (e, t) {
        return e = i.trim(e),
        t && e.length > t && (e = i.slice(e, 0, t - 1) + String.fromCharCode(8230)),
        e
      },
      t.isHttps = function () {
        var t = i.get(e, 'location.protocol');
        return !!/https/i.test(t)
      },
      t.normalizeProtocol = function (e) {
        return l.string(e) && (e = e.replace(/^(http:|https:)/, '')),
        e
      },
      t.countAdsDuration = function (e) {
        return i.reduce(e, function (e, t) {
          return t.error ? e : e + t.duration
        }, 0)
      },
      t.convertMP4Url = function (e, t) {
        var n = e.split('?'),
        i = g.parse(n[1]);
        return i.pv = 0.2,
        i.random = t,
        n[0] + '?' + g.stringify(i)
      },
      t.tryShowBlackScreen = function (e) {
        a('show black screen');
        var n = o(e);
        n || setTimeout(function () {
          t.tryShowBlackScreen(e)
        }, 1000)
      },
      t.isQiyiHost = function () {
        var e = p.parse(t.getPageUrl()).hostname;
        return !!i.endsWith(e, '.iqiyi.com')
      },
      t.canUseCORS = function () {
        return !(!$.support.cors || !t.isQiyiHost())
      },
      t.isBaiduApp = function () {
        var e = new RegExp('/baidu/').test(window.location.href);
        return !(!window.__baiduApi__click || !e)
      },
      t.callBaiduClickApi = function (e) {
        a('call baidu click api');
        try {
          window.__baiduApi__click(e)
        } catch (t) {
          a('call baidu click api fail', t.message)
        }
      },
      t.parseXML = function (e) {
        var t,
        n;
        try {
          n = new DOMParser,
          t = n.parseFromString(e, 'text/xml')
        } catch (i) {
          t = void 0
        }
        return t && t.documentElement && !t.getElementsByTagName('parsererror').length || a('Invalid XML: ' + e),
        t
      },
      t.promiseAll = function (e) {
        var t = e.length;
        return 1 === t && e[0] instanceof r ? e[0] : new r(function (n, o) {
          function a(e, i) {
            s[i] = e,
            c++,
            c === t && n(s)
          }
          e instanceof Array || o('args requires an Array');
          var s = [
          ],
          c = 0;
          0 === t && n(s),
          i.each(e, function (e, t) {
            e instanceof r ? e.then(function (e) {
              a(e, t)
            }) ['catch'](function (e) {
              o(e)
            })  : a(e, t)
          })
        })
      },
      t.getAuthCookie = function () {
        return s.get('P00001') || ''
      },
      t.getCookie = function (e) {
        return s.get(e) || ''
      },
      t.setCookie = function (e, t, n) {
        return s.set(e, t, n)
      }
    }).call(t, function () {
      return this
    }(), n(8), n(26))
  },
  function (e, t, n) {
    var i,
    r;
    !function (o) {
      var a;
      if (i = o, r = 'function' == typeof i ? i.call(t, n, t, e)  : i, !(void 0 !== r && (e.exports = r)), a = !0, e.exports = o(), a = !0, !a) {
        var s = window.Cookies,
        c = window.Cookies = o();
        c.noConflict = function () {
          return window.Cookies = s,
          c
        }
      }
    }(function () {
      function e() {
        for (var e = 0, t = {
        }; e < arguments.length; e++) {
          var n = arguments[e];
          for (var i in n) t[i] = n[i]
        }
        return t
      }
      function t(n) {
        function i(t, r, o) {
          if ('undefined' != typeof document) {
            if (arguments.length > 1) {
              o = e({
                path: '/'
              }, i.defaults, o),
              o.expires = o.expires ? o.expires.toUTCString()  : '';
              try {
                var a = JSON.stringify(r);
                /^[\{\[]/.test(a) && (r = a)
              } catch (s) {
              }
              r = n.write ? n.write(r, t)  : encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent),
              t = encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent).replace(/[\(\)]/g, escape);
              var c = '';
              for (var u in o) o[u] && (c += '; ' + u, o[u] !== !0 && (c += '=' + o[u].split(';') [0]));
              return document.cookie = t + '=' + r + c
            }
            for (var d = {
            }, l = function (e) {
              return e.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent)
            }, p = document.cookie ? document.cookie.split('; ')  : [
            ], f = 0; f < p.length; f++) {
              var v = p[f].split('='),
              h = v.slice(1).join('=');
              this.json || '"' !== h.charAt(0) || (h = h.slice(1, - 1));
              try {
                var m = l(v[0]);
                if (h = (n.read || n) (h, m) || l(h), this.json) try {
                  h = JSON.parse(h)
                } catch (s) {
                }
                if (d[m] = h, t === m) break
              } catch (s) {
              }
            }
            return t ? d[t] : d
          }
        }
        return i.set = i,
        i.get = function (e) {
          return i.call(i, e)
        },
        i.getJSON = function () {
          return i.apply({
            json: !0
          }, arguments)
        },
        i.remove = function (t, n) {
          i(t, '', e(n, {
            expires: - 1
          }))
        },
        i.defaults = {
        },
        i.withConverter = t,
        i
      }
      return t(function () {
      })
    })
  },
  function (e, t, n) {
    var i = n(74);
    e.exports = t = new i(['NO_ADZONE',
    'CREATIVE_HTTP_ERROR',
    'CREATIVE_TIMEOUT',
    'BAD_CREATIVE_OBJECT',
    'UNSUPPORTED_CREATIVE_TYPE',
    'UNKNOWN_RENDER_TYPE'])
  },
  function (e, t, n) {
    (function (n) {
      function i(e) {
        var t = this;
        t.index = 0,
        r.array(e) ? n.each(e, function (e) {
          t.set(e, t.index),
          t.index++
        })  : n.forIn(e, function (e, n) {
          t.set(n, e)
        })
      }
      var r = n.is;
      e.exports = t = i;
      var o = i.prototype;
      o.set = function (e, t) {
        var n = this;
        n[e] = {
          key: e,
          value: t
        }
      }
    }).call(t, n(8))
  },
  function (e, t, n) {
    (function (n) {
      function i(e, t, n) {
        var r = this;
        return r instanceof i ? (Error.call(r, e), r.message = e, r.data = t, void (r.code = n))  : new i(e, t, n)
      }
      e.exports = t = i,
      n.inherits(i, Error)
    }).call(t, n(8))
  },
  function (e, t, n) {
    function i(e, t) {
      var n = '';
      return e = e.replace(t, function (e) {
        return n = e,
        ''
      }),
      [
        n,
        e
      ]
    }
    function r(e, t) {
      var n = [
      ],
      i = s.indexOf(e, t);
      return - 1 == i ? n[0] = e : (n[0] = e.slice(0, i), n[1] = e.slice(i + t.length)),
      n
    }
    function o(e) {
      var t = r(e, '@'),
      n = t[0],
      i = t[1];
      return i || (i = t[0], n = null),
      [
        n,
        i
      ]
    }
    var a = n(60),
    s = n(77);
    t.parse = function (e, t) {
      if ('string' != typeof e) return e;
      var n,
      c,
      u = {
      };
      u.href = e,
      n = r(e, '#'),
      c = n[0],
      n[1] && (u.hash = '#' + n[1]),
      n = i(c, /^[a-zA-Z][a-zA-Z0-9+-.]*:/),
      c = n[1],
      u.protocol = n[0].toLowerCase(),
      n = r(c, '?'),
      c = n[0];
      var d = n[1];
      if (t && (d = a.parse(d)), u.query = d, '/' != c.charAt(0) && u.schema) return u.opaque = c,
      u;
      if (s.startsWith(c, '//')) {
        c = c.slice(2),
        n = r(c, '/'),
        u.pathname = '/' + unescape(n[1] || ''),
        n = o(n[0]),
        u.auth = n[0];
        var l = n[1];
        n = r(l, ':'),
        u.hostname = n[0],
        u.port = ~~n[1]
      }
      return u
    };
    var c = 'http https ftp gopher file'.split(' ');
    t.format = function (e) {
      if (!e || 'object' != typeof e) return e;
      var t = e.protocol,
      n = [
        t
      ];
      t && !s.includes(c, t.slice(0, t.length - 1)) || n.push('//'),
      e.auth && n.push(e.auth, '@'),
      n.push(e.hostname),
      e.port && n.push(':', e.port),
      n.push(e.pathname);
      var i = e.query;
      i && ('string' != typeof i && (i = a.stringify(i)), i && n.push('?', i)),
      n.push(e.hash);
      for (var r = [
      ], o = 0; o < n.length; o++) n[o] && r.push(n[o]);
      return r.join('')
    },
    t.appendQuery = function (e, t) {
      var n = r(e, '#');
      e = n[0];
      var i = n[1];
      return s.isObject(t) && (t = a.stringify(t)),
      s.includes(e, '?') ? s.endsWith(e, '&') || s.endsWith(e, '?') || t && (t = '&' + t)  : t && (t = '?' + t),
      t && (e += t),
      i && (e += '#' + i),
      e
    }
  },
  [
    179,
    78
  ],
  [
    181,
    77,
    79,
    80,
    81,
    82,
    83,
    85,
    86
  ],
  31,
  32,
  33,
  34,
  [
    182,
    84
  ],
  36,
  37,
  38,
  function (e, t, n) {
    (function (e) {
      function n(t) {
        t = e.lower(t);
        var n = e.keys(i);
        return e.find(n, function (n) {
          return e.includes(i[n].extensions, t)
        })
      }
      var i = {
        'image/jpeg': {
          extensions: [
            'jpg',
            'jpeg',
            'jpe'
          ]
        },
        'image/gif': {
          extensions: [
            'gif'
          ]
        },
        'image/png': {
          extensions: [
            'png'
          ]
        },
        'image/webp': {
          extensions: [
            'webp'
          ]
        },
        'application/x-shockwave-flash': {
          extensions: [
            'swf'
          ]
        },
        'video/mp4': {
          extensions: [
            'mp4',
            'mp4v',
            'mpg4'
          ]
        },
        'video/x-flv': {
          extensions: [
            'flv'
          ]
        },
        'video/x-f4v': {
          extensions: [
            'f4v'
          ]
        },
        'video/webm': {
          extensions: [
            'webm'
          ]
        },
        'text/html': {
          extensions: [
            'html',
            'htm',
            'shtml'
          ]
        }
      };
      t.lookup = function (e) {
        return n(e)
      }
    }).call(t, n(8))
  },
  function (e, t, n) {
    (function (n) {
      function i() {
        this.resources = {
        };
        var e = [
        ];
        'object' == typeof navigator && (e = navigator.languages || [
          navigator.language
        ]),
        this.setLocales(e)
      }
      var r = i.prototype;
      r.is = function (e) {
        return n.includes(n.lower(this.locale), n.lower(e))
      },
      r.setResource = function (e, t) {
        this.resources[e] = t
      },
      r.setResources = function (e) {
        n.extend(this.resources, e)
      },
      r.setLocale = function (e) {
        var t = this;
        if (e) {
          t.locale = e;
          var r = i.matchLocale(n.keys(t.resources), e);
          return t.resource = t.resources[r] || {
          },
          r
        }
      },
      r.setLocales = function (e) {
        this.locales = e,
        this.setLocale(n.first(e))
      },
      r.translate = function (e) {
        return this.resource[e] || e
      },
      i.matchLocale = function (e, t) {
        e = n.map(e, function (e) {
          return {
            raw: e,
            score: i.getSimilar(e, t)
          }
        }).sort(function (e, t) {
          return e.score - t.score
        });
        var r = n.last(e) || {
        };
        return r.raw
      },
      i.getSimilar = function (e, t) {
        var r = 0;
        return e = i.parseLocale(n.lower(e)),
        t = i.parseLocale(n.lower(t)),
        e.language && e.language == t.language && (r += 50),
        e.country && e.country == t.country && (r += 40),
        e.language && e.language == t.country && (r += 20),
        t.language && t.language == e.country && (r += 20),
        r
      },
      i.parseLocale = function (e) {
        var t = e.split(/[^a-zA-Z]+/),
        n = {
          language: t[0],
          country: t[1]
        };
        return n
      };
      var o = new i;
      e.exports = t = o
    }).call(t, n(8))
  },
  function (e, t) {
    function n(e, t, n) {
      return t = t || {
      },
      n = n || {
      },
      (e + '').replace(i.interpolate, function (e, n) {
        return t[n] || ''
      })
    }
    var i = {
      interpolate: /{([\s\S]+?)}/g
    };
    e.exports = t = {
      template: n,
      templateSettings: i
    }
  },
  function (e, t, n) {
    function i(e, t) {
      var n = this;
      r.call(n),
      null == t && (t = 1 / 0),
      n.repeatCount = t,
      n.interval = e,
      n.reset()
    }
    var r = n(44),
    o = n(8);
    e.exports = t = i,
    o.inherits(i, r),
    i.interval = function (e, t, n) {
      var r = new i(t, n);
      return r.on('timer', e),
      r.start(),
      r
    },
    i.timeout = function (e, t) {
      return i.interval(e, t, 1)
    };
    var a = i.prototype;
    a.start = function () {
      var e = this;
      e.running || (e.timer = setInterval(function () {
        e.currentCount++,
        e.emit('timer'),
        e.currentCount == e.repeatCount && (e.emit('timerComplete'), e.stop())
      }, e.interval)),
      e.running = !0
    },
    a.reset = function () {
      var e = this;
      e.stop(),
      e.currentCount = 0
    },
    a.stop = function () {
      var e = this;
      e.running && (clearInterval(e.timer), e.timer = null),
      e.running = !1
    }
  },
  function (e, t, n) {
    t = e.exports = n(92) (),
    t.push([e.id,
    '.ares-tip{position:absolute;z-index:1000}.ares-tip .ares-tip-body{padding:10px;text-align:center}.ares-tip-basic{padding:5px 0}.ares-tip-basic .ares-tip-arrow{position:absolute;width:0;height:0;line-height:0;border:5px dashed #000;top:0;left:50%;margin-left:-5px;border-bottom-style:solid;border-top:none;border-left-color:transparent;border-right-color:transparent}.ares-tip-basic .ares-tip-body{background:#000;color:#fff}.ares-tip-border{padding:6px 0}.ares-tip-border .ares-tip-head{border:7px dashed transparent;border-bottom:7px solid #ddd;display:block;width:0;height:0;line-height:0;font-size:0;position:absolute;top:-7px;left:50%;margin-left:-5px}.ares-tip-border .ares-tip-head .ares-tip-arrow{position:absolute;border:6px dashed transparent;border-bottom:6px solid #fafafa;left:-6px;top:-5px}.ares-tip-border .ares-tip-body{background:#fafafa;border:1px solid #ddd}.video_ad{width:200px;height:200px;position:absolute;left:50%;margin-left:-100px;top:50%;margin-top:-100px}.video_ad-icon{width:27px;height:16px;border-radius:1px;background-color:rgba(0,0,0,.5);position:absolute;left:0;top:0;font-size:10px;color:#fff;line-height:16px;text-align:center}.video_ad-close{width:20px;height:20px;background:url("//www.iqiyipic.com/common/fix/videoplay/video_close.png") no-repeat;position:absolute;right:2px;top:2px;cursor:pointer}.video_pause{width:124px;height:42px;background-color:rgba(0,0,0,.8);padding:7px 10px 7px 46px;position:absolute;right:20px;bottom:50px}.video_pause-icon{width:67px;height:56px;background:url("//www.iqiyipic.com/common/fix/videoplay/video_pause.png") no-repeat;position:absolute;left:-28px;top:0}.video_pause p{height:21px;line-height:21px;font-size:14px;color:#fff;text-align:left}.video_pause-progress{width:0;height:56px;background-color:rgba(108,201,0,.5);position:absolute;left:0;top:0}@font-face{font-family:ds-digital;src:url(//static.qiyi.com/ext/common/pcWeb_fontFace/ds-digi-webfont.eot);src:url(//static.qiyi.com/ext/common/pcWeb_fontFace/ds-digi-webfont.eot?#iefix) format("embedded-opentype"),url(//static.qiyi.com/ext/common/pcWeb_fontFace/ds-digi-webfont.woff) format("woff"),url(//static.qiyi.com/ext/common/pcWeb_fontFace/ds-digi-webfont.ttf) format("truetype"),url(//static.qiyi.com/ext/common/pcWeb_fontFace/ds-digi-webfont.svg#iconfont) format("svg")}.h5-cupid.public-time{position:absolute;z-index:100;background:rgba(26,26,26,.7);border-radius:20px;width:auto!important;text-align:center;right:10px;top:10px;padding:0 10px;height:auto!important;line-height:26px}.h5-cupid.public-time .cd-time{line-height:1.5;font-family:ds-digital!important;display:inline-block;position:relative;color:#fff;text-align:right;font-size:17px;width:auto;top:auto!important}.h5-cupid.public-time a{position:relative;top:-1px}.h5-cupid.public-time .public-vip{margin-left:8px;color:#fff;font-size:14px;display:inline-block;height:17px;line-height:17px}.h5-cupid.public-time .public-vip:hover,.h5-cupid.public-time .public-vip:hover .vip-marketing-doc{color:#57a900}.h5-cupid.public-time .public-vip span{font-size:12px}.h5-cupid.public-time .vip-marketing-doc-wrapper{display:inline-block;white-space:nowrap;-webkit-transition:width 2s;-moz-transition:width 2s;-ms-transition:width 2s;-o-transition:width 2s;transition:width 2s;overflow:hidden;vertical-align:text-bottom}.h5-cupid.public-time .vip-marketing-doc-wrapper .vip-marketing-doc{display:inline-block;font-size:12px;color:#c5955d;white-space:nowrap}.ad-theme-default.public-time .vip-marketing-doc-wrapper{height:14px;line-height:14px}.ad-theme-h5-new.h5-cupid.public-time{padding:0 11px;height:auto!important;line-height:30px;z-index:1000;background:rgba(30,30,30,.5);border-radius:20px;width:auto!important;text-align:center}.ad-theme-h5-new.h5-cupid.public-time .cd-time{width:auto;font-family:auto!important;color:#1cbe20;font-size:13px;top:auto!important}.ad-theme-h5-new.h5-cupid.public-time .public-vip{margin-left:0;font-size:12px}.ad-theme-h5-new.h5-cupid.public-time .public-vip .public-vip-doc{color:#fff;font-size:12px;margin-left:0;vertical-align:text-bottom}.ad-theme-h5-new.h5-cupid.public-time a{position:relative;top:1px}.tp_vip-show{width:623px;height:56px;line-height:56px;color:#c89e6c;font-size:18px;position:absolute;left:0;top:0;background:url("//www.iqiyipic.com/common/fix/view-tp/command.png") no-repeat;overflow:hidden;_background:0;_filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true,sizingMethod=scale,src="//www.iqiyipic.com/common/fix/view-tp/command.png")}.tp_vip-show .tp_vip-gif{float:left;width:67px;height:56px;background:url("//www.iqiyipic.com/common/fix/view-tp/vip-tp.gif") no-repeat}.tp_vip-close{position:absolute;right:10px;top:15px;width:169px;height:30px;border-radius:2px;background-color:#434343}.tp_close-time{float:left;width:50px;border-right:1px solid #131313;text-align:center;color:#c89e6c;font:22px/30px ds-digital!important}.tp_close-txt{float:left}.tp_close-txt a{display:inline-block;width:117px;line-height:30px;color:#fff;font-size:14px;text-align:center;border-left:1px solid #3c3c3c}.tp_close-txt a:hover{color:#c89e6c}.tp_vip-time{top:28px;right:10px;width:50px;height:30px;text-align:center;color:#bbb;font:22px/30px ds-digital!important}.tp_vip-nointerest,.tp_vip-time{position:absolute;background-color:#333;background:rgba(51,51,51,.9);filter:alpha(opacity = 90);border-radius:2px}.tp_vip-nointerest{top:15px;right:75px;width:151px;height:55px}.tp_nointerest-top{color:#fff;text-align:center;line-height:30px;font-size:14px}.tp_nointerest-btm{color:#999;font-size:12px;line-height:20px;text-align:center;float:left}.tp_nointerest-btm span{float:left;width:40px;height:20px;color:#5aa700;font:25px/20px ds-digital!important}.tp_vip-detial{position:absolute;bottom:10px;right:10px;width:112px;height:35px;background-color:#333;background:rgba(51,51,51,.5);filter:alpha(opacity = 50);border-radius:2px}.tp_vip-detial a{display:inline-block;width:103px;height:35px;line-height:35px;padding-left:9px;color:#fff;font-size:16px}.tp_vip-detial span{position:absolute;right:5px;top:6px;width:23px;height:23px;background:url("//www.iqiyipic.com/common/fix/view-tp/detial.png") no-repeat;_background:0;_filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true,sizingMethod=scale,src="//www.iqiyipic.com/common/fix/view-tp/detial.png")}.tp_vip-detial a:hover,.tp_vip-free a:hover{color:#5aa700}.tp_vip-detial a:hover span{background:url("//www.iqiyipic.com/common/fix/view-tp/detialhover.png") no-repeat;_background:0;_filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true,sizingMethod=scale,src="//www.iqiyipic.com/common/fix/view-tp/detialhover.png")}.tp_vip-time1{top:15px}.tp_vip-free{position:absolute;top:15px;right:75px;text-align:center;background-color:#333;background:rgba(51,51,51,.9);filter:alpha(opacity = 90);border-radius:2px}.tp_vip-free a{display:inline-block;width:131px;height:30px;line-height:30px;color:#999;font-size:14px}.tp_disable-skip{position:absolute;right:10px;top:15px;height:30px;border-radius:2px}.tp_disable-skip-txt{float:left;padding:0 10px;background-color:#434343;border-radius:2px}.tp_disable-skip-txt a{display:inline-block;line-height:30px;color:#999;font-size:14px;text-align:center}.tp_disable-skip-time{float:left;margin-left:10px;width:35px;border-radius:2px;text-align:center;color:#999;background-color:#434343;font:16px/30px ds-digital!important}.tp_disable-skip-txt .tp_disable-skip-detail{width:16px;height:16px;line-height:16px;margin-left:5px;color:grey;border:1px solid;border-color:grey;border-radius:8px}.tp_disable-skip-detail:hover{color:#999;border-color:#999}.ares-tip{width:422px}.app-wrapper{border:1px solid #505050;display:block;width:278px;float:right;background-color:#444}.app-box{height:39px;border-radius:5px;margin:6px 10px 6px 11px}.app-wrapper img{width:38px;height:38px;border-radius:8px;float:left}.app-info{margin-left:48px;margin-right:85px}.app-title{font-size:15px;height:20px;color:#ddd;font-weight:600}.app-description,.app-title{line-height:20px;overflow:hidden}.app-description{font-size:12px;height:17px;color:#999}.app-btn{margin-top:6px;float:right;border-radius:3px;border-bottom:2px solid #517b00;box-shadow:1px 2px 8px 1px rgba(0,0,0,.25),1px 1px 4px hsla(0,0%,100%,.1);display:inline-block;line-height:24px;height:25px;width:72px;font-size:14px;text-align:center}.app-popup a,.app-wrapper a{color:#699f00}.app-highlight{overflow:hidden;text-overflow:ellipsis;color:#699f00}.app-popup .reverse,.app-wrapper .reverse{background-color:#699f00;color:#fff}.app-popup{line-height:30px;text-align:left;font-size:15px;margin:7px 0 7px 20px;width:390px}.app-popup:after,.app-popup div:after{clear:both;display:block;content:""}.app-section{width:180px}.app-right{margin-left:180px}.app-small{font-size:12px;color:#777;line-height:12px}.app-qrcode{padding:10px 20px 0;box-shadow:1px 2px 8px 1px hsla(0,0%,49%,.25),1px 1px 4px hsla(0,0%,100%,.1);text-align:center;float:left}.app-download{padding:0 15px;text-align:center;border-radius:3px;font-size:17px;font-weight:700;display:inline-block;line-height:29px}.app-popup-text1{font-weight:700;color:#666}.app-download-box{padding-bottom:14px}.app-mb10{margin-bottom:10px}.theatre-transition{transition:all .7s cubic-bezier(.46,.98,.54,1.1)}.theatre-label{background:#8ac024;width:84px;color:#fff;font-size:12px;text-align:center;line-height:22px;border-radius:4px 4px 0 0}.theatre-container{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:10px 1px;width:100%;border:1px solid #8ac024;position:relative;overflow:hidden}.theatre-container img{display:block}.theatre-carousel-wrapper{height:140px;overflow:hidden;margin:0 auto}.theatre-carousel-box{width:5000px;height:170px;margin-left:-10px;display:inline-block;line-height:0}.theatre-hover .theatre-banner{opacity:1}.theatre-item{width:170px;overflow:hidden;transition:all .7s cubic-bezier(.46,.98,.54,1.1);float:left;margin:0 10px;background-color:#fff;cursor:pointer}.theatre-no-width{width:0;margin:0}.theatre-container .theatre-hover{width:930px;z-index:100}.theatre-expand{width:930px}.theatre-left{float:left;width:170px}.theatre-left img{width:100%}.theatre-poster{height:100px}.theatre-logo{height:40px}.theatre-right{float:left;margin-left:20px}.theatre-banner{opacity:0;transition:all .7s cubic-bezier(.46,.98,.54,1.1);width:740px}.theatre-arrow{width:15px;height:26px;cursor:pointer;text-indent:-999px;position:absolute;top:50%;margin-top:-13px}.theatre-arrow-left{left:4px;background:url("//static.iqiyi.com/common/20150527/arrow-left.png") no-repeat 50%;_filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true,sizingMethod=scale,src="//static.iqiyi.com/common/20150527/arrow-left.png");_background:0}.theatre-arrow-left:hover{background:url("//static.iqiyi.com/common/20150527/arrow-left-hover.png") no-repeat 50%;_filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true,sizingMethod=scale,src="//static.iqiyi.com/common/20150527/arrow-left-hover.png");_background:0}.theatre-arrow-right{right:4px;background:url("//static.iqiyi.com/common/20150527/arrow-right.png") no-repeat 50%;_filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true,sizingMethod=scale,src="//static.iqiyi.com/common/20150527/arrow-right.png");_background:0}.theatre-arrow-right:hover{background:url("//static.iqiyi.com/common/20150527/arrow-right-hover.png") no-repeat 50%;_filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true,sizingMethod=scale,src="//static.iqiyi.com/common/20150527/arrow-right-hover.png");_background:0}.ad-arrow{display:inline-block;width:6px;height:6px;background:transparent;border-top:1px solid #fff;border-right:1px solid #fff;-webkit-transform:rotate(45deg);transform:rotate(45deg);margin:0 2px;vertical-align:1px}.cupid-learn-more{display:block;bottom:50px;right:10px;width:70px;line-height:2.2;background-color:rgba(26,26,26,.7)}.ad-theme-h5-new.cupid-learn-more,.cupid-learn-more{position:absolute;font-size:12px;border-radius:15px;text-align:center;color:#fff;z-index:1000}.ad-theme-h5-new.cupid-learn-more{bottom:10px;right:50px;width:80px;line-height:2.5;background-color:rgba(32,188,34,.8)}.ad-vip-sports .brand-wrapper{position:absolute;left:10px;top:10px;padding:0 11px;height:auto!important;line-height:30px;z-index:1000;font-size:12px;background:rgba(30,30,30,.5);border-radius:20px;width:auto!important;text-align:center}.ad-vip-sports .brand-wrapper .vip-logo{height:18px;margin-right:5px;margin-top:5px;display:inline}.ad-vip-sports .public-time{position:absolute;right:10px;top:10px;padding:0 11px;height:auto!important;line-height:30px;z-index:1000;background:rgba(30,30,30,.5);border-radius:20px;width:auto!important;text-align:center}.ad-vip-sports .public-time span{width:auto;font-family:auto!important;color:#fff;font-size:12px;top:auto!important}.ad-vip-sports .public-time .public-vip{margin-left:0;font-size:12px;color:#fff}.ad-vip-sports .public-time .cd-time{color:#1cbe20}.ad-vip-sports .public-time a{position:relative;top:auto}.cupid-badge{width:27px;height:16px;border-radius:1px;background-color:rgba(0,0,0,.5);position:absolute;font-size:10px;color:#fff;line-height:16px;text-align:center}.cupid-close{width:20px;height:20px;background:url("//www.iqiyipic.com/common/fix/videoplay/video_close.png") no-repeat;position:absolute;right:2px;top:2px;cursor:pointer}.cupid-summary-panel{font-family:monospace\\, consolas;padding:10px}.cupid-summary-panel ul{padding-left:40px}',
    '']);
  },
  function (e, t) {
    e.exports = function () {
      var e = [
      ];
      return e.toString = function () {
        for (var e = [
        ], t = 0; t < this.length; t++) {
          var n = this[t];
          n[2] ? e.push('@media ' + n[2] + '{' + n[1] + '}')  : e.push(n[1])
        }
        return e.join('')
      },
      e.i = function (t, n) {
        'string' == typeof t && (t = [
          [null,
          t,
          '']
        ]);
        for (var i = {
        }, r = 0; r < this.length; r++) {
          var o = this[r][0];
          'number' == typeof o && (i[o] = !0)
        }
        for (r = 0; r < t.length; r++) {
          var a = t[r];
          'number' == typeof a[0] && i[a[0]] || (n && !a[2] ? a[2] = n : n && (a[2] = '(' + a[2] + ') and (' + n + ')'), e.push(a))
        }
      },
      e
    }
  },
  function (e, t, n) {
    function i(e, t) {
      var n = {
      };
      return e && t && o.forIn(t, function (t, s) {
        var c = e[s];
        if (null != c) if (a.object(c)) {
          var u = c.type || r(t),
          d = c.name;
          'object' == u ? n[d] = i(c.child, t)  : 'array' == u && (n[d] = o.map(t, function (e) {
            return i(c.child, e)
          }))
        } else n[c] = t
      }),
      n
    }
    function r(e) {
      return a._class(e)
    }
    var o = n(94),
    a = o.is;
    e.exports = t = o.curry(i)
  },
  [
    179,
    95
  ],
  [
    181,
    94,
    96,
    97,
    98,
    99,
    100,
    102,
    103
  ],
  31,
  32,
  33,
  34,
  [
    182,
    101
  ],
  36,
  37,
  38,
  function (e, t) {
    function n(e, t) {
      var n = (65535 & e) + (65535 & t),
      i = (e >> 16) + (t >> 16) + (n >> 16);
      return i << 16 | 65535 & n
    }
    function i(e, t) {
      return e << t | e >>> 32 - t
    }
    function r(e, t, r, o, a, s) {
      return n(i(n(n(t, e), n(o, s)), a), r)
    }
    function o(e, t, n, i, o, a, s) {
      return r(t & n | ~t & i, e, t, o, a, s)
    }
    function a(e, t, n, i, o, a, s) {
      return r(t & i | n & ~i, e, t, o, a, s)
    }
    function s(e, t, n, i, o, a, s) {
      return r(t ^ n ^ i, e, t, o, a, s)
    }
    function c(e, t, n, i, o, a, s) {
      return r(n ^ (t | ~i), e, t, o, a, s)
    }
    function u(e, t) {
      e[t >> 5] |= 128 << t % 32,
      e[(t + 64 >>> 9 << 4) + 14] = t;
      var i,
      r,
      u,
      d,
      l,
      p = 1732584193,
      f = - 271733879,
      v = - 1732584194,
      h = 271733878;
      for (i = 0; i < e.length; i += 16) r = p,
      u = f,
      d = v,
      l = h,
      p = o(p, f, v, h, e[i], 7, - 680876936),
      h = o(h, p, f, v, e[i + 1], 12, - 389564586),
      v = o(v, h, p, f, e[i + 2], 17, 606105819),
      f = o(f, v, h, p, e[i + 3], 22, - 1044525330),
      p = o(p, f, v, h, e[i + 4], 7, - 176418897),
      h = o(h, p, f, v, e[i + 5], 12, 1200080426),
      v = o(v, h, p, f, e[i + 6], 17, - 1473231341),
      f = o(f, v, h, p, e[i + 7], 22, - 45705983),
      p = o(p, f, v, h, e[i + 8], 7, 1770035416),
      h = o(h, p, f, v, e[i + 9], 12, - 1958414417),
      v = o(v, h, p, f, e[i + 10], 17, - 42063),
      f = o(f, v, h, p, e[i + 11], 22, - 1990404162),
      p = o(p, f, v, h, e[i + 12], 7, 1804603682),
      h = o(h, p, f, v, e[i + 13], 12, - 40341101),
      v = o(v, h, p, f, e[i + 14], 17, - 1502002290),
      f = o(f, v, h, p, e[i + 15], 22, 1236535329),
      p = a(p, f, v, h, e[i + 1], 5, - 165796510),
      h = a(h, p, f, v, e[i + 6], 9, - 1069501632),
      v = a(v, h, p, f, e[i + 11], 14, 643717713),
      f = a(f, v, h, p, e[i], 20, - 373897302),
      p = a(p, f, v, h, e[i + 5], 5, - 701558691),
      h = a(h, p, f, v, e[i + 10], 9, 38016083),
      v = a(v, h, p, f, e[i + 15], 14, - 660478335),
      f = a(f, v, h, p, e[i + 4], 20, - 405537848),
      p = a(p, f, v, h, e[i + 9], 5, 568446438),
      h = a(h, p, f, v, e[i + 14], 9, - 1019803690),
      v = a(v, h, p, f, e[i + 3], 14, - 187363961),
      f = a(f, v, h, p, e[i + 8], 20, 1163531501),
      p = a(p, f, v, h, e[i + 13], 5, - 1444681467),
      h = a(h, p, f, v, e[i + 2], 9, - 51403784),
      v = a(v, h, p, f, e[i + 7], 14, 1735328473),
      f = a(f, v, h, p, e[i + 12], 20, - 1926607734),
      p = s(p, f, v, h, e[i + 5], 4, - 378558),
      h = s(h, p, f, v, e[i + 8], 11, - 2022574463),
      v = s(v, h, p, f, e[i + 11], 16, 1839030562),
      f = s(f, v, h, p, e[i + 14], 23, - 35309556),
      p = s(p, f, v, h, e[i + 1], 4, - 1530992060),
      h = s(h, p, f, v, e[i + 4], 11, 1272893353),
      v = s(v, h, p, f, e[i + 7], 16, - 155497632),
      f = s(f, v, h, p, e[i + 10], 23, - 1094730640),
      p = s(p, f, v, h, e[i + 13], 4, 681279174),
      h = s(h, p, f, v, e[i], 11, - 358537222),
      v = s(v, h, p, f, e[i + 3], 16, - 722521979),
      f = s(f, v, h, p, e[i + 6], 23, 76029189),
      p = s(p, f, v, h, e[i + 9], 4, - 640364487),
      h = s(h, p, f, v, e[i + 12], 11, - 421815835),
      v = s(v, h, p, f, e[i + 15], 16, 530742520),
      f = s(f, v, h, p, e[i + 2], 23, - 995338651),
      p = c(p, f, v, h, e[i], 6, - 198630844),
      h = c(h, p, f, v, e[i + 7], 10, 1126891415),
      v = c(v, h, p, f, e[i + 14], 15, - 1416354905),
      f = c(f, v, h, p, e[i + 5], 21, - 57434055),
      p = c(p, f, v, h, e[i + 12], 6, 1700485571),
      h = c(h, p, f, v, e[i + 3], 10, - 1894986606),
      v = c(v, h, p, f, e[i + 10], 15, - 1051523),
      f = c(f, v, h, p, e[i + 1], 21, - 2054922799),
      p = c(p, f, v, h, e[i + 8], 6, 1873313359),
      h = c(h, p, f, v, e[i + 15], 10, - 30611744),
      v = c(v, h, p, f, e[i + 6], 15, - 1560198380),
      f = c(f, v, h, p, e[i + 13], 21, 1309151649),
      p = c(p, f, v, h, e[i + 4], 6, - 145523070),
      h = c(h, p, f, v, e[i + 11], 10, - 1120210379),
      v = c(v, h, p, f, e[i + 2], 15, 718787259),
      f = c(f, v, h, p, e[i + 9], 21, - 343485551),
      p = n(p, r),
      f = n(f, u),
      v = n(v, d),
      h = n(h, l);
      return [p,
      f,
      v,
      h]
    }
    function d(e) {
      var t,
      n = '';
      for (t = 0; t < 32 * e.length; t += 8) n += String.fromCharCode(e[t >> 5] >>> t % 32 & 255);
      return n
    }
    function l(e) {
      var t,
      n = [
      ];
      for (n[(e.length >> 2) - 1] = void 0, t = 0; t < n.length; t += 1) n[t] = 0;
      for (t = 0; t < 8 * e.length; t += 8) n[t >> 5] |= (255 & e.charCodeAt(t / 8)) << t % 32;
      return n
    }
    function p(e) {
      return d(u(l(e), 8 * e.length))
    }
    function f(e, t) {
      var n,
      i,
      r = l(e),
      o = [
      ],
      a = [
      ];
      for (o[15] = a[15] = void 0, r.length > 16 && (r = u(r, 8 * e.length)), n = 0; n < 16; n += 1) o[n] = 909522486 ^ r[n],
      a[n] = 1549556828 ^ r[n];
      return i = u(o.concat(l(t)), 512 + 8 * t.length),
      d(u(a.concat(i), 640))
    }
    function v(e) {
      var t,
      n,
      i = '0123456789abcdef',
      r = '';
      for (n = 0; n < e.length; n += 1) t = e.charCodeAt(n),
      r += i.charAt(t >>> 4 & 15) + i.charAt(15 & t);
      return r
    }
    function h(e) {
      return unescape(encodeURIComponent(e))
    }
    function m(e) {
      return p(h(e))
    }
    function g(e) {
      return v(m(e))
    }
    function y(e, t) {
      return f(h(e), h(t))
    }
    function b(e, t) {
      return v(y(e, t))
    }
    function x(e, t, n) {
      return t ? n ? y(t, e)  : b(t, e)  : n ? m(e)  : g(e)
    }
    e.exports = x
  },
  function (e, t, n) {
    (function (t, i) {
      function r(e, t) {
        var n = this;
        n.setParent(t),
        c.call(n, a),
        n.init(e),
        n.load()
      }
      function o(e, n) {
        var i = e.getVal('unsupportedCuepointTypes');
        return t.filter(n, function (e) {
          return !t.includes(i, e.cuepointType)
        })
      }
      var a = 'request',
      s = n(19) (a),
      c = n(43),
      u = n(106),
      d = n(136),
      l = n(59),
      p = n(104),
      f = n(71),
      v = n(57),
      h = t.is,
      m = 'requestId adBreaks requestIndex from'.split(' ');
      e.exports = r,
      t.inherits(r, c);
      var g = r.prototype;
      g.getSummary = function () {
        var e = this;
        return 'request: ' + v.cuepoint2name[e.getCuepointType()]
      },
      g.isFirstRequest = function () {
        var e = this;
        return 0 == e.index()
      },
      g.generateRequestId = function () {
        var e = this.view.videoEventId,
        n = [
          e,
          t.now()
        ];
        return p(n.join(''))
      },
      g.init = function (e) {
        s('init');
        var n = this;
        e = e || {
        },
        n.view = n.parent;
        var i = t.only(e, m);
        t.extend(n, i);
        var r = e.requestId || n.generateRequestId();
        return n.id = n.requestId = r,
        n.bindEvent(),
        n
      },
      g.getRequestName = function () {
        var e = this,
        t = e.getCuepointType();
        return v.cuepoint2name[t]
      },
      g.getRollName = function () {
        var e = this;
        if (e.isRoll()) return e.getRequestName()
      },
      g.isPlayable = function () {
        var e = this;
        return t.some(e.children, function (e) {
          return e.isPlayable()
        })
      },
      g.getCuepointType = function () {
        var e = this,
        n = t.first(e.cuepointList);
        if (n) return n.cuepointType
      },
      g.load = function () {
        var e = this,
        n = e.view,
        r = n.sdk;
        return e.memory.load = e.memory.load || new i(function (a, c) {
          e.setState('loading');
          var p = t.slice(e.adBreaks);
          e.adBreak = t.first(e.adBreaks);
          var m = {
          };
          e.isFirstRequest() && (m.needPolicy = !0, e.view.isVideoView() ? (p.push({
            cuepointType: 1
          }), r.isH5VideoMode() && p.push({
            cuepointType: 0
          }))  : p.push({
            cuepointType: 0
          }));
          var g = o(e, p);
          if (!m.needPolicy && h.empty(g)) return s('empty request'),
          void e.setState('ended');
          e.cuepointList = p;
          var y = e.show = new u;
          y.init(e).setCuepointList(g).addEncryptionParam(m).request(function (o, u) {
            if (o) {
              e.setState('ended');
              var p = o,
              m = r.getUser().isVIP;
              if (e.isPreroll() && !m) {
                var g = p.errorCode;
                if (t.includes([301,
                304,
                305], g)) {
                  var y = 'preroll ad request blocked';
                  s(y),
                  /pad/i.test(r.deviceType) ? (s('ipad show error notify h5 no ad'), n.notifyH5Player(v.event.EVENT_CUPID_NO_AD))  : r.isH5VideoMode() ? f.tryShowBlackScreen('adError')  : r.isPCWVideoMode() && r.emit('error', {
                    subtype: 'adblock',
                    message: y
                  }),
                  l.send(e, {
                    type: 'statistics',
                    subtype: 'adblock',
                    errorCode: g,
                    errorMessage: p.errorMessage
                  })
                }
              }
              c(o)
            } else e.runIfNotEnded(function () {
              e.result = u = t.extend({
              }, u),
              u.slots = t.map(u.slots, function (t) {
                return new d(t, e)
              }),
              n.schedule && (h.empty(u.policySlots) || n.schedule.setPolicySlots(u.policySlots), n.schedule.setAutoChooseMidroll(u.midrollPoints));
              var r = e.findRollSlot(),
              o = e.getRollName();
              if (o) {
                if ('preroll' == o) {
                  var a = u.videoInfo;
                  t.extend(n, a),
                  e.setPrerollOrderItemIds()
                }
                r && r.hasAds() ? (n.sdk.isPCWVideoMode() ? r.tryLoadToVideo().then(function () {
                  n.emit('startLoadVideo', {
                    reason: 'load complete',
                    rollType: o
                  })
                }, function () {
                  n.emit('startLoadVideo', {
                    reason: 'load fail',
                    rollType: o
                  })
                })  : n.sdk.isH5VideoMode() && 'preroll' == o && r.tryLoadH5Roll().then(function (e) {
                  if (e) {
                    var o = t.first(e.ads);
                    if (o) return r.bindH5VideoEvent(),
                    void n.notifyH5Player(v.event.EVENT_CUPID_READY, e)
                  }
                  return i.reject('no-ad')
                }).caught(function (e) {
                  s('load h5 roll fail', e),
                  n.notifyH5Player(v.event.EVENT_CUPID_NO_AD)
                }), r.isMidroll() && (n.schedule.bindVideoTimeEvent(r.startTime - 5, function () {
                  n.sdk.video.startMidrollTip()
                }), e.view.lastMidrollRequestTime = r.startTime))  : n.sdk.isPCWVideoMode() ? (n.emit('startLoadVideo', {
                  reason: 'noad',
                  rollType: o
                }), n.startVideo(o))  : n.sdk.isH5VideoMode() && 'preroll' == o && n.notifyH5Player(v.event.EVENT_CUPID_NO_AD)
              }
            }),
            a()
          })
        }),
        e.memory.load
      },
      g.setPrerollOrderItemIds = function () {
        var e = this,
        n = [
        ],
        i = t.get(e, 'result.slots');
        t.each(i, function (e) {
          e.isPreroll() && t.each(e.ads, function (e) {
            n.push(e.orderItemId)
          })
        }),
        e.view.prerollOrderItemIds = n.join(',')
      },
      g.abort = function () {
        var e = this;
        e.show && e.show.abort(),
        t.map(e.children, function (e) {
          e.abort()
        }),
        e.setState('ended')
      },
      g.bindEvent = function () {
        var e = this;
        e.on('statechange', function (t) {
          if (s('state change', t), 'ended' == t && (e.emit('inventory'), e.isRoll() && (e.view.ended || e.view.startVideo(e.getRollName())), !e.isPlayable() && e.isToolbar())) {
            s('toolbar is empty and unbind mousemove');
            var n = e.view.sdk;
            n.unbindMouseMove()
          }
        }),
        e.once('inventory', function () {
          if (e.result && e.result.inventory) {
            s('send inventory');
            var n = t.only(e.result.inventory, 'originalInventory rawInventory deliveredInventory forbiddenInventory');
            l.send(e, t.extend({
              type: 'inventory',
              subtype: 'success'
            }, n))
          } else s('no data to send inventory')
        })
      },
      g.trySendInventoryDirectly = function (e) {
        var n = this;
        n.inventoryOnVideoAdImpression = !1;
        var i = t.map(t.keys(t.reduce(e, function (e, t) {
          return f.isEmptySlot(t) || (e[t.cuepointType] = !0),
          e
        }, {
        })), function (e) {
          return parseInt(e)
        }),
        r = !0,
        o = !1;
        h.empty(i) ? o = !0 : h.empty(t.without(i, 0, 8)) ? o = !0 : r && t.some(i, function (e) {
          return f.isRoll(e)
        }) && (n.inventoryOnVideoAdImpression = !0),
        s('inventory on video ad impression', n.inventoryOnVideoAdImpression),
        o && n.emit('inventory')
      },
      g.replay = function () {
        var e = this;
        e.reset(),
        e.play()
      },
      g.tryReplay = function () {
        var e = this;
        'ended' == e.state && e.replay()
      },
      g.reset = function () {
        var e = this;
        s('reset'),
        e.off(),
        e.bindEvent(),
        e.setState('idle'),
        t.each(e.children, function (e) {
          e.reset()
        })
      },
      g.play = function () {
        var e = this;
        'playing' != e.state && e.runIfNotEnded(function () {
          e.load().then(function () {
            return e._play()
          }).caught(function (e) {
            s('error', e)
          })
        })
      },
      g.findRollSlot = function () {
        var e = t.get(this, 'result.slots'),
        n = t.find(e, function (e) {
          return f.isRoll(e.cuepointType)
        });
        return n
      },
      g._play = function () {
        var e = this,
        n = e.result;
        if (n) {
          var i = t.reduce(e.cuepointList, function (e, i) {
            var r = i.cuepointType;
            return e[r] = t.filter(n.slots, function (e) {
              return e.cuepointType == r
            }),
            e
          }, {
          });
          this.trySendInventoryDirectly(n.slots);
          var r = !1;
          t.forIn(i, function (n, i) {
            if (i = parseInt(i), f.isRoll(i) || t.includes([4,
            6,
            7,
            9,
            10,
            11], i)) {
              var o = n[0];
              o ? (e.setState('playing'), o.play(), r = !0)  : e.setState('ended')
            } else t.includes([v.viewPoint], i) ? e.initViewPoint(n)  : i == v.page ? t.each(n, function (e) {
              e.play()
            })  : s('unsupport cuepoint type', i)
          })
        }
        r || e.setState('ended')
      },
      g.initViewPoint = function (e) {
        var n = this,
        i = n.view.schedule;
        i && f.isPageSupportViewPoint() ? f.waitPageJobDone(function () {
          s('js job done');
          var r = [
          ];
          if (t.each(e, function (e) {
            t.each(e.ads, function (e) {
              r.push(e)
            })
          }), !h.empty(r)) {
            var o = t.map(r, function (e) {
              var i = e.slot;
              n.view.viewPointAdZoneId = i.adZoneId;
              var r = e.creative.creativeObject;
              return e.exportAdObject = t.extend({
                startTime: i.startTime,
                badge: e.badge,
                adUid: e.id,
                source: 1,
                orderItemId: e.orderItemId,
                dspIcon: e.icon
              }, r),
              {
                ad: e,
                startTime: i.startTime,
                adZoneId: i.adZoneId,
                cuepointType: i.cuepointType
              }
            }),
            a = t.map(r, function (e) {
              return e.exportAdObject
            });
            f.notifyPage('initAds', {
              ads: a,
              templateType: 'viewPoint',
              adZoneId: n.view.viewPointAdZoneId,
              videoEventId: n.getVal('videoEventId')
            });
            var c = t.uniqBy(a, function (e) {
              return e.startTime
            });
            n.view.notifyPlayer({
              viewPoints: c
            }),
            s('init viewpoint', o),
            i.addAdBreaks(o)
          }
        })  : s('no schedule or page not support viewpoint')
      }
    }).call(t, n(8), n(26))
  },
  function (e, t, n) {
    (function (t, i) {
      function r() {
        var e = this;
        e.requestCount = 0
      }
      function o(e) {
        try {
          g.string(e) || (e = JSON.stringify(e));
          var t = new Blob([e], {
            type: 'application/json'
          }),
          n = URL.createObjectURL(t);
          return n
        } catch (i) {
        }
      }
      var a = n(76),
      s = n(60),
      c = n(93),
      u = n(107),
      d = n(71),
      l = n(20).getLogger('show'),
      p = n(119),
      f = n(120),
      v = n(59),
      h = n(132),
      m = n(134),
      g = t.is;
      e.exports = r;
      var y = {
        adPlayerId: 'a',
        uaaUserId: 'u',
        cupidUserId: 'i',
        passportId: 'p',
        requestId: 's',
        timestamp: 'h',
        encryption: {
          name: 'e',
          type: 'object',
          child: {
            episodeId: 'b',
            albumId: 'l',
            channelId: 'k',
            cuepointList: {
              name: 'q',
              type: 'array',
              child: {
                cuepointType: 'ct',
                adZoneId: 'zi',
                startTime: 'st',
                sequenceId: 'si',
                requestAdDuration: 'rd',
                keyword: 'kw',
                limit: 'lm',
                skip: 'sk'
              }
            },
            videoDuration: 'd',
            referrer: 'r',
            offline: 'o',
            mobileKey: 't',
            userAgent: 'm',
            continuingVideoPlayedCount: 'n',
            continuingVideoPlayedDuration: 'y',
            continuingAdPlayedDuration: 'w',
            isVIP: 'v',
            passportCookie: 'pc',
            network: 'nw',
            needPolicy: 'po',
            encryptionVersion: 'pv',
            isPreload: 'pr',
            checkCode: 'cc',
            checkCodeMethodVersion: 'mv',
            url: 'ul',
            videoPlayedDurationInDay: 'cd',
            adPlayedDurationInDay: 'ca',
            midrollPointsPlayedInView: 'nm',
            lastRollCompleteInterval: 'in',
            lastMidrollRequestTime: 'lm',
            clientVersion: 'cv',
            sdkVersion: 'sv',
            supportIQiyiTracking: 'gt',
            supportEmptyTracking: 'ea',
            searchQuery: 'sq',
            prerollOrderItemIds: 'poi',
            pauseRequestTimes: 'pt',
            playSource: 'ps',
            requestIndex: 'rix',
            videoEventId: 'veid',
            upd: 'upd',
            ptid: 'ptid'
          }
        }
      };
      r.request = function (e, t) {
        var n = new r;
        n.init(e).setCuepointList(t).request()
      },
      r.maxRequestCount = 2,
      r.stringifyCuepointList = function (e) {
        return t.map(e, function (e) {
          return s.stringify(e, ',', ':')
        }).join(';')
      },
      r.compressRequestKey = c(y);
      var b = r.prototype;
      b.init = function (e) {
        var t = this;
        return t.context = e,
        t.param = {
        },
        t.encryptionParam = t.param.encryption = {
        },
        t
      },
      b.addParam = function (e) {
        var n = this;
        return t.extend(n.param, e),
        n
      },
      b.addEncryptionParam = function (e) {
        var n = this;
        return t.extend(n.encryptionParam, e),
        n
      },
      b.setContextParam = function () {
        var e = this,
        n = e.context,
        r = n.view,
        o = r.sdk;
        o.updateUser();
        var s = t.extend({
          timestamp: t.now()
        }, n.getMultiVals('adPlayerId uaaUserId passportId requestId'.split(' ')));
        e.addParam(s);
        var c = a.parse(t.get(i, 'document.referrer') || '') || {
        },
        u = t.extend({
          referrer: c.hostname,
          url: t.get(i, 'location.href'),
          ptid: o.ptid || ''
        }, n.getMultiVals('episodeId albumId videoDuration isVIP encryptionVersion isPreload clientVersion sdkVersion supportIQiyiTracking searchQuery passportCookie supportEmptyTracking requestIndex videoEventId pauseRequestTimes prerollOrderItemIds playSource upd'.split(' ')));
        if (e.addEncryptionParam(u), r.isVideoView() && o.isPCWVideoMode()) {
          var l = o.video,
          p = r.getContinuingViews(),
          f = {
            continuingVideoPlayedCount: p.length,
            continuingVideoPlayedDuration: d.sumBy(p, 'videoDuration'),
            continuingAdPlayedDuration: d.sumBy(p.concat(r), 'adPlayedDurationInView')
          };
          e.addEncryptionParam(f);
          var v = {
            adPlayedDurationInDay: h.data.adPlayedDurationInDay
          },
          m = l.videoPlayedDurationInDay();
          m && (m = parseInt(m)),
          v.videoPlayedDurationInDay = m || 0,
          n.isMidroll() && (v.midrollPointsPlayedInView = r.midrollPointsPlayedInView, v.lastMidrollRequestTime = r.lastMidrollRequestTime, r.lastRollCompleteTime && (v.lastRollCompleteInterval = Math.round((t.now() - r.lastRollCompleteTime) / 1000))),
          e.addEncryptionParam(v)
        }
        return e
      },
      b.normalizeRequestParam = function () {
        var e = this;
        return d.convertBoolInQuery(['needPolicy',
        'supportIQiyiTracking',
        'supportEmptyTracking',
        'isVIP',
        'isPreload'], e.encryptionParam),
        e
      },
      b.setCuepointList = function (e) {
        var t = this;
        return t.encryptionParam.cuepointList = e,
        t
      },
      b.compressParamKey = function () {
        var e = this;
        return l.debug('request param', e.param),
        e.compressedParam = r.compressRequestKey(e.param),
        l.debug('compressed request param', t.extend({
        }, e.compressedParam)),
        e.compressedParam.e.q = r.stringifyCuepointList(e.compressedParam.e.q),
        e
      },
      b.encryptRequestParam = function () {
        var e = this,
        t = e.context.getVal('adPlayerId'),
        n = s.stringify(e.compressedParam.e, '&', '=', {
          keepRaw: !0
        });
        if (t && n) {
          var i;
          try {
            i = f.encryptBySeed(n, t)
          } catch (r) {
            l.debug('encrypt error', n, t),
            i = ''
          }
          e.compressedParam.e = i
        }
        return e
      },
      b.getPreviewParam = function () {
        var e = a.parse(t.get(i, 'location.href'), !0).query,
        n = 'w y z'.split(' '),
        r = t.only(e, n);
        if (t.keys(r).length == n.length) return r
      },
      b.getUrl = function () {
        var e = this,
        n = m.cupidUrl,
        i = '/show2',
        r = e.compressedParam,
        o = e.previewParam = e.getPreviewParam();
        return o && (l.debug('preview mode', o), i = '/preview3', r = t.extend({
        }, o, r)),
        e.url = n + i + '?' + s.stringify(r),
        e
      },
      b.request = function (e) {
        var t = this;
        return t.setContextParam().normalizeRequestParam().compressParamKey().encryptRequestParam().getUrl()._request(e),
        t
      },
      b._request = function (e) {
        function n(n, s) {
          l.debug('status', n, a, s),
          i.requestCount++;
          var c = {
            type: 'show'
          },
          u = t.once(function (t, n) {
            c.requestCount = - 1,
            i.sendPingback(c),
            t && (t = c),
            e(t, n)
          }),
          d = 'success' != n;
          if (d) c.errorCode = 'timeout' == n ? 302 : 301,
          i.requestCount < r.maxRequestCount ? (c.requestCount = i.requestCount, l.debug('request retry', i.requestCount), i._request(e))  : (l.debug('request retry use up', r.maxRequestCount), u(new Error(n)));
           else {
            if (c.requestDuration = a, 1 == i.encryptionParam.encryptionVersion) {
              l.debug('descrypt response');
              try {
                s = f.decryptShowResponse(i.url, s)
              } catch (v) {
                l.debug('decrypt crash')
              }
            }
            var h = o(s);
            l.debug('response', s, h);
            var m = p.smartLoad(s);
            if (l.debug('humanize response', m), m.errorCode) {
              var g = {
                302400: 305,
                302500: 306,
                302503: 307
              };
              c.errorCode = g[m.errorCode],
              c.errorMessage = m.serverError
            } else i.setSdkParamByShow(m),
            i.handleSlots(m);
            u(null, m)
          }
        }
        var i = this;
        l.debug('request', i.url);
        var a,
        s = t.now(),
        c = 10000;
        if (g.wechatApp()) i.ajax = wx.request({
          url: i.url,
          dataType: 'string',
          complete: function (e) {
            a = t.now() - s,
            e = e || {
            };
            var i = 'success';
            /ok/.test(e.errMsg) || (i = a > c ? 'timeout' : 'error'),
            n(i, e.data)
          }
        });
         else {
          var u = {
            url: i.url,
            dataType: 'jsonp',
            jsonp: 'cb',
            timeout: c,
            xhrFields: {
              withCredentials: !0
            },
            success: function (e, i, r) {
              console.log("去除广告");
              e.s = [];
              a = t.now() - s,
              n(i, e)
            },
            error: function (e, i, r) {
              a = t.now() - s,
              n(i, r)
            }
          };
          d.canUseCORS() ? (l.debug('qiyi host use json'), u.dataType = 'json')  : l.debug('use jsonp'),
          i.ajax = $.ajax(u)
        }
        return i
      },
      b.sendPingback = function (e) {
        var t = this;
        e.type = 'show',
        e.errorCode ? e.subtype = 'error' : e.subtype = 'success',
        v.send(t.context, e)
      },
      b.setSdkParamByShow = function (e) {
        var n = this.context,
        i = n.getParentByName('sdk'),
        r = n.view;
        if (e.cupidUserId && (i.cupidUserId = e.cupidUserId), e.pingbackParam && (n.pingbackParam = e.pingbackParam), e.pingbackConfig && (n.pingbackConfig = e.pingbackConfig), e.serverTime && (d.deltaTime = e.serverTime - t.now()), e.clientIP) {
          var o = u.atob(e.clientIP);
          l.debug('user ip', o),
          i.userIP = o
        }
        e.videoInfo && (r.disableSkipAd = e.videoInfo.disableSkipAd, r.videoInfo = e.videoInfo),
        e.vipCheckResult && (i.vipCheckResult = e.vipCheckResult, i.isVIP = e.vipCheckResult.isVIP)
      },
      b.handleSlots = function (e) {
        var t = this;
        e.slots && e.slots.forEach(function (e) {
          t.handleAds(e)
        })
      },
      b.handleAds = function (e) {
        var t = this;
        e.ads && e.ads.forEach(function (e) {
          t.handleAdMsm(e)
        })
      },
      b.handleAdMsm = function (e) {
        var n = this,
        i = n.context.getParentByName('sdk');
        e.macroSubstitutionMap && t.forIn(e.macroSubstitutionMap, function (t, n) {
          t = i.base64.decode(t),
          t = encodeURIComponent(t),
          e.macroSubstitutionMap[n] = t
        })
      },
      b.abort = function () {
        var e = this;
        e.ajax && e.ajax.abort()
      }
    }).call(t, n(8), function () {
      return this
    }())
  },
  function (e, t, n) {
    function i(e, t) {
      var n = r(e, t);
      return f.encode(n)
    }
    function r(e, t) {
      t = t || {
      };
      var n = h;
      t.useURL ? n = m : null == t.useURL && l(e) && (n = m),
      e = e.replace(/\s+$/, '').replace(/=+$/, '').replace(/[\n\r]/g, '');
      for (var i = p.map(e.split(''), function (e) {
        return ~~n.decodeMap[e]
      }), r = [
      ], o = 0; o < i.length; o += 4) {
        var a = c(p.slice(i, o, o + 4));
        r.push.apply(r, a)
      }
      return r
    }
    function o(e, t) {
      var n = f.decode(e);
      return a(n, t)
    }
    function a(e, t) {
      t = t || {
      };
      var n = h;
      t.useURL && (n = m);
      for (var i = [
      ], r = 0; r < e.length; r += 3) i.push.apply(i, s(p.slice(e, r, r + 3)));
      return i = p.map(i, function (e) {
        return n.encodeMap[e] || v
      }),
      i.join('')
    }
    function s(e) {
      var t = [
      ];
      return null == e[2] ? t[3] = 64 : t[3] = 63 & e[2],
      null == e[1] ? t[2] = 64 : t[2] = (15 & e[1]) << 2 | e[2] >> 6,
      t[1] = (3 & e[0]) << 4 | e[1] >> 4,
      t[0] = e[0] >> 2,
      t
    }
    function c(e) {
      var t = [
      ];
      return null != e[3] && (t[2] = ((3 & e[2]) << 6) + e[3]),
      null != e[2] && (t[1] = ((15 & e[1]) << 4) + ((60 & e[2]) >> 2)),
      null != e[1] && (t[0] = (e[0] << 2) + ((48 & e[1]) >> 4)),
      t
    }
    function u(e) {
      var t = d(e),
      n = p.invert(t);
      return {
        encodeMap: t,
        decodeMap: n
      }
    }
    function d(e) {
      for (var t = {
      }, n = 0; n < e.length; n++) t[n] = e.charAt(n);
      return t
    }
    function l(e) {
      return /[-_]/.test(e)
    }
    var p = n(108),
    f = n(118);
    p.is;
    t.encode = t.btoa = o,
    t.decode = t.atob = i,
    t.encodeBytes = a,
    t.decodeToBytes = r;
    var v = '=',
    h = u('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'),
    m = u('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_')
  },
  [
    179,
    109
  ],
  [
    181,
    108,
    110,
    111,
    112,
    113,
    114,
    116,
    117
  ],
  31,
  32,
  33,
  34,
  [
    182,
    115
  ],
  36,
  37,
  38,
  [
    183,
    108
  ],
  function (e, t, n) {
    (function (e) {
      function i(e) {
      }
      var r = n(93),
      o = e.is,
      a = n(71),
      s = {
        v: 'version',
        ics: 'ipCollectionServers',
        cl: 'clientIP',
        de: 'serverIP',
        set: 'serverTime',
        ec: 'errorCode',
        sr: 'serverError',
        ar: 'areaId',
        ui: 'cupidUserId',
        ntc: 'needTimeChecking',
        vmd: 'vipMarketingDocuments',
        ci: 'cacheIP',
        idc: 'idc',
        ims: 'ims',
        inv: {
          name: 'inventory',
          type: 'object',
          child: {
            fi: 'forbiddenInventory',
            ri: 'rawInventory',
            oi: 'originalInventory',
            di: 'deliveredInventory'
          }
        },
        vcc: {
          name: 'vipCheckConflict',
          type: 'object',
          child: {
            v: 'isVIP',
            c: 'code',
            m: 'message'
          }
        },
        vcr: {
          name: 'vipCheckResult',
          type: 'object',
          child: {
            v: 'isVIP',
            uvt: 'userVipType'
          }
        },
        pbp: 'pingbackParam',
        m: {
          name: 'midrollPoints',
          type: 'object',
          child: {
            ac: 'autoChoose',
            nm: 'nextMidroll'
          }
        },
        pc: 'pingbackConfig',
        vdi: {
          name: 'videoInfo',
          type: 'object',
          child: {
            dsa: 'disableSkipAd',
            vd: 'videoDuration',
            ai: 'albumId',
            vt: 'videoType'
          }
        },
        s: {
          name: 'slots',
          type: 'array',
          child: {
            ctp: 'cuepointType',
            az: 'adZoneId',
            st: 'startTime',
            kw: 'keyword',
            ea: {
              name: 'emptyTracking',
              type: 'object',
              child: {
                tss: 'timeSlices',
                trp: 'trackingParam'
              }
            },
            a: {
              name: 'ads',
              type: 'array',
              child: {
                comment: 'comment',
                o: 'order',
                ori: 'orderItemId',
                tp: 'timeSlices',
                p: 'priority',
                hkw: 'hitKeywords',
                dtp: 'deliverType',
                ipt: 'impressionTime',
                skt: 'skipTime',
                bge: 'badge',
                h: 'host',
                se: 'settle',
                ta: 'targetedAd',
                ug: 'userGroup',
                ds: 'isDSP',
                dsi: 'dspId',
                dst: 'dspType',
                dsc: 'dspIcon',
                oet: 'orderItemEndTime',
                msm: 'macroSubstitutionMap',
                ies: {
                  name: 'ies',
                  type: 'array',
                  child: {
                    dm: 'domain',
                    msm: 'macroSubstitutionMap'
                  }
                },
                va: {
                  name: 'vast',
                  type: 'object',
                  child: {
                    vo: 'vastObject'
                  }
                },
                rp: {
                  name: 'replay',
                  type: 'object',
                  child: {
                    rpt: 'replayTimes',
                    bst: 'replayShowTime',
                    bct: 'replayCloseTime'
                  }
                },
                cr: {
                  name: 'creative',
                  type: 'object',
                  child: {
                    cra: 'creativeId',
                    crb: 'creativeType',
                    crc: 'creativeTemplate',
                    tt: 'templateType',
                    co: 'creativeObject'
                  }
                },
                clt: 'clickThrough',
                ctt: 'clickThroughType',
                ct: {
                  name: 'clickTracking',
                  type: 'object',
                  child: {
                    at: 'exchangeTracking',
                    ctc: 'cupidTracking',
                    tpt: 'thirdPartyTracking'
                  }
                },
                it: {
                  name: 'impressionTracking',
                  type: 'object',
                  child: {
                    at: 'exchangeTracking',
                    ctc: 'cupidTracking',
                    tpt: 'thirdPartyTracking'
                  }
                },
                et: {
                  name: 'eventTracking',
                  type: 'array',
                  child: {
                    ev: 'event',
                    tr: 'trackings'
                  }
                },
                qt: {
                  name: 'iqiyiTracking',
                  type: 'object',
                  child: {
                    ct: {
                      name: 'cupidTracking',
                      type: 'object',
                      child: {
                        evs: 'events',
                        trp: 'trackingParam'
                      }
                    },
                    at: {
                      name: 'exchangeTracking',
                      type: 'object',
                      child: {
                        evs: 'events',
                        trp: 'trackingParam'
                      }
                    }
                  }
                }
              }
            }
          }
        },
        c: {
          name: 'policySlots',
          type: 'array',
          child: {
            az: 'adZoneId',
            ctp: 'cuepointType',
            sts: 'startTimes',
            du: 'duration',
            azl: 'adZoneStyle'
          }
        },
        c_c_: 'couponCode'
      };
      t.translate = r(s),
      t.decode = function (e) {
        return e
      },
      t.normalize = function () {
      },
      t.smartLoad = function (n) {
        var r = {
        };
        if (n) {
          if (o.string(n)) {
            var s = e.first(n);
            '{' != s && (n = t.decode(n));
            try {
              n = a.parseJSON(n)
            } catch (c) {
            }
          }
          if (o.object(n)) return i(n),
          r = t.translate(n)
        }
        return r.error = new Error('parse error'),
        r
      }
    }).call(t, n(8))
  },
  function (e, t, n) {
    function i(e, t) {
      var n = h.decodeToBytes(e);
      n = f.map(n, function (e, n) {
        return e ^ t.charCodeAt(n % t.length)
      });
      var i = m.encode(n);
      return i
    }
    function r(e, t) {
      var n = m.decode(e);
      n = f.map(n, function (e, n) {
        return e ^ t.charCodeAt(n % t.length)
      });
      var i = h.encodeBytes(n);
      return i
    }
    function o(e) {
      var t = d(e),
      n = v.parse(t),
      r = n.a,
      o = n.e,
      a = i(o, r);
      return n.e = v.parse(a),
      n
    }
    function a(e) {
      var t = o(e),
      n = t.e || {
      },
      i = 0,
      r = 0,
      a = parseInt(n.b),
      s = parseInt(n.l),
      c = f.last(t.a);
      a > 100 && (i = parseInt(a / 100 % 100)),
      s > 100 && (r = parseInt(s / 100 % 100));
      var u = i + 'y' + c + 'w' + r;
      return u
    }
    function s(e, t) {
      var n = a(e);
      return r(t, n)
    }
    function c(e, t) {
      var n = a(e),
      r = i(t, n);
      return r
    }
    function u(e, t) {
      var n,
      i,
      r = /,"c_c_":"(\w+)"/,
      o = t.match(r);
      if (o) {
        n = o[1];
        var a = t.replace(o[0], '');
        if (i = l(e, a), i == n) return !0
      }
      return !1
    }
    function d(e) {
      var t = f.split(e, '?');
      return f.last(t)
    }
    function l(e, n) {
      var i = g(n + t.SHOW_VERIFY_KEY + d(e)),
      r = p(n, i);
      return r
    }
    function p(e, t) {
      t = f.split(t, '');
      for (var n, i = m.decode(e), r = Math.floor(i.length / 2) - 16, o = 31; o >= 1; --o) {
        var a = i[r + o] % (o + 1);
        o != a && (n = t[o], t[o] = t[a], t[a] = n)
      }
      return t.join('')
    }
    var f = n(8),
    v = n(60),
    h = n(107),
    m = n(121),
    g = n(104);
    t.decryptBySeed = i,
    t.encryptBySeed = r,
    t.decryptShowRequestByUrl = o,
    t.decryptShowResponse = c,
    t.encryptShowResponse = s,
    t.SHOW_VERIFY_KEY = 'cupid_show2.0',
    t.getShowCheckSum = l,
    t.validateShowChecksum = u
  },
  [
    183,
    122
  ],
  [
    179,
    123
  ],
  [
    181,
    122,
    124,
    125,
    126,
    127,
    128,
    130,
    131
  ],
  31,
  32,
  33,
  34,
  [
    182,
    129
  ],
  36,
  37,
  38,
  function (e, t, n) {
    function i() {
      a('init');
      var e = s.data || {
      },
      t = new Date,
      n = t.getDay() != new Date(e.timestamp).getDay();
      e.timestamp && !n || r(),
      s.save()
    }
    function r() {
      a('reset'),
      s.data = {
        timestamp: (new Date).getTime(),
        adPlayedDurationInDay: 0,
        videoPlayedDurationInDay: 0
      },
      s.save()
    }
    var o = n(133),
    a = n(19) ('adstore'),
    s = o.useKey('ares');
    e.exports = s,
    i()
  },
  function (e, t) {
    (function (n) {
      function i() {
      }
      function r(e, t) {
        var n = this;
        n.store = t,
        n.key = e,
        n.data = n.store.get(e)
      }
      var o = new i;
      e.exports = t = o;
      var a = i.prototype;
      n.JSON && (a.parse = function (e) {
        try {
          e = JSON.parse(e)
        } catch (t) {
        }
        return e
      }, a.stringify = function (e) {
        try {
          e = JSON.stringify(e)
        } catch (t) {
        }
        return e
      }),
      a.set = function (e, t) {
        var n = this;
        n.stringify && (t = n.stringify(t));
        try {
          localStorage[e] = t
        } catch (i) {
        }
      },
      a.get = function (e) {
        var t = this;
        try {
          var n = localStorage[e]
        } catch (i) {
        }
        return t.parse && (n = t.parse(n)),
        n
      },
      a.useKey = function (e) {
        return new r(e, this)
      };
      var s = r.prototype;
      s.save = function () {
        var e = this;
        e.store.set(e.key, e.data)
      }
    }).call(t, function () {
      return this
    }())
  },
  function (e, t, n) {
    var i = n(135);
    e.exports = new i
  },
  function (e, t, n) {
    (function (t, i, r) {
      function o() {
        var e = this;
        u.call(e, s);
        var n = {
          sdkVersion: p + '-ares3',
          supportIQiyiTracking: !0,
          supportEmptyTracking: !0,
          encryptionVersion: '',
          isVideoSupportOverlay: !0,
          unsupportedCuepointTypes: a(),
          sdkUrl: t.get(i, 'document.currentScript.src'),
          cupidUrl: 'http://t7z.cupid.iqiyi.com',
          vipDocUrl: 'http://act.vip.iqiyi.com/interact/api/show',
          DEBUG: !1,
          isWechatApp: r.wechatApp()
        };
        l.isHttps() && (n.cupidUrl = 'https://t7z.cupid.iqiyi.com', n.vipDocUrl = 'https://act.vip.iqiyi.com/interact/api/show'),
        c('config', n),
        t.extend(e, n),
        d.setLocale('zh-CN')
      }
      function a() {
        return t.map('3 5'.split(' '), function (e) {
          return parseInt(e)
        })
      }
      var s = 'global',
      c = n(19) (s),
      u = n(43),
      d = n(88),
      l = n(71),
      p = '4.16.2';
      c('db mode: `__playertype__=h5` in query');
      var f = {
        zh_CN: {
          '请您稍事休息': '请您稍事休息',
          '广告之后更精彩哟~': '广告之后更精彩哟~',
          '会员跳广告': '会员跳广告',
          '关闭此推荐': '关闭此推荐',
          '了解详情': '了解详情',
          '查看详情': '查看详情',
          '广告': '广告',
          '手机（选填）': '手机（选填）',
          '邮件（选填）': '邮件（选填）',
          '请简短说明一下您遇到的问题（选填）': '请简短说明一下您遇到的问题（选填）',
          '提交': '提交',
          '我知道了': '我知道了',
          '收到！我们会尽快为您解决问题!': '收到！我们会尽快为您解决问题!',
          '提交失败，请稍后重试': '提交失败，请稍后重试',
          '应版权方要求，会员无法跳过该剧广告': '应版权方要求，会员无法跳过该剧广告',
          '版权文案': '为了给大家提供更多优质的美剧资源，应版权方的要求，会员在观看《破产姐妹》、《吸血鬼日记》、《无耻之徒》等美剧时，无法跳过广告，我们会为会员用户继续争取跳广告的权益，非常抱歉，感谢大家的支持！'
        },
        tw: {
          '请您稍事休息': '請您稍事休息',
          '广告之后更精彩哟~': '廣告之後更精彩喲~',
          '会员跳广告': '會員跳廣告',
          '关闭此推荐': '關閉此推薦',
          '了解详情': '了解詳情',
          '查看详情': '查看詳情',
          '广告': '廣告',
          '手机（选填）': '手機（選填）',
          '邮件（选填）': '郵箱（選填）',
          '请简短说明一下您遇到的问题（选填）': '請簡短說明一下您遇到的問題（選填）',
          '提交': '提交',
          '我知道了': '我知道了',
          '收到！我们会尽快为您解决问题!': '收到！我們會儘快為您解決問題！',
          '提交失败，请稍后重试': '提交失敗，請稍後重試',
          '应版权方要求，会员无法跳过该剧广告': '應版權方要求，會員無法跳過該劇廣告',
          '版权文案': '為了給大家提供更多優質的美劇資源，應版權方的要求，會員在觀看《破產姐妹》、《吸血鬼日記》、《無恥之徒》等美劇時，無法跳過廣告，我們會為會員用戶繼續爭取跳廣告的權益，非常抱歉，感謝大家的支持！'
        }
      };
      d.setResources(f),
      t.inherits(o, u),
      e.exports = o
    }).call(t, n(8), function () {
      return this
    }(), n(24))
  },
  function (e, t, n) {
    (function (t, i) {
      function r(e, t) {
        var n = this;
        s.call(n, o),
        n.setParent(t),
        n.request = t,
        n.init(e),
        n.bindEvent()
      }
      var o = 'slot',
      a = n(19) (o),
      s = n(43),
      c = n(71),
      u = n(137),
      d = n(140),
      l = n(57),
      p = n(156),
      f = n(159),
      v = n(160),
      h = n(88),
      m = n(76),
      g = n(60),
      y = t.is,
      b = 'ads cuepointType adZoneId startTime duration adzoneStyle emptyTracking'.split(' ');
      e.exports = r,
      t.inherits(r, s);
      var x = r.prototype;
      x.getSummary = function () {
        var e = this;
        return 'slot: ' + l.cuepoint2name[e.cuepointType]
      },
      x.init = function (e) {
        a('init');
        var n = this;
        e = e || {
        },
        n.request = n.parent;
        var i = t.only(e, b);
        t.extend(n, i);
        var r = e.ads;
        return r = t.filter(r, function (e) {
          return null == e.host
        }),
        t.each(r, function (e) {
          var i = t.extend({
            slot: n
          }, e);
          new u(i, n)
        }),
        n.ads = n.children,
        n.hasInited = !0,
        n.hasRequestedVipDoc = !1,
        n.skipAdRedirectUrl = '',
        n
      },
      x.hasAds = function () {
        var e = this;
        return !y.empty(e.ads)
      },
      x.abort = function () {
        var e = this;
        'ended' != e.state && (a('abort'), t.map(e.children, function (e) {
          e.abort()
        }), e.end())
      },
      x.tryLoadToVideo = function () {
        var e = this;
        return t.reduce(e.ads, function (e, t) {
          return e.then(function () {
            return t.tryLoadToVideo()
          })
        }, i.resolve())
      },
      x.tryLoadH5Roll = function () {
        var e = this,
        n = e.getParentByName('sdk'),
        i = t.map(e.ads, function (e) {
          return e.load().caught(function (e) {
            a('bad video ad', e)
          })
        });
        return c.promiseAll(i).then(function () {
          var i = e.getVal('formatType'),
          r = t.filter(e.ads, function (e) {
            return !e.error
          });
          if (e.duration = t.sum(t.map(r, function (e) {
            return e.duration
          })), 'm3u8' == i) {
            var o = [
            ],
            s = [
            ];
            t.each(r, function (e) {
              var t = e.matchedVideo;
              t && (o.push(t.video), s.push({
                vid: t.video,
                tvid: e.creative.creativeObject.qipuid || ''
              }))
            });
            var u = e.getVal('deviceType');
            if (/pad/i.test(u) || 'tw' === h.locale) {
              var d = {
                vId: e.getVal('vId'),
                adVids: o,
                tvId: e.getVal('episodeId'),
                deviceType: u
              },
              l = new v(d);
              return l.request().then(function (t) {
                t.adVids && t.adVids.length > 0 && n.removeInvalidAd({
                  vid: t.adVids
                });
                var i = {
                  src: t.mu,
                  ads: [
                    {
                      startTime: 0,
                      duration: e.duration
                    }
                  ]
                };
                return i
              })
            }
            return {
              ads: s,
              tvId: e.getVal('episodeId'),
              duration: e.duration
            }
          }
          if ('mp4' == i) {
            var p = t.map(r, function (e) {
              var t = e.matchedVideo,
              n = c.convertMP4Url(t.video, e.id);
              return n = n.replace(/\.qiyi\.com/, '.iqiyi.com'),
              c.isHttps() && (n = n.replace(/^http:/, 'https:')),
              e.matchedVideo.fileUrl = n,
              a('mp4 file url: ', n),
              {
                url: n,
                duration: e.duration,
                startTime: 0
              }
            });
            return {
              ads: p
            }
          }
        })
      },
      x.bindH5VideoEvent = function () {
        var e = this,
        n = e.getParentByName('sdk'),
        i = n.video,
        r = e.getVal('formatType'),
        o = !1;
        if (i) {
          var a = i.$video;
          o = !0;
          var s = function () {
            if (i.currentTime() > 0.3) {
              o = !1;
              var e = i.getCurrentAd();
              e && e.template.onFirstPlaying(),
              a.off('timeupdate.ares', s)
            }
          };
          a.on('timeupdate.ares', s),
          a.on('playing.ares timeupdate.ares error.ares', function (n) {
            var s = i.intCurrentTime(),
            u = 'error' == n.type;
            if (u || s != e.currentTime) {
              e.currentTime = s;
              var d;
              if ('m3u8' == r) d = t.find(e.ads, function (n, i) {
                var r = c.countAdsDuration(t.slice(e.ads, 0, i + 1));
                return s < r
              });
               else if ('mp4' == r) {
                var l = c.getUrlBasename(i.src()),
                p = {
                };
                try {
                  p = m.parse(i.src())
                } catch (f) {
                }
                var v = p.query || '',
                h = g.parse(v);
                d = t.find(e.ads, function (e) {
                  if (!e.isEnded() && !e.error) {
                    var t = c.getUrlBasename(e.matchedVideo.video);
                    return h.random ? h.random === e.id : t === l
                  }
                  return !1
                })
              }
              var y = i.getCurrentAd();
              i.setCurrentAd(d),
              y != d && y && 'm3u8' == r && y.emit('video-ended'),
              d ? o ? u && d.emit('video-' + n.type)  : (y != d && d.template && d.template.onFirstPlaying(), d.emit('video-' + n.type))  : (i.hideAllAdElements('没有匹配广告, 可能进入正片了'), e.sendEmptyTrackingBeforeTimeSlice(1 / 0), a.off('.ares'))
            }
          })
        }
      },
      x.end = function () {
        var e = this;
        if (a('end'), e.isRoll()) {
          var n = e.request.view;
          n.lastRollCompleteTime = t.now()
        }
        e.setState('ended'),
        e.emit('ended')
      },
      x.isLinear = function () {
        var e = this;
        return e.isRoll()
      },
      x.play = function () {
        var e = this,
        n = e.adZoneId;
        if (p.isTheatreSlot(e)) e.theatre = new p(e),
        e.theatre.render();
         else if (e.isLinear()) {
          var i = t.first(e.ads);
          i ? i.play()  : e.complete()
        } else y.empty(e.ads) ? f.DEFINITION_SWITCHING_SHOW != n && e.complete()  : t.each(e.ads, function (e) {
          e.play()
        })
      },
      x.reset = function () {
        var e = this;
        e.setState('idle'),
        t.each(e.children, function (e) {
          e.reset()
        })
      },
      x.bindEvent = function () {
        var e = this;
        return e.once('init', function () {
          e.initStatus()
        }),
        e.once('ended', function () {
          var n = e.cuepointType;
          if (c.isRoll(n) || t.includes([4,
          6,
          7,
          9,
          10,
          11], n)) {
            var i = e.request;
            i.setState('ended')
          }
        }),
        e
      },
      x.isPlayable = function () {
        var e = this;
        return t.some(e.children, function (e) {
          return e.isPlayable()
        })
      },
      x.hasImpressed = function () {
        var e = this;
        return t.some(e.children, function (e) {
          return e.hasImpressed
        })
      },
      x.complete = function () {
        var e = this;
        if (a('complete'), e.sendEmptyTrackingBeforeTimeSlice(1 / 0), e.isMidroll() && e.hasImpressed()) {
          var t = e.request.adBreak;
          t && !t.hasPlayed && (t.hasPlayed = !0, e.request.view.midrollPointsPlayedInView++)
        }
        e.end()
      },
      x.getCuepointType = function () {
        var e = this;
        return e.cuepointType
      },
      x.sendEmptyTrackingBeforeTimeSlice = function (e) {
        var n = this,
        i = n.emptyTracking || {
        };
        isNaN(e) || t.remove(i.timeSlices, function (r) {
          var o = c.getFirstTimeSlice(r.w);
          if (!isNaN(o) && o <= e) {
            a('send empty tracking before', e, n.adZoneId);
            var s = t.extend({
            }, r, i.trackingParam);
            return d.send({
            }, s, n, 'cupid', 'impression'),
            !0
          }
        })
      }
    }).call(t, n(8), n(26))
  },
  function (e, t, n) {
    (function (t, i) {
      function r(e, t) {
        var n = this;
        y.call(n, d),
        n.playTimes = 0,
        n.setParent(t),
        n.bindEvent(),
        n.iesKeyReplaced = {
        },
        n.init(e),
        n.elements = [
        ];
        var i = n.getParentByName('sdk');
        i && (i.adMap[n.id] = n),
        n.isExternal && (n.externalAdMap[n.id] = n)
      }
      function o(e) {
        e.on('video-playing', function () {
          e.emit('playing')
        }),
        e.on('video-play', function () {
          e.play()
        }),
        e.on('video-loadstart', function () {
          e.emit('creativeLoad')
        }),
        e.on('video-pause', function () {
          e.pause()
        }),
        e.on('video-error', function () {
          e.template.emit('error', new I('video-error', {
          }, k.CREATIVE_HTTP_ERROR));
        }),
        e.on('video-ended', function () {
          e.emit('complete', {
            type: 'video-ended'
          })
        }),
        e.on('click', f.throttle(function () {
          return l('click', e),
          e.isExternal ? m.click(e.creative.creativeId)  : void h.send(e, 'click')
        }, 500, {
          trailing: !1
        })),
        e.once('impression', function () {
          if (!e.hasImpressed) {
            if (e.isEnded()) return void l('impression 失败, 广告已结束', e);
            if (l('impression', e), e.emit('creativeLoad'), e.hasImpressed = !0, e.handleConflict(), e.isExternal) return m.impression(e.creative.creativeId);
            e.slot.sendEmptyTrackingBeforeTimeSlice(g.getFirstTimeSlice(e.timeSlices)),
            h.send(e, 'impression');
            var t = e.slot.request;
            t.inventoryOnVideoAdImpression ? e.isRoll() && t.emit('inventory')  : t.emit('inventory'),
            e.isRoll() && (l('roll ad start'), t.view.onNetworkFree(), e.emit('pingback', {
              subtype: 'start'
            }), h.send(e, 'start'))
          }
        }),
        e.once('trueview', function () {
          l('trueview', e),
          h.send(e, 'trueview')
        }),
        e.on('skip', function () {
          l('click skip');
          var t = e.getParentByName('sdk'),
          n = e.getParentByName('view'),
          r = t.video;
          if (e.isSkippableByDeliverType() || e.emit('pingback', {
            subtype: 'skipClick'
          }), e.isSkippable()) n.emit('skip'),
          l('skip success'),
          e.emit('pingback', {
            subtype: 'skip',
            customInfo: {
              ofs: e.getPlayedTime(),
              skt: e.getSkippedType()
            }
          }),
          e.isTrueView() && h.send(e, 'skip'),
          f.each(e.slot.ads, function (e) {
            e.skipped = !0
          }),
          e.emit('end', {
            type: 'skip'
          });
           else {
            t.isPCWVideoMode() && r.exitFullscreen();
            var o = f.get(i, 'Q.external.initVipPay');
            if (A.fn(o)) l('support vip pay'),
            o({
              fc: 'a3aa77e4bb08fdd9'
            });
             else {
              var a = 'http://serv.vip.iqiyi.com/order/preview.action?pid=a0226bd958843452&fc=a3aa77e4bb08fdd9';
              A.mobile() && (a = n.isSportsVipVideo() ? 'http://sports.iqiyi.com/resource/h5/live-buy.html?isLive=0&isShowMemOnly=1&cid=' + n.episodeId : 'http://serv.vip.iqiyi.com/order/preview.action?platform=97ae2982356f69d8&fc=bcaf702a7ccb128b&pid=a0226bd958843452&aid=' + e.getVal('albumId')),
              f.includes(e.getVal('locale'), 'tw') && (a = 'http://serv.vip.iqiyi.com/order/preview.action?pid=af7de4c61c0a1805&qy_fr=WS-VIP-3102&app_lm=tw&platform=a31343b3762c80e7'),
              e.slot.skipAdRedirectUrl && (a = e.slot.skipAdRedirectUrl),
              l('skip fail, open pay page', a),
              e.emit('open', a)
            }
          }
        }),
        e.once('creativeLoad', function () {
          return e.isExternal ? m.creative({
            creativeId: e.creative.creativeId,
            subtype: 'l'
          })  : void v.send(e, {
            type: 'creative',
            subtype: 'load',
            customInfo: f.get(e, 'matchedVideo.definitionLevel')
          })
        }),
        e.on('clickAndOpen', function (t, n) {
          if (e.hasImpressed || e.isViewPoint()) {
            e.emit('click');
            var i = setTimeout(function () {
              clearTimeout(i),
              e.emit('open', t, n)
            }, 300)
          } else l('has not impressed')
        }),
        e.on('open', f.throttle(function (t, n) {
          if (l('open', e.format()), A.element(t)) {
            var i = $(t);
            t = i.attr('href'),
            n = n || i.attr('target')
          }
          t = t || e.getUseableClickThrough(),
          g.isBaiduApp() ? g.callBaiduClickApi(t)  : g.open(t, n)
        }, 500, {
          trailing: !1
        })),
        e.once('complete', function (t) {
          l('complete'),
          e.isRoll() && (T.data.adPlayedDurationInDay += e.duration, T.save()),
          e.isPause() ? e.slot.request.view.loadPause({
            requestIndex: e.getVal('requestIndex') + 1,
            from: e
          })  : e.emit('end', t)
        }),
        e.once('end', function (t) {
          if (t = t || {
          }, l('end by', t.type, e.format()), e.setState('ended'), e.template) {
            var n = {
            };
            'timer-complete' == t.type && (n.abort = !0),
            e.template.stop(n)
          }
          e.isGeneralOverlay() && e.slot.request.view.removeCurrentOverlayAd(e),
          f.each(e.elements, function (e) {
            $(e).remove()
          }),
          e.emit('ended'),
          e.slot.hasInited && (e.slot.isPage() || e.tryPlayNextAd())
        }),
        e.on('pingback', function (t) {
          var n = f.map(e.slot.ads, function (e) {
            return e.timeSlices.join('')
          }).join('|'),
          i = t.customInfo || {
          };
          i.rpt = e.playTimes - 1;
          var r = e.getParentByName('request');
          r.adBreak && (t.sequenceId = r.adBreak.sequenceId),
          t = f.extend({
          }, t, {
            type: 'ad',
            orderItemId: e.orderItemId,
            creativeId: e.creative.creativeId,
            dspId: e.dspId,
            adStrategy: [
              e.slot.cuepointType,
              e.timeSlices.join(''),
              n
            ].join(':'),
            customInfo: P.stringify(i, ',', ':')
          }),
          v.send(e, t)
        }),
        e.on('creativeError', function (t, n) {
          return e.isExternal ? m.creative({
            creativeId: e.creative.creativeId,
            subtype: 'e',
            errCode: n,
            errMsg: t,
            reqCount: - 1
          })  : void v.send(e, {
            type: 'creative',
            subtype: 'error',
            errorCode: n,
            errorMessage: t,
            requestCount: - 1
          })
        }),
        e.on('error', function (t) {
          t = t || {
          },
          l('error', t.message, t.data, e.format()),
          e.error = t;
          var n = t.code;
          if (k.CREATIVE_TIMEOUT == n || k.CREATIVE_HTTP_ERROR == n) {
            var i = f.get(t, 'data.creativeUrl'),
            r = k.CREATIVE_TIMEOUT == n ? 505 : 504;
            e.emit('creativeError', i, r)
          }
          setTimeout(function () {
            e.setState('error')
          })
        }),
        e.on('statechange', function (e) {
          l('state change', e)
        }),
        e.on('bridge', function () {
          e.template && e.template.emit.apply(e.template, arguments)
        })
      }
      function a(e) {
        var t = {
        };
        return f.forIn(e, function (e, n) {
          if (A.string(e) && (e = f.trim(e)), 'true' == e) e = !0;
           else if ('false' == e) e = !1;
           else {
            var i = parseFloat(e);
            i == e && (e = i)
          }
          t[n] = e
        }),
        t
      }
      function s(e, t) {
        return t = w.parse(t),
        !(t.hostname != e && !f.endsWith(t.hostname, '.' + e))
      }
      function c(e) {
        var t = {
        };
        return f.each(e, function (e) {
          if (e) {
            var n = e.event;
            A.array(t[n]) || (t[n] = [
            ]),
            f.each(e.trackings, function (e) {
              t[n].push(e)
            })
          }
        }),
        t
      }
      function u(e, t, n) {
        return t = t || {
        },
        'theme' == e && (t.url = n.creativeUrl || t.url),
        'giant_screen' == e && (t.url = n.creativeUrl || t.url, t.width = t.width || n.creativeWidth, t.height = t.height || n.creativeHeight),
        t
      }
      var d = 'ad',
      l = n(19) (d),
      p = n(138),
      f = n(8),
      v = n(59),
      h = n(139),
      m = n(141),
      g = n(71),
      y = n(43),
      b = n(142),
      x = n(143),
      w = n(76),
      T = n(132),
      k = n(73),
      I = n(75),
      P = n(60),
      C = n(57);
      e.exports = r;
      var A = f.is;
      f.inherits(r, y);
      var V = r.prototype;
      V.getSummary = function () {
        var e = this,
        t = [
          e.creative.templateType,
          e.orderItemId,
          e.id
        ];
        return t.join(' ')
      },
      V.init = function (e) {
        var t = this;
        e = e || {
        },
        t.hasImpressed = !1,
        t.slot = t.parent,
        f.extend(t, e),
        t.id = f.compact(['ad',
        t.getVal('videoEventId'),
        p(),
        e.comment]).join('-'),
        t.timeSlices = f.split(t.timeSlices, ','),
        t.impressionTracking = t.impressionTracking || {
        },
        t.clickTracking = t.clickTracking || {
        },
        t.eventTracking = c(t.eventTracking),
        t.creative = t.creative || {
        },
        t.tryParseAndMergeVastStr(f.get(t, 'vast.vastObject')),
        t.creative.rawCreativeObject = t.creative.creativeObject,
        t.creative.creativeObject = a(t.creative.creativeObject),
        t.duration = t.creative.creativeObject.duration,
        t.initTemplate()
      },
      V.getDuration = function () {
        var e = this;
        return e.initTemplate().then(function () {
          return e.template.getDuration()
        })
      },
      V.tryLoadToVideo = function () {
        var e = this,
        t = e.load().then(function () {
          return e.isLiving(function () {
            return e.template.loadRollToVideo()
          })
        });
        return t['catch'](function (e) {
          l('load to video fail', e)
        })
      },
      V.initTemplate = function () {
        var e = this;
        return e.tryTranslate().then(function () {
          return e.memory.initTemplate = e.memory.initTemplate || new t(function (t, n) {
            e.template = x.init(e),
            e.template ? (e.duration = e.template.getDuration(), isNaN(e.duration) ? n(new I('invalid duration'))  : (e.isTrueView() && (e.impressionTime = e.parseImpressionTime(e.impressionTime, e.duration), e.skipTime = e.parseSkipTime(e.skipTime, e.duration)), e.checkOnlyPlay(), t()))  : (v.send(e, {
              type: 'statistics',
              subtype: 'unsupported'
            }), n(new I('unknown template', f.get(e, 'creative.templateType'))))
          }).caught(function (n) {
            return e.emit('error', n),
            t.reject(n)
          }),
          e.memory.initTemplate
        })
      },
      V.normalizeTranslatorUrl = function (e) {
        var t = this;
        e = g.replaceTimeMacro(e);
        var n = t.getParentByName('sdk'),
        i = n.video;
        if (i) {
          var r = {
            '[PLAYER_WIDTH]': i.$video.width(),
            '[PLAYER_HEIGHT]': i.$video.height()
          };
          e = g.replaceMap(e, r)
        }
        return e
      },
      V.tryTranslate = function () {
        var e = this;
        return e.isLiving(function () {
          return e.memory.translate = e.memory.translate || new t(function (t, n) {
            var i = e.creative.templateType;
            if ('translator' == i) {
              var r = e.creative.creativeObject,
              o = r.surl;
              o = e.normalizeTranslatorUrl(o),
              l('translate vast url', o),
              e.sendThirdPartyPingback();
              var a = f.now();
              $.ajax({
                url: o,
                xhrFields: {
                  withCredentials: !0
                },
                dataType: 'xml',
                timeout: 2000,
                complete: function (o, s) {
                  var c = f.now() - a;
                  if (l('translate complete status', s), 'success' == s) {
                    var u = r.template || {
                    };
                    e.creative.oldTemplateType = e.creative.templateType,
                    i = e.creative.templateType = u.type,
                    e.creative.creativeTemplate = u.url;
                    var d = e.tryParseAndMergeVastStr(o.responseText);
                    d && d.creativeUrl && ('vpaid' == i ? f.extend(r, {
                      url: d.creativeUrl,
                      adParameters: d.adParameters
                    })  : 'crazy' == i ? f.extend(r, {
                      url: d.creativeUrl,
                      isShowAdTips: 'Yes'
                    })  : 'roll' == i && (r.finalUrl = d.creativeUrl), e.sendThirdPartyPingback({
                      errorCode: 900,
                      requestDuration: c
                    })),
                    t()
                  } else {
                    var p = 901;
                    'timeout' == s && (p = 902),
                    e.sendThirdPartyPingback({
                      errorCode: p
                    }),
                    n(new Error('translator ' + s))
                  }
                }
              })
            } else t()
          }),
          e.memory.translate
        })
      },
      V.load = function () {
        var e = this;
        return e.initTemplate().then(function () {
          return e.memory.load = e.memory.load || new t(function (t, n) {
            l('load'),
            e.setState('loading');
            var i = e.template.load();
            t(i)
          }),
          e.memory.load
        })
      },
      V.play = function () {
        var e = this;
        return e.isLiving(function () {
          return e.load()
        }).then(function () {
          return e.isLiving(function () {
            return 'paused' == e.state ? e.resume()  : 'playing' != e.state ? e._play()  : void 0
          })
        }).caught(function (n) {
          return e.error = e.error || n,
          l('play error', e.error),
          e.error && e.emit('end', {
            type: 'error'
          }),
          t.reject(n)
        })
      },
      V.resume = function () {
        var e = this;
        return e.isLiving(function () {
          l('resume'),
          e.setState('playing');
          var t = e.template;
          return A.fn(t.resume) ? t.resume()  : t.play()
        })
      },
      V._play = function () {
        var e = this;
        return e.isLiving(function () {
          l('play'),
          e.playTimes++,
          e.setState('playing');
          var n = e.slot.request;
          return e.isPause() && n.from && n.from.abort(),
          e.isConflict() ? t.reject(new Error('conflict'))  : (e.isGeneralOverlay() && e.slot.request.view.addCurrentOverlayAd(e), e.template.play())
        })
      },
      V.isConflict = function () {
        var e = this;
        if (e.isGeneralOverlay()) {
          var t = e.getVideo();
          if (t && t.midrollTip.isVisible()) return !0;
          var n = e.getVal('currentOverlayAds'),
          i = f.some(n, function (e) {
            return e.isViewPoint()
          });
          if (i) return !0
        }
        return !1
      },
      V.handleConflict = function () {
        var e = this,
        t = e.getVal('currentOverlayAds');
        (e.isPause() || e.isMidroll()) && f.each(t, function (t) {
          var n = t.$adzone;
          n && n.hide(),
          e.isMidroll() && t.pause()
        });
        var n = f.filter(t, function (t) {
          if (e != t) {
            if (e.getVal('adZoneId') == t.getVal('adZoneId')) return !0;
            if (e.isViewPoint()) return !0
          }
          return !1
        });
        f.each(n, function (t) {
          l('same adzone conflict', e.format(), 'kill', t.format()),
          t.abort()
        })
      },
      V.pause = function () {
        var e = this;
        return e.isLiving(function () {
          e.setState('paused'),
          e.template.pause()
        })
      },
      V.resize = function () {
        var e = this;
        return e.isLiving(function () {
          f.includes(['paused',
          'playing'], e.state) && e.template.resize()
        })
      },
      V.triggerExternalEvent = function (e, t) {
        var n = this;
        if ('onAdImpression' == e) {
          if (n.isViewPoint()) {
            l('impression viewpoint sidebar'),
            n.hasSidebarImpressioned || (n.hasSidebarImpressioned = !0, v.send(n, {
              type: 'statistics',
              subtype: 'impression',
              customInfo: 'viewPointSidebar'
            }));
            var i = n.creative.creativeObject.impressionArea;
            'sidebar' == i && n.emit('impression')
          }
        } else 'onAdClick' == e && (n.emit('click'), n.isViewPoint() && (l('click viewpoint sidebar'), v.send(n, {
          type: 'statistics',
          subtype: 'click',
          customInfo: 'viewPointSidebar'
        })))
      },
      V.reset = function () {
        var e = this;
        l('reset'),
        e.off(),
        e.bindEvent(),
        e.setState('idle'),
        e.isToolbar() && (e.hasImpressed = !1);
        var t = e.template;
        t && t.reset && t.reset()
      },
      V.open = function () {
        var e = this;
        e.emit('open')
      },
      V.isPlayable = function () {
        var e = this;
        return !e.error
      },
      V.checkOnlyPlay = function () {
        var e = this,
        t = e.getVal('pageUrl'),
        n = f.get(t, 'query.onlyplay');
        n && (g.isAdMatch(e, n) ? (l('onlyplay mode match and direct play', n), e.play())  : e.emit('error', new I('ad is banned by onlyplay')))
      },
      V.abort = function () {
        var e = this;
        e.aborted = !0,
        l('abort'),
        e.emit('end', {
          type: 'abort'
        })
      },
      V.getCuepointType = function () {
        var e = this;
        return e.slot.cuepointType
      },
      V.sendThirdPartyPingback = function (e) {
        var t = this;
        v.send(t, f.extend({
          type: 'statistics',
          subtype: 'tps'
        }, e))
      },
      V.tryParseAndMergeVastStr = function (e) {
        var t = this;
        if (e) {
          var n = b.parse(e);
          return l('parsed vast', n, e),
          n.isEmpty ? (l('empty vast'), void t.sendThirdPartyPingback({
            errorCode: 904,
            errorMessage: e
          }))  : n.error ? (l('vast xml parse error', n.error), void t.sendThirdPartyPingback({
            errorCode: 903,
            errorMessage: e
          }))  : (b.replaceMacro(n, t.settle), n.clickThrough && (t.clickThrough = n.clickThrough), t.dspIcon || (t.dspIcon = n.icon), t.impressionTracking.thirdPartyTracking = f.union(t.impressionTracking.thirdPartyTracking, n.impressionTrackings), t.clickTracking.thirdPartyTracking = f.union(t.clickTracking.thirdPartyTracking, n.clickTrackings), f.forIn(n.eventTracking, function (e, n) {
            t.eventTracking[n] = t.eventTracking[n] || [
            ],
            t.eventTracking[n] = f.union(t.eventTracking[n], e)
          }), t.creative.creativeObject = u(t.creative.templateType, t.creative.creativeObject, n), n)
        }
      },
      V.canPlayNow = function () {
        var e = this;
        if (e.slot.isLinear()) {
          var t = e.slot.ads[e.index() - 1];
          if (t && !t.isEnded() && !t.error) return !1
        }
        return !0
      },
      V.bindEvent = function () {
        var e = this;
        return o(e),
        e
      },
      V.index = function () {
        var e = this;
        return f.indexOf(e.slot.ads, e)
      },
      V.format = function () {
        var e = this;
        return {
          adZoneId: e.slot.adZoneId,
          templateType: e.creative.templateType,
          orderItemId: e.orderItemId
        }
      },
      V.tryPlayNextAd = function () {
        var e = this,
        t = e.index(),
        n = e.slot.ads[t + 1];
        n ? n.skipped ? n.tryPlayNextAd()  : (l('play next ad'), n.play())  : e.skipped || e.aborted ? e.slot.end()  : e.slot.complete()
      },
      V.replaceCommon3rdMacro = function (e, t) {
        var n = this;
        e = e || '',
        e = f.trim(e);
        var i = n.getVal('userIP'),
        r = n.getVal('cupidUserId'),
        o = n.getVal('uaaUserId'),
        a = n.getVal('requestId'),
        c = {
          '[UDID]': r,
          '[M_IDFA]': o,
          '[IDFA]': r,
          '[IQIYI_HCID]': r,
          '[IQIYI_FCID]': o,
          '[QIYI_ID]': o,
          __UDID__: r,
          __IP__: i,
          '[M_ADIP]': i,
          '[M%5fADIP]': i,
          __QRID__: a,
          __REQUESTID__: a,
          '[QIYI_AUTHCOOKIE]': n.getVal('passportCookie'),
          '[IQIYI_OFFSET]': n.getPlayedTime(),
          __MOBILETYPE__: 1,
          CUPID_IAP: '2_20_201'
        };
        f.extend(c, n.macroSubstitutionMap);
        var u,
        d = {
        },
        p = !0;
        f.each(f.compact(n.ies), function (i) {
          var r = f.some(i.domain, function (t) {
            return !!s(t, e) && (u = t, !0)
          });
          if (r) if (isNaN(t)) p = !0,
          d = f.extend(d, i.macroSubstitutionMap);
           else {
            var o = u + '_' + t;
            if (n.iesKeyReplaced[o]) return p = !1,
            !1;
            var a = f.extend({
            }, i.macroSubstitutionMap);
            for (var c in a) a[c] = a[c] + '_' + t;
            d = f.extend(d, a)
          }
        });
        var v = e;
        if (p && !A.empty(d) && (v = g.replaceMap(v, d, !0), l('replace url macro', e, v), v !== e)) {
          var h = u + '_' + t;
          n.iesKeyReplaced[h] = !0
        }
        e = g.replaceMap(v, c, !0);
        var m = g.getCalibratedTime();
        return e = g.replaceTimeMacro(e, m)
      },
      V.replace3rdTrackingMacro = function (e, t) {
        var n = this;
        return e = f.trim(n.replaceCommon3rdMacro(e, t))
      },
      V.replaceClickThroughMacro = function (e) {
        var t = this,
        n = t.replaceCommon3rdMacro(e || t.clickThrough, 1);
        return n
      },
      V.getUseableClickThrough = function (e) {
        var t = this;
        return f.trim(t.replaceClickThroughMacro(e || t.clickThrough))
      },
      V.hasDspIcon = function () {
        var e = this;
        return !(1 != e.isDSP || !e.dspIcon)
      },
      V.putIcon = function (e, t) {
        var n = this,
        i = 25;
        return t = t || {
        },
        /\.qiyipic\.com/.test(e) && (e = e.replace(/\.qiyipic\.com/, '.iqiyipic.com')),
        g.loadImage(e).then(function (r) {
          return n.$adzone ? (l('put icon', e), $(r).css({
            bottom: (t.bottom || 0) + 'px',
            left: (t.left || 0) + 'px',
            width: i + 'px',
            height: i + 'px',
            position: 'absolute'
          }), n.$adzone.append(r), n.elements.push(r), r)  : new Error('no adzone')
        })
      },
      V.getAdInfo = function () {
        return g.getAdInfo(this)
      },
      V.getBaseInfo = function () {
        var e = this,
        t = {
          id: e.id,
          orderItemId: e.orderItemId,
          adZoneId: e.slot.adZoneId,
          templateType: e.creative.templateType,
          startTime: e.slot.startTime
        };
        return t
      },
      V.getPlainInfo = function () {
        var e = this;
        return f.extend(e.getBaseInfo(), e.creative.creativeObject)
      },
      V.isNormalRoll = function () {
        return 0 == this.deliverType || !this.deliverType
      },
      V.isPMP = function () {
        return 1 == this.deliverType
      },
      V.isTrueView = function () {
        return 2 == this.deliverType
      },
      V.isVIPAd = function () {
        return 3 == this.deliverType
      },
      V.isOriginalRoll = function () {
        return 4 == this.deliverType
      },
      V.isSportsVipAd = function () {
        return 7 == this.deliverType
      },
      V.isSkippableByVideoTypeAndVipType = function () {
        function e(e, t) {
          return e & t
        }
        var t = this,
        n = t.getParentByName('sdk'),
        i = t.getParentByName('view');
        if (!n.isVIP) return !1;
        var r = i.videoInfo || {
        },
        o = n.vipCheckResult || {
        },
        a = r.videoType || 0,
        s = o.userVipType || 0,
        c = C.adSkipVipMap || {
        },
        u = c[a];
        if (!u) return !0;
        if (u.positive) {
          var d = f.sum(u.positive);
          return e(s, d) > 0
        }
        if (u.negative) {
          var l = f.sum(u.negative);
          return e(s, l) !== s
        }
      },
      V.isSkippableByDeliverType = function () {
        var e = this;
        return e.isTrueView() || e.isVIPAd() || e.isSportsVipAd()
      },
      V.isSkippable = function () {
        var e = this;
        return e.isSkippableByDeliverType() || e.isSkippableByVideoTypeAndVipType()
      },
      V.parseImpressionTime = function (e, t) {
        var n = f.endsWith(e, '%'),
        i = parseFloat(e);
        n && (e = t * i / 100);
        var r = e >= 0 && e <= t;
        return r || (e = t / 2),
        e = parseInt(e)
      },
      V.parseSkipTime = function (e, t) {
        e = parseInt(e);
        var n = e >= 0 && e <= t;
        return n || (e = Math.min(5, t)),
        e
      },
      V.getPlayedTime = function () {
        var e = this,
        t = e.duration || 0,
        n = e.remain || 0;
        return t - n
      },
      V.getSkippedType = function () {
        var e = {
          2: 1,
          3: 2,
          7: 5
        };
        return e[this.deliverType]
      }
    }).call(t, n(26), function () {
      return this
    }())
  },
  function (e, t) {
    function n(e) {
      return e = e || 7,
      Math.random().toString(35).substr(2, e)
    }
    e.exports = n
  },
  function (e, t, n) {
    (function (t) {
      function i(e, t) {
        var n = this;
        e instanceof o && (n.context = e),
        n.eventName = s.normalizeEventName(t),
        n.eventCode = s.getEventCodeByName(n.eventName)
      }
      var r = n(19) ('tracking'),
      o = n(43),
      a = n(71),
      s = n(140);
      e.exports = i,
      i.send = function (e, t) {
        var n = new i(e, t);
        n.sendAll()
      };
      var c = i.prototype;
      c.sendAll = function () {
        var e = this;
        e.sendCupid(),
        e.sendExchange(),
        e.sendThirdParty()
      },
      c.sendCupid = function () {
        var e = this,
        n = e.context;
        if (n.isContext('ad')) {
          var i = t.get(n, 'iqiyiTracking.cupidTracking') || {
          };
          if (t.includes(i.events, e.eventCode)) {
            var r = i.trackingParam;
            s.send({
            }, r, n, 'cupid', e.eventName)
          }
        }
      },
      c.sendExchange = function () {
        var e = this,
        n = e.context;
        if (n.isContext('ad')) {
          var i = t.get(n, 'iqiyiTracking.exchangeTracking') || {
          };
          if (t.includes(i.events, e.eventCode)) {
            var r = i.trackingParam;
            s.send({
            }, r, n, 'exchange', e.eventName)
          }
        }
      },
      c.sendThirdParty = function () {
        var e = this,
        n = e.getThirdParty(),
        i = e.context.getVal('pingbackConfig') || {
        },
        o = t.keys(i);
        t.each(n, function (n) {
          r('send', 'thirdParty', e.eventName, n);
          var c = t.find(o, function (e) {
            return t.startsWith(n, e)
          });
          if (c) {
            r('match pingback config', c);
            var u = new s;
            u.context = e.context,
            u.url = n,
            u.isQixiao = !0,
            u._send(function () {
              u.sendPingback(i[c])
            })
          } else a.ping(n)
        })
      },
      c.getThirdParty = function () {
        var e = this,
        n = e.context;
        if (!n.isContext('ad')) return [];
        var i = e.eventName,
        r = t.get(n, i + 'Tracking.thirdPartyTracking'),
        o = t.get(n, [
          'eventTracking',
          i
        ]),
        a = t.compact(t.union(r, o));
        return t.map(a, function (t) {
          return n.replace3rdTrackingMacro(t, e.eventCode)
        })
      }
    }).call(t, n(8))
  },
  function (e, t, n) {
    (function (t) {
      function i() {
      }
      var r = n(20).getLogger('qiyi-tracking'),
      o = n(71),
      a = n(43),
      s = n(93),
      c = n(104),
      u = n(60),
      d = n(59),
      l = n(134),
      p = t.is;
      e.exports = i;
      var f = {
        impression: 0,
        click: 1,
        push: 2,
        trueview: 3,
        start: 10,
        firstQuartile: 11,
        midpoint: 12,
        thirdQuartile: 13,
        complete: 14,
        downloadStart: 20,
        downloaded: 21
      },
      v = {
        '1q': 'firstQuartile',
        mid: 'midpoint',
        '3q': 'thirdQuartile',
        stop: 'complete',
        sp: 'complete'
      },
      h = {
        type: 'a',
        timestamp: 'b',
        videoEventId: 'r',
        securityCode: 's',
        md5Version: 've',
        uploadId: 'up',
        clientVersion: 'cv',
        sdkVersion: 'sv',
        startTime: 'st'
      },
      m = s(h);
      i.getEventCodeByName = function (e) {
        var t = f[e];
        return t
      },
      i.normalizeEventName = function (e) {
        return e = v[e] || e
      },
      i.send = function (e, t, n, r, o) {
        var a = new i;
        a.init(n).addTrackingParam(t).addUncompressedParam(e).setType(r).setEvent(o).send(function () {
          a.sendPingback()
        })
      },
      i.encryptCupid = function (e, n) {
        e.b = o.getTrackingTime();
        var i = t.map('a b c d r'.split(' '), function (t) {
          return void 0 == e[t] || null == e[t] ? n[t] : e[t]
        });
        e.s = c(i.join('') + 'cupid')
      },
      i.encryptExchange = function (e, n) {
        e.b = o.getTrackingTime();
        var i = t.map('a v b c r d q'.split(' '), function (t) {
          return void 0 == e[t] || null == e[t] ? n[t] : e[t]
        });
        e.s = c(i.join('') + 'qax-track')
      },
      i.cupidUrl = l.cupidUrl + '/track2',
      i.exchangeUrl = l.cupidUrl + '/etx';
      var g = i.prototype;
      g.init = function (e) {
        var t = this;
        return t.compressedParam = {
        },
        t.uncompressedParam = {
        },
        t.trackingParam = {
        },
        e instanceof a && (t.context = e),
        t
      },
      g.addCompressedParam = function (e) {
        return t.extend(this.compressedParam, e),
        this
      },
      g.addUncompressedParam = function (e) {
        return t.extend(this.uncompressedParam, e),
        this
      },
      g.addTrackingParam = function (e) {
        return t.extend(this.trackingParam, e),
        this
      },
      g.setType = function (e) {
        var t = this,
        n = 'exchange' == e;
        return t.isExchange = n,
        t.type = 'cupid',
        n && (t.type = 'exchange'),
        this
      },
      g.addFrontendParam = function () {
        var e = this,
        t = {
          md5Version: 1
        },
        n = e.context;
        return n && (t.uploadId = n.getVal('uploadId'), t.clientVersion = n.getVal('clientVersion'), t.sdkVersion = n.getVal('sdkVersion'), t.videoEventId = n.getVal('videoEventId'), t.startTime = n.getVal('startTime') || 0),
        e.addUncompressedParam(t),
        e
      },
      g.mergeUncompressedParam = function () {
        var e = this,
        t = m(e.uncompressedParam);
        return e.addCompressedParam(t),
        e
      },
      g.setEvent = function (e) {
        var t = this;
        return t.eventName = i.normalizeEventName(e),
        t.eventCode = i.getEventCodeByName(t.eventName),
        t.compressedParam.a = t.uncompressedParam.type = t.eventCode,
        t
      },
      g.encryptParam = function () {
        var e = this,
        t = i.encryptCupid;
        return e.isExchange && (t = i.encryptExchange),
        t(e.compressedParam, e.trackingParam),
        e
      },
      g.getUrl = function () {
        var e = this,
        n = i.cupidUrl,
        r = '';
        e.isExchange && (n = i.exchangeUrl);
        var o = e.compressedParam || {
        },
        a = e.trackingParam || {
        },
        s = {
        };
        return t.forIn(o, function (e, n) {
          t.has(a, n) || (s[n] = e)
        }),
        p.empty(a) || (r = '&' + u.stringify(a, '&', '=', {
          keepRaw: !0
        })),
        n = n + '?' + u.stringify(s) + r,
        e.url = n,
        e
      },
      g._send = function (e) {
        var n = this;
        r.debug('send', n.type, n.eventName),
        r.verbose('verbose send', n.type, n.eventName, n.uncompressedParam, n.compressedParam, n.context.getInfo());
        var i = t.now(),
        a = n.url;
        return o.isHttps() && (a = a.replace(/^http:/, 'https:')),
        r.debug('url', a),
        $.ajax({
          url: a,
          dataType: 'jsonp',
          jsonp: 'cb',
          timeout: 10000,
          success: function (r, o, a) {
            n.response = {
              textStatus: o,
              duration: t.now() - i,
              data: r,
              status: o
            },
            e()
          },
          error: function (r, o, a) {
            n.response = {
              textStatus: o,
              duration: t.now() - i,
              data: a,
              status: o
            },
            e()
          }
        }),
        n
      },
      g.send = function (e) {
        var t = this;
        return t.addFrontendParam().mergeUncompressedParam().encryptParam().getUrl()._send(e)
      },
      g.sendPingback = function (e) {
        var n,
        i = this,
        a = {
          type: 'tracking',
          subtype: 'success',
          requestCount: - 1
        },
        s = i.response;
        t.includes(s.data, 'ok') ? (r.verbose('response success', s), a.requestDuration = s.duration)  : (r.error('error', s), a.subtype = 'error', n = 601, 'timeout' == s.textStatus ? n = 602 : 'success' != s.textStatus && (n = 603)),
        i.isExchange ? (a.type = 'exchange', p.number(n) && (n += 500))  : i.isQixiao && (a.type = void 0, p.number(n) && (n += 900)),
        a.errorCode = n;
        var c = i.context;
        i.context.isContext('slot') && (c = {
          slot: i.context
        }),
        a.adInfo = o.getAdInfo(c),
        d.send(i.context, a, e)
      }
    }).call(t, n(8))
  },
  function (e, t, n) {
    function i() {
      return o || (o = $('#flash') [0]),
      !!o || (a('fail to find #flash'), !1)
    }
    function r(e, t) {
      if (i()) try {
        o[e](t),
        a(e, t)
      } catch (n) {
      }
    }
    var o,
    a = n(19) ('call-flash');
    t.click = function (e) {
      r('onPageAdClickThrough', e),
      r('onPageAdClickPb', e)
    },
    t.impression = function (e) {
      r('onPageAdImpression', e)
    },
    t.creative = function (e) {
      e && (e.type = 'c', r('onPageAdPb', e))
    }
  },
  function (e, t, n) {
    (function (e) {
      function i(t) {
        return e.trim(t.text())
      }
      var r = n(71),
      o = e.is;
      t.parse = function (n) {
        var a,
        s = {
        };
        if (o.string(n)) try {
          a = r.parseXML(n)
        } catch (c) {
          s.error = c
        } else a = n;
        if (a) {
          var u = $(a),
          d = u.find('Ad').eq(0),
          l = d.find('Wrapper'),
          p = d.find('InLine');
          l[0] && (s.redirect = i(l.find('VASTAdTagURI')));
          var f = l[0] || p[0];
          if (f) {
            var v = $(f);
            s.impressionTrackings = e.compact(e.map(v.find('Impression'), function (e) {
              return i($(e))
            }));
            var h = v.find('Creatives').find('Creative').eq(0);
            if (h[0]) {
              var m = h.find('Linear');
              s.duration = i(m.find('Duration')),
              s.adParameters = i(m.find('AdParameters')),
              s.clickThrough = i(m.find('VideoClicks').find('ClickThrough')),
              s.icon = i(m.find('Icons').find('Icon').find('StaticResource'));
              var g = m.find('MediaFiles').find('MediaFile');
              s.creativeUrl = i(g),
              s.creativeWidth = e.trim(g.attr('width')),
              s.creativeHeight = e.trim(g.attr('height')),
              s.clickTrackings = e.compact(e.map(m.find('VideoClicks').find('ClickTracking'), function (e) {
                return i($(e))
              }));
              var y = m.find('TrackingEvents').find('Tracking'),
              b = s.eventTracking = {
              };
              e.each(y, function (t) {
                var n = $(t),
                r = e.trim(n.attr('event'));
                o.array(b[r]) || (b[r] = [
                ]);
                var a = i(n);
                a && b[r].push(a)
              })
            }
          }
        }
        return s.isEmpty = t.isEmptyVast(a),
        s
      },
      t.isEmptyVast = function (e) {
        return null == $(e).find('Ad').children() [0]
      },
      t.replaceMacro = function (t, n) {
        if (t && n) {
          var i = '${SETTLEMENT}';
          e.each('redirect clickThrough creativeUrl'.split(' '), function (e) {
            t[e] = r.replacePlain(t[e], i, n)
          }),
          t.clickTrackings = e.map(t.clickTrackings, function (e) {
            return r.replacePlain(e, i, n)
          }),
          t.impressionTrackings = e.map(t.impressionTrackings, function (e) {
            return r.replacePlain(e, i, n)
          }),
          e.mapValues(t.eventTracking, function (t, o) {
            return e.map(t, function (e) {
              return r.replacePlain(e, i, n)
            })
          })
        }
        return t
      },
      t.appendToAd = function (e, t) {
      }
    }).call(t, n(8))
  },
  function (e, t, n) {
    (function (e) {
      var i = n(144),
      r = n(145),
      o = n(146),
      a = n(147),
      s = n(152),
      c = n(153),
      u = {
        roll: i,
        relatedapp: i,
        h5_relatedapp: a,
        movieticket: c,
        html: s,
        theatre: r,
        image: o
      };
      t.init = function (t) {
        var n = t.creative.templateType,
        i = u[n];
        if (e.mobile() && 'relatedapp' == n && (i = a), i) return new i(t)
      }
    }).call(t, n(24))
  },
  function (e, t, n) {
    (function (i, r) {
      function o(e) {
        var t = this;
        a.call(t, e);
        var n = t.creativeObject = e.creative.creativeObject;
        t.isTranslator() && (e.creative.templateType = 'translator->' + e.creative.templateType, t.creativeUrl = n.finalUrl, t.log = c.getLogger(e.creative.templateType + ':' + (e.orderItemId || e.id)));
        var r = e.getParentByName('sdk');
        r && (t.video = r.video),
        t.video && (t.$adContainer = r.video.$adContainer, t.$video = r.video.$video, e.$adzone = t.$adzone = t.$adContainer),
        e.$adzone.data('adzone', e.getVal('adZoneId')),
        t.effect = {
          duration: 500,
          type: 'appear'
        },
        t.isOutVideo = !1,
        t.isRatioFixed = !0,
        t.canExpand = !0,
        t.waitingTimer = new l(1000, 15),
        t.waitingTimer.on('timerComplete', function () {
          t.video.paused() || (e.emit('error', new u('waiting too long', {
            creativeUrl: t.creativeUrl
          }, d.CREATIVE_ERROR)), e.abort())
        }),
        t.on('error', function (n) {
          n.data = {
            creativeUrl: t.creativeUrl
          },
          e.emit('error', n),
          t.video && t.video.getCurrentAd() == e && e.abort()
        }),
        t.creativeUrl = t.creativeUrl || n.url,
        t.renderType = 'roll',
        t.renderType = t.renderType || n.renderType || s.getRenderType(t.creativeUrl),
        t.creativeMode = t.creativeMode || n.creativeMode,
        t.creativeMode = i.lower(t.creativeMode),
        t.size = {
        },
        t.log.debug('render type', t.renderType, n, e.creative.templateType, t.creativeMode),
        i.includes(['roll'], t.renderType) || t.ad.emit('error', new u('unknown render type', {
          creativeUrl: t.creativeUrl
        }, d.UNKNOWN_RENDER_TYPE)),
        t.hasPlaying = !1
      }
      var a = n(145),
      s = n(71),
      c = n(20).Log,
      u = n(75),
      d = n(73),
      l = n(90),
      p = n(139);
      e.exports = t = o,
      i.inherits(o, a);
      var f = o.prototype;
      f.load = function () {
        var e,
        t = this,
        n = t.ad,
        i = n.getParentByName('sdk');
        return new r(function (r, o) {
          if (t.isEnded()) return o(new Error('has ended'));
          t.log.debug('load');
          var a = 'mp4',
          c = i.formatType;
          'm3u8' == c && (a = 'vid'),
          n.on('video-playing', function () {
            t.onFirstPlaying()
          });
          var l = s.chooseAdVideoByVideoDefinition(n.creative.creativeObject, n.slot.request.view.videoDefinition, a);
          l ? (t.log.debug('matched ad video', l), t.creativeUrl = l.video, 'mp4' == a && (t.creativeUrl += '?pv=0.2'), n.matchedVideo = l, r())  : (e = new u('fail to match ad video', n.creative.creativeObject, d.BAD_CREATIVE_OBJECT), n.emit('error', e), o(e))
        })
      },
      f.putOnDocument = function () {
        var e = this;
        e.$adzone && (s.tryAppend(e.$adzone, e.creativeElement), e.$adzone.parent().get(0) || s.tryAppend(e.$adContainer, e.$adzone))
      },
      f.onFirstPlaying = function () {
        var e = this;
        if (!e.hasPlaying) {
          e.hasPlaying = !0;
          var t = e.ad,
          n = t.slot.request,
          i = n.view;
          i.stopVideo(n.getRollName()),
          t.remain = t.duration,
          e.log.debug('on first playing'),
          e.ad.emit('impression'),
          e.initProgress(),
          e.slotDuration = s.countAdsDuration(t.slot.ads);
          var r = {
          },
          o = e.video,
          a = 'normal';
          if (o.trySetOptions({
            theme: a,
            ad: t
          }), t.isSportsVipAd()) {
            var c = t.creative.creativeObject.vipTitle,
            u = t.creative.creativeObject.vipLogo;
            e.log.debug('vip', c, u),
            u && o.$adContainer.find('.vip-logo').attr({
              src: u
            }),
            c ? o.$adContainer.find('.vip-title').text(c)  : o.$adContainer.find('.brand-wrapper').hide()
          }
          r.bottom = o.getControlsHeight() + 10,
          r.left = 25,
          t.hasDspIcon() && t.putIcon(t.dspIcon, r),
          1 == t.targetedAd && (e.log.debug('precise ad and add icon'), t.putIcon('http://pic9.iqiyipic.com/common/20161221/privacy.png', r).then(function (e) {
            $(e).on('click', function () {
              s.open('http://www.iqiyi.com/common/secret.html')
            })
          })),
          1 / 0 != e.ad.duration && e.updateCountdown()
        }
      },
      f.updateCountdown = function () {
        var e = this,
        t = e.ad;
        e.onFirstPlaying();
        var n = t.slot.ads,
        r = NaN,
        o = i.slice(n, t.index() + 1);
        return r = t.remain + s.countAdsDuration(o),
        1 == n.length ? e.log.debug('countdown', t.remain + '/' + t.duration)  : e.log.debug('countdown', t.remain + '/' + t.duration, r + '/' + e.slotDuration),
        r < 0 ? (e.log.debug('countdown < 0 不应该发生'), void t.abort())  : void (isNaN(r) ? e.log.debug('countdown NaN')  : e.video.updateCountdown(r))
      },
      f.getDuration = function () {
        var e = this,
        t = e.creativeObject.duration;
        return t && t != 1 / 0 && (t = parseInt(t)),
        t
      },
      f.initProgress = function () {
        var e = this,
        t = e.ad,
        n = [
        ];
        n = [
          {
            position: 0.25,
            event: '1q'
          },
          {
            position: 0.5,
            event: 'mid'
          },
          {
            position: 0.75,
            event: '3q'
          },
          {
            position: 1,
            event: 'sp'
          }
        ];
        var r = i.once(function () {
          e.timer && e.timer.stop(),
          e.timer = null,
          t.skipped || i.remove(n, function (e) {
            return p.send(t, e.event),
            t.emit('pingback', {
              subtype: e.event
            }),
            !0
          });
          var r = e.getActualVideoLeftDuration();
          r > 0 && r < 1 ? setTimeout(function () {
            e.ad.emit('complete', {
              type: 'timer-complete'
            })
          }, 1000)  : e.ad.emit('complete', {
            type: 'timer-complete'
          })
        }),
        o = e.getDuration();
        if (o > 0 && 1 / 0 != o) {
          var a = t.getParentByName('sdk'),
          c = function () {
            var r = a.formatType,
            o = a.video.intCurrentTime();
            if ('m3u8' == r) {
              var c = s.countAdsDuration(i.slice(t.slot.ads, 0, t.index() + 1));
              t.remain = c - o
            } else 'mp4' == r && (t.remain = t.duration - o);
            e.updateCountdown();
            var u = t.getParentByName('view');
            u && u.adPlayedDurationInView++,
            i.remove(n, function (n) {
              var i = Math.round(t.duration * n.position);
              if (t.duration - t.remain == i) return e.log.debug('match quartile', n.event, i),
              p.send(t, n.event),
              t.emit('pingback', {
                subtype: n.event
              }),
              !0
            })
          };
          t.on('video-timeupdate', c)
        }
        t.on('video-playing', function () {
          e.timer && !e.timer.running && e.resume()
        }),
        t.on('video-ended', function () {
          r()
        })
      },
      f.loadRollToVideo = function () {
        var e = this;
        if (e.isRoll()) {
          var t = e.ad,
          n = e.creativeUrl,
          i = e.video;
          t.once('video-waiting', function () {
            i.paused() || e.hasPlaying || e.waitingTimer && e.waitingTimer.start()
          });
          var r = function () {
            e.waitingTimer && e.waitingTimer.reset(),
            t.canPlayNow() ? (e.onFirstPlaying(), t.off('video-playing', r))  : e.log.debug('invalid playing')
          };
          t.on('video-playing', r);
          var o = {
            file: n,
            id: t.id,
            offset: parseInt(t.slot.startTime),
            videoEventId: t.getVal('videoEventId')
          };
          e.log.debug('video load', o, o.videoEventId),
          i.load(o)
        }
      },
      f.play = function () {
        var e = this;
        return e._play()
      },
      f.tryStopLastAdByAdZone = function () {
        var e = this;
        if (e.$adzone) {
          var t = e.$adzone.data('adId');
          if (t && t != e.ad.id) {
            var n;
            if (e.ad.isExternal) n = e.ad.externalAdMap;
             else {
              var i = e.ad.getParentByName('sdk');
              i && (n = i.adMap)
            }
            if (n) {
              var r = n[t];
              r && r.emit('complete', {
                type: 'adzone-covered'
              })
            }
          }
        }
      },
      f._play = function () {
        var e = this;
        return new r(function (t, n) {
          return e.log.debug('play'),
          e.isEnded() ? n('ended')  : t()
        })
      },
      f.resume = function () {
        var e = this;
        return e.log.debug('resume'),
        e.timer && e.timer.start(),
        r.resolve()
      },
      f.pause = function () {
        var e = this;
        e.log.debug('pause'),
        e.timer && e.timer.stop(),
        e.waitingTimer && e.waitingTimer.stop()
      },
      f.getActualVideoLeftDuration = function () {
        var e = this.video,
        t = 0;
        return e && (t = e.duration() - e.currentTime()),
        t
      },
      f.stop = function (e) {
        var t = this;
        e = e || {
        },
        t.log.debug('stop', e),
        t.timer && t.timer.stop(),
        t.timer = null,
        t.waitingTimer && t.waitingTimer.stop(),
        t.waitingTimer = null,
        t.checkTimer && t.checkTimer.stop(),
        t.checkTimer = null,
        t.isStoped = !0,
        'left-to-right' == t.effect.direction ? t.$adzone.animate({
          left: 0 - t.size.computedWidth + 'px'
        }, t.effect.duration, 'swing', function () {
          t.destroyAdzone()
        })  : t.destroyAdzone(),
        t.video && t.video.getCurrentAd() == t.ad && t.video.trySetOptions()
      },
      f.destroyAdzone = function () {
        var e = this;
        e.$adzone.removeAttr('data-adzone')
      },
      f.reset = function () {
        var e = this;
        e.isStoped = !1,
        e.hasPlaying = !1
      },
      f.resize = function (e) {
        var t = this;
        if (!t.isEnded()) {
          var n = t.size,
          i = t.creativeObject;
          t.video && (n.videoWidth = t.$video.width(), n.videoHeight = t.$video.height()),
          n.creativeWidth = i.width,
          n.creativeHeight = i.height,
          n.creativeWidth = n.creativeWidth || t.size.creativeRawWidth || 300,
          n.creativeHeight = n.creativeHeight || t.size.creativeRawHeight || 250;
          var r = i.width == t.size.creativeRawWidth && i.height == t.size.creativeRawHeight;
          if (r || t.log.debug('实际尺寸与填写尺寸不同'), t.isRatioFixed) {
            var o = [
              600,
              500
            ];
            n.boxWidth = i.width,
            n.boxHeight = i.height,
            n.boxWidth = n.boxWidth || o[0],
            n.boxHeight = n.boxHeight || o[1],
            n.boxWidth = Math.min(n.boxWidth, n.videoWidth),
            n.boxHeight = Math.min(n.boxHeight, n.videoHeight);
            var a = s.getScalingRange({
              width: n.creativeWidth,
              height: n.creativeHeight
            }, {
              width: n.boxWidth,
              height: n.boxHeight
            });
            a.max && (t.canExpand ? n.scale = a.max : n.scale = Math.min(a.max, 1), n.computedWidth = n.creativeWidth * n.scale, n.computedHeight = n.creativeHeight * n.scale)
          } else n.displayWidth = n.displayWidth || n.creativeWidth,
          n.displayHeight = n.displayHeight || n.creativeHeight,
          n.computedWidth = n.displayWidth,
          n.computedHeight = n.displayHeight;
          if (n.computedWidth && n.computedHeight) {
            t.setPosition();
            var c = n.x;
            e && 'left-to-right' == t.effect.direction && (c = 0 - n.computedWidth),
            t.$adzone.css({
              width: n.computedWidth,
              height: n.computedHeight,
              top: n.y,
              left: c
            }),
            'move' == t.effect.type && t.$adzone.animate({
              left: n.x + 'px'
            }, t.effect.duration, 'swing')
          } else t.log.debug('fail to resize');
          t.log.debug('resize', n)
        }
      },
      f.setPosition = function () {
        var e = this,
        t = e.size,
        n = 0,
        i = 0;
        t.x = n,
        t.y = i
      },
      f.isEnded = function () {
        return this.isStoped
      }
    }).call(t, n(8), n(26))
  },
  function (e, t, n) {
    (function (i, r) {
      function o(e) {
        var t = this;
        if (a.call(t), t.ad = e, t.creativeObject = e.creative.creativeObject, t.log = c.getLogger(e.creative.templateType + ':' + (e.orderItemId || e.id)), t.ad.isPage()) {
          var n = t.ad.getVal('adZoneId'),
          i = document.getElementById(n);
          if (!i) return t.ad.emit('error', new u('fail to find adzone', {
            adZoneId: n
          }, d.NO_ADZONE)),
          void t.ad.abort();
          t.$adzone = $(i)
        } else t.$adzone = $('<div>');
        t.ad.isPage() && t.log.debug('creativeObject', t.creativeObject),
        e.$adzone = t.$adzone
      }
      var a = n(44),
      s = n(71),
      c = n(20).Log,
      u = n(75),
      d = n(73);
      e.exports = t = o,
      i.inherits(o, a);
      var l = o.prototype;
      l.load = function () {
        return r.resolve()
      },
      l.emitCreativeError = function (e, t) {
        var n = this.ad;
        'timeout' == e ? n.emit('error', new u('creative timeout', {
          creativeUrl: t
        }, d.CREATIVE_TIMEOUT))  : n.emit('error', new u('creative http error', {
          creativeUrl: t
        }, d.CREATIVE_HTTP_ERROR))
      },
      l.loadImage = function (e, t) {
        var n = this;
        return t = t || 30000,
        s.loadImage(e, t).caught(function (t) {
          return 'timeout' === t ? n.emitCreativeError('timeout', e)  : n.emitCreativeError('error', e),
          r.reject(t)
        })
      },
      l.getDuration = function () {
        return 1 / 0
      },
      l.onFirstPlaying = function () {
        var e = this;
        e.hasPlaying || (e.hasPlaying = !0, e.ad.isPage() && e.$adzone && e.$adzone.show().css({
          overflow: 'hidden'
        }), e.ad.emit('impression'))
      },
      l.play = function () {
      },
      l.resume = function () {
      },
      l.abort = function () {
      },
      l.stop = function () {
      },
      l.pause = function () {
        this.ad.paused = !0
      },
      l.resize = function () {
      },
      l.getType = function () {
        return this.ad.creative.templateType
      },
      l.isRoll = function () {
        return 'roll' == this.getType()
      },
      l.isTranslator = function () {
        return 'translator' == this.getType() || 'translator' == this.ad.creative.oldTemplateType
      }
    }).call(t, n(8), n(26))
  },
  function (e, t, n) {
    (function (t, i) {
      function r(e) {
        var t = this;
        o.call(t, e)
      }
      var o = n(145),
      a = n(89).template,
      s = n(71);
      e.exports = r,
      t.inherits(r, o);
      var c = r.prototype;
      c.load = function () {
        var e = this;
        return e.ad.emit('creativeLoad'),
        e.loadImage(e.creativeObject.url).then(function (t) {
          e.imageHeight = t.height,
          e.imageWidth = t.width
        })
      },
      c.play = function () {
        var e = this,
        t = e.creativeObject,
        n = $('<div>'),
        r = t.url.replace(/^http:/, '');
        e.ad.clickThrough && (n = $('<a>'), n.attr({
          href: e.ad.clickThrough,
          target: '_blank'
        })),
        n.css({
          height: e.imageHeight + 'px',
          position: 'relative',
          display: 'block',
          margin: '0 auto',
          background: a('url("{url}") 50% 50% no-repeat', {
            url: r
          })
        }).attr({
          href: e.ad.clickThrough || '',
          rel: 'external nofollow'
        }),
        n.width() || n.css('width', e.imageWidth + 'px'),
        0 != t.needAdBadge && (e.log.debug('add ad badge'), s.addAdBadge(n));
        var o = e.$adzone;
        return o.empty().append(n),
        n.on('click', function (t) {
          return e.ad.emit('clickAndOpen'),
          !1
        }),
        i.resolve().then(function () {
          return e.onFirstPlaying()
        })
      }
    }).call(t, n(8), n(26))
  },
  function (e, t, n) {
    (function (t, i, r) {
      function o(e) {
        var t = this;
        a.call(t, e)
      }
      var a = n(145),
      s = n(89).template;
      e.exports = o,
      t.inherits(o, a);
      var c = o.prototype;
      c.load = function () {
        var e = this;
        return e.ad.emit('creativeLoad'),
        e.creativeObject.icon = e.creativeObject.icon.replace(/^http:/, ''),
        e.loadImage(e.creativeObject.icon)
      },
      c.play = function () {
        var e = this,
        r = e.ad,
        o = r.getParentByName('sdk'),
        a = t.extend({
        }, e.creativeObject);
        a.clickThrough = r.getUseableClickThrough() || 'javascript:;',
        a.detailPage = a.detailPage || r.getUseableClickThrough() || 'javascript:;';
        var c;
        return c = 'h5-new-aura' === o.relatedTheme ? s(n(148), a)  : 'h5-new-low' === o.relatedTheme ? s(n(149), a)  : 'h5-new' === o.relatedTheme ? s(n(150), a)  : s(n(151), a),
        e.$adzone.empty().append($(c)),
        r.once('impression', function () {
          e.sendRelatedAppLongyuanData('impression')
        }),
        r.on('relatedapp', function (t) {
          e.sendRelatedAppLongyuanData(t)
        }),
        e.$adzone.find('a').filter(function () {
          var e = $(this),
          t = e.attr('href') || '';
          return t.length > 2 || void e.attr('href', null)
        }).on('click', function () {
          var e = $(this),
          t = e.attr('target');
          return 'detail' == t ? r.emit('relatedapp', 'detailPage')  : r.emit('relatedapp', 'button'),
          r.emit('clickAndOpen', e.attr('href'), t),
          !1
        }),
        i.resolve().then(function () {
          return e.onFirstPlaying()
        })
      },
      c.sendRelatedAppLongyuanData = function (e) {
        var t = this,
        n = t.ad || {
        },
        i = t.creativeObject,
        o = 'impression' == e,
        a = {
          qpid: i.qipuid,
          appname: i.name,
          apptype: i.appType,
          frsale: n.dspType
        };
        o ? a.t = 21 : (a.t = 20, a.clickType = e);
        var s = 'searchADPingbackCallback';
        t.log.debug('send longyuan data', s, a);
        try {
          r[s](a)
        } catch (c) {
        }
      }
    }).call(t, n(8), n(26), function () {
      return this
    }())
  },
  function (e, t) {
    e.exports = '<div class="m-videoUser-spacing">\n    <div class="m-videoUser-spacingBox">\n        <div class="m-videoUser-spacingItem">\n            <a href="{detailPage}" class="videoUser-data">\n                <div class="videoUser-img" style="background-image:url({icon})">\n                    <div class="c-rt">\n                        <i class="c-picicon-s c-picicon-game">游戏</i>\n                    </div>\n                </div>\n                <div class="videoUser-info">\n                    <div class="videoUser-name">{name}</div>\n                    <div class="videoUser-des">{description}</div>\n                </div>\n            </a>\n            <a href="{clickThrough}" class="videoUser-stow">\n                <span class="c-info">立即下载</span>\n            </a>\n        </div>\n    </div>\n</div>\n'
  },
  function (e, t) {
    e.exports = '<div class="m-box">\n    <div class="m-box-items m-box-items-full">\n        <div class="m-ipRelation m-ipRelation-full m-ipRelation-spacing">\n            <ul class="ipRelation-list">\n                <li>\n                    <a href="{detailPage}" class="link-item">\n                        <div class="img" style="background-image:url({icon})">\n                            <div class="c-rt"><i class="c-picicon-s c-picicon-game">游戏</i></div>\n                        </div>\n                        <div class="info">\n                            <div class="c-title">{name}</div>\n                            <div class="c-des">{description}</div>\n                        </div>\n                    </a>\n                    <a href="{clickThrough}" class="c-handle-link">立即下载</a>\n                </li>\n        </div>\n    </div>\n</div>\n'
  },
  function (e, t) {
    e.exports = '<div class="m-box">\n    <div class="m-box-items m-box-items-full">\n        <div class="m-ipRelation m-ipRelation-full">\n            <ul class="ipRelation-list">\n                <li>\n                    <a href="{detailPage}" class="link-item">\n                        <div class="img" style="background-image:url({icon})">\n                            <div class="c-rt"><i class="c-picicon-s c-picicon-game">游戏</i></div>\n                        </div>\n                        <div class="info">\n                            <div class="c-title">{name}</div>\n                            <div class="c-des">{description}</div>\n                        </div>\n                    </a>\n                    <a href="{clickThrough}" class="c-handle-link">立即下载</a>\n                </li>\n        </div>\n    </div>\n</div>\n'
  },
  function (e, t) {
    e.exports = '<div class="m-box-items m-box-items-full">\n    <div class="m-wl-entrance m-wl-borderT">\n        <a href="{detailPage}" class="m-wl-link" target="detail" rel="external nofollow">\n            <div class="wl-img"><img src="{icon}" width="100%" alt="{name}"></div>\n            <div class="info">\n                <div class="c-title">{name}</div>\n                <div class="c-des"><span class="c-tag">游戏</span>{description}</div>\n            </div>\n        </a>\n        <a href="{clickThrough}" class="c-btn" rel="external nofollow">下载</a>\n    </div>\n</div>\n'
  },
  function (e, t, n) {
    (function (t, i, r) {
      function o(e) {
        var t = this;
        a.call(t, e)
      }
      var a = n(145),
      s = n(71);
      e.exports = o,
      t.inherits(o, a);
      var c = o.prototype;
      c.load = function () {
        var e = this;
        return e.ad.emit('creativeLoad'),
        i.resolve()
      },
      c.play = function () {
        var e = this,
        t = e.creativeObject,
        n = document.createElement('iframe'),
        o = $(n).hide();
        e.$adzone.empty().append(o);
        var a = r.string(o.prop('srcdoc'));
        if (a = !1, e.log.debug('is h5 iframe', a), o.attr({
          frameborder: 0,
          scrolling: 'no',
          height: 150
        }).css({
          width: '100%'
        }).show(), t.srcdoc) {
          e.log.debug('srcdoc', t.srcdoc);
          var c = n.contentDocument;
          if (a) o.attr('srcdoc', t.srcdoc);
           else try {
            c.write(t.srcdoc),
            c.close()
          } catch (u) {
          }
          $(n.contentWindow).on('load', function () {
            $(c.body).css({
              margin: 0,
              padding: 0
            });
            var t = $('ins', c) [0];
            if (t) {
              var n = parseInt(t.style.height, 10);
              n && n <= 300 && (e.log.debug('ins autosize', n, t), o.attr({
                height: n
              }))
            }
          })
        } else t.src && (s.isHttps() && (t.src = t.src.replace(/^http:/, 'https:')), e.log.debug('src', t.src), o.attr('src', t.src));
        return i.resolve().then(function () {
          return e.onFirstPlaying()
        })
      }
    }).call(t, n(8), n(26), n(24))
  },
  function (e, t, n) {
    (function (t, i) {
      function r(e) {
        var t = this;
        o.call(t, e)
      }
      var o = n(145),
      a = n(89).template;
      e.exports = r,
      t.inherits(r, o);
      var s = r.prototype;
      s.load = function () {
        var e = this;
        return e.ad.emit('creativeLoad'),
        e.creativeObject.poster = e.creativeObject.poster.replace(/^http:/, ''),
        e.loadImage(e.creativeObject.poster)
      },
      s.play = function () {
        var e = this,
        r = e.ad,
        o = r.getParentByName('sdk'),
        s = e.creativeObject,
        c = t.extend({
        }, s),
        u = '2D';
        c.imax ? u = 'IMAX 3D' : c['3d'] && (u = '3D'),
        c.dimension = u,
        c.clickThrough = e.ad.getUseableClickThrough() || 'javascript:;';
        var d;
        return d = 'h5-new' === o.relatedTheme ? a(n(154), c)  : a(n(155), c),
        e.$adzone.empty().append($(d)),
        e.$adzone.find('a').filter(function () {
          var e = $(this),
          t = e.attr('href') || '';
          return t.length > 2 || void e.attr('href', null)
        }).on('click', function () {
          var e = $(this);
          return r.emit('clickAndOpen', e.attr('href'), e.attr('target')),
          !1
        }),
        i.resolve().then(function () {
          return e.onFirstPlaying()
        })
      }
    }).call(t, n(8), n(26))
  },
  function (e, t) {
    e.exports = '<div class="m-box">\n    <div class="m-box-items m-box-items-full">\n        <div class="m-ipRelation m-ipRelation-full">\n            <ul class="ipRelation-list">\n                <li>\n                    <a href="{clickThrough}" class="link-item">\n                        <div class="img" style="background-image:url({poster})">\n                            <div class="c-rt"><i class="c-picicon-s c-picicon-film">电影票</i></div>\n                        </div>\n                        <div class="info">\n                            <div class="c-title c-title-row">{name}</div>\n                            <div class="c-des"><span class="c-score">{score}</span>{intro}</div>\n                            <div class="c-des"><span class="c-tag">{dimension}</span></div>\n                        </div>\n                    </a>\n                    <a href="{clickThrough}" class="c-handle-link">选座购票</a>\n                </li>\n        </div>\n    </div>\n</div>\n'
  },
  function (e, t) {
    e.exports = '<div class="m-box m-box-bottom m-box-top">\n    <div class="m-box-items">\n        <div class="m-wl-entrance m-wl-largeImg">\n            <a href="{clickThrough}" class="m-wl-link" rel="external nofollow">\n                <div class="wl-img"><img src="{poster}" width="100%" alt="{name}"></div>\n                <div class="info">\n                    <div class="c-title">{name}</div>\n                    <div class="c-des">{intro}</div>\n                    <div class="c-des"><span class="c-tag">电影票</span><span class="c-tag">{dimension}</span>{score}</div>\n                </div>\n                <span class="c-btn">选座购票</span>\n            </a>\n        </div>\n    </div>\n</div>\n'
  },
  function (e, t, n) {
    (function (t) {
      function i(e) {
        var t = this;
        t.log = u.getLogger('theatre:' + e.adZoneId),
        t.sum = 8,
        t.cursor = 0,
        t.slot = e;
        var n = document.getElementById(e.adZoneId);
        n ? t.$adzone = $(n)  : t.error = new Error('fail to find adzone')
      }
      function r(e, t, n) {
        var i = e.length,
        r = t + n,
        o = e.slice(t, r);
        if (t + n > i) {
          r -= i;
          var a = e.slice(0, r);
          o = o.concat(a)
        }
        return o
      }
      var o = n(89).template,
      a = n(71),
      s = n(75),
      c = n(73),
      u = n(20).Log,
      d = t.is,
      l = 'bannerUrl logoUrl posterUrl'.split(' '),
      p = 170,
      f = 20,
      v = 15;
      e.exports = i,
      i.isTheatreSlot = function (e) {
        var n = t.first(e.ads);
        return !(!n || 'theatre' != n.creative.templateType)
      };
      var h = i.prototype;
      h.resize = function () {
        var e = this;
        if (!e.error) {
          var t = e.$adzone.find('.theatre-container').width();
          e.log.debug('resize', 'box width', t);
          var n = (t - 2 * v + f - 8) / (p + f);
          n = Math.floor(n),
          n = Math.max(5, n),
          n = Math.min(8, n),
          n != e.sum && (e.sum = n, e.drawItems())
        }
      },
      h.drawItems = function () {
        var e = this;
        e.log.debug('draw items'),
        e.curItems = r(e.items, e.cursor, e.sum);
        var n = t.map(e.curItems, function (e) {
          return e.element
        });
        e.$adzone.find('.theatre-carousel-box').empty().append($(n)),
        t.each(e.curItems, function (e) {
          e.ad.emit('creativeLoad'),
          e.ad.emit('impression')
        }),
        e.$adzone.find('.theatre-carousel-wrapper').css('width', p * e.sum + f * (e.sum - 1))
      },
      h.render = function () {
        function e(e) {
          var n = $(e);
          n.hasClass('theatre-item') || (n = n.parents('.theatre-item').eq(0));
          var i = n.attr('href');
          return t.find(r.items, function (e) {
            return i == e.clickThrough
          })
        }
        function i() {
          $(window).on('resize', t.throttle(function () {
            setTimeout(function () {
              r.resize()
            }, 300)
          }, 1000)),
          p.on('mouseenter', '.theatre-item', function () {
            var e = $(this),
            n = e.data('isHover');
            if (!n) {
              e.addClass('theatre-hover'),
              e.data('isHover', !0),
              r.log.debug('mouseenter');
              var i,
              o,
              a,
              s = e.index();
              s <= 4 ? (i = r.curItems.slice(0, s), a = 4 - i.length, o = r.curItems.slice(r.sum - a, r.sum))  : (o = r.curItems.slice(s + 1, r.sum), a = 4 - o.length, i = r.curItems.slice(0, a)),
              $(t.map(i.concat(o), function (e) {
                return e.element
              })).addClass('theatre-no-width')
            }
          }).on('mouseleave', '.theatre-item', function () {
            r.log.debug('mouseleave');
            var e = $(this);
            e.data('isHover', !1),
            e.removeClass('theatre-hover'),
            p.find('.theatre-no-width').removeClass('theatre-no-width')
          }),
          r.$adzone.find('.theatre-arrow').on('click', function () {
            var e = $(this);
            e.hasClass('theatre-arrow-right') ? (r.log.debug('arrow right'), r.cursor = r.cursor + r.curItems.length, r.cursor >= r.items.length && (r.cursor -= r.items.length))  : (r.log.debug('arrow left'), r.cursor = r.cursor - r.curItems.length, r.cursor < 0 && (r.cursor += r.items.length)),
            r.log.debug('cursor', r.cursor),
            r.drawItems()
          }),
          p.on('click', '.theatre-item', function () {
            var t = e(this);
            return t && t.ad.emit('clickAndOpen'),
            !1
          });
          var n = $(t.map(r.items, function (e) {
            return e.element
          }));
          n.find('img').one('error', function () {
            var t = e(this);
            if (t) {
              var n = $(this).attr('src');
              t.ad.emit('error', new s('creative http error', {
                creativeUrl: n
              }, c.CREATIVE_HTTP_ERROR))
            }
          })
        }
        var r = this;
        if (!r.error) {
          var u = r.slot;
          r.log.debug('render', u),
          r.items = t.compact(t.map(u.ads, function (e) {
            var n = e.creative.creativeObject || {
            },
            i = t.every(l, function (e) {
              return !d.empty(t.trim(n[e]))
            });
            return i ? t.extend({
              ad: e
            }, t.only(n, l), t.only(e, 'clickThrough'))  : void r.log.error('error creative object', e.format())
          })),
          r.items = t.shuffle(r.items),
          r.curItems = [
          ],
          r.log.debug('data', r.items),
          t.each(r.items, function (e) {
            var t = o(n(157), e);
            e.element = $.parseHTML(t) [0]
          }),
          r.$adzone.empty().html(n(158)).show().css({
            opacity: 1
          });
          var p = r.$adzone.find('.theatre-carousel-box');
          a.addStyle(),
          i(),
          r.resize()
        }
      }
    }).call(t, n(8))
  },
  function (e, t) {
    e.exports = '<a href="{clickThrough}" target="_blank" class="theatre-item" rel="external nofollow">\n    <div class="theatre-expand">\n        <div class="theatre-left">\n            <img src="{posterUrl}" class="theatre-poster">\n            <img src="{logoUrl}" class="theatre-logo">\n        </div>\n        <div class="theatre-right"><img src="{bannerUrl}" class="theatre-banner"></div>\n    </div>\n</a>\n'
  },
  function (e, t) {
    e.exports = '<div class="theatre-label">推广广告</div>\n<div class="theatre-container" style="">\n    <div class="theatre-arrow-left theatre-arrow"></div>\n    <div class="theatre-carousel-wrapper">\n        <div class="theatre-carousel-box"></div>\n    </div>\n    <div class="theatre-arrow-right theatre-arrow"></div>\n</div>\n'
  },
  function (e, t) {
    t.DEFINITION_SWITCHING_SHOW = 1000000000672,
    t.CLICK = 'click',
    t.IMPRESSION = 'impression'
  },
  function (e, t, n) {
    (function (t, i) {
      function r(e) {
        var t = this;
        a('init', e),
        t.vId = e.vId || '',
        t.adVids = e.adVids || [
        ],
        t.tvId = e.tvId || '',
        t.deviceType = e.deviceType
      }
      function o(e, t) {
        return new i(function (n, i) {
          $.ajax({
            url: e,
            data: t.data,
            timeout: 5000,
            xhrFields: {
              withCredentials: !0
            },
            dataType: 'json',
            success: function (e, t, i) {
              n(e)
            },
            error: function (r, a) {
              t.shouldRetry ? (t.shouldRetry = !1, n(o(e, t)))  : i(a)
            }
          })
        })
      }
      var a = n(19) ('amt'),
      s = n(88),
      c = n(89),
      u = n(60),
      d = n(71),
      l = d.normalizeProtocol('http://cache.m.iqiyi.com');
      e.exports = r;
      var p = r.prototype;
      p.request = function () {
        var e = this,
        n = e.getUrl();
        return a('request', n),
        o(n, {
          shouldRetry: !0
        }).then(function (e) {
          var n = e;
          a('m3u8 request', e);
          var r = t.get(n, 'data.mu');
          return r ? e.data : i.reject(e)
        })
      },
      p.getUrl = function () {
        var e = this,
        t = /pad/i.test(e.deviceType),
        n = t ? 21 : 31,
        i = t ? '03020031010000000000' : '02020031010000000000';
        s.is('tw') && (i = '02020031010010000000');
        var r = {
          tvId: e.tvId,
          adVids: e.adVids.join('-'),
          vId: e.vId
        },
        o = c.template('/dc/amt/{adVids}/{tvId}/{vId}/', r);
        o = e.signaturePath(o, {
          qypid: e.tvId + '_' + n,
          src: i
        });
        var a = l + o;
        return a
      },
      p.signaturePath = function (e, n) {
        if ('function' == typeof cmd5xtmts && 'function' == typeof cmd5x) {
          var i,
          r;
          try {
            i = window.cmd5xtmts()
          } catch (o) {
            r = o
          }
          if (!r) {
            t.extend(n, i),
            e += '?' + u.stringify(n);
            var s = '';
            try {
              s = window.cmd5x(e)
            } catch (o) {
              r = o
            }
            e += '&vf=' + s
          }
          r && a('error: signature error', r)
        }
        return e
      }
    }).call(t, n(8), n(26))
  },
  function (e, t, n) {
    (function (i) {
      function r(e) {
        var t = this;
        d.call(t),
        t.view = e,
        t.video = e.sdk.video,
        t.midrollPoints = {
        },
        t.adBreaks = [
        ],
        t.allAdBreaks = [
        ],
        t.timerHandler = function (e) {
          t.currentTime = t.video.intCurrentTime();
          var n = c.getActionType(e);
          if ('seeked' == e.type && (s('seeked', t.currentTime, n), 'controls' == n && (t.onUserSeeked(), t.disableAutoChooseMidroll('用户 seek 了'))), null == t.lastTime) {
            var r = i.get(t, 'midrollPoints.nextMidroll');
            r > 0 && r < t.currentTime && t.disableAutoChooseMidroll('开播时间晚于自动中插点')
          }
          t.lastTime != t.currentTime && t.updateVideoTime(e)
        },
        t.running = !1
      }
      function o(e) {
        var t = [
        ];
        return i.each(e, function (e) {
          p.empty(e.startTimes) ? t.push(new l({
            cuepointType: e.cuepointType,
            adZoneId: e.adZoneId,
            adZoneStyle: e.adZoneStyle
          }))  : i.each(e.startTimes, function (n, i) {
            t.push(new l({
              startTime: n,
              cuepointType: e.cuepointType,
              adZoneId: e.adZoneId,
              sequenceId: i + 1,
              adZoneStyle: e.adZoneStyle
            }))
          })
        }),
        t
      }
      function a(e) {
        var t = i.map(e, function (e) {
          return e.priority
        }),
        n = i.max(t);
        return e = i.filter(e, function (e) {
          return n == e.priority || (e.state = 'banned', !1)
        })
      }
      var s = n(19) ('schedule'),
      c = n(71),
      u = n(57),
      d = n(44),
      l = n(162),
      p = i.is;
      e.exports = t = r,
      i.inherits(r, d);
      var f = r.prototype;
      f.setPolicySlots = function (e) {
        var t = this;
        t.allAdBreaks = o(e),
        t.adBreaks = t.allAdBreaks.filter(function (e) {
          return e.isMid()
        }),
        t.prettyAdBreaks(),
        s('set policy slots', t.adBreaks)
      },
      f.addAdBreak = function (e) {
        return this.addAdBreaks([e])
      },
      f.addAdBreaks = function (e) {
        var t = this;
        e = i.map(e, function (e) {
          return new l(e)
        }),
        i.each(e, function (e) {
          e.isValid() && t.adBreaks.push(e)
        }),
        t.prettyAdBreaks(),
        s('add ad breaks', t.adBreaks)
      },
      f.getAdBreaksByType = function (e) {
        var t = this;
        return i.filter(t.allAdBreaks, function (t) {
          return i.isMatch(t, {
            cuepointType: e
          })
        })
      },
      f.startTimer = function () {
        var e = this;
        e.running || (s('start timer'), e.video.on('timeupdate', e.timerHandler), e.video.on('seeked', e.timerHandler), e.video.on('play', function () {
          if (e.running) {
            var t = e.video.currentTime();
            s('video play', t);
            var n = e.midrollPoints;
            if (n && n.autoChoose) {
              var i = n.nextMidroll;
              - 1 != i && i < t && e.disableAutoChooseMidroll('自动中插点在当前时间前面')
            }
          }
        }), e.running = !0)
      },
      f.stopTimer = function () {
        var e = this;
        e.running && (s('stop timer'), e.video.off('timeupdate', e.timerHandler), e.video.off('seeked', e.timerHandler), e.running = !1)
      },
      f.bindVideoTimeEvent = function (e, t) {
        this.on('videotime:' + e, t)
      },
      f.emitVideoTimeEvent = function (e) {
        this.emit('videotime:' + e)
      },
      f.updateVideoTime = function (e) {
        var t = this;
        0 == t.currentTime % 10 && s('update', t.currentTime),
        t.emitVideoTimeEvent(t.currentTime),
        t.lastTime = t.currentTime,
        t.adBreaksTimeHandler()
      },
      f.adBreaksTimeHandler = function () {
        var e = this,
        t = [
        ],
        n = [
        ];
        i.each(e.adBreaks, function (i) {
          'banned' != i.state && (i.isLoaded() || i.canLoad(e.currentTime) && t.push(i), i.isLoaded() && e.currentTime == i.startTime && n.push(i))
        });
        var r = a(t),
        o = a(n);
        r.length != t.length && s('adbreaks to load conflict', r, t),
        o.length != n.length && s('adbreaks to play conflict', o, n),
        i.each(r, function (t) {
          s('adbreak load and fill', t),
          t.fill(e.view)
        }),
        i.each(o, function (e) {
          s('adbreak play', e);
          var t = e.request,
          n = e.ad;
          t ? t.play()  : n && (n.slot.request.reset(), n.play())
        })
      },
      f.onUserSeeked = function () {
        var e = this,
        t = e.currentTime;
        i.each(e.adBreaks, function (e) {
          e.startTime > t && e.isLoaded() && (e.abort(), e.refresh())
        })
      },
      f.setAutoChooseMidroll = function (e) {
        var t = this;
        e && p.bool(e.autoChoose) && (s('自动中插点', e), t.midrollPoints = e, e.autoChoose ? t.enableAutoChooseMidroll(e.nextMidroll)  : t.disableAutoChooseMidroll('初始化'))
      },
      f.enableAutoChooseMidroll = function (e) {
        var t = this;
        return t.currentTime > e ? void s('当前时间晚于自动中插点')  : (s('启用自动中插点', e), void i.each(t.adBreaks, function (t) {
          u.midroll == t.cuepointType && (t.startTime == e ? t.state = null : t.state = 'banned')
        }))
      },
      f.disableAutoChooseMidroll = function (e) {
        var t = this;
        !1 !== t.midrollPoints.autoChoose && (s('停用自动中插点', e, t.midrollPoints), t.midrollPoints = {
          autoChoose: !1
        }, i.each(t.adBreaks, function (e) {
          u.midroll == e.cuepointType && (e.state = null)
        }))
      },
      f.ban = function (e) {
        var t = this,
        n = i.filter(t.adBreaks, function (t) {
          return i.isMatch(t, e)
        });
        i.each(n, function (e) {
          e.state = 'banned'
        }),
        s('ban ad breaks', e, n)
      },
      f.prettyAdBreaks = function () {
        var e = this;
        e.sortAdBreaks()
      },
      f.sortAdBreaks = function () {
        var e = this,
        t = e.adBreaks;
        t && t.sort(function (e, t) {
          var n = e.cuepointType - t.cuepointType;
          return 0 == n && (n = e.startTime - t.startTime),
          n
        })
      }
    }).call(t, n(8))
  },
  function (e, t, n) {
    (function (t, i) {
      function r(e) {
        e = e || {
        };
        var t = this;
        t.startTime = e.startTime,
        t.cuepointType = e.cuepointType,
        t.adZoneId = e.adZoneId,
        t.sequenceId = e.sequenceId,
        t.adZoneStyle = e.adZoneStyle,
        t.humanStartTime = o.humanizeDuration(t.startTime),
        t.state = null,
        t.request = null,
        t.ad = e.ad || null,
        t.priority = 0,
        c.midroll == t.cuepointType ? t.priority = 10 : c.viewPoint == t.cuepointType && (t.priority = 9)
      }
      var o = n(71),
      a = n(19) ('schedule:adbreak'),
      s = n(105),
      c = n(57);
      e.exports = r;
      var u = 10,
      d = r.prototype;
      d.isMid = function () {
        var e = [
          2,
          4,
          9,
          10,
          11
        ];
        return !!(t.includes(e, this.cuepointType) && this.startTime > 0)
      },
      d.isOverlay = function () {
        var e = [
          8,
          10,
          11
        ];
        return !!t.includes(e, this.cuepointType)
      },
      d.isValid = function () {
        if (i.number(this.startTime) && i.number(this.cuepointType)) return !0
      },
      d.isLoaded = function () {
        return !(!this.request && !this.ad)
      },
      d.refresh = function () {
        this.request = null
      },
      d.fill = function (e) {
        this.isLoaded() ? a('is loaded, no need to request')  : this.request = new s({
          adBreaks: [
            this
          ]
        }, e)
      },
      d.canLoad = function (e) {
        return e >= this.startTime - u && e <= this.startTime
      },
      d.abort = function () {
        this.request ? this.request.abort()  : this.ad && this.ad.abort()
      },
      d.getContext = function () {
        return this.ad || this.request
      }
    }).call(t, n(8), n(24))
  },
  function (e, t, n) {
    (function (t) {
      function i(e, t) {
        var n = this;
        o.call(n),
        n.element = e,
        n.$video = $(e),
        n.$videoBox = n.$video.parent(),
        n.$adContainer = n.$videoBox,
        n.currentAd = null,
        n.sdk = t,
        r('raw video mode'),
        n.bindEvent(),
        n.options = {
        },
        n.initAdElements()
      }
      var r = n(19) ('raw-video'),
      o = n(44),
      a = n(88),
      s = n(89).template,
      c = n(71),
      u = n(134);
      e.exports = i,
      t.inherits(i, o);
      var d = i.prototype;
      d.bindEvent = function () {
        var e = this,
        t = 'playing pause waiting error ended play timeupdate seeked loadstart';
        e.$video.on(t, function (t) {
          e.emit(t.type, t)
        })
      },
      d.initAdElements = function () {
        function e() {
          return i.emitToCurrentAd('skip'),
          !1
        }
        var i = this;
        c.addStyle(),
        i.$normalAdTip = $(s(n(164), a.resource)),
        i.$vipAdTip = $(s(n(165), a.resource)),
        i.$learnMore = $(s(n(166), a.resource)),
        i.$adContainer.append(i.$normalAdTip).append(i.$learnMore).append(i.$vipAdTip),
        t.each([i.$normalAdTip,
        i.$learnMore,
        i.$vipAdTip], function (e) {
          e.css({
            'z-index': 1000
          }).addClass('h5-cupid')
        }),
        i.hideAllAdElements(),
        i.$learnMore.on('click', function () {
          i.emitToCurrentAd('clickAndOpen')
        });
        var r = $('body');
        r.on('click', '.ad-skip', e)
      },
      d.hideAllAdElements = function (e) {
        r('hide all ad elements', e);
        var t = this;
        t.$normalAdTip.hide(),
        t.$learnMore.hide(),
        t.$vipAdTip.hide()
      },
      d.getControlsHeight = function () {
        return 0
      },
      d.emitToCurrentAd = function (e) {
        var t = this,
        n = t.getCurrentAd();
        n && n.emit(e)
      },
      d.getCurrentAd = function () {
        return this.currentAd
      },
      d.setCurrentAd = function (e) {
        var n = this;
        n.lastAd = n.currentAd,
        n.currentAd = e;
        var i = t.get(n.lastAd, 'id'),
        o = t.get(n.currentAd, 'id');
        i != o && r('current ad changed', i, ' => ', o)
      },
      d.trySetOptions = function (e) {
        var t = this;
        e = e || {
        },
        t._setOptions(e)
      },
      d._setOptions = function (e) {
        var t = this;
        t.hideAllAdElements('默认清除'),
        t.options = e;
        var n = e.ad || t.getCurrentAd() || {
        };
        e.theme && t.useTheme(e.theme, n)
      },
      d.removeOptions = function (e) {
        var t = this;
        t.options = {
        },
        t.hideAllAdElements(e),
        t.removeVipDoc(e)
      },
      d.setAdSkipText = function (e) {
        var t = this,
        n = '会员跳广告';
        'tw' === a.locale && (n = '會員跳廣告'),
        'sports' === e && (r('sports vip video, sports normal roll'), n = '体育会员跳广告', 'tw' === a.locale && (n = '體育會員跳廣告')),
        t.$normalAdTip.find('.public-vip-doc').text(n)
      },
      d.useTheme = function (e, t) {
        var n = this,
        i = t.getParentByName('view');
        if (e && t) {
          var o = n.sdk;
          if (t.clickThrough && ('h5-new' === o.adTheme ? (n.$learnMore.addClass('ad-theme-' + o.adTheme), n.$learnMore.find('.ad-arrow-wrapper').text(''), n.$learnMore.find('.ad-arrow-wrapper').addClass('ad-arrow'))  : (n.$learnMore.removeClass('ad-theme-h5-new'), n.$learnMore.find('.ad-arrow-wrapper').removeClass('ad-arrow'), n.$learnMore.find('.ad-arrow-wrapper').html('&gt;')), n.$learnMore.show()), ('tw' === a.locale || /pad/i.test(n.sdk.deviceType)) && n.$normalAdTip.find('.public-vip').hide(), n.setAdSkipText(), i.isSportsVipVideo() && t.isNormalRoll() && n.setAdSkipText('sports'), t.isSportsVipAd() ? n.$vipAdTip.show()  : (n.$normalAdTip.removeClass('ad-theme-h5-new').addClass('ad-theme-' + o.adTheme), n.$normalAdTip.show()), n.$countdown = n.$adContainer.find('.cd-time'), 0 === t.index() && n.removeVipDoc('reset vipdoc'), n.$vipDocWrap = n.$normalAdTip.find('.vip-marketing-doc-wrapper'), n.$vipMarketingDoc = n.$normalAdTip.find('.vip-marketing-doc'), !t.slot.hasRequestedVipDoc && !n.sdk.isVIP && !i.isSportsVipVideo()) {
            var s = c.getCookie('CA0001'),
            u = n.sdk.passportId;
            if (s) {
              try {
                s = JSON.parse(s)
              } catch (d) {
                r('parse vip doc cookie error', d)
              }
              u === s.passportId ? n.setVipDoc(s)  : (r('change passport id'), n.requestVipDoc(i.episodeId, u))
            } else n.requestVipDoc(i.episodeId, u);
            t.slot.hasRequestedVipDoc = !0
          }
        }
      },
      d.updateCountdown = function (e) {
        var t = this;
        t.$countdown && t.$countdown.text(e)
      },
      d.abort = function () {
      },
      d.intCurrentTime = function () {
        return Math.round(this.currentTime())
      },
      d.setVipDoc = function (e) {
        var t = this;
        if (e.detail && e.detail.text1) {
          var n = t.getCurrentAd(),
          i = n.slot;
          i.skipAdRedirectUrl = e.detail.redirectUrl1 || '',
          setTimeout(function () {
            t.$vipDocWrap.show(),
            t.$vipMarketingDoc.text(e.detail.text1);
            var n = $(t.$vipMarketingDoc[0]).width();
            t.$vipDocWrap.css({
              width: n
            })
          }, 3000)
        }
      },
      d.removeVipDoc = function (e) {
        var t = this;
        t.$vipDocWrap = t.$normalAdTip.find('.vip-marketing-doc-wrapper'),
        t.$vipMarketingDoc = t.$normalAdTip.find('.vip-marketing-doc'),
        t.$vipDocWrap && t.$vipMarketingDoc && (r('remove vip doc, reason:', e), t.$vipDocWrap.hide(), t.$vipMarketingDoc.text(''), t.$vipDocWrap.css({
          width: 0
        }))
      },
      d.requestVipDoc = function (e, t) {
        var n = this,
        i = 'P00001=' + c.getAuthCookie() + '&code=99de3d4506d3d290&platform=97ae2982356f69d8&deviceID=' + c.getUaaUserId();
        i += 'tw' === a.locale ? '&lang=zh_TW&app_lm=tw' : '&lang=zh_CN&app_lm=cn',
        r('start get vip doc'),
        $.ajax({
          url: u.vipDocUrl,
          dataType: 'jsonp',
          jsonp: 'callback',
          data: i,
          timeout: 5000,
          success: function (e, i, o) {
            if ('success' === i && 'A00000' === e.code && e.data) {
              e = e.data,
              e.passportId = t;
              var a = e.validPeriod ? parseInt(e.validPeriod)  : 1,
              s = new Date;
              s.setDate(s.getDate() + a),
              s.setHours(0),
              s.setMinutes(0),
              s.setSeconds(0),
              c.setCookie('CA0001', JSON.stringify(e), {
                expires: s
              }),
              n.setVipDoc(e)
            } else r('get vip doc error : status', i, e)
          }
        })
      },
      t.each('currentTime src volume muted paused duration'.split(' '), function (e) {
        d[e] = function (t) {
          var n = this.element;
          return void 0 === t ? n[e] : void (n[e] = t)
        }
      }),
      t.each('play pause addEventListener removeEventListener'.split(' '), function (e) {
        d[e] = function () {
          var t = this.element;
          t[e].apply(t, arguments)
        }
      })
    }).call(t, n(8))
  },
  function (e, t) {
    e.exports = '<div class="public-time">\n    <span class="cd-time">0</span>\n    <a class="public-vip ad-skip" href="javascript:;">\n        <span class="public-vip-doc">{会员跳广告}</span>\n        <span class="vip-marketing-doc-wrapper">\n            <i class="vip-marketing-doc"></i>\n        </span>\n    </a>\n</div>\n'
  },
  function (e, t) {
    e.exports = '<div class="ad-vip-sports">\n  <div class="brand-wrapper">\n      <span class="brand"><img src="http://pic3.iqiyipic.com/common/20180627/reliao_1530091658440.png" alt="" class="vip-logo"></span><span class="vip-title">体育会员推荐</span></a>\n  </div>\n  <div class="public-time">\n      <span class="cd-time">0</span>\n      <a class="public-vip ad-skip" href="javascript:;"><span class="sports-vip-text">{关闭此推荐}</span></a>\n  </div>\n</div>\n'
  },
  function (e, t) {
    e.exports = '<span class="cupid-learn-more">{了解详情}<i class="ad-arrow-wrapper"></i></span>'
  },
  function (e, t, n) {
    var i = n(137),
    r = n(19) ('external');
    t.externalAdMap = {
    },
    t.render = function (e, n) {
      r('external', e, n),
      n = n || {
      },
      n = {
        clickThrough: n.clickThrough,
        creative: {
          creativeId: n.creativeId,
          creativeObject: n.creativeObject,
          templateType: n.templateType
        },
        isExternal: !0,
        externalAdMap: t.externalAdMap
      };
      var o = {
        adZoneId: e,
        cuepointType: 0
      },
      a = new i(n, o);
      a.play()
    }
  },
  function (e, t, n) {
    (function (t) {
      function i(e) {
        var t = this;
        return t instanceof i ? (t.queueList = e || [
        ], void t.close())  : new i(e)
      }
      var r = n(169),
      o = r.is;
      e.exports = i;
      var a = i.prototype;
      a.queue = function () {
        var e = this,
        t = arguments;
        e.isOpen ? e.exec(t)  : e.queueList.push(t)
      },
      a.close = function () {
        this.isOpen = !1
      },
      a.open = function () {
        this.isOpen = !0,
        this.execAll()
      },
      a.execAll = function () {
        var e = this,
        t = e.queueList;
        r.each(t, function (t) {
          e.exec(t)
        }),
        t.length = 0
      },
      a.exec = function (e) {
        var t,
        n = r.first(e),
        i = this.ctx;
        if (t = o.fn(n) ? n : r.get(i, n), o.fn(t)) try {
          t.apply(i, r.slice(e, 1))
        } catch (a) {
        }
      },
      a.overwriteQueue = function (e) {
        var n = this;
        t[e] = function () {
          n.queue.apply(n, arguments)
        }
      }
    }).call(t, function () {
      return this
    }())
  },
  [
    179,
    170
  ],
  [
    181,
    169,
    171,
    172,
    173,
    174,
    175,
    177,
    178
  ],
  31,
  32,
  33,
  34,
  [
    182,
    176
  ],
  36,
  37,
  38,
  function (e, t, n, i) {
    e.exports = n(i)
  },
  function (e, t, n, i) {
    function r(e) {
      if (null != e) return e.length
    }
    function o(e, t) {
      var n = r(e);
      if (n && v.fn(t)) for (var i = 0; i < n && !1 !== t(e[i], i, e); i++);
      return e
    }
    function a(e, t) {
      var n = - 1;
      return o(e, function (e, i, r) {
        if (t(e, i, r)) return n = i,
        !1
      }),
      n
    }
    function s(e) {
      var t = [
      ];
      return o(e, function (e) {
        t.push(e)
      }),
      t
    }
    function c(e) {
      if (e) {
        var t = h.call(arguments, 1);
        o(t, function (t) {
          p(t, function (t, n) {
            v.undef(t) || (e[n] = t)
          })
        })
      }
      return e
    }
    function u(e) {
      return function () {
        return !e.apply(this, arguments)
      }
    }
    function d(e, t) {
      return v.string(e) ? e.indexOf(t)  : a(e, function (e) {
        return t === e
      })
    }
    function l(e, t, n) {
      return o(e, function (i, r) {
        n = t(n, i, r, e)
      }),
      n
    }
    function p(e, t) {
      if (e) for (var n in e) if (v.owns(e, n) && !1 === t(e[n], n, e)) break;
      return e
    }
    function f(e) {
      var t = [
      ];
      return p(e, function (e, n) {
        t.push(n)
      }),
      t
    }
    var v = n(i),
    h = [
    ].slice,
    m = t;
    m.is = v,
    m.extend = m.assign = c,
    m.each = o,
    m.map = function (e, t) {
      var n = [
      ];
      return o(e, function (e, i, r) {
        n[i] = t(e, i, r)
      }),
      n
    },
    m.filter = function (e, t) {
      var n = [
      ];
      return o(e, function (e, i, r) {
        var o = t(e, i, r);
        o && n.push(e)
      }),
      n
    },
    m.some = function (e, t) {
      return - 1 != a(e, t)
    },
    m.every = function (e, t) {
      return - 1 == a(e, u(t))
    },
    m.reduce = l,
    m.findIndex = a,
    m.find = function (e, t) {
      var n = m.findIndex(e, t);
      if ( - 1 != n) return e[n]
    },
    m.indexOf = d,
    m.includes = function (e, t) {
      return - 1 != d(e, t)
    },
    m.toArray = s,
    m.slice = function (e, t, n) {
      var i = [
      ],
      o = r(e);
      return o >= 0 && (t = t || 0, 0 !== n && (n = n || o), v.fn(e.slice) || (e = s(e)), i = e.slice(t, n)),
      i
    },
    m.negate = u,
    m.forIn = p,
    m.keys = f;
    var g = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;
    m.trim = function (e) {
      return null == e ? '' : ('' + e).replace(g, '')
    },
    m.noop = function () {
    },
    m.len = r
  },
  function (e, t, n, i, r, o, a, s, c, u, d) {
    (function (t) {
      function t(e) {
        return this instanceof t ? (this.__value = e, void (this.__chain = !1))  : new t(e)
      }
      var i = n(29);
      e.exports = i.extend(t, i),
      n(r) (t),
      n(o) (t),
      n(a) (t),
      n(s) (t),
      n(c) (t),
      n(u) (t),
      n(d) (t),
      t.mixin(t, t)
    }).call(t, n(i))
  },
  function (e, t, n, i) {
    e.exports = function (e) {
      function t(e) {
        function n() {
          var t = arguments,
          n = t[0];
          if (!i.has(n)) {
            var r = e.apply(this, t);
            i.set(n, r)
          }
          return i.get(n)
        }
        var i = new t.Cache;
        return n.cache = i,
        n
      }
      var r = e.is,
      o = e.slice;
      e.bind = function (t, n) {
        if (r.string(n)) {
          var i = t;
          t = i[n],
          n = i
        }
        if (!r.fn(t)) return t;
        var a = o(arguments, 2);
        return n = n || this,
        function () {
          return t.apply(n, e.flatten([a,
          arguments]))
        }
      },
      e.inherits = function (t, n) {
        t.super_ = n,
        t.prototype = e.create(n.prototype, {
          constructor: t
        })
      },
      e.delay = function (t, n) {
        var i = e.slice(arguments, 2);
        return setTimeout(function () {
          t.apply(this, i)
        }, n)
      },
      e.before = function (e, t) {
        return function () {
          if (e > 1) return e--,
          t.apply(this, arguments)
        }
      },
      e.once = function (t) {
        return e.before(2, t)
      },
      e.after = function (e, t) {
        return function () {
          return e > 1 ? void e-- : t.apply(this, arguments)
        }
      },
      e.throttle = function (t, n, i) {
        return n = n || 0,
        i = e.extend({
          leading: !0,
          trailing: !0,
          maxWait: n
        }, i),
        e.debounce(t, n, i)
      },
      e.debounce = function (t, n, i) {
        function r() {
          return !(p - d > n) && !(u && p - l > u)
        }
        function o(t, n, i) {
          return d = e.now(),
          t.apply(n, i)
        }
        function a() {
          c && (clearTimeout(c), c = null)
        }
        function s() {
          p = e.now();
          var s = r();
          l = p;
          var u = this,
          d = arguments;
          a(),
          s ? i.trailing && (c = e.delay(function () {
            o(t, u, d)
          }, n))  : o(t, u, d)
        }
        n = n || 0,
        i = e.extend({
          leading: !1,
          trailing: !0
        }, i);
        var c,
        u = i.maxWait,
        d = 0,
        l = 0,
        p = e.now();
        return i.leading || (d = p),
        s.cancel = a,
        s
      },
      t.Cache = n(i),
      e.memoize = t,
      e.wrap = function (e, t) {
        return function () {
          var n = [
            e
          ];
          return n.push.apply(n, arguments),
          t.apply(this, n)
        }
      },
      e.curry = function (t) {
        function n(r) {
          return function () {
            var o = r.concat(e.slice(arguments));
            return o.length >= i ? (o.length = i, t.apply(this, o))  : n(o)
          }
        }
        var i = t.length;
        return n([])
      }
    }
  },
  function (e, t, n, i) {
    var r = n(i),
    o = 'InvalidCharacterError';
    t.decode = function (e) {
      e = r.tostr(e);
      for (var t, n = [
      ], i = 0; i < e.length; i++) t = e.charCodeAt(i),
      t < 128 ? n.push(t)  : t < 2048 ? n.push(192 | t >> 6, 128 | 63 & t)  : t < 55296 || t >= 57344 ? n.push(224 | t >> 12, 128 | t >> 6 & 63, 128 | 63 & t)  : n.push(239, 191, 189);
      return n
    },
    t.encode = function (e) {
      for (var t = [
      ], n = 0, i = 0, r = 0; r < e.length; r++) {
        if (n = e[r], n > 224) i = (15 & n) << 12,
        n = e[++r],
        i |= (63 & n) << 6,
        n = e[++r],
        i |= 63 & n;
         else if (n > 192) i = (31 & n) << 6,
        n = e[++r],
        i |= (63 & n) << 6;
         else {
          if (n > 128) throw new Error(o);
          i = n
        }
        t.push(String.fromCharCode(i))
      }
      return t.join('')
    }
  }
  ]))
});
