(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["appseclr"],{"957d":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("LoadPage",{ref:"loadPage",attrs:{"init-load":!e.loginList.length}},[i("AuraHeadTitle",{attrs:{"left-url":"/m/security/home",title:"登录记录"}}),i("div",{staticClass:"m-box"},[i("div",{staticClass:"m-box-items m-box-items-full"},[i("section",{staticClass:"m-loginRecord-tip"},[e.userinfo&&e.isBindPhone?i("div",{staticClass:"tip"},[i("i",{staticClass:"c-passport-icon c-passport-warn"}),e._v("\n          您的账号存在风险，请立即\n          "),i("router-link",{directives:[{name:"show-pingback",rawName:"v-show-pingback",value:"s-logrec-bindingphone",expression:"'s-logrec-bindingphone'"},{name:"pingback",rawName:"v-pingback",value:"c-logrec-bindingphone",expression:"'c-logrec-bindingphone'"}],staticClass:"c-link",attrs:{to:e.getBindPhoneUrl()}},[e._v("绑定手机\n          ")])],1):e._e(),i("div",{staticClass:"info"},[i("div",{staticClass:"c-info"},[e._v("请通过时间、地点和登录类型来判断记录是否正常")]),i("a",{directives:[{name:"show-pingback",rawName:"v-show-pingback",value:"s-logrec-dangerousremind",expression:"'s-logrec-dangerousremind'"},{name:"pingback",rawName:"v-pingback",value:"c-logrec-dangerousremind",expression:"'c-logrec-dangerousremind'"}],staticClass:"c-link",attrs:{href:"javascript:void(0)"},on:{click:function(t){e.isShowTip=!0}}},[e._v("登录有异常?\n          ")])])]),i("section",{staticClass:"m-loginRecord-list"},[i("ul",{staticClass:"list-item"},[i("li",e._l(e.loginList,function(t,s){return i("a",{key:s,staticClass:"c-link",attrs:{href:"javascript:void(0)"}},[i("div",{staticClass:"info"},[i("div",{staticClass:"name"},[e._v(e._s(t.deviceName))]),i("div",{staticClass:"time"},[e._v(e._s(e._f("formatDate")(t.loginTime))+"  "+e._s(t.ip)+" ")])]),i("span",{staticClass:"handle"},[e._v(e._s(t.province))])])}),0)])])]),e.isShowTip?i("SecurityTip",{attrs:{"up-tip":"请回到【爱奇艺手机APP】为账号开启登录保护功能","middel-title":"操作方式","middel-info":"1. 设置主设备：我的-设置-账号与安全-主设备<br>2. 开启登录保护：我的-设置-账号与安全-登录保护","left-btn-text":"我知道了"},on:{leftButtonClick:function(t){e.isShowTip=!1}}}):e._e(),i("LoadBottom",{directives:[{name:"show",rawName:"v-show",value:!e.loadComplete,expression:"!loadComplete"}],attrs:{callback:e.getLoginRecod,"load-complete":e.loadComplete}})],1)],1)},n=[],o=(i("96cf"),i("3b8d")),a=i("ead66"),r=i("73d5"),c=i("da1f"),l=i("aa91"),d=i("7313"),u=i("fe3a"),p=i("5a0c"),m=i.n(p),g={name:"SecurityLoginRecord",components:{AuraHeadTitle:r["a"],SecurityTip:a["a"],LoadPage:l["a"],LoadBottom:c["a"]},filters:{formatDate:function(e){return m()(e).format("YYYY/MM/DD HH:mm:ss")}},mixins:[u["a"]],style:["base","security","securityVerifySmscode"],title:"登录记录",data:function(){return{isShowTip:!1,loginList:[],page:0,loadComplete:!1}},computed:{isBindPhone:function(){return console.log(!(this.userinfo&&this.userinfo.phone)),!(this.userinfo&&this.userinfo.phone)},userinfo:function(){return this.$store.state.userInfo.userinfo}},created:function(){this.userinfo.uid||this.$store.dispatch("getUserInfo",{refresh:!0})},mounted:function(){this.$refs.loadPage.load(this.getLoginRecod)},methods:{getLoginRecod:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.loadComplete){e.next=8;break}return this.page++,t={page:this.page},e.next=5,Object(d["C"])(t);case 5:i=e.sent,this.loginList=this.loginList.concat(i.loginlist),this.loadComplete=this.loginList.length===i.total;case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getBindPhoneUrl:function(){return"/m/security/bindPhone?redirect=".concat(encodeURIComponent("https://m.iqiyi.com/m/security/loginRecord"))}}},h=g,f=i("2877"),v=Object(f["a"])(h,s,n,!1,null,null,null);t["default"]=v.exports}}]);