(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["appvce"],{"5aac":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"m-box"},[a("AuraHeadTitle",{attrs:{title:t.title}})],1),a("LoadPage",{ref:"loadPage",attrs:{"init-load":!t.videos.length}},[a("div",{staticClass:"m-box"},[a("div",{staticClass:"m-box-items m-box-items-full"},[a("AuraVideoList",{staticClass:"m-pic-vertical",attrs:{videos:t.videos}})],1)]),a("BackTop"),a("LoadBottom",{attrs:{"load-complete":!t.remaining,callback:t.loadMore,load:!0}}),t.remaining?t._e():a("AuraFooter")],1)],1)},n=[],o=a("cebc"),r=a("2f62"),s=a("fe3a"),c=a("aa91"),u=a("73d5"),d=a("6810"),l=a("9e5e"),p=a("da1f"),v=a("302b"),g=(a("96cf"),a("3b8d")),m=a("936f"),f=a("11ad");function h(t){return b.apply(this,arguments)}function b(){return b=Object(g["a"])(regeneratorRuntime.mark(function t(e){var a,i,n,o,r,s,c,u,d=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,e.store,i=d.length>1&&void 0!==d[1]?d[1]:{},n=i.qipuId,o=i.page,r=i.size,s=void 0===r?18:r,t.next=5,m["a"].jsonp("".concat(f["v"],"/").concat(n,"/").concat(o,"/").concat(s,"/"));case 5:if(c=t.sent,u=c&&c.data,!u||"A00000"!==u.code||!u.data){t.next=10;break}return a("setData",{videos:u.data.videos,remaining:u.data.isNextPage}),t.abrupt("return",u.data.videos);case 10:case"end":return t.stop()}},t)})),b.apply(this,arguments)}function x(t,e){t.videos=t.videos.concat(e.videos),t.remaining=e.remaining}var y={namespaced:!0,state:function(){return{videos:[],remaining:1}},actions:{getData:h},mutations:{setData:x}},w="vipCelebrity",j={name:"ChannelSecondaryCube",components:{AuraHeadTitle:u["a"],LoadPage:c["a"],BackTop:l["a"],LoadBottom:p["a"],AuraFooter:v["a"],VideoList:d["a"]},asyncData:function(t){var e=t.store;t.route,t.res;e.registerModule(w,y,{preserveState:e.state[w]})},mixins:[s["a"]],style:["base","channel"],title:function(){return this.title||"电影频道"},data:function(){return{page:1}},computed:Object(o["a"])({},Object(r["e"])(w,["remaining","videos"]),{title:function(){var t=this.$route.query.title;return t?"".concat(t,"作品"):"更多作品"}}),mounted:function(){var t=this;this.videos.length||this.$refs.loadPage.load(function(){return t.$store.dispatch("".concat(w,"/getData"),{qipuId:t.$route.query.tag,page:1})})},destroyed:function(){this.$store.unregisterModule(w)},methods:Object(o["a"])({},Object(r["b"])(w,["getData"]),{loadMore:function(){var t=this;return this.getData({qipuId:this.$route.query.tag,page:this.page+1}).then(function(e){t.page++})}})},k=j,C=a("2877"),D=Object(C["a"])(k,i,n,!1,null,null,null);e["default"]=D.exports}}]);