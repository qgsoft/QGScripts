(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["appuac"],{"757c":function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("AuraHeadTitle",{attrs:{title:"我的账号","left-url":"/u/"}}),i("div",{staticClass:"m-box"},[i("div",{staticClass:"m-box-items m-box-items-full"},[i("UserAccountIconNav",{directives:[{name:"pingback",rawName:"v-pingback",value:"705081_avatar",expression:"'705081_avatar'"}],attrs:{"init-picture-url":t.userInfo.icon,"can-upload":t.isRealName&&!t.isI18nUser,"is-show-arrow":!t.isI18nUser,"init-title":"头像"},on:{loading:t.onUploadLoading,success:t.onUploadSuccess,failure:t.onUploadFailure,click:t.toUserIcon}}),i("AuraNavDesc",{directives:[{name:"pingback",rawName:"v-pingback",value:"705081_nickname",expression:"'705081_nickname'"}],attrs:{description:t.userInfo.nickname,"is-show-arrow":!t.isI18nUser,title:"昵称"},on:{click:t.toNickName}}),i("AuraNavDesc",{directives:[{name:"pingback",rawName:"v-pingback",value:t.vipPingback,expression:"vipPingback"}],attrs:{title:t.vipName,description:t.vipDescription,href:t.vipUrl}}),i("AuraNavDesc",{directives:[{name:"pingback",rawName:"v-pingback",value:t.sportVipPingback,expression:"sportVipPingback"}],attrs:{description:t.sportVipDescription,href:t.sportVipUrl,title:t.isAdSportVip?"体育专业会员":"体育大众会员"}})],1)]),i("div",{staticClass:"m-box"},[i("AuraFullButton",{attrs:{title:"退出登录"},on:{click:t.logout},scopedSlots:t._u([{key:"default",fn:function(e){return[i("a",{staticClass:"user-btn-exit",attrs:{href:e.url}},[i("span",{staticClass:"btn-user-exit"},[t._v(t._s(e.title))])])]}}])})],1),i("UserVerify",{attrs:{verify:t.verify},on:{"update:verify":function(e){t.verify=e},success:t.verifySuccess}}),i("UserAccountTip",{attrs:{content:t.content,type:t.type,"delay-time":t.delayTime,toggle:t.tipShow},on:{"update:toggle":function(e){t.tipShow=e}}}),i("AuraFooter")],1)},n=[],s=(i("386d"),i("96cf"),i("3b8d")),a=(i("a481"),i("795b")),c=i.n(a),o=(i("ac6a"),i("5df3"),i("7f7f"),i("6762"),i("2fdb"),i("73d5")),u=i("59c3"),p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(t.is,{tag:"a",staticClass:"m-user-desc-link",attrs:{to:t.to},on:{click:function(e){return t.$emit("click",e)}}},[i("div",{staticClass:"m-user-desc"},[i("span",{staticClass:"c-user-span"},[t._v(t._s(t.title))]),i("span",{staticClass:"c-user-info"},[t._v(t._s(t.description))]),t.isShowArrow?i("i",{staticClass:"c-glyphicon c-glyphicon-arrowRight"}):t._e()])])},l=[],h={name:"AuraNavDesc",props:{title:{type:String,default:""},description:{type:String,default:""},to:{type:String,default:""},isShowArrow:{type:Boolean,default:!0}},computed:{is:function(){return""!==this.to?"router-link":"a"}}},f=h,d=i("2877"),v=Object(d["a"])(f,p,l,!1,null,null,null),m=v.exports,g=i("23b1"),b=i("49ce"),y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a",{staticClass:"m-user-desc-link m-select-img",attrs:{href:"javascript:void(0)"}},[i("div",{staticClass:"m-user-desc"},[i("span",{staticClass:"c-user-span"},[t._v(t._s(t.title))]),i("div",{staticClass:"c-user-photo"},[i("span",{staticClass:"c-imgM",style:{"background-image":"url("+(t.pictureUrl||t.initPictureUrl)+")"}})]),t.isShowArrow?i("i",{staticClass:"c-glyphicon c-glyphicon-arrowRight"}):t._e()]),i("FileUpload",{staticClass:"select-input",attrs:{upload:t.upload,"input-name":"icon"},on:{success:t.onSuccess,failure:function(e){return t.$emit("failure",e)},loading:function(e){return t.$emit("loading")}}}),t.canUpload?t._e():i("div",{staticClass:"select-input",on:{click:t.onClick}})],1)},k=[],w=(i("4917"),i("e8eb")),U=i("b2e7"),I={name:"UserAccountIconNav",components:{FileUpload:w["a"]},props:{initTitle:{type:String,required:!0},initPictureUrl:{type:String,default:""},canUpload:{type:Boolean,default:!1},isShowArrow:{type:Boolean,default:!0}},data:function(){return{title:this.initTitle,pictureUrl:this.initPictureUrl}},methods:{checkValidHeadshot:function(t){var e=5242880;return!t.type.match(/(jpeg|gif|png|bmp)/)&&t.size>=e?"仅支持jpg,jpeg,gif,png,bmp格式且图片大小不能大于5M":t.type.match(/(jpeg|gif|png|bmp)/)?t.size>=e?"图片大小不能大于5M":void 0:"仅支持jpg,jpeg,gif,png,bmp格式图片"},upload:function(t,e){if(t.target.value){var i=this.checkValidHeadshot(t.target.files[0]);if(i)throw new Error(i);if(t.target.value){var r="//paopaoupload.iqiyi.com/passport_headpic_upload";return e(r,{authcookie:Object(U["x"])()}),!0}}},onClick:function(){this.$emit("click")},onSuccess:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){var i,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if("A00000"!==e.code){t.next=14;break}return t.prev=1,i=this.getUserAvatar(e.data.picurl),t.next=5,Object(U["V"])(i);case 5:r=t.sent,"A00000"===r.code?(this.$emit("success",{msg:"上传成功"}),this.pictureUrl=i):this.$emit("failure",{msg:r.msg||"网络状况不佳，请稍后重试"}),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),this.$emit("failure",{msg:"头像更新失败"});case 12:t.next=15;break;case 14:this.$emit("failure",{msg:e.msg});case 15:case"end":return t.stop()}},t,this,[[1,9]])}));function e(e){return t.apply(this,arguments)}return e}(),getUserAvatar:function(t){return"".concat(t.replace("http://d.pan.iqiyi.com","https://pan.iqiyi.com"),"?type=photo_130_130")}}},_=I,V=Object(d["a"])(_,y,k,!1,null,null,null),j=V.exports,N=i("fe3a"),x={name:"UserAccount",components:{AuraHeadTitle:o["a"],AuraNavDesc:m,AuraFullButton:u["a"],UserVerify:g["a"],UserAccountTip:b["a"],UserAccountIconNav:j},mixins:[N["a"]],title:"我的账号-爱奇艺",style:["base","user"],data:function(){return{type:"loading",content:"",delayTime:2e3,tipShow:!1,vipUrl:"",verify:!1,isRealName:!1,callback:null}},computed:{userInfo:function(){return this.$store.state.userInfo.userinfo||{}},vipInfo:function(){return this.$store.state.userVipInfo.vip_info||{}},isI18nUser:function(){var t=this.$store.state.userInfo.reginfo||{},e=t.ptid,i=[U["a"],U["b"],U["d"],U["e"]];return!!e&&!i.includes(e)},vipPingback:function(){var t=this.vipInfo.status;if(t===U["h"])return"710163_h5_changepd2"},sportVipInfo:function(){return this.$store.state.userVipInfo.sport_vip||{}},unionSportInfo:function(){return this.$store.state.userVipInfo.ad_sport_vip&&"1"===this.$store.state.userVipInfo.ad_sport_vip.status?this.$store.state.userVipInfo.ad_sport_vip:this.$store.state.userVipInfo.sport_vip||{}},isAdSportVip:function(){return this.$store.state.userVipInfo.ad_sport_vip&&"1"===this.$store.state.userVipInfo.ad_sport_vip.status},vipDescription:function(){var t=this.vipInfo.status;switch(t){case U["j"]:return"".concat(this.vipInfo.deadline.date,"到期");case U["i"]:return"已过期";case U["h"]:return"会员账号异常，修改密码";case U["g"]:return"会员账号异常，请联系客服";default:return"开通VIP会员，看精彩热播大片"}},sportVipDescription:function(){var t=this.unionSportInfo.status;switch(t){case U["j"]:return"".concat(this.unionSportInfo.deadline.date,"到期");case U["i"]:return"已过期";case U["h"]:return"会员账号异常，修改密码";case U["g"]:return"会员账号异常，请联系客服";default:return"开通体育会员，看精彩赛事直播"}},sportVipUrl:function(){var t=this.unionSportInfo.status;switch(t){case U["j"]:case U["i"]:return"//sports.iqiyi.com/resource/h5/shop.html";case U["h"]:return"/m/security/changePassword";case U["g"]:return"/u/feedback?entry=mine";default:return"//sports.iqiyi.com/resource/h5/shop.html"}},vipName:function(){var t=this.vipInfo.vipType;return t?"".concat(Object(U["z"])(t).name,"VIP会员"):"VIP"},sportVipPingback:function(){var t=this.sportVipInfo.status;return t===U["h"]?"710163_h5_changepd2":t!==U["g"]?{rseat:"buysportvip"}:void 0}},asyncData:function(t){var e=t.store,i=e.dispatch("getUserInfo"),r=e.dispatch("getUserVipInfo");return c.a.all([i,r])},beforeMount:function(){Object(U["M"])()||this.$router.replace("/u/")},mounted:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getVipUrl();case 2:this.vipUrl=t.sent;case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),methods:{logout:function(t){Object(U["P"])({redirectUrl:"".concat(location.protocol,"//").concat(location.host,"/u/").concat(location.search).concat(location.hash)})},verifySuccess:function(){this.isRealName=!0,this.callback&&this.callback()},onUploadLoading:function(t){this.showTip("上传中...","loading",-1)},onUploadSuccess:function(t){this.showTip("上传成功","complete",2e3),this.$store.dispatch("getUserInfo",{refresh:!0})},onUploadFailure:function(t){this.showTip(t.msg,"oneline",2e3)},toUserIcon:function(){if(this.isI18nUser)return!1;this.verify=!0,this.callback=null},toNickName:function(){if(this.isI18nUser)return!1;this.isRealName?this.setNickName():(this.callback=this.setNickName,this.verify=!0)},setNickName:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){var i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(U["s"])();case 2:i=t.sent,i?this.$router.push("/u/modifyName"):this.showTip("昵称24小时以内只能修改一次","oneline");case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),showTip:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"loading",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3;console.log("showTip:",t,e,i),this.content=t,this.type=e,this.delayTime=i,this.tipShow=!0},getVipUrl:function(){var t=this.vipInfo.status;switch(t){case U["j"]:case U["i"]:return this.getVipPayUrl();case U["h"]:return"/m/security/changePassword";case U["g"]:return"/u/feedback?entry=mine";default:return Object(U["z"])(U["l"]).url}},getVipPayUrl:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=this.vipInfo.vipType,t.t0=e,t.next=t.t0===U["m"]?4:t.t0===U["l"]?4:t.t0===U["k"]?4:t.t0===U["q"]?5:6;break;case 4:return t.abrupt("return",Object(U["z"])(e).url);case 5:return t.abrupt("return",this.getZuanshiPayUrl());case 6:return t.abrupt("return",Object(U["z"])(U["l"]).url);case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getZuanshiPayUrl:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(U["v"])();case 2:return e=t.sent,t.abrupt("return",e?Object(U["z"])(U["q"]).url:U["c"]);case 4:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}()}},A=x,S=Object(d["a"])(A,r,n,!1,null,null,null);e["default"]=S.exports}}]);