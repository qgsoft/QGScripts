(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["appsa"],{6377:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.cards&&e.cards.length?a("div",[e.cardMap[1]?a("ShareAlbumImg",{attrs:{video:e.cardMap[1].videos[0]}}):e._e(),e.cardMap[1]?a("ShareAlbumSummary",{attrs:{subtitle:e.cardMap[1].videos[0].subtitle}}):e._e(),e.cardMap[2]?a("ShareAlbumCharacter",{attrs:{videos:e.cardMap[2].videos}}):e._e(),e.pageNum>=1?[e.cardMap[7]?a("section",{directives:[{name:"show-pingback",rawName:"v-show-pingback",value:"20180910_购票",expression:"'20180910_购票'"}],staticClass:"m-fixBottom-btn"},[a("div",{staticClass:"m-fixBottom-btnContent"},[a("a",{directives:[{name:"pingback",rawName:"v-pingback",value:"20180910_购票buy",expression:"'20180910_购票buy'"}],attrs:{href:e.cardMap[7].videos[0].kvs.moviePageUrl}},[a("div",{staticClass:"m-btn"},[e._v("特惠购票")])])])]):e._e(),e.cardMap[3]?a("VideoList",{attrs:{videos:e.cardMap[3].videos.slice(0,4),"page-size":e.cardMap[3].size,end:4,"more-class":"m-movieLib-linkMore"},scopedSlots:e._u([{key:"header",fn:function(){return[e.cardMap[3]?a("AuraCardTitle",{directives:[{name:"show-pingback",rawName:"v-show-pingback",value:"20180910_预告",expression:"'20180910_预告'"}],staticClass:"m-movieLib-title",attrs:{title:e.cardMap[3].cardName}}):e._e()]},proxy:!0},{key:"body",fn:function(e){var t=e.videos;return[a("AuraVideoList",{directives:[{name:"pingback",rawName:"v-pingback",value:"20180910_预告",expression:"'20180910_预告'"}],staticClass:"m-pic-horizontal m-movieLib-pic",attrs:{videos:t,"hide-sub-title":!0,ellipsis:!1}})]}},{key:"footer",fn:function(){return[a("AuraCardMore",{directives:[{name:"pingback",rawName:"v-pingback",value:"20180910_预告more",expression:"'20180910_预告more'"}],attrs:{"hide-extra":!0,to:"/m/share/albums/"+e.filmId+"?type=1&pingback=预告&title="+e.cardMap[3].cardName+"&filmTvName="+e.cardMap[1].videos[0].mainTitle+"&channelId="+e.cardMap[3].videos[0].channelId,text:"查看更多"}})]},proxy:!0}],null,!1,3058665417)}):e._e()]:e._e(),e.pageNum>=2?[e.cardMap[4]?a("VideoList",{attrs:{videos:e.cardMap[4].videos,"page-size":e.cardMap[4].size,end:4,"more-class":"m-movieLib-linkMore"},scopedSlots:e._u([{key:"header",fn:function(){return[e.cardMap[4]?a("AuraCardTitle",{directives:[{name:"show-pingback",rawName:"v-show-pingback",value:"20180910_资讯",expression:"'20180910_资讯'"}],staticClass:"m-movieLib-title",attrs:{title:e.cardMap[4].cardName}}):e._e()]},proxy:!0},{key:"body",fn:function(e){var t=e.videos;return[a("AuraVideoList",{directives:[{name:"pingback",rawName:"v-pingback",value:"20180910_资讯",expression:"'20180910_资讯'"}],staticClass:"m-pic-horizontal m-movieLib-pic",attrs:{videos:t,"hide-sub-title":!0,ellipsis:!1}})]}},{key:"footer",fn:function(){return[a("AuraCardMore",{directives:[{name:"pingback",rawName:"v-pingback",value:"20180910_资讯more",expression:"'20180910_资讯more'"}],attrs:{"hide-extra":!0,to:"/m/share/albums/"+e.filmId+"?type=2&pingback=资讯&title="+e.cardMap[4].cardName+"&filmTvName="+e.cardMap[1].videos[0].mainTitle,text:"查看更多"}})]},proxy:!0}],null,!1,956696600)}):e._e(),e.cardMap[5]?a("VideoList",{attrs:{videos:e.cardMap[5].videos,"page-size":e.cardMap[5].size,end:4,"more-class":"m-movieLib-linkMore"},scopedSlots:e._u([{key:"header",fn:function(){return[e.cardMap[5]?a("AuraCardTitle",{directives:[{name:"show-pingback",rawName:"v-show-pingback",value:"20180910_原声",expression:"'20180910_原声'"}],staticClass:"m-movieLib-title",attrs:{title:e.cardMap[5].cardName}}):e._e()]},proxy:!0},{key:"body",fn:function(e){var t=e.videos;return[a("AuraVideoList",{directives:[{name:"pingback",rawName:"v-pingback",value:"20180910_原声",expression:"'20180910_原声'"}],staticClass:"m-pic-horizontal m-movieLib-pic",attrs:{videos:t,"hide-sub-title":!0,ellipsis:!1}})]}},{key:"footer",fn:function(){return[a("AuraCardMore",{directives:[{name:"pingback",rawName:"v-pingback",value:"20180910_原声more",expression:"'20180910_原声more'"}],attrs:{"hide-extra":!0,to:"/m/share/albums/"+e.filmId+"?type=3&pingback=原声&title="+e.cardMap[5].cardName+"&filmTvName="+e.cardMap[1].videos[0].mainTitle,text:"查看更多"}})]},proxy:!0}],null,!1,4177368924)}):e._e(),e.cardMap[6]?a("VideoList",{attrs:{videos:e.cardMap[6].videos,"page-size":20},scopedSlots:e._u([{key:"header",fn:function(){return[e.cardMap[6]?a("AuraCardTitle",{directives:[{name:"show-pingback",rawName:"v-show-pingback",value:"20180910_相关",expression:"'20180910_相关'"}],staticClass:"m-movieLib-title",attrs:{title:e.cardMap[6].cardName}}):e._e()]},proxy:!0},{key:"body",fn:function(t){var s=t.videos;return[a("AuraVideoList",{directives:[{name:"scroll",rawName:"v-scroll.scrollX",value:{eventPassthrough:"vertical"},expression:"{eventPassthrough: 'vertical'}",modifiers:{scrollX:!0}}],staticClass:"m-pic-vertical m-pic-vertical-sliding m-sliding m-movieLib-pic",attrs:{"item-pingback":"20180910_相关",videos:s},scopedSlots:e._u([{key:"top",fn:function(t){var s=t.video;return[s.showTime?a("div",{staticClass:"piclist-time"},[a("span",{staticClass:"time"},[e._v(e._s(s.showTime))])]):e._e()]}}],null,!0)})]}}],null,!1,2966259263)}):e._e(),e.cardMap[7]?a("ShareAlbumOffice",{directives:[{name:"show-pingback",rawName:"v-show-pingback",value:"20180910_票房",expression:"'20180910_票房'"}],attrs:{video:e.cardMap[7].videos[0]}}):e._e()]:e._e(),e.pageNum<3?a("LoadBottom",{attrs:{callback:e.loadMore}}):e._e()],2):e._e()},i=[],r=a("795b"),n=a.n(r),o=(a("0cd8"),a("cebc")),c=a("2f62"),l=a("fe3a"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.video?a("div",{staticClass:"m-box"},[a("div",{staticClass:"m-box-items m-box-items-full"},[a("section",{staticClass:"m-albumPic"},[a("div",{staticClass:"bg-alpha",style:"background-image:url("+e.albumImg+")"}),a("div",{staticClass:"inner"},[a("div",{staticClass:"piclist-img"},[a("AuraVideo",{staticClass:"piclist-link",style:"background-image:url("+e.albumImg+");",attrs:{href:e.video.pageUrl||"javascript:void(0)",video:e.video}})],1),a("div",{staticClass:"piclist-info"},[e.video.mainTitle?a("div",{staticClass:"c-title"},[a("span",{staticClass:"title-txt"},[e._v(e._s(e.video.mainTitle))])]):e._e(),a("div",{staticClass:"c-des"},[e._v("\n            "+e._s(e.kvs.region)+" "),e.kvs.category?a("span",[e._v("| "+e._s(e.kvs.category))]):e._e(),"0"!==e.kvs.duration&&e.getDuration?a("span",[e._v("| "+e._s(e.getDuration)+"分钟")]):e._e()]),e.kvs.publishDate?a("div",{staticClass:"c-des"},[e._v("\n            上映："+e._s(e.kvs.publishDate)+"\n          ")]):e._e(),e.video.directors?a("div",{staticClass:"c-des"},[e._v("\n            导演："+e._s(e.video.directors)+"\n          ")]):e._e(),e.video.actors?a("div",{staticClass:"c-des"},[e._v("\n            "+e._s(e.actorsInfo)+e._s(e.video.actors)+"\n          ")]):e._e()]),e.kvs.subscribeStatus?"0"===e.kvs.subscribeStatus||"1"===e.kvs.subscribeStatus?a("a",{directives:[{name:"pingback",rawName:"v-pingback",value:e.morePingback,expression:"morePingback"}],staticClass:"c-play-btn",class:e.isSubed?"alreadyReserved":"MAMppoint",on:{click:e.observe}},[a("span",{key:"order",staticClass:"c-btnIcon"}),e._v(e._s(e.isSubed?"已预约":"预约")+"\n        ")]):e.isLogin?e._e():a("div",[a("a",{directives:[{name:"pingback",rawName:"v-pingback",value:"20180910_资料order",expression:"'20180910_资料order'"}],staticClass:"c-play-btn MAMppoint",attrs:{href:e.toHref}},[a("span",{key:"order",staticClass:"c-btnIcon"}),e._v(e._s("预约")+"\n          ")])]):a("a",{directives:[{name:"pingback",rawName:"v-pingback",value:"20180910_资料play",expression:"'20180910_资料play'"}],staticClass:"c-play-btn nowPlay",attrs:{href:e.video.pageUrl,title:e.video.mainTitle||e.video.title||e.video.subTitle||""}},[a("span",{key:"play",staticClass:"c-btnIcon"}),e._v("立即播放\n        ")])])])]),a("AuraToast",{directives:[{name:"show",rawName:"v-show",value:e.toastShow,expression:"toastShow"}],attrs:{text:e.toastText}})],1):e._e()},u=[],m=(a("96cf"),a("3b8d")),v=a("6f18"),p=a("b2e7"),b=a("240d"),h={name:"ShareAlbumImg",props:{video:{type:Object,default:function(){return[]}}},data:function(){return{isSubed:"1"===this.video.kvs.subscribeStatus,toastShow:!1,toastText:"",morePingback:{},isLogin:!1,redirectUrl:this.$route.path}},computed:{kvs:function(){return this.video.kvs||{}},filmId:function(){return this.$route.params.id},actorsInfo:function(){var e="";return 2===this.video.channelId?e="演员：":6===this.video.channelId?e="主持人：":4===this.video.channelId&&(e="配音："),e},getDuration:function(){var e="";return e=1===this.video.channelId?this.kvs.duration:"",e},albumImg:function(){return Object(b["a"])(this.video.imageUrl,"195_260")},toHref:function(){return"//m.iqiyi.com/user.html?redirect_url=".concat(encodeURIComponent(this.redirectUrl))}},mounted:function(){this.isLogin=Object(p["M"])()},methods:{observe:function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(){var t,a,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.isSubed?this.morePingback.rseat="20180910_资料cancel":this.morePingback.rseat="20180910_资料order",t={subKeys:this.$route.params.id,isSubed:this.isSubed},e.prev=2,e.next=5,Object(v["f"])(t);case 5:a=e.sent,a&&a.success?(this.isSubed=!this.isSubed,s=this.isSubed?"预约成功<br>下载手机APP，上线立即提醒您 ":"取消预约",this.toggle(s)):this.toggle("由于网络问题，请稍后重试"),e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](2);case 11:case"end":return e.stop()}},e,this,[[2,9]])}));function t(){return e.apply(this,arguments)}return t}(),toggle:function(e){var t=this;this.toastShow=!0,this.toastText=e,setTimeout(function(){t.toastShow=!1},2e3)}}},f=h,g=a("2877"),_=Object(g["a"])(f,d,u,!1,null,null,null),k=_.exports,C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.subtitle?a("div",{directives:[{name:"pingback",rawName:"v-pingback",value:"20180910_资料more",expression:"'20180910_资料more'"},{name:"show-pingback",rawName:"v-show-pingback",value:"20180910_资料",expression:"'20180910_资料'"}],staticClass:"m-box"},[a("div",{staticClass:"m-box-items m-box-items-full"},[a("div",{staticClass:"m-albumIntro",class:{selected:e.isShowIntro},on:{click:function(t){e.isShowIntro=!e.isShowIntro}}},[a("div",{staticClass:"c-info"},[e._v(e._s(e.subtitle)+"\n      ")]),e._m(0)])])]):e._e()},w=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"c-more"},[a("a",{staticClass:"more-link",attrs:{href:"javascript:void(0)"}},[a("i",{staticClass:"c-icon-more"})])])}],x={name:"UserRecordList",props:{subtitle:{type:String,default:""}},data:function(){return{isShowIntro:!1}}},y=x,M=Object(g["a"])(y,C,w,!1,null,null,null),S=M.exports,A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.videos.length?a("div",{directives:[{name:"show-pingback",rawName:"v-show-pingback",value:"20180910_影人",expression:"'20180910_影人'"}],staticClass:"m-box"},[e._m(0),a("div",{staticClass:"m-box-items m-box-items-full"},[a("section",{directives:[{name:"scroll",rawName:"v-scroll.scrollX",value:{eventPassthrough:"vertical"},expression:"{eventPassthrough: 'vertical'}",modifiers:{scrollX:!0}}],staticClass:"m-star m-sliding"},[a("ul",{staticClass:"list-items m-sliding-list"},e._l(e.videos,function(t,s){return a("li",{key:s},[a("a",{directives:[{name:"pingback",rawName:"v-pingback",value:"20180910_影人",expression:"`20180910_影人`"}],staticClass:"star-link",attrs:{href:t.pageUrl||"javascript:void(0)",title:t.mainTitle||t.title||t.subTitle||""}},[a("span",{staticClass:"c-photo",style:"background-image:url("+(t.imageUrl||"//www.iqiyipic.com/common/fix/h5-aura2.0-img/c-photo-default.png")+");"}),a("span",{staticClass:"c-title"},[e._v(e._s(t.mainTitle))]),"DIRECTOR"===t.kvs.role?a("span",{staticClass:"c-des"},[e._v("导演")]):"GUEST"===t.kvs.role?a("span",{staticClass:"c-des"}):t.kvs.character?a("span",{staticClass:"c-des"},[e._v("饰"+e._s(t.kvs.character))]):a("span",{staticClass:"c-des"})])])}),0)])])]):e._e()},N=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"m-box-items m-box-items-full"},[a("section",{staticClass:"m-title m-movieLib-title"},[a("h3",{staticClass:"c-title-des"},[e._v("相关影人")])])])}],I={name:"UserRecordList",props:{videos:{type:Array,default:function(){return[]}}}},L=I,T=Object(g["a"])(L,A,N,!1,null,null,null),j=T.exports,O=a("6810"),R=a("aa91"),U=a("da1f"),P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"m-box"},[e._m(0),a("div",{staticClass:"m-total-piaolist"},[a("ul",{staticClass:"piao-list"},[a("li",[a("a",{staticClass:"piaolink",attrs:{href:"javascript:void(0);"}},[a("div",{staticClass:"c-num"},[e._v(e._s(e.kvs.yRank))]),a("div",{staticClass:"c-info"},[e._v("昨日排名")])])]),a("li",[a("a",{staticClass:"piaolink",attrs:{href:"javascript:void(0);"}},[a("div",{staticClass:"c-num"},[e._v(e._s(e.kvs.yBox))]),a("div",{staticClass:"c-info"},[e._v("昨日票房")])])]),a("li",[a("a",{staticClass:"piaolink",attrs:{href:"javascript:void(0);"}},[a("div",{staticClass:"c-num"},[e._v(e._s(e.kvs.tBox))]),a("div",{staticClass:"c-info"},[e._v("累计票房")])])])])])])},$=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"m-box-items m-box-items-full"},[a("section",{staticClass:"m-title"},[a("h3",{staticClass:"c-title-des"},[e._v("票房信息")])])])}],V={name:"UserRecordList",props:{video:{type:Object,default:function(){return[]}}},computed:{kvs:function(){return this.video.kvs||{}}}},z=V,E=Object(g["a"])(z,P,$,!1,null,null,null),D=E.exports,B=a("936f"),X=a("11ad");function q(e,t){return H.apply(this,arguments)}function H(){return H=Object(m["a"])(regeneratorRuntime.mark(function e(t,a){var s,i,r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=t.commit,i=a.filmTv,r=a.page,e.next=4,B["a"].jsonp("".concat(X["r"],"/").concat(i,"/"),{params:{authCookie:this.$cookies.get("P00001"),page:r}});case 4:n=e.sent,s("setAlbum",n&&n.data.data);case 6:case"end":return e.stop()}},e,this)})),H.apply(this,arguments)}function J(e,t){if(t){for(var a=0;a<t.cards.length;a++)for(var s=t.cards[a].videos,i=0;i<s.length;i++){var r=s.length-s.length%2;t.cards[a].size=r,s[i].lowerRightCorner="0.0"===s[i].lowerRightCorner?"":s[i].lowerRightCorner}for(var n=0;n<e.cards.length;n++)for(var o=e.cards[n].videos,c=0;c<e.cards[n].videos.length;c++)o[c].lowerRightCorner="0.0"===o[c].lowerRightCorner?"":o[c].lowerRightCorner;e.cards=e.cards.concat(t.cards)}}var G={namespaced:!0,state:function(){return{channelId:"",channelName:"",cards:[],videos:[],hotQuery:[],picInfo:{bgColor:"",imageUrl:"",name:"",pageUrl:""}}},actions:{getAlbum:q},mutations:{setAlbum:J}},K=a("2af2"),Q={name:"ShareAlbum",components:{ShareAlbumImg:k,ShareAlbumSummary:S,ShareAlbumCharacter:j,LoadPage:R["a"],LoadBottom:U["a"],VideoList:O["a"],ShareAlbumOffice:D},mixins:[l["a"]],title:function(){return this.mainVideo.mainTitle},style:["base","shareAlbum"],asyncData:function(e){var t=e.store,a=e.route;if(t.registerModule("shareAlbum",G,{preserveState:t.state.shareAlbum}),!t.state.shareAlbum.cards.length)return t.dispatch("shareAlbum/getAlbum",{filmTv:a.params.id,page:1})},data:function(){return{pageNum:1,page:1}},computed:Object(o["a"])({},Object(c["e"])("shareAlbum",{cards:"cards",cardMap:function(e){var t=e.cards,a=void 0===t?[]:t;return a.reduce(function(e,t){return e[t.order]=t||{},e},{})}}),{filmId:function(){return this.$route.params.id},mainVideo:function(){var e=this.cardMap[1];return e?e.videos[0]:{}}}),mounted:function(){var e="http:".concat(this.mainVideo.imageUrl);Object(K["b"])({imgUrl:e}),Object(K["a"])({imgUrl:e}),this.loadMore()},destroyed:function(){this.$store.unregisterModule("shareAlbum")},methods:Object(o["a"])({},Object(c["b"])("shareAlbum",["getAlbum"]),{loadMore:function(){var e=this,t=this.pageNum+1,a=t<3?this.getAlbum({filmTv:this.filmId,page:t}):n.a.resolve();return a.then(function(){e.pageNum=t+1})}})},F=Q,W=Object(g["a"])(F,s,i,!1,null,null,null);t["default"]=W.exports}}]);