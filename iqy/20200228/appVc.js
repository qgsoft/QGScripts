(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["appVc"],{"5a47":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("section",{ref:"playerWraper",staticClass:"m-verticaVideo-player",class:{"verticaVideo-jiepai":e.isJiepai},style:e.style},[i("VideoClipPlayer",{ref:"player",on:{created:e.created,loaded:e.loaded,sdkerror:function(t){return e.$emit("sdkerror",t)}}}),i("VideoClipUnderReview",{on:{showLayer:e.onShowLayer,clickApp:function(t){return e.callVerticalPlay(Object.assign({},{pos:"home_banner_down",subtype:"xsplqw_661"},{qipuId:e.qipuId||e.loadInfo.qipuId,albumId:e.albumId,collectionId:e.collectionId,isJiepai:e.isJiepai}))},clickLogin:e.toLogin}}),i("VideoClipSealingRivalLayer",{attrs:{show:e.sealingRivalShow},on:{sourceLayerFoo:e.onSealingRivalLayerClick}}),i("VideoClipSideBar",{directives:[{name:"show",rawName:"v-show",value:e.barShow&&!e.checking&&!e.isShowLayer,expression:"barShow && !checking && !isShowLayer"}],on:{clickLike:function(t){return e.callVerticalPlay(Object.assign({},{pos:"home_banner_down",subtype:"xsplqd_658"},{qipuId:e.qipuId||e.loadInfo.qipuId,albumId:e.albumId,collectionId:e.collectionId,isJiepai:e.isJiepai}))},clickComment:function(t){return e.callVerticalPlay(Object.assign({},{pos:"home_banner_down",subtype:"xsplqp_659"},{qipuId:e.qipuId||e.loadInfo.qipuId,albumId:e.albumId,collectionId:e.collectionId,isJiepai:e.isJiepai}))},clickShare:function(t){return e.callVerticalPlay(Object.assign({},{pos:"home_banner_down",subtype:"xsplqf_660"},{qipuId:e.qipuId||e.loadInfo.qipuId,albumId:e.albumId,collectionId:e.collectionId,isJiepai:e.isJiepai}))},clickJiepai:function(t){return e.callVerticalPlay(Object.assign({},{pos:"home_banner_down"},{qipuId:e.qipuId||e.loadInfo.qipuId,albumId:e.albumId,collectionId:e.collectionId,isJiepai:e.isJiepai}))},clickEpisode:e.handleClickEpisode}}),i("VideoClipDashboard",{directives:[{name:"show",rawName:"v-show",value:!e.isShowLayer,expression:"!isShowLayer"}],on:{clickTitle:function(t){return e.callVerticalPlay(Object.assign({},{pos:"home_banner_down"},{qipuId:e.qipuId||e.loadInfo.qipuId,albumId:e.albumId,collectionId:e.collectionId,isJiepai:e.isJiepai}))},touchstart:function(t){e.barShow=!1},touchmove:function(t){e.barShow=!1},touchend:function(t){e.barShow=!0}}}),e.isJiepai&&!e.controlInfo.politicallySensitive?i("VideoClipJiePaiReplay",{attrs:{"cover-image":e.coverImage},on:{clickReplay:e.replay}}):e._e(),i("keep-alive",[e.albumShow&&!e.controlInfo.politicallySensitive?i("VideoClipAlbum",{directives:[{name:"show-pingback",rawName:"v-show-pingback",value:"xsp_xjfc",expression:"'xsp_xjfc'"}],on:{close:function(t){e.albumShow=!1},clickPlay:e.clickPlay}}):e._e()],1),e.sourceListShow&&!e.controlInfo.politicallySensitive?i("VideoClipSourceList",{on:{clickPlay:e.clickPlay,close:function(t){e.sourceListShow=!1}}}):e._e()],1),i("VideoClipReplayShare",{attrs:{"is-jiepai":e.isJiepai},on:{clickShare:function(t){return e.callVerticalPlay(Object.assign({},{pos:"home_banner_down",subtype:"H5dxsp_634"},{qipuId:e.qipuId||e.loadInfo.qipuId,albumId:e.albumId,collectionId:e.collectionId}))},clickComment:function(t){return e.callVerticalPlay(Object.assign({},{pos:"home_banner_down",subtype:"xsplqp_659"},{qipuId:e.qipuId||e.loadInfo.qipuId,albumId:e.albumId,collectionId:e.collectionId,isJiepai:e.isJiepai}))},clickVideo:e.callShareVideo,clickReplay:e.replay}}),i("AuraPopup",e._b({directives:[{name:"show",rawName:"v-show",value:e.popUpOptions.show,expression:"popUpOptions.show"}],on:{leftButtonClick:e.popUpOptions.onleftBtnClick,closeBtnClick:e.popUpOptions.onCloseBtnClick}},"AuraPopup",e.popUpOptions,!1))],1)},a=[],r=i("cebc"),o=i("2b0e"),s=i("2f62"),c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"m-verticaVideo-laiyuan-pop "},[i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"m-laiyuan-title",on:{click:function(t){return e.$emit("close")}}},[i("div",{staticClass:"c-title"},[e._v(e._s(e.albumName))])])]),i("transition",{attrs:{name:"fade"}},[e.show?i("div",{staticClass:"m-episode-list",attrs:{id:"container"}},[i("section",{staticClass:"m-pic m-pic-vertical-only"},[i("section",{directives:[{name:"show",rawName:"v-show",value:e.upShowNoMore,expression:"upShowNoMore"}],staticClass:"m-noInfo-tip"},[e._v("\n          没有更多啦\n        ")]),i("videoClipListLoading",{directives:[{name:"show",rawName:"v-show",value:e.upLoadingShow,expression:"upLoadingShow"}]}),i("ul",{staticClass:"m-pic-list"},e._l(e.videos,function(t,n){return i("li",{directives:[{name:"play",rawName:"v-play",value:{card:"albumList",redirect:!1,url:t.pageUrl,qipuId:t.qipuId,block:"902282_xjfm",rseat:"902282_xjfm"},expression:"{\n              card: 'albumList',\n              redirect: false,\n              url: video.pageUrl,\n              qipuId: video.qipuId,\n              block: '902282_xjfm',\n              rseat: '902282_xjfm'\n            }"}],key:t.qipuId+"-"+n,class:{selected:t.selected},on:{click:function(i){return e.clickItem(t)}}},[i("div",{staticClass:"piclist-img"},[i("a",{staticClass:"piclist-link",style:{"background-image":"url("+(t.imageUrl||"//www.iqiyipic.com/common/fix/h5-aura-img/imgLogo-default.png")+")"},attrs:{href:"javascript:void(0)"}},[i("div",{staticClass:"c-cb"},[i("div",{staticClass:"c-num"},[e._v(e._s(t.period))]),i("div",{staticClass:"c-title"},[e._v(e._s(t.title))])])])])])}),0),i("videoClipListLoading",{directives:[{name:"show",rawName:"v-show",value:e.downLoadingShow,expression:"downLoadingShow"}]}),i("section",{directives:[{name:"show",rawName:"v-show",value:e.downShowNoMore,expression:"downShowNoMore"}],staticClass:"m-noInfo-tip"},[e._v("\n          没有更多啦\n        ")])],1)]):e._e()])],1)},l=[],u=(i("ac6a"),i("f3e2"),i("96cf"),i("3b8d")),d=i("5321"),p=i("1d52"),h=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},v=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"m-hotSpot-update"},[i("div",{staticClass:"inner"},[i("i",{staticClass:"update-icon"}),i("span",{staticClass:"c-info"},[e._v("正在加载")])])])}],f={name:"VideoClipLoading"},m=f,y=i("2877"),w=Object(y["a"])(m,h,v,!1,null,null,null),b=w.exports,g=i("1fba"),k=null,I={name:"VideoClipSourceList",components:{videoClipListLoading:b},data:function(){return{videos:[],show:!1,listIndex:0,upLoadingShow:!1,downLoadingShow:!1,upShowNoMore:!1,downShowNoMore:!1,hasNewVideo:!0,hasOldVideo:!0}},computed:Object(s["e"])("play",{qipuId:function(e){return e.verticalVideoInfo.qipuId},albumId:function(e){return e.verticalVideoInfo.albumId||e.albumInfo.qipuId},albumName:function(e){return e.verticalVideoInfo.albumName}}),mounted:function(){this.init()},destroy:function(){this.unBindScroll()},methods:{bindScroll:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$nextTick(function(){k=document.getElementById("container"),t.scroll=new g["a"](k,{eventPassthrough:!1,preventDefault:!0,click:!0}),t.scroll.scrollTo(0,t.calculateOffset(t.listIndex,200),10,"bounce"),t.hasNewVideo&&t.scroll.openPullDown(),t.hasOldVideo&&t.scroll.openPullUp(),t.scroll.on("pullingDown",Object(u["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.loadMore("Top");case 2:case"end":return e.stop()}},e)}))),t.scroll.on("pullingUp",Object(u["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.loadMore("Bottom");case 2:case"end":return e.stop()}},e)})))});case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),unBindScroll:function(){this.scroll.destroy()},init:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getEpisode({});case 2:this.videos=e.sent,this.videos.slice(0,this.listIndex).length<7&&(this.hasNewVideo=!1),this.videos.slice(this.listIndex+1).length<7&&(this.hasOldVideo=!1),this.hasNewVideo?this.upLoadingShow=!0:this.upShowNoMore=!0,this.hasOldVideo?this.downLoadingShow=!0:this.downShowNoMore=!0,this.show=!0,this.bindScroll();case 9:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),clickItem:function(e){Object(d["g"])({rseat:"902282_xjfm"}),this.$emit("clickPlay",e)},loadMore:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){var i,n,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if("Top"!==t||!this.hasNewVideo){e.next=9;break}return e.next=3,this.getEpisode({sourceId:this.albumId,videoId:this.videos[0].qipuId,beforeSize:1,afterSize:10,selfFiltered:!0});case 3:i=e.sent,i.length<10&&(this.hasNewVideo=!1,this.upLoadingShow=!1,this.upShowNoMore=!0,this.scroll.closePullDown()),this.videos=i.concat(this.videos),this.$nextTick(function(){a.scroll.refresh(),a.scroll.finishPullDown(),a.scroll.scrollTo(0,a.calculateOffset(i.length,80))}),e.next=16;break;case 9:if("Bottom"!==t||!this.hasOldVideo){e.next=16;break}return e.next=12,this.getEpisode({sourceId:this.albumId,videoId:this.videos[this.videos.length-1].qipuId,beforeSize:11,afterSize:0,selfFiltered:!0});case 12:n=e.sent,n&&n.length<10&&(this.hasOldVideo=!1,this.downLoadingShow=!1,this.downShowNoMore=!0,this.scroll.closePullUp()),this.videos=this.videos.concat(n),this.$nextTick(function(){a.scroll.refresh(),a.scroll.finishPullUp()});case 16:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),getEpisode:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){var i,n,a,r,o,s,c,l,u,d,h,v,f=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=t.sourceId,n=void 0===i?"":i,a=t.videoId,r=void 0===a?"":a,o=t.beforeSize,s=void 0===o?8:o,c=t.afterSize,l=void 0===c?7:c,u=t.selfFiltered,d=void 0!==u&&u,h={sourceId:n||String(this.albumId)||"",videoId:r||String(this.qipuId)||"",beforeSize:s,afterSize:l,selfFiltered:d},e.next=4,Object(p["b"])(h);case 4:return v=e.sent,v.forEach(function(e,t){e.qipuId===f.qipuId&&(f.listIndex=t),e.selected=e.qipuId===f.qipuId,e.pageUrl=e.pageUrl.slice(13)}),e.abrupt("return",v);case 7:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),calculateOffset:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.videos.length<=3?0:-k.scrollHeight/this.videos.length*e+t}}},C=I,V=(i("7b21"),Object(y["a"])(C,c,l,!1,null,"0197571f",null)),x=V.exports,_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.text,expression:"text"}],staticClass:"play-examine-ing"},[i("i",{staticClass:"examine-icon"}),i("div",{staticClass:"c-info"},[e._v(e._s(e.text))]),i("div",{staticClass:"examine-btn"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isLogin,expression:"!isLogin"}],staticClass:"btn-item",on:{click:function(t){return e.$emit("clickLogin")}}},[e._v("立即登录")]),i("div",{staticClass:"btn-item",on:{click:function(t){return e.$emit("clickApp")}}},[e._v("去APP观看")])])])},S=[],j=(i("6762"),i("2fdb"),i("b2e7")),P={name:"VideoClipUnderReview",data:function(){return{vipStatus:{},apiError:!1}},computed:Object(r["a"])({},Object(s["e"])("play",{checking:function(e){return e.verticalVideoInfo.checking},errCode:function(e){return e.verticalVideoInfo.errCode}}),{isVipError:function(){var e=this.errCode||{},t=e.data||{},i=e.code,n=t.boss_ts||t.boss,a=t.st;return n&&n.code&&"A00000"!==n.code||"A00004"===i||708===a},st:function(){var e=this.errCode||{},t=e.data||{};return t.st},text:function(){var e="",t=this.st;if(this.errCode||this.apiError){var i=this.errCode||{};this.isPano(i)?e="此视频只能在APP观看，去APP试试":!i.code&&this.apiError?e="当前视频暂时无法播放，稍后试试":"A00001"===i.code?e="当前视频不存在，去看看其他的":this.isVipError?e=Object(j["M"])()?"快打开APP开通会员后观看吧":"登录VIP账号或打开APP观看吧":501===t?e="当前平台无法播放，去APP试试":502===t?e="您所在的地区无法查看此视频，去看看其他的":[505,506].includes(t)?e="当前视频版权限制，去看看其他的":509===t?e="当前视频被设为私密，去看看其他的":503===t?e="当前视频未通过审核，去看看其他的":[492,405,406].includes(t)?e="当前视频已下线，去看看其他的":[602,701,702,703].includes(t)?e="版权方要求在客户端观看，去APP试试":"A10001"===this.vipStatus.code?e="检测到您的账号被严重分享，请设置重试":["A10002","A10004"].includes(this.vipStatus.code)?e="检测到您的账号在多台设备登录，存在风险，请退出其他设备或修改密码":101!==t&&(e="视频跑丢了，去APP试试")}else this.checking&&(e="视频审核中，先去看看别的吧");return e},isLogin:function(){return Object(j["M"])()}}),watch:{text:function(e){this.$emit("showLayer",!!e)}},mounted:function(){var e=this;this.checkVipErr();var t=this.$parent;t.$on("created",function(t){var i=t.player,n=i.getQiyiVideo();n.on("error",function(t){t&&"api"===t.targetName&&(e.apiError=!0)})}),t.$on("sdkerror",function(){e.apiError=!0})},methods:{isPano:function(e){var t=e&&e.data?e.data:e;if(t&&t.p&&t.p.pano){var i=t.p.pano.type;return 1!==i}return!1},checkVipErr:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(Object(j["M"])()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(j["u"])().then(function(e){e&&(t.vipStatus=e,["A10001","A10002","A10004"].includes(e.code)&&t.$store.commit("play/setVerticalErrCode",e))});case 4:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()}},q=P,O=Object(y["a"])(q,_,S,!1,null,null,null),L=O.exports,T=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:!e.checking,expression:"!checking"}],staticClass:"player-handle"},[i("a",{staticClass:"c-link video-user",attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.$emit("clickShare")}}},[i("div",{staticClass:"c-video-user",style:{"background-image":"url("+e.icon+")"}})]),e.albumShow?i("a",{directives:[{name:"pingback",rawName:"v-pingback",value:"xsp_xuanji",expression:"'xsp_xuanji'"},{name:"show-pingback",rawName:"v-show-pingback",value:"xsp_xuanji",expression:"'xsp_xuanji'"}],staticClass:"c-link",attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.$emit("clickEpisode")}}},[i("i",{staticClass:"c-player-icon c-player-anthology"}),i("span",{staticClass:"c-info"},[e._v("选集")])]):e._e(),e.controlInfo.like?i("a",{directives:[{name:"pingback",rawName:"v-pingback",value:"xsp_like",expression:"'xsp_like'"}],staticClass:"c-link",class:{selected:e.hasLike},attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.$emit("clickLike")}}},[i("i",{staticClass:"c-player-icon c-player-like"}),i("span",{staticClass:"c-info"},[e._v(e._s(e._f("formatNum")(e.likes)))])]):e._e(),e.controlInfo.extendbarComment?i("a",{directives:[{name:"pingback",rawName:"v-pingback",value:"xsp_comment",expression:"'xsp_comment'"}],staticClass:"c-link",attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.$emit("clickComment")}}},[i("i",{staticClass:"c-player-icon c-player-comment"}),i("span",{staticClass:"c-info"},[e._v(e._s(e._f("formatNum")(e.comments)))])]):e._e(),i("a",{directives:[{name:"pingback",rawName:"v-pingback",value:"xsp_share",expression:"'xsp_share'"}],staticClass:"c-link",attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.$emit("clickShare")}}},[i("i",{staticClass:"c-player-icon c-player-share"}),i("span",{staticClass:"c-info"},[e._v("分享")])]),e.isJiepai?i("a",{staticClass:"c-link",attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.$emit("clickJiepai")}}},[i("i",{staticClass:"c-player-icon c-player-jiepai"}),i("span",{staticClass:"c-info"},[e._v("接拍")])]):e._e()])},R=[],$=i("45bc"),E={filters:{formatNum:$["c"]},data:function(){return{albumShow:!1}},computed:Object(s["e"])("play",{verticalVideoInfo:function(e){return e.verticalVideoInfo},likes:function(e){return e.verticalVideoInfo.likes},comments:function(e){return e.verticalVideoInfo.comments},checking:function(e){return e.verticalVideoInfo.checking},hasLike:function(e){return e.verticalVideoInfo.hasLike},isJiepai:function(e){return e.verticalVideoInfo.jiepai},icon:function(e){return e.verticalVideoInfo.icon},controlInfo:"controlInfo"}),mounted:function(){var e=this.verticalVideoInfo,t=e.videoType,i=e.showEpisodes,n=e.albumId,a=e.total;this.albumShow=1===t&&!0===i&&n>0&&a>0||2===t&&!0===i&&n>0}},N=E,B=Object(y["a"])(N,T,R,!1,null,null,null),A=B.exports,J=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isJiepai?e._e():i("div",{staticClass:"verticaVideo-recommend"},[i("div",{staticClass:"recommend-title"},[e._v("更多精彩视频")]),i("ul",{directives:[{name:"show-pingback",rawName:"v-show-pingback",value:"810221_recommend",expression:"'810221_recommend'"}],staticClass:"recommend-videoList"},e._l(e.videos,function(t,n){return i("li",{directives:[{name:"pingback",rawName:"v-pingback",value:"810221_recommend",expression:"'810221_recommend'"}],key:n,on:{click:function(i){return e.$emit("clickVideo",{qipuId:t.qipuId})}}},[i("a",{staticClass:"recommend-videoItem",attrs:{href:"javascript:;"}},[i("div",{staticClass:"recommend-img",style:{"background-image":"url("+t.coverImage+")"}},[i("i",{staticClass:"c-player-icon c-player-play"})]),i("div",{staticClass:"recommend-videoIntro"},[i("div",{staticClass:"recommend-videoName"},[e._v("\n            "+e._s(t.title)+"\n          ")]),i("div",{staticClass:"recommend-videoUser"},[i("div",{staticClass:"videoUser",on:{click:function(i){return i.stopPropagation(),e.jumpToUserPage(t.userId)}}},[i("div",{staticClass:"user-img",style:{"background-image":"url("+t.icon+")"}}),i("div",{staticClass:"user-name"},[e._v(e._s(t.username))])]),i("div",{staticClass:"user-like",on:{click:function(t){return e.$emit("clickComment")}}},[i("div",{staticClass:"c-player-icon c-player-like"}),i("div",{staticClass:"c-num"},[e._v(e._s(e._f("formatNum")(t.likes)))])])])])])])}),0),i("div",{staticClass:"recommend-moreBtn"},[i("a",{staticClass:"moreBtn",attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.$emit("clickShare")}}},[e._v("看更多精彩视频"),i("i",{staticClass:"c-glyphicon c-glyphicon-more"})])]),i("div",{directives:[{name:"show-pingback",rawName:"v-show-pingback",value:"810221_share",expression:"'810221_share'"},{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"handle"},[i("a",{directives:[{name:"pingback",rawName:"v-pingback",value:"810221_share",expression:"'810221_share'"}],staticClass:"c-link-btn",attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.$emit("clickShare")}}},[i("i",{staticClass:"c-player-icon c-player-sharebtn"}),e._v("分享\n    ")]),i("a",{directives:[{name:"pingback",rawName:"v-pingback",value:"810221_replay",expression:"'810221_replay'"}],staticClass:"c-link-btn",attrs:{href:"javascript:void(0)"},on:{click:e.clickToReplay}},[i("i",{staticClass:"c-player-icon c-player-replaybtn"}),e._v("重播\n    ")])])])},U=[],H=(i("6d67"),i("936f")),M=i("8296"),D=i("5191"),F="//pub.m.iqiyi.com/h5/main/miniVideo/recommend/";function z(){return Q.apply(this,arguments)}function Q(){return Q=Object(u["a"])(regeneratorRuntime.mark(function e(){var t,i,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(D["b"])();case 2:return e.t0=e.sent,t={dfp:e.t0},e.next=6,H["a"].jsonp(F,{params:t});case 6:return i=e.sent,n=i.data,a=n&&"A00000"===n.code?n.data.videos:[],e.abrupt("return",a.map(function(e){return e.coverImage=Object(M["o"])(e.coverImage,"195_260"),e}));case 10:case"end":return e.stop()}},e)})),Q.apply(this,arguments)}var W={filters:{formatNum:$["c"]},props:{isJiepai:{type:Boolean,default:!1}},data:function(){return{show:!1,videos:[]}},computed:Object(r["a"])({},Object(s["e"])("play",{qipuId:function(e){return e.verticalVideoInfo.qipuId}})),watch:{qipuId:function(e,t){e!==t&&this.show&&(this.show=!1)}},mounted:function(){var e=this;this.$parent.$on("created",function(t){var i=t.player,n=i.getQiyiVideo();n.on("ended",function(){e.show=!0,e.scrollList()})}),this.getVideos()},methods:{getVideos:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,z();case 2:this.videos=e.sent;case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),jumpToUserPage:function(e){e&&(window.location.href="/u/".concat(e))},clickToReplay:function(){this.show=!1,window.scrollTo(0,0),this.$emit("clickReplay")},scrollList:function(){var e=this.$el.offsetTop-200;try{window.scrollTo({top:e,behavior:"smooth"})}catch(t){window.scrollTo(0,e)}}}},G=W,X=Object(y["a"])(G,J,U,!1,null,null,null),Y=X.exports,K=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"com-pingback",rawName:"v-com-pingback",value:e.video,expression:"video"}],attrs:{id:"videoZone"}},[i("video",{ref:"video",staticClass:"player",attrs:{id:"video","webkit-playsinline":"",playsinline:""}}),i("VideoClipPlayerVV",{attrs:{video:e.video,"vip-type":e.vipType,prv:e.prv,"current-rate":e.currentRate,duby:e.duby}})],1)},Z=[],ee=(i("7514"),i("a745")),te=i.n(ee),ie=i("d225"),ne=i("b0b4"),ae=i("1fa0"),re=i("6ffa");ae["a"].prototype.getVideo=function(e){return new re["a"]({sdk:e.sdk,video:e.video})};var oe=ae["a"],se=oe,ce=null,le=function(){function e(){Object(ie["a"])(this,e),this.video=null}return Object(ne["a"])(e,[{key:"init",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){var i,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ce=new se,e.next=3,ce.createPlayer(t);case 3:if(i=e.sent,i&&"error"!==i.type){e.next=8;break}return e.abrupt("return",{type:"error",targetName:"api",msg:i?"load_sdk":"init_player"});case 8:return this.video=ce.getVideo({sdk:i,video:t.video}),ce.getQiyiVideo=function(){return n.video},e.abrupt("return",ce);case 11:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getVideo",value:function(){return this.video}}]),e}();le.get=function(){return ce};var ue=function(e){var t;return function(){return t||(t=new e(arguments)),t}},de=ue(le)(),pe=(i("d92a"),function(){function e(){Object(ie["a"])(this,e),this.player=null,this.currentVideoInfo=null,this.endLocker=!1,this.isFirstPlay=!0}return Object(ne["a"])(e,[{key:"onEnded",value:function(){var e=this;this.endLocker||(this.endLocker=!0,setTimeout(function(){e.endLocker=!1},1e3),Object(d["k"])({cid:this.currentVideoInfo.channelId,tvid:this.currentVideoInfo.tvid,aid:this.currentVideoInfo.aid,url:this.currentVideoInfo.videoUrl}))}},{key:"onFirstFrame",value:function(){Object(d["l"])({cid:this.currentVideoInfo.channelId,tvid:this.currentVideoInfo.tvid,aid:this.currentVideoInfo.aid,url:this.currentVideoInfo.videoUrl})}},{key:"updateVideoInfo",value:function(e){this.currentVideoInfo=e||{}}},{key:"unbind",value:function(){this.player.removeEventListener("ended",this.onEnded),this.player.removeEventListener("play",this.firstPlay)}},{key:"bind",value:function(e){this.player=e,e&&e.addEventListener("ended",this.onEnded.bind(this)),e&&e.addEventListener("play",this.firstPlay.bind(this))}},{key:"firstPlay",value:function(){this.isFirstPlay&&(this.onFirstFrame(),this.isFirstPlay=!1)}},{key:"setFirstPlay",value:function(e){this.isFirstPlay=e}}]),e}()),he=new pe,ve={componentUpdated:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t,i){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!he.currentVideoInfo||i.value.tvid!==i.oldValue.tvid){e.next=2;break}return e.abrupt("return");case 2:he.updateVideoInfo(i.value),he.setFirstPlay(!0);case 4:case"end":return e.stop()}},e)}));function t(t,i){return e.apply(this,arguments)}return t}(),bind:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t,i){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:n=document.getElementById("video"),he.bind(i.player||n);case 2:case"end":return e.stop()}},e)}));function t(t,i){return e.apply(this,arguments)}return t}(),unbind:function(e){he.unbind()}},fe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div")},me=[],ye=(i("c5f6"),i("b2dc")),we=i("9d09"),be=i("2c06"),ge={name:"VideoClipPlayerVV",props:{video:{type:Object,default:function(){return{}}},vipType:{type:String,default:void 0},prv:{type:String,default:void 0},currentRate:{type:Number,default:void 0},duby:{type:Number,default:void 0}},data:function(){return{qiyiVideo:{},refer:"",useHref:""}},watch:{video:function(e,t){e.tvid!==t.tvid&&this.setSdkParams()}},mounted:function(){this.lastPlayerSeconds=0,this.init(),window.addEventListener("unload",we["a"])},destroyed:function(){Object(we["a"])()},methods:{init:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$parent.$on("created",function(e){t.qiyiVideo=e.getQiyiVideo(),t.player=e,t.setSdkParams(),t.qiyiVideo.on("pause",function(){t.sendPauseVV()}),t.qiyiVideo.on("ended",function(){t.sendEndVV()})});case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),setSdkParams:function(e){var t=this.vvParams(),i=Object(d["b"])(),n=be["F"]();this.player.setPlayPingbackInfo(Object(r["a"])({},i,t,{tmplt:i.tmplt||"",weid:i.weid||"",sprov:i.sprov,lrfr:be["z"](),msrc:be["A"](),openid:n.appKey,p2:n.version?"1015":"1011",abtest:"h5player_new",br:Object(M["r"])(),os:Object(M["t"])()}))},sendPauseVV:function(){this.isPrevent({pt:this.qiyiVideo.currentTime()})||this.player.sendPauseVV()},sendEndVV:function(e){this.lastPlayerSeconds=0,this.isPrevent({pt:this.qiyiVideo.currentTime()})||(e?this.player.setPreviewEnd():this.player.sendEndVV())},isPrevent:function(e){return Math.floor(e.pt)===this.lastPlayerSeconds||(this.lastPlayerSeconds=Math.floor(e.pt),!1)},getRefer:function(){return this.refer=this.refer||document.referrer,this.href=this.href||location.href,this.useHref||this.href===location.href||(this.refer=this.href,this.useHref=!0),this.refer},vvParams:function(){var e=te()(Object(ye["a"])())&&(Object(ye["a"])().pop()||{}),t=Object(we["b"])()||{},i=e.block||"",n=e.rseat||"";return{ps3:i,ps4:n,s3:t.block||i,s4:t.rseat||n,rfr:this.getRefer(),videoType:this.player.getType(),tvid:this.video.tvid,vid:this.video.vid,c1:this.video.c||this.video.cid||this.video.channelId,upderid:this.video.uid,ra:this.currentRate,fatherid:this.video.albumId,ispre:this.prv?"1":"0"}}}},ke=ge,Ie=Object(y["a"])(ke,fe,me,!1,null,null,null),Ce=Ie.exports,Ve=i("784b"),xe={name:"VideoClipPlayer",components:{VideoClipPlayerVV:Ce},directives:{comPingback:ve},data:function(){return{videoList:[],qiyiVideo:null,vipTypes:[],prv:"0",currentRate:1,duby:0}},computed:Object(r["a"])({vipType:function(){return te()(this.vipTypes)?this.vipTypes.join(","):""}},Object(s["e"])("play",{vid:function(e){return e.verticalVideoInfo.vid},qipuId:function(e){return e.verticalVideoInfo.qipuId},video:function(e){var t=e.verticalVideoInfo||{};return{vid:t.vid,tvid:t.qipuId,channelId:t.channelId,uid:t.userId,purchaseType:t.charged?1:0,aid:t.albumId,videoUrl:t.videoUrl,albumId:t.albumId}}})),watch:{qipuId:function(e,t){e!==t&&(this.qiyiVideo.hide(),this.qiyiVideo.pause(),this.$store.commit("play/setVerticalErrCode",null),this.loadSource())}},created:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){var t,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=document.getElementById("video"),i={videoId:"video",tvid:this.qipuId&&"0"!==this.qipuId?this.qipuId:"",vid:this.vid,video:t,noCloud:!0,addata:{adContainer:t,playerId:this.getAdId()},rate:2},e.next=5,de.init(i);case 5:this.player=e.sent,this.player&&"error"!==this.player.type?(this.qiyiVideo=this.player.getQiyiVideo(),this.qiyiVideo.hide(),this.bindEvents(),this.$emit("created",this.player)):this.$emit("sdkerror",this.player);case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),destroy:function(){this.player.clear(),this.player=null},methods:{bindEvents:function(){var e=this;this.qiyiVideo.on("authRomte",function(t){e.authInfo=t,e.afterAuth()}),this.qiyiVideo.on("playing",function(){e.qiyiVideo.show()}),this.qiyiVideo.on("ended",function(){e.qiyiVideo.hide()})},loadSource:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){var t,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(j["H"])();case 3:t=e.sent,this.vipTypes=t||[],i={tvid:this.qipuId,vid:this.vid,autoplay:!0,adId:this.getAdId()},this.player.loadSource(i),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),this.checkErrCode({});case 12:case"end":return e.stop()}},e,this,[[0,9]])}));function t(){return e.apply(this,arguments)}return t}(),afterAuth:function(){var e=this.authInfo;this.rateInfo(e),this.isPre(e),this.process(e),this.$emit("loaded",e)},process:function(e){var t=this.qiyiVideo.src();return t&&!this.$el.getAttribute("srcset")&&document.querySelector("[playBtnClickedBeforeInit=true]")&&this.play(),t&&this.$el.setAttribute("srcset",!0),this.checkErrCode(e),t},isPre:function(e){this.prv=e.prv||""},rateInfo:function(e){var t=e.data.ctl,i=t&&t.bid;this.currentRate=Ve["a"][i]?Ve["a"][i].rate:1;var n=e.data.program.video||[],a=n.find(function(e){return i===e.bid});this.duby=a&&a.isdol},play:function(){this.qiyiVideo.play()},replay:function(){this.qiyiVideo.replay()},preplay:function(){this.qiyiVideo&&this.qiyiVideo.preplay()},src:function(e){this.qiyiVideo.src(e)},currentTime:function(){this.qiyiVideo&&this.qiyiVideo.currentTime()},checkErrCode:function(e){this.qiyiVideo.hide(),this.$store.commit("play/setVerticalErrCode",e)},getAdId:function(){return be["b"]},clear:function(){this.qiyiVideo&&(this.qiyiVideo.src(""),this.preplay())},hide:function(){this.qiyiVideo&&this.qiyiVideo.hide()},show:function(){this.qiyiVideo&&this.qiyiVideo.show()}}},_e=xe,Se=Object(y["a"])(_e,K,Z,!1,null,null,null),je=Se.exports,Pe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{"enter-active-class":"am-video-info-ios-show","leave-active-class":"am-video-info-close"}},[i("section",{staticClass:"m-video-info-fixed m-verticaVideo-episode-pop m-episode-pop",staticStyle:{overflow:"hidden",top:"2.1rem"}},[i("a",{directives:[{name:"pingback",rawName:"v-pingback",value:"xsp_xuanjifuceng_close",expression:"'xsp_xuanjifuceng_close'"}],staticClass:"close-item",attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.$emit("close")}}},[i("i",{staticClass:"c-glyphicon c-glyphicon-guideClose"})]),i("section",{ref:"title",staticClass:"g-tab-num g-tab-txt"},[i("div",{staticClass:"m-tab-num m-sliding"},[i("div",{staticClass:"m-tab-num-list m-sliding-list"},[i("span",{staticClass:"c-tab-item"},[e._v("选集")])])])]),i("LoadPage",{attrs:{callback:e.init}},[i("section",{directives:[{name:"prevent",rawName:"v-prevent"},{name:"pingback",rawName:"v-pingback",value:"xsp_xuanjifuceng_click",expression:"'xsp_xuanjifuceng_click'"}],ref:"albumList",staticClass:"m-album-num clearfix hie",staticStyle:{overflow:"scroll"},style:{height:e.listHeight+"px"}},e._l(e.videos,function(t,n){return i("DigitNumItem",{key:t.qipuId+"_"+n+"_album",staticClass:"c-album-item",attrs:{"play-options":{card:"albumList",redirect:!1,url:t.pageUrl,qipuId:t.qipuId,block:"xsp_xjfc",rseat:"xsp_xuanjifuceng_click"},video:t,selected:e.qipuId===t.qipuId,"click-handle":e.itemClickHandle,"main-video":e.videoInfo,tag:"a"}})}),1)])],1)])},qe=[],Oe=(i("20d6"),i("aa91")),Le=i("3a65"),Te={name:"VideoClipAlbum",components:{LoadPage:Oe["a"],DigitNumItem:Le["a"]},data:function(){return{videos:[],listHeight:0}},computed:Object(s["e"])("play",{qipuId:function(e){return e.verticalVideoInfo.qipuId},albumId:function(e){return e.verticalVideoInfo.albumId},total:function(e){return e.verticalVideoInfo.total},videoInfo:function(e){return e.videoInfo}}),activated:function(){this.setListHeight(),this.setPosition()},mounted:function(){this.setListHeight(),window.addEventListener("resize",this.setListHeight)},destroyed:function(){window.removeEventListener("resize",this.setListHeight)},methods:{itemClickHandle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.$emit("clickPlay",e)},init:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getAllEpisode();case 2:setTimeout(function(){t.setPosition()},100);case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getAllEpisode:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){var t,i,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=1,e.next=3,Object(j["H"])();case 3:return i=e.sent,e.next=6,Object(p["a"])({albumId:this.albumId,size:this.total,page:t,needVipPrevue:!i.includes(j["q"])&&!i.includes(j["l"])});case 6:n=e.sent,this.videos=n.videos||[];case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),setPosition:function(){var e=this,t=this.$refs.albumList;if(t){var i=this.videos.findIndex(function(t){return t.qipuId===e.qipuId});if(i){var n=t.children[i];if(n){var a=50;t.scrollTop=n.offsetTop-a}}}},setListHeight:function(){var e=document.documentElement.clientHeight||document.body.clientHeight,t=this.$refs.title.offsetHeight;this.listHeight=e-5.2*t}}},Re=Te,$e=Object(y["a"])(Re,Pe,qe,!1,null,null,null),Ee=$e.exports,Ne=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.checking||e.apiError?e._e():i("div",{on:{touchmove:function(t){e.scrollPlay=!0}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.startPlay||e.showCover,expression:"startPlay || showCover"}],staticClass:"video-poster",style:e.coverStyle}),i("div",{directives:[{name:"show-pingback",rawName:"v-show-pingback",value:"190910_videoplay",expression:"'190910_videoplay'"},{name:"pingback",rawName:"v-pingback",value:e.playBtnRseat,expression:"playBtnRseat"},{name:"show",rawName:"v-show",value:e.playBtnShow,expression:"playBtnShow"}],staticClass:"videoplay",class:{selected:!e.paused},attrs:{onclick:"if(!document.querySelector('[srcset=true]')) {\n      this.setAttribute('playBtnClickedBeforeInit', 'true');\n      if (!document.getElementById('video').src) {\n        document.getElementById('video').load();\n      }\n    }"},on:{click:e.togglePlay}},[i("i",{staticClass:"c-player-icon c-player-big"})]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.touchSeeking,expression:"touchSeeking"}],staticClass:"timePlay"},[i("span",{staticClass:"current"},[e._v(e._s(e.currentShowTime))]),i("span",{staticClass:"duration"},[e._v(e._s(e.durationShowTime))])]),i("div",{staticClass:"verticaVideo-videoInfo"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.touchSeeking&&e.username&&!e.isJiepai,expression:"!touchSeeking && username && !isJiepai"}],staticClass:"video-user"},[e._v("@"+e._s(e.username))]),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.touchSeeking&&!e.isJiepai,expression:"!touchSeeking && !isJiepai"}],staticClass:"video-title",on:{click:function(t){return e.$emit("clickTitle")}}},[e._v("\n      "+e._s(e.title)+"\n    ")])]),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.touchSeeking&&e.isJiepai,expression:"!touchSeeking && isJiepai"}],staticClass:"jiepai-player-videoInfo"},[i("div",{staticClass:"jiepaiVideo-intro"},[e._v(e._s(e.desc))]),e.theme?i("div",{staticClass:"jiepaiVideo-subject"},[e._v("主题："+e._s(e.theme))]):e._e()]),i("div",{staticClass:"video-dashboard"},[i("div",{ref:"progress",staticClass:"video-progress",class:{"on-progress":e.touchSeeking},on:{touchstart:function(t){return t.preventDefault(),e.handleTouchstart(t)},touchmove:function(t){return t.preventDefault(),e.handleTouchmove(t)},touchend:function(t){return t.preventDefault(),e.handleTouchend(t)}}},[i("div",{staticClass:"progress-track"},[i("div",{staticClass:"progress-play",style:{width:e.playedProgress}}),i("div",{ref:"seek",staticClass:"progress-seek",style:{left:e.seekProgress}})])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isJiepai&&e.showPullBtn,expression:"!isJiepai && showPullBtn"}],staticClass:"play-slipTips"},[i("span",{staticClass:"slipTips-info"},[e._v("上滑查看更多")]),i("span",{staticClass:"slipTips-icon"})]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.loadingShow,expression:"loadingShow"}],staticClass:"player-tip"},[e._m(0)])])},Be=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"player-tip-inner"},[i("div",{staticClass:"player-loading-info"},[i("i",{staticClass:"am-loading-icon"}),i("div",{staticClass:"c-info"},[e._v("正在全力加载...")])])])}],Ae=i("e814"),Je=i.n(Ae),Ue=i("4e77"),He={name:"VideoClipDashboard",props:{playBtnDuration:{type:Number,default:3e3}},data:function(){return{currentTime:0,duration:0,playBtnRseat:{rseat:"xsp_play"},playBtnShow:!0,touchSeeking:!1,playStatus:"start",apiError:!1,showCover:!1,scrollPlay:!1,isPause:!1,showPullBtn:!0}},computed:Object(r["a"])({},Object(s["e"])("play",{coverImage:function(e){return e.verticalVideoInfo.coverImage},checking:function(e){return e.verticalVideoInfo.checking},qipuId:function(e){return e.verticalVideoInfo.qipuId},title:function(e){return e.verticalVideoInfo.title},isJiepai:function(e){return e.verticalVideoInfo.jiepai},desc:function(e){return e.verticalVideoInfo.description},theme:function(e){return e.verticalVideoInfo.theme},username:function(e){return e.verticalVideoInfo.username}}),{coverStyle:function(){return this.coverImage?{"background-image":"url(".concat(Object(M["o"])(this.coverImage,"440_608"),")")}:{}},currentShowTime:function(){var e=M["m"].formatTime(this.currentTime);return this.duration>=3600&&this.currentTime<3600?"00:".concat(e):e},durationShowTime:function(){return M["m"].formatTime(this.duration)},playedProgress:function(){return"".concat(100*this.percent,"%")},seekProgress:function(){if(this.percent){var e=this.$refs.progress.offsetWidth,t=this.$refs.seek.offsetWidth,i=this.percent*e-t/2;return i=Math.min(Math.max(i,0),e-t),"".concat(i,"px")}return"0px"},percent:function(){return this.currentTime/this.duration},loadingShow:function(){return"error"===this.playStatus||"load"===this.playStatus},startPlay:function(){return"start"===this.playStatus},paused:function(){return"paused"===this.playStatus||this.startPlay}}),watch:{playBtnShow:function(){this.playBtnShow&&this.startAutoHide()},touchSeeking:function(){this.touchSeeking?this.playBtnShow=!1:this.playBtnShow=this.video.paused()},qipuId:function(e,t){e!==t&&(this.playStatus="load")}},beforeMount:function(){var e=this;this.$parent.$on("created",function(t){var i=t.player;e.player=i,e.video=i.getQiyiVideo(),e.bindEvents()}),this.$parent.$on("loaded",function(t){e.isHttp=t.isHttp,e.prv=t.prv,e.prvTime=t.prvTime}),this.$parent.$on("sdkerror",function(){e.apiError=!0})},methods:{bindEvents:function(){var e=this,t=this.video;this.video.on("click",function(){e.playBtnShow=!e.playBtnShow,e.showCover=!1,e.isPause=!1}),t.on("playing",function(){e.playStatus="playing",e.playBtnRseat.rseat="xsp_pause",e.showCover=!1,e.isPause=!0,e.showPullBtn=!0,e.startAutoHide(),e.duration=e.getDuration()}),t.on("pause",function(){!e.isHttp&&e.prv&&e.currentTime>=e.prvTime&&(e.playStatus="ended",e.playBtnShow=!1),t.paused()&&(e.playStatus="paused",e.playBtnRseat.rseat="xsp_play",e.playBtnShow=!0,e.showCover=!1)}),t.on("ended",function(){e.playStatus="ended",e.playBtnShow=!0,e.showCover=!0,e.showPullBtn=!1,e.isPause=!1,e.playStatus="start"}),t.on("error",function(t){t&&"api"===t.targetName&&(e.apiError=!0),e.playStatus="error"}),t.on("timeupdate",function(){if(!(e.duration<0||e.touchSeeking)){var t=e.video.currentTime();e.currentTime=Je()(Math.min(t,e.duration),10)}}),t.on("durationchange",function(){e.duration=e.getDuration()}),t.on("seeked",function(){e.duration-e.currentTime<1&&M["i"].qq&&e.video.seek(e.duration-2)}),Object(Ue["e"])(function(t){clearTimeout(e.scrollPlay),e.scrollPlay=setTimeout(function(){e.scrollPlay&&e.isPause&&(t.scrollOffset.y>400?e.pause():e.play())})})},togglePlay:function(){this.video&&(this.video.paused()||"paused"===this.playStatus||this.startPlay?this.play():this.pause())},play:function(){this.video&&this.video.src()&&this.video.play()},pause:function(){this.video.pause()},getDuration:function(){return!this.isHttp&&this.prv?this.prvTime:this.video.duration()},startAutoHide:function(){var e=this;clearTimeout(this.autoHideTimer),this.autoHideTimer=setTimeout(function(){e.video.paused()||(e.playBtnShow=!1)},this.playBtnDuration)},handleTouchstart:function(e){var t=this;this.startPlay||(this.timer=setTimeout(function(){t.$emit("touchstart"),t.seekPos=e.touches[0].pageX,t.seekDashboard(t.seekPos),t.touchSeeking=!0},1e3))},handleTouchmove:function(e){this.startPlay||(this.$emit("touchmove"),this.touchSeeking=!0,this.seekPos=e.touches[0].pageX,this.seekDashboard(this.seekPos))},handleTouchend:function(e){clearTimeout(this.timer),this.touchSeeking&&(this.seekDashboard(this.seekPos),this.seek(),this.touchSeeking=!1,this.$emit("touchend"))},seekDashboard:function(e){var t=this.$refs.progress,i=t.getBoundingClientRect().left,n=t.offsetWidth,a=e-i,r=Math.min(Math.max(a,0),n),o=r/n;return this.updateCurrentTime(o)},updateCurrentTime:function(e){var t=e*this.duration;t>0&&(this.currentTime=t)},seek:function(){var e=Math.min(this.currentTime,this.duration-1);this.video.seek(e,this.video.paused())}}},Me=He,De=Object(y["a"])(Me,Ne,Be,!1,null,null,null),Fe=De.exports,ze=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"m-player-laqiPop-box",class:{dn:!e.isShow}},[i("img",{staticClass:"layer-video-img",attrs:{src:e.verticalVideoInfo.coverImage}}),i("div",{staticClass:"m-player-laqiPop"},[i("div",{staticClass:"player-tip-inner"},[i("div",{staticClass:"player-tip-info"},[e._v("\n        请打开爱奇艺APP，观看完整版视频\n      ")]),i("div",{staticClass:"player-tip-btn"},[i("a",{ref:"copyLink",staticClass:"c-link laqi",attrs:{href:"javascript:void(0)"}},[i("i",{staticClass:"c-glyphicon c-glyphicon-iqy"}),e._v("\n          前往APP观看\n        ")])])])])])},Qe=[],We=i("795b"),Ge=i.n(We),Xe=i("ec1c"),Ye=i("51cb"),Ke=i("7aa9"),Ze={name:"VideoClipSealingRivalLayer",props:{videoInfo:{type:Object,default:function(){return{}}}},computed:Object(r["a"])({},Object(s["e"])("play",{verticalVideoInfo:function(e){return e.verticalVideoInfo},verticalErrCode:function(e){return e.verticalErrCode}}),{isShow:function(){var e=this.verticalErrCode||{};return"A00030"===e.code}}),mounted:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{init:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){var t,i,n,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=Object(Ke["a"])(window.navigator.userAgent),i=t.os,e.prev=1,Object(Xe["d"])({block:"804231_toutiao_xianbofuceng"}),e.next=5,this.registerCopy(this.$refs.copyLink,"http://ota.iqiyi.com/f4.jsp?url=h5_fuceng");case 5:n=e.sent,n.on("success",function(){Object(Xe["c"])({rseat:i.ios?"804231_toutiaourl_ios":"804231_toutiaourl_android"}),a.$emit("sourceLayerFoo",{code:"sealingRivalCopyLink",data:{code:"success"}})}),e.next=12;break;case 9:throw e.prev=9,e.t0=e["catch"](1),e.t0;case 12:case"end":return e.stop()}},e,this,[[1,9]])}));function t(){return e.apply(this,arguments)}return t}(),registerCopy:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t,i){var n,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="//static.iqiyi.com/js/html5/js/lib/clipboard.min.js",t.setAttribute("data-clipboard-text",i),e.abrupt("return",new Ge.a(function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(i,r){var o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!a.isNotSupportCopy()){e.next=4;break}r(new Error("notSupport")),e.next=7;break;case 4:return e.next=6,Object(Ye["e"])(n);case 6:window.Clipboard?(o=new window.Clipboard(t),i(o)):r(new Error("noClipboard"));case 7:case"end":return e.stop()}},e)}));return function(t,i){return e.apply(this,arguments)}}()));case 3:case"end":return e.stop()}},e)}));function t(t,i){return e.apply(this,arguments)}return t}(),isNotSupportCopy:function(){var e=window.navigator.userAgent,t=/iPhone OS (\d*)_(\d*)/i.exec(e),i=t&&8===t[1];return/BLN-TL10/i.test(e)||/PE-TL20/i.test(e)||i||/VivoBrowser/i.test(e)}}},et=Ze,tt=Object(y["a"])(et,ze,Qe,!1,null,null,null),it=tt.exports,nt=i("fd12"),at=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.show?i("div",[i("div",{staticClass:"video-poster",style:"background-image:url("+e.coverImage+");display:;"}),i("div",{staticClass:"videoplay",on:{click:function(t){return e.$emit("clickReplay")}}},[i("i",{staticClass:"c-player-icon c-player-big"})])]):e._e()},rt=[],ot={name:"VideoClipJiepaiReplay",props:{coverImage:{type:String,default:""}},data:function(){return{show:!1,videos:[]}},mounted:function(){var e=this;this.$parent.$on("created",function(t){var i=t.player,n=i.getQiyiVideo();n.on("ended",function(){e.show=!0}),n.on("play",function(){e.show=!1})})}},st=ot,ct=Object(y["a"])(st,at,rt,!1,null,null,null),lt=ct.exports,ut=i("fe3a"),dt=i("ba45"),pt={name:"VideoClip",components:{VideoClipDashboard:Fe,VideoClipPlayer:je,VideoClipUnderReview:L,VideoClipSideBar:A,VideoClipReplayShare:Y,VideoClipAlbum:Ee,VideoClipSourceList:x,VideoClipSealingRivalLayer:it,VideoClipJiePaiReplay:lt,AuraPopup:nt["a"]},mixins:[ut["a"]],style:["base","verticalVideo"],title:"爱奇艺",head:function(){return{link:[{rel:"preload",href:"//www.iqiyipic.com/common/fix/h5-aura/vertica-video-icon-20181212.png",as:"image"}]}},data:function(){return{isShowLayer:!1,barShow:!0,albumShow:!1,sourceListShow:!1,sealingRivalShow:!1,style:"",popUpOptions:{show:!1,onleftBtnClick:function(){},onCloseBtnClick:function(){}}}},computed:Object(r["a"])({},Object(s["e"])("play",{qipuId:function(e){return e.verticalVideoInfo.qipuId},albumId:function(e){return e.verticalVideoInfo.albumId},collectionId:function(e){return e.verticalVideoInfo.collectionId},channelId:function(e){return e.verticalVideoInfo.channelId},tmplt:function(e){return e.tmplt},videoType:function(e){return e.verticalVideoInfo.videoType},isJiepai:function(e){return e.verticalVideoInfo.jiepai},desc:function(e){return e.verticalVideoInfo.description},theme:function(e){return e.verticalVideoInfo.theme},coverImage:function(e){return e.verticalVideoInfo.coverImage},loadInfo:function(e){return e.loadInfo},checking:function(e){return e.verticalVideoInfo.checking},contentType:function(e){return e.videoInfo.contentType},isUGC:function(e){return e.videoInfo.isUGC},controlInfo:"controlInfo"})),mounted:function(){o["default"].prototype.$qiyiPlayer=this.$refs.player;var e=this.$refs.playerWraper,t=e.getBoundingClientRect(),i=t.width,n=t.height;this.style="width: ".concat(i,"px; height: ").concat(n,"px;")},methods:{created:function(e){this.$emit("created",{player:e})},loaded:function(e){this.$emit("loaded",e)},callHotTab:function(e){var t=this;Object(dt["u"])({selectedTab:2}).catch(function(){return t.downApp(e)})},callVerticalPlay:function(e){var t=this,i=Object(r["a"])({contentType:this.contentType||"",channelId:this.channelId||"",isUGC:this.isUGC},e);Object(dt["i"])(i).catch(function(e){return t.downApp(i)})},callShareVideo:function(e){this.callVerticalPlay({qipuId:e.qipuId,pos:"home_banner_down"})},downApp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.pos){var t=Object(dt["m"])({downAppPos:e.pos});Object(dt["k"])(t)}},replay:function(){this.player=this.$refs.player,this.player.replay()},toLogin:function(){window.location.href="/user.html?redirect_url=".concat(encodeURIComponent(window.location.href))},clickPlay:function(e){this.albumShow=!1,this.sourceListShow=!1,this.$refs.player.preplay()},handleClickEpisode:function(){2===this.videoType?this.sourceListShow=!0:this.albumShow=!0},onSealingRivalLayerClick:function(){var e=this;this.popUpOptions={title:"提示",info:'链接已复制成功！请<span class="info-bold">打开浏览器</span>输入链接，下载爱奇艺观看视频！',leftButtonText:"我知道了",infoStyle:"left",isCloseShow:!0,onleftBtnClick:function(t){e.popUpOptions.show=!1},onCloseBtnClick:function(t){e.popUpOptions.show=!1},show:!0}},onShowLayer:function(e){e&&this.$refs.player.src(""),this.isShowLayer=e}}},ht=pt,vt=Object(y["a"])(ht,n,a,!1,null,null,null);t["default"]=vt.exports},"7b21":function(e,t,i){"use strict";var n=i("cfe6"),a=i.n(n);a.a},c1c2:function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,".fade-enter-active[data-v-0197571f],.fade-leave-active[data-v-0197571f]{transition:all 1s ease}.fade-enter[data-v-0197571f],.fade-leave-to[data-v-0197571f]{-webkit-transform:translateY(10px);transform:translateY(10px);opacity:0}",""])},cfe6:function(e,t,i){var n=i("c1c2");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("499e").default;a("72e23da6",n,!0,{sourceMap:!1,shadowMode:!1})}}]);