(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["appsecqac"],{"1dfc":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("SecurityCommon",{attrs:{title:"填写账号信息"}},[s("div",{staticClass:"m-box"},[s("div",{staticClass:"m-box-items m-box-items-full"},[s("SecurityHeadTitle",{attrs:{title:"填写账号信息"}}),s("section",{staticClass:"m-passport-form"},[s("div",{staticClass:"input-wrap input-account"},[s("label",{staticClass:"input-label"},[t._v("申请ID：")]),s("SecurityInput",{attrs:{value:t.requestId,placeholder:"请输入注销申请ID"},on:{"update:value":function(e){t.requestId=e}}}),t.submitErr?s("div",{staticClass:"input-error"},[t._v(t._s(t.submitErr))]):t._e()],1),s("div",{staticClass:"input-wrap input-account"},[s("label",{staticClass:"input-label"},[t._v("账    号：")]),s("SecurityInput",{attrs:{value:t.account,placeholder:"请输入手机号/邮箱/昵称"},on:{"update:value":function(e){t.account=e}}})],1)]),t.isSlideCode?s("SecuritySlideCode",{attrs:{token:t.verify.token,"is-tw":t.isTw},on:{slideVerifySuccess:t.onSildeVerifySuccess}}):t._e(),s("SecuritySubmitButton",{directives:[{name:"pingback",rawName:"v-pingback",value:"c-infofrozen",expression:"'c-infofrozen'"}],attrs:{disable:t.disable,text:"申请恢复账号"},on:{submit:t.requestCancel}}),s("SecuritySubmitButton",{directives:[{name:"pingback",rawName:"v-pingback",value:"c-infoprogress",expression:"'c-infoprogress'"}],staticClass:"marginTop",attrs:{disable:t.disable,text:"查询注销进度"},on:{submit:t.queryProgress}})],1)]),t.isVerifyPhone?s("SecurityVerifyPhone",{attrs:{acode:t.verify.ac,phone:t.verify.p,mail:t.verify.e,"auth-type":t.verify.auth_type,from:"dp_vp",next:"/m/security/queryAndCancel",title:"注销申请进度"}}):t._e(),t.isStopEntry?s("SecurityStopEntry",{attrs:{title:"注销申请进度"}}):t._e(),s("SecurityTip",{directives:[{name:"show",rawName:"v-show",value:t.isShowTip&&t.isSuccess,expression:"isShowTip && isSuccess"}],attrs:{"left-btn-text":"关闭"},on:{leftButtonClick:t.close},scopedSlots:t._u([{key:"tipInfo",fn:function(){return[t.isSuccess?s("i",{directives:[{name:"show-pingback",rawName:"v-show-pingback",value:"s-frozensuccess",expression:"'s-frozensuccess'"}],staticClass:"c-passport-icon c-passport-succeedBig"}):s("i",{staticClass:"c-passport-icon c-passport-warnBig"}),s("div",{staticClass:"c-title"},[t._v(t._s(t.popTitle))])]},proxy:!0}])})],1)},r=[],n=s("f499"),c=s.n(n),u=(s("ac6a"),s("f3e2"),s("96cf"),s("3b8d")),a=s("7f4d"),o=s("8c82"),l=s("fd7d"),p=s("789a"),h=s("b05c"),f=s("37024"),d=s("ead66"),y=s("7313"),m=s("b2e7"),v={name:"SecurityDeleteAccountQueryAndCancel",components:{SecurityCommon:a["a"],SecurityHeadTitle:o["a"],SecuritySubmitButton:l["a"],SecurityInput:p["a"],SecurityVerifyPhone:h["a"],SecuritySlideCode:f["a"],SecurityTip:d["a"]},data:function(){return{submitErr:"",requestId:"",account:"",verify:{},isShowTip:!1,isSuccess:!1}},computed:{disable:function(){return!(this.account&&this.requestId)},isVerifyPhone:function(){return 2===this.verify.level&&3!==this.verify.auth_type},isSlideCode:function(){return 2===this.verify.level&&3===this.verify.auth_type},popTitle:function(){return this.isSuccess?"账号恢复成功":this.submitErr},isStopEntry:function(){return 3===this.verify.level},isTw:function(){return Object(y["G"])()}},watch:{account:function(t,e){this.submitErr=t!==e?"":this.submitErr},requestId:function(t,e){this.submitErr=t!==e?"":this.submitErr}},methods:{requestCancel:function(){var t=Object(u["a"])(regeneratorRuntime.mark(function t(){var e,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.callback=this.requestCancel,e={apply_id:this.requestId,username:this.account,requestType:y["b"]},t.next=4,Object(y["K"])(e);case 4:s=t.sent,this.isSuccess=s.success,s.success?(this.submitErr="",this.isShowTip=s.success):this.onFail(s);case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),queryProgress:function(){var t=Object(u["a"])(regeneratorRuntime.mark(function t(){var e,s,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.callback=this.queryProgress,e={apply_id:this.requestId,username:this.account,requestType:y["e"]},t.next=4,Object(y["H"])(e);case 4:s=t.sent,this.isSuccess=s.success,s.success?(this.submitErr="",i=this.getQuery(s),this.$router.push({path:"/m/security/deleteProgress?".concat(i)})):this.onFail(s);case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),onFail:function(t){var e=this;"stop"===t.status?(this.isShowTip=!0,setTimeout(function(){e.close()},5e3)):"needLogin"===t.status?(this.isShowTip=!0,setTimeout(function(){Object(m["O"])({redirectUrl:"https://m.iqiyi.com/m/security/cancellation"})},5e3)):"needVerify"===t.status?this.verify=t:this.isShowTip=!0,this.submitErr=t.msg},close:function(){Object(y["D"])()},onSildeVerifySuccess:function(){"function"===typeof this.callback&&(this.verify={},this.callback())},getQuery:function(t){var e="",s=t.events||[];return s.forEach(function(t,s){e+="event".concat(s,"=").concat(encodeURIComponent(c()(t)),"&")}),e+="length=".concat(s.length),e}}},b=v,S=s("2877"),w=Object(S["a"])(b,i,r,!1,null,null,null);e["default"]=w.exports}}]);