(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["appbk"],{"736c":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"encyclopedia-intro"},[i("WechatShare",{attrs:{options:e.shareOptions}}),i("div",{staticClass:"content-title"},[e._v(e._s(e.baikeInfo.title))]),i("div",{staticClass:"content-user"},[i("div",{staticClass:"user-img",style:"background-image: url("+(e.baikeInfo.user_icon||"//www.iqiyipic.com/common/fix/h5-aura2.0/userCard-nologin.png")+")"}),i("div",{staticClass:"user-name"},[e._v(e._s(e.baikeInfo.user_name))])]),e._l(e.baikeInfo.content,function(t,n){return i("div",{key:n},[1===t.type?i("div",{staticClass:"content-p",domProps:{innerHTML:e._s(t.text)}},[e._v("\n      "+e._s(t.text)+"\n    ")]):e._e(),2===t.type?i("img",{staticClass:"content-img",attrs:{src:t.image||"//www.iqiyipic.com/common/fix/h5-aura-img/imgLogo-default.png"}}):e._e(),3===t.type?i("div",[1===t.video_type?i("div",{staticClass:"content-longCard"},[i("a",{staticClass:"link-item",attrs:{href:t.play_url}},[i("span",{staticClass:"img",style:{"background-image":"url("+t.video_img+")"}}),i("div",{staticClass:"info"},[i("div",{staticClass:"c-info"},[e._v(e._s(t.video_desc))])]),i("span",{staticClass:"btn"},[e._v("看正片")])])]):e._e(),2===t.video_type?i("div",{ref:"playerPosition",refInFor:!0,staticClass:"content-videoImg"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isShowCover,expression:"!isShowCover"}],staticClass:"video-img",style:{"background-image":"url("+t.video_img+")"},on:{click:function(i){return e.videoPlay(t,i)}}}),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.showVideoimg,expression:"!showVideoimg"}]},[i("PlayPlatformLimit",{ref:"platformLimit",refInFor:!0})],1)]):e._e()]):e._e()])}),i("PlayVideoRelated",{attrs:{"play-focus":!1,"fix-top":"nofixed","play-style":"top: -1000px;left: 0px;width: 100%;z-index: 1000;position: absolute;"}}),e.countContent?i("div",{staticClass:"content-readCount"},[e._v(e._s(e.countContent))]):e._e()],2)},a=[],r=(i("4917"),i("a481"),i("20d6"),i("96cf"),i("3b8d")),o=(i("d25f"),i("ac6a"),i("f3e2"),i("cebc")),s=i("2f62"),c=i("fe3a"),l=i("17b0"),u=i("2c06"),d=i("936f"),p=i("11ad");function f(e,t){return h.apply(this,arguments)}function h(){return h=Object(r["a"])(regeneratorRuntime.mark(function e(t,i){var n,a,r,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,a={entry_ids:i.entryIds.join(","),src:"h5",uid:this.$cookies.get(u["d"]),device_id:this.$cookies.get(u["f"])},e.next=4,d["a"].jsonp(p["b"],{params:a});case 4:return r=e.sent,o=r&&r.data&&"A00000"===r.data.code?r.data.data[a.entry_ids]:{},n("setBaike",o),e.abrupt("return",o);case 8:case"end":return e.stop()}},e,this)})),h.apply(this,arguments)}function v(e,t){e.baikeInfo=t}var m={namespaced:!0,state:function(){return{baikeInfo:{}}},actions:{getBaikeInfo:f},mutations:{setBaike:v}},y=i("b75f"),b=i("ba2c"),w=i("a466"),g=i("8296"),_=i("4e77"),k=i("474a"),C="Baike",x={name:"Baike",components:{PlayVideoRelated:y["a"],PlayPlatformLimit:b["a"],WechatShare:k["a"]},mixins:[c["a"],w["a"]],style:["baike"],title:function(){return this.baikeInfo.title||"爱奇艺"},data:function(){return{showVideoimg:!0,videoId:[],isShowCover:!1}},computed:Object(o["a"])({},Object(s["e"])("Baike",["baikeInfo"]),{countContent:function(){var e=Object(g["p"])(this.baikeInfo.read_count||"","");return e?"".concat(e,"阅读"):""},videos:function(){var e=[];return this.baikeInfo.content.forEach(function(t){2===t.video_type&&e.push(t)}),e},shareOptions:function(){var e=this.baikeInfo.content.filter(function(e){return 2===e.type})[0];return{title:this.baikeInfo.title,desc:this.baikeInfo.title,imgUrl:e?e.image:""}}}),asyncData:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var i,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t.res,i=t.store,t.route,n=t.isUpdate,!n&&i.registerModule("play",l["a"],{preserveState:i.state["play"]}),i.registerModule(C,m,{preserveState:i.state[C]}),e.next=6;break;case 6:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),methods:Object(o["a"])({},Object(s["b"])("play",["getPlay"]),{load:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),setPosition:function(e){var t=this,i=this.$refs.playerPosition,n=[];if(i){this.baikeInfo.content.forEach(function(e){2===e.video_type&&n.push(e)});var a=n.findIndex(function(i){return t.isShowCover=i.video_id!==e,i.video_id===e});if(a>=0){var r=i[a];if(this.playerElement=this.$qiyiPlayer.$el,this.$qiyiPlayer.clear(),this.bindEvent(r),r){var o=r.offsetTop,s=r.clientWidth,c=r.offsetLeft;this.playerElement.style.top="".concat(o,"px"),this.playerElement.style.width="".concat(s,"px"),this.playerElement.style.left="".concat(c,"px"),this.playerElement.style.position="absolute",this.playerElement.style.index=1e3}}}},bindEvent:function(e){var t=this;Object(_["e"])(function(){Object(g["R"])(e)?t.$qiyiPlayer.play():t.$qiyiPlayer.pause()})},videoPlay:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,i){var n,a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.showVideoimg=!1,n=g["d"].parse(t.play_url).pathname,a=n.replace(/\/w_|\/v_/g,""),r={pre:n.match(/w|v/)[0],id:a.replace(".html",""),query:{},url:window.location.href,referrer:document.referrer||""},this.setPosition(t.video_id),e.next=7,this.getPlay(Object(o["a"])({},r,{redirect:{},url:window.location.href,referrer:document.referrer||""}));case 7:case"end":return e.stop()}},e,this)}));function t(t,i){return e.apply(this,arguments)}return t}()})},I=x,P=i("2877"),j=Object(P["a"])(I,n,a,!1,null,null,null);t["default"]=j.exports}}]);