(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["appusp"],{"3ee7":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"m-mine-spaceBox"},[s("UserSpacePersonHeader"),s("LoadPage",{attrs:{callback:e.getUserFeeds}},[e.feedsList.length?s("div",{key:"list",staticClass:"m-box m-box-mid"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!e.pictureViewerShow,expression:"!pictureViewerShow"}],staticClass:"m-box m-box-mid m-pp-bgGray"},e._l(e.feedsList,function(t,a){return s("div",{key:a,staticClass:"m-box-items"},[s("UserSpacePersonTime",{attrs:{feed:t,"pre-date":(e.feedsList[a-1]||{}).releaseDate,date:t.releaseDate}}),s("div",{staticClass:"m-space-feed-read"},[s("span",{staticClass:"c-time"},[e._v(e._s(e._f("formatTime")(t.releaseDate)))]),e._v(e._s(e._f("formatNum")(t.uvCount))+"阅读量")]),t.feedTitle?s("div",{directives:[{name:"href",rawName:"v-href",value:{url:t.shareUrl},expression:"{url:feed.shareUrl}"}],staticClass:"m-pp-txt_tit max-line2",staticStyle:{cursor:"pointer"}},[e._v("\n            "+e._s(t.feedTitle)+"\n          ")]):e._e(),s("div",{class:e.ppClass(t)},[s("p",{staticClass:"m-pp-txt max-line3"},[t.eventName?s("a",{directives:[{name:"pingback",rawName:"v-pingback",value:"803091_talk",expression:"'803091_talk'"}],staticClass:"c-mark-event",attrs:{href:"//m.iqiyi.com/m5/bubble/eventInfo.html?eventId="+t.eventIds+"&platform=15"}},[e._v("\n                #"+e._s(t.eventName)+"#\n              ")]):e._e(),s("span",{directives:[{name:"href",rawName:"v-href",value:{url:t.shareUrl},expression:"{url: feed.shareUrl}"}],staticStyle:{cursor:"pointer"}},[e._v(e._s(t.description))])]),s("ul",{class:e.picListClass(t)},[e._l(t.pictures,function(a,i){return i<3?s("li",{key:a.thumUrl+i,staticClass:"m-pic"},[s("div",{staticClass:"piclist-img"},[s("a",{directives:[{name:"pingback",rawName:"v-pingback",value:"803091_picture",expression:"'803091_picture'"}],staticClass:"c-pic-link",style:{"background-image":"url("+a.thumUrl+")"},attrs:{href:"javascript:void(0);"},on:{click:function(s){return e.triggerImageViewer(t,i)}}}),a.type?s("div",{staticClass:"c-pp-rb"},[s("i",{staticClass:"c-pp-picicon blue"},[e._v(e._s(1===a.type?"GIF":"长图"))])]):e._e()])]):e._e()}),t.pictures&&t.pictures.length>3?s("div",{staticClass:"c-pp-rt"},[s("i",{staticClass:"c-pp-picicon black"},[e._v("共"+e._s(t.pictures.length)+"张")])]):e._e()],2)]),t.circleQipuId?s("div",{staticClass:"m-space-feed-source"},[s("span",{staticClass:"c-info"},[e._v("来自泡泡圈：")]),s("a",{directives:[{name:"pingback",rawName:"v-pingback",value:"803091_paopao",expression:"'803091_paopao'"}],staticClass:"c-link",attrs:{href:"//m.iqiyi.com/m5/bubble/circleInfo_w"+t.circleQipuId+"_p15.html"}},[e._v(e._s(t.wallName))])]):e._e(),s("div",{staticClass:"m-box-items m-box-items-full"},[s("div",{staticClass:"m-pp-new-icons"},[s("a",{directives:[{name:"pingback",rawName:"v-pingback",value:"803091_share",expression:"'803091_share'"}],staticClass:"m-icon-link",attrs:{href:"javascript:void(0);"},on:{click:function(s){return e.setShareInfo(t)}}},[s("i",{staticClass:"c-pp-newIcon c-pp-newshare"}),s("span",{staticClass:"c-icons-desc"},[e._v("分享")])]),s("a",{directives:[{name:"pingback",rawName:"v-pingback",value:"803091_comment",expression:"'803091_comment'"}],staticClass:"m-icon-link",attrs:{href:t.shareUrl}},[s("i",{staticClass:"c-pp-newIcon c-pp-newcomment"}),0===t.commentCount?s("span",{staticClass:"c-icons-desc"},[e._v("评论")]):e._e(),s("i",{staticClass:"c-icons-num"},[e._v("\n                  "+e._s(e._f("formatNum")(t.commentCount,"")))])]),s("a",{class:{ilike:t.agree,"m-icon-link":!0},attrs:{href:"javascript:void(0);"},on:{click:function(s){return e.handleAgree(t)}}},[s("i",{staticClass:"c-pp-newIcon c-pp-newlike"}),0===t.agreeCount?s("span",{staticClass:"c-icons-desc"},[e._v("\n                  喜欢\n                ")]):e._e(),s("i",{staticClass:"c-icons-num"},[e._v(e._s(e._f("formatNum")(t.agreeCount,"")))])])])])],1)}),0)]):s("UserSpacePersonEmpty"),e.pictureViewerShow?s("ImageViewer",{attrs:{images:e.imageViewerList,thumbnails:e.thumbnailList,"start-index":e.pictureViewerIndex,"scroll-top":e.scrollTop,show:e.pictureViewerShow},on:{"update:show":function(t){e.pictureViewerShow=t}}}):e._e(),e.showShare?s("UserSpacePersonShare",{attrs:{"share-info":e.shareInfo},on:{exitShare:function(){e.showShare=!1}}}):e._e(),s("BackTop"),s("AuraToast",{directives:[{name:"show",rawName:"v-show",value:e.toastShow,expression:"toastShow"}],attrs:{text:e.toastText}}),s("LoadBottom",{directives:[{name:"show",rawName:"v-show",value:e.feedsList.length&&!e.pictureViewerShow,expression:"feedsList.length && !pictureViewerShow"}],attrs:{callback:e.getUserFeeds,"load-complete":e.loadComplete}})],1)],1)},i=[],n=(s("6d67"),s("6762"),s("768b")),r=(s("ac6a"),s("f3e2"),s("96cf"),s("3b8d")),c=s("cebc"),o=(s("6b54"),s("87b3"),s("2f62")),u=s("9e5e"),l=s("aa91"),p=s("da1f"),h=s("465e"),m=s("45bc"),d=s("fe3a"),f=s("00b9"),v=s("5321"),g=s("4fa6"),w=s("240d"),b=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"m-box"},[s("div",{staticClass:"m-box-items m-box-items-full"},[s("section",{staticClass:"m-space-feed-user"},[s("div",{staticClass:"user-info"},[e.userinfo.icon?s("span",{key:e.userinfo.icon,staticClass:"photo",style:{"background-image":"url("+e.removeProtocol(e.userinfo.icon)+")"}},[s("i",{class:e.userIcon})]):s("span",{key:"default",staticClass:"photo",style:{"background-image":"url(//www.iqiyipic.com/common/fix/headicons/male-130.png)"}}),s("div",{staticClass:"info"},[s("div",{staticClass:"c-title"},[s("span",{staticClass:"title-txt"},[e._v(e._s(e.userinfo.nickname))]),s("i",{class:e.genderIcon})]),s("div",{staticClass:"c-data"},[s("span",{staticClass:"user-date"},[s("span",{staticClass:"num"},[e._v(e._s(e._f("formatNum")(e.userCircleInfo.user_wall_size)))]),s("span",{staticClass:"des"},[e._v("加入的圈子")])]),s("span",{staticClass:"user-date"},[s("span",{staticClass:"num"},[e._v(e._s(e._f("formatNum")(e.followed)))]),s("span",{staticClass:"des"},[e._v("我的粉丝")])])])])]),e.userinfo.self_intro?s("div",{staticClass:"user-intro"},[e._v(e._s(e.userinfo.self_intro))]):s("div",{staticClass:"user-intro"},[e._v("大家好，欢迎大家来到我的空间！")])])]),e._m(0)])},_=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"m-box-items m-box-items-full"},[s("section",{staticClass:"m-space-title"},[s("div",{staticClass:"c-title-des"},[e._v("动态")])])])}],C=s("090f"),x=s("b2e7"),I={name:"UserSpacePersonHeader",filters:{formatNum:m["c"]},data:function(){return{followed:0}},computed:Object(c["a"])({},Object(o["e"])({userinfo:function(e){return e.space.userInfo.userinfo||{}},userCircleInfo:function(e){return e.space.userCircleInfo||{}},userId:function(e){return e.route.params},userIcon:function(){return{"space-user-v space-user-icon":this.userCircleInfo.user_big_v,"space-user-star space-user-icon":this.userCircleInfo.user_kol&&!this.userCircleInfo.user_big_v}},genderIcon:function(){return{"space-user-icon space-sex-man":1===this.userinfo.gender,"space-user-icon space-sex-girl":0===this.userinfo.gender}}})),mounted:function(){this.getUserSns()},methods:{removeProtocol:C["a"],getUserSns:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(x["D"])({myuid:this.userinfo.uid||this.userId.uid});case 2:t=e.sent,this.followed=t.followed;case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},k=I,y=s("2877"),S=Object(y["a"])(k,b,_,!1,null,null,null),j=S.exports,U=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},O=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"m-box"},[s("div",{staticClass:"m-box-items m-box-items-full"},[s("div",{staticClass:"m-space-empty marginT68"},[s("div",{staticClass:"empty-img"},[s("img",{attrs:{src:"//www.iqiyipic.com/common/fix/native-paopao/tip-none.png"}})]),s("div",{staticClass:"empty-txt"},[e._v("您还没有发布任何内容哦")])])])])}],T={name:"UserSpacePersonEmpty"},L=T,N=Object(y["a"])(L,U,O,!1,null,null,null),D=N.exports,q=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.month||e.day?s("div",{staticClass:"m-space-feed-time"},[s("i",{staticClass:"c-glyphicon c-glyphicon-time"}),s("span",{staticClass:"c-info"},[s("span",{staticClass:"c-day"},[e._v(e._s(e.day))]),e.month?s("span",{staticClass:"c-month"},[e._v("\n      "+e._s(e.month)+"月\n    ")]):e._e()])]):e._e()},P=[],V=(s("c5f6"),new Date),F={name:"UserSpacePersonTime",props:{preDate:{type:Number,default:0},date:{type:Number,default:0},feed:{type:Object,default:function(){}}},data:function(){return{day:"",month:""}},created:function(){var e=new Date(1e3*this.preDate),t=new Date(1e3*this.date);this.equalDate(e,t)&&!this.feed.isFirstFeed||(this.equalDate(V,t)?this.day="今天":this.equalLastDay(V,t)?this.day="昨天":(this.day=t.getDate(),this.month=t.getMonth()+1))},methods:{equalDate:function(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getYear()===t.getYear()},equalLastDay:function(e,t){return e.getDate()-1===t.getDate()&&e.getMonth()===t.getMonth()&&e.getYear()===t.getYear()}}},E=F,R=Object(y["a"])(E,q,P,!1,null,null,null),z=R.exports,Q=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"cover",on:{click:function(t){return e.exitShare()}}}),s("div",{staticClass:"m-pp-share"},[s("div",{staticClass:"pp-share-main"},[s("a",{staticClass:"share-main-link",attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.shareToWeibo()}}},[s("i",{staticClass:"c-share-icon weibo-icon"}),s("span",{staticClass:"share-title"},[e._v("新浪微博")])]),s("a",{staticClass:"share-main-link",attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.shareToQzone()}}},[s("i",{staticClass:"c-share-icon qzone-icon"}),s("span",{staticClass:"share-title"},[e._v("Qzone")])]),s("a",{staticClass:"share-main-link",attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.shareToQQ()}}},[s("i",{staticClass:"c-share-icon qq-icon"}),s("span",{staticClass:"share-title"},[e._v("QQ好友")])])]),s("a",{staticClass:"c-share-close",attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.exitShare()}}},[s("i",{staticClass:"c-glyphicon c-pp-close"})])])])},$=[],A=s("8296"),B={name:"UserSpacePersonShare",props:{shareInfo:{type:Object,default:function(){return{}}}},methods:{exitShare:function(){this.$emit("exitShare")},shareToWeibo:function(){var e=this.shareInfo.title+" (来自@爱奇艺)",t="http://v.t.sina.com.cn/share/share.php?appkey='1925825497'&url=".concat(this.shareInfo.url,"&title=").concat(e||""," ").concat(this.shareInfo.desc||"","&pic=").concat(this.shareInfo.icon);location.href=t},shareToQzone:function(){var e=this.shareInfo.title;e=(e&&e.length>50?e.substring(0,50)+"...":e)||"";var t="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=".concat(this.shareInfo.url,"&showcount='1'&site='爱奇艺'&title=").concat(e,"&pics=").concat(this.shareInfo.icon||"","&summary=").concat(this.shareInfo.desc||"");A["i"].baidubox?location.href=t:window.open(t,"_blank")},shareToQQ:function(){var e="http://connect.qq.com/widget/shareqq/index.html?&url=".concat(this.shareInfo.url,"&desc=").concat(this.shareInfo.desc,"&title=").concat(this.shareInfo.title,"&pics=").concat(this.shareInfo.icon,"&site='爱奇艺'&style='201'&width=32&height=32");location.href=e}}},M=B,Y=Object(y["a"])(M,Q,$,!1,null,null,null),H=Y.exports,G=s("a4bb"),J=s.n(G),W=s("5176"),K=s.n(W);function X(e,t){return Z.apply(this,arguments)}function Z(){return Z=Object(r["a"])(regeneratorRuntime.mark(function e(t,s){var a,i,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,t.state,i=s.uid,e.prev=2,e.next=5,Object(f["f"])(i);case 5:return n=e.sent,a("setUid",i),a("setSpace",n.data),e.abrupt("return",n.data);case 11:e.prev=11,e.t0=e["catch"](2);case 13:case"end":return e.stop()}},e,null,[[2,11]])})),Z.apply(this,arguments)}function ee(e,t){return te.apply(this,arguments)}function te(){return te=Object(r["a"])(regeneratorRuntime.mark(function e(t,s){var a,i,n,r,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.commit,i=t.state,n=s.uid,!J()(i.userInfo.userinfo).length){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,Object(x["F"])({uid:n,fields:"userinfo"});case 6:return r=e.sent,c=r&&"A00000"===r.code?r.data:i.userInfo,c&&a("setUserSpaceInfo",c),e.abrupt("return",r);case 10:case"end":return e.stop()}},e)})),te.apply(this,arguments)}function se(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.userInfo=t}function ae(e,t){K()(e,t)}function ie(e,t){e.uid=t}var ne={namespaced:!0,state:function(){return{uid:"",userCircleInfo:{},userInfo:{userinfo:{}}}},actions:{getSpace:X,getSpaceUserInfoByUid:ee},mutations:{setUserSpaceInfo:se,setSpace:ae,setUid:ie}},re=20,ce={name:"UserSpacePerson",components:{BackTop:u["a"],LoadPage:l["a"],UserSpacePersonHeader:j,UserSpacePersonTime:z,UserSpacePersonEmpty:D,ImageViewer:h["a"],UserSpacePersonShare:H,LoadBottom:p["a"]},filters:{formatTime:function(e){return e?new Date(1e3*e).toString().substr(15,6):""},formatNum:m["c"]},directives:{href:g["a"]},mixins:[d["a"]],style:["base","user"],title:function(){var e=this.userinfo.nickname||"爱奇艺";return"".concat(e,"的视频空间-爱奇艺")},head:function(){var e=this.userinfo.nickname||"爱奇艺";return{meta:[{property:"og:title",lang:"zh-CN",content:"".concat(e,"的视频空间-爱奇艺")},{name:"keywords",lang:"zh-CN",content:"".concat(e,",").concat(e,"视频")},{name:"description",lang:"zh-CN",content:"".concat(e,"爱奇艺视频空间页，提供最新").concat(e,"相关的个性化视频，观众可以在线观看").concat(e,"相关影片视频节目")}]}},data:function(){return{dateList:[],cacheDay:null,PictureView:{show:!1,PictureList:[]},preDate:0,imageViewerList:[],pictureViewerIndex:0,shareInfo:{},feedsList:[],total:0,page:0,pictureViewerShow:!1,showShare:!1,isSyncReady:!1,feedsLoadFail:!1,errorShow:!1,loadShow:!0,remaining:0,lastFeedId:"",toastText:"",toastShow:!1,scrollTop:0,viewedFeedIndexArray:[],thumbnailList:[]}},computed:Object(c["a"])({},Object(o["e"])("space",{uid:function(e){return e.uid||""},userinfo:function(e){return e.userInfo.userinfo||{}}}),{loadComplete:function(){return!this.remaining},lastFeed:function(){return this.feedsList[this.feedsList.length-1]||{}}}),asyncData:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var s,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=t.store,a=t.route,s.registerModule("space",ne,{preserveState:s.state.space}),e.abrupt("return",s.dispatch("space/getSpaceUserInfoByUid",{uid:a.params.uid}));case 3:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),beforeMount:function(){this.init()},methods:Object(c["a"])({init:function(){var e=this.$route.params.uid;return this.getSpace({uid:e})}},Object(o["b"])("space",["getSpace"]),{getUserFeeds:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,s,a,i,n,r,c,o,u,l,p=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.params.uid,e.next=3,Object(f["e"])({uid:t,pageSize:re,lastFeedId:this.lastFeedId,feedTypes:"1"});case 3:s=e.sent,"A00000"===s.code&&(a=s.data,i=a.feeds,n=a.totalCount,r=void 0===n?0:n,c=a.remaining,o=void 0===c?0:c,u=a.lastFeedId,l=void 0===u?"":u,i.forEach(function(e){e.pictures&&e.pictures.forEach(function(t){var s=t.url,a=Object(w["d"])(s),i=a?Object(w["b"])(s):s,n=Object(w["c"])(i);t.thumUrl=p.cutPicture(n,e),t.url=a?s:n})}),this.remaining=o,this.lastFeedId=l,i.length>0&&i[0]&&(i[0].isFirstFeed=!0),this.feedsList=this.feedsList.concat(i),this.page++,this.total=r);case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),handleAgree:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var s,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=t.agree,e.prev=1,e.next=4,Object(f["a"])(t);case 4:a=e.sent,Object(v["g"])({rseat:s?"803091_dislike":"803091_like"}),"A00000"===a.data.code&&(t.agreeCount=t.agreeCount+(s?-1:1),t.agree=!s),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),this.showToast("点赞失败请重试",3e3);case 12:case"end":return e.stop()}},e,this,[[1,9]])}));function t(t){return e.apply(this,arguments)}return t}(),showToast:function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.toastShow=!0,this.toastText=e,setTimeout(function(){t.toastShow=!1},s)},ppClass:function(e){var t=e.pictures;if(!t||!t.length)return"";if(t.length>1)return"m-pp-threelist";var s=[1,2,5,7],a=[3,4,6,8],i=Object(n["a"])(t,1),r=i[0].shape;return s.includes(r)?"m-pp-widelist":a.includes(r)?"m-pp-longlist":""},picListClass:function(e){var t=e.pictures;if(!t||!t.length)return"";if(t.length>1)return"m-three-piclist";var s=[1,2,5,7],a=[3,4,6,8],i=Object(n["a"])(t,1),r=i[0].shape;return s.includes(r)?"m-wide-piclist":a.includes(r)?"m-long-piclist":""},triggerImageViewer:function(e,t){this.pictureViewerShow=!0,this.imageViewerList=e.pictures,this.thumbnailList=e.pictures.map(function(e){return e.thumUrl}),this.scrollTop=document.body.scrollTop||document.documentElement.scrollTop,this.pictureViewerIndex=t},setShareInfo:function(e){this.shareInfo={url:e.shareUrl,desc:e.wallDesc,title:"爱奇艺泡泡圈-".concat(e.wallName),icon:e.wallIcon},this.showShare=!0},cutPicture:function(e,t){var s=[1,2,5,7],a=Object(n["a"])(t.pictures,1),i=a[0].shape,r=t.pictures.length>1?"300_300":(s.includes(i),"0_0");return Object(w["a"])(e,r)}})},oe=ce,ue=Object(y["a"])(oe,a,i,!1,null,null,null);t["default"]=ue.exports}}]);