/*! For license information please see youku-player.min.js.LICENSE */
var YoukuPlayer = function (e) {
    function t(i) {
        if (n[i]) return n[i].exports;
        var o = n[i] = {
            i: i,
            l: !1,
            exports: {}
        };
        return e[i].call(o.exports, o, o.exports, t), o.l = !0, o.exports
    }
    var n = {};
    return t.m = e, t.c = n, t.i = function (e) {
        return e
    }, t.d = function (e, n, i) {
        t.o(e, n) || Object.defineProperty(e, n, {
            configurable: !1,
            enumerable: !0,
            get: i
        })
    }, t.n = function (e) {
        var n = e && e.__esModule ? function () {
            return e.default
        } : function () {
            return e
        };
        return t.d(n, "a", n), n
    }, t.o = function (e, t) {
        return Object.prototype.hasOwnProperty.call(e, t)
    }, t.p = "", t(t.s = 150)
}([
    function (e, t, n) {
        "use strict";
        t.__esModule = !0, t.default = function (e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }
    },
    function (e, t, n) {
        "use strict";
        t.__esModule = !0;
        var i = n(106),
            o = function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }(i);
        t.default = function () {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var i = t[n];
                    i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), (0, o.default)(e, i.key, i)
                }
            }
            return function (t, n, i) {
                return n && e(t.prototype, n), i && e(t, i), t
            }
        }()
    },
    function (e, t, n) {
        e.exports = {
            default: n(249),
            __esModule: !0
        }
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        t.__esModule = !0;
        var o = n(234),
            r = i(o),
            a = n(232),
            s = i(a),
            l = n(38),
            u = i(l);
        t.default = function (e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + (void 0 === t ? "undefined" : (0, u.default)(t)));
            e.prototype = (0, s.default)(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (r.default ? (0, r.default)(e, t) : e.__proto__ = t)
        }
    },
    function (e, t, n) {
        "use strict";
        t.__esModule = !0;
        var i = n(38),
            o = function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }(i);
        t.default = function (e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" !== (void 0 === t ? "undefined" : (0, o.default)(t)) && "function" != typeof t ? e : t
        }
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            if (e && "undefined" != typeof window) {
                var t = document.createElement("style");
                return t.setAttribute("media", "screen"), t.innerHTML = e, document.head.appendChild(t), e
            }
        }

        function o(e) {
            return e && "object" == typeof e && "default" in e ? e.default : e
        }

        function r() {
            var e = k.match(/Chrom(e|ium)\/([0-9]+)\./i);
            return !!e && parseInt(e[2], 10)
        }

        function a(e, t) {
            var n = Object.assign({}, H, t),
                i = document.createElement("video"),
                o = !0,
                r = !1,
                a = void 0;
            try {
                for (var s, l = Object.keys(n)[Symbol.iterator](); !(o = (s = l.next()).done); o = !0) {
                    var u = s.value;
                    if ("style" === u && "object" === R(n.style)) {
                        var c = n.style,
                            d = !0,
                            h = !1,
                            p = void 0;
                        try {
                            for (var f, g = Object.keys(c)[Symbol.iterator](); !(d = (f = g.next()).done); d = !0) {
                                var m = f.value;
                                i.style[m] = c[m]
                            }
                        } catch (e) {
                            h = !0, p = e
                        } finally {
                            try {
                                !d && g.return && g.return()
                            } finally {
                                if (h) throw p
                            }
                        }
                    } else {
                        var y = n[u];
                        y && i.setAttribute(u, y)
                    }
                }
            } catch (e) {
                r = !0, a = e
            } finally {
                try {
                    !o && l.return && l.return()
                } finally {
                    if (r) throw a
                }
            }
            return "object" === (void 0 === e ? "undefined" : R(e)) && e.setAttribute && e.appendChild(i), i
        }

        function s(e, t) {
            e && (e.style.display = t || "block")
        }

        function l(e) {
            e && (e.style.display = "none")
        }

        function u(e) {
            return e = Math.round(e), [parseInt(e / 3600), parseInt(e % 3600 / 60), e % 60].map(function (e) {
                return c(e)
            }).join(":")
        }

        function c(e) {
            return e < 10 ? "0" + e : e
        }

        function d(e, t) {
            if (e.classList) e.classList.add(t);
            else {
                var n = e.className.split(" ");
                if (n.indexOf(t) > -1) return;
                n.push(t), e.className = n.join(" ")
            }
        }

        function h(e, t) {
            if (e.classList) e.classList.remove(t);
            else {
                var n = e.className.split(" ");
                if (-1 === n.indexOf(t)) return;
                for (var i = -1, o = 0, r = n.length; o < r; o++) n[o] === t && (i = o);
                i > -1 && n.splice(i, 1), e.className = n.join(" ")
            }
        }

        function p(e, t) {
            for (var n = t.parentNode; null !== n;) {
                if (n === e) return !0;
                n = n.parentNode
            }
            return !1
        }

        function f(e) {
            var t = 0,
                n = 0;
            if (e.offsetParent)
                for (t = e.offsetLeft, n = e.offsetTop; e = e.offsetParent;) t += e.offsetLeft, n += e.offsetTop;
            return {
                left: t,
                top: n
            }
        }

        function g(e) {
            var t = e.split("&"),
                n = parseInt(1e6 * Math.random());
            return t.length > 1 && /&[\w\d_\-]+=/.test(e) ? /&_rurlq=/.test(e) ? e.repalce(/&_rurlq=([\d]+)/, n) : e += "&_rurlq=" + n : e += "?no_param=true&_rurlq=" + n, e
        }

        function m(e) {
            return "object" === (void 0 === e ? "undefined" : R(e))
        }

        function y(e) {
            return e.source instanceof Array && "multi" === e.controlType ? (console.log("MultiVideo"), new Q(e)) : "xhr" !== e.controlType ? new W(e) : void console.log("Xhr Video")
        }

        function v(e, t, n) {
            if (t) {
                var i = ee ? e.changedTouches[0].clientX : e.pageX,
                    o = ee ? e.changedTouches[0].clientY : e.clientY,
                    r = i - n.x,
                    a = o - n.y;
                return r <= n.minLeft && (r = n.minLeft), r >= n.maxLeft && (r = n.maxLeft), a <= n.minTop && (a = n.minTop), a >= n.maxTop && (a = n.maxTop), {
                    left: r,
                    top: a
                }
            }
        }

        function _(e) {
            var t = e.container;
            X.init(e.video);
            var n = X.register(e.video.id, "layers", he, {
                container: t,
                attr: {
                    role: "Layers"
                }
            });
            X.register(e.video.id, "dashboard", ue, {
                container: t,
                attr: {
                    role: "control"
                },
                autoHide: e.autoHide,
                controls: e.controls
            }), (M.isIOS && !M.isIPAD || M.isAndroid) && d(t, "mobile-ui");
            var i = {
                getContainer: function () {
                    return t
                }, setTheme: function (e) {
                    d(t, e)
                }, removeTheme: function (e) {
                    h(t, e)
                }, registerComponent: function (e, n, i) {
                    i.container || (i.container = t), X.register(i.video.id, e, n, i)
                }, unRegisterComponent: function (t) {
                    X.unRegister(e.video.id, t)
                }, getComponent: function (t) {
                    return X.findComponent(e.video.id, t)
                }, Component: J,
                switchLayer: function (e) {
                    n.switch(e)
                }, getLayer: function (e) {
                    return n.getLayer(e)
                }, appendLayer: function (e, t) {
                    return n.append(e, t)
                }, disableProgress: function () {
                    var e = this.getComponent("progress");
                    e.disableInput(), e.hideProgressPlayed()
                }, enableProgress: function () {
                    var e = this.getComponent("progress");
                    e.enableInput(), e.showProgressPlay()
                }, disablePlayButton: function () {
                    this.getComponent("playIcon").disable()
                }, enablePlayButton: function () {
                    this.getComponent("playIcon").enable()
                }, insertIcon: function (t, n, i, o) {
                    var r = null;
                    r = "left" === o ? X.findComponent(e.video.id, "dashboardleftgrid") : X.findComponent(e.video.id, "dashboardrightgrid"), r.insertIcon(t, n, i)
                }, appendCss: function (e) {
                    var t = document.createElement("style");
                    t.type = "text/css", t.styleSheet ? t.styleSheet.cssText = e : t.appendChild(document.createTextNode(e)), document.getElementsByTagName("head")[0].appendChild(t)
                }, setStyle: function (e, n) {
                    if ("string" == typeof e) return t.style[e] = n;
                    if ("object" === (void 0 === e ? "undefined" : R(e))) {
                        var i = e,
                            o = !0,
                            r = !1,
                            a = void 0;
                        try {
                            for (var s, l = Object.keys(i)[Symbol.iterator](); !(o = (s = l.next()).done); o = !0) {
                                var u = s.value;
                                t.style[u] = i[u]
                            }
                        } catch (e) {
                            r = !0, a = e
                        } finally {
                            try {
                                !o && l.return && l.return()
                            } finally {
                                if (r) throw a
                            }
                        }
                    }
                }, reRender: function () {
                    X.reRender()
                }
            };
            if (e.ui) {
                var o = !0,
                    r = !1,
                    a = void 0;
                try {
                    for (var s, l = Object.keys(e.ui)[Symbol.iterator](); !(o = (s = l.next()).done); o = !0) {
                        var u = s.value,
                            c = i.getComponent(u);
                        c && "object" === R(e.ui[u]) && c.setStyle(e.ui[u])
                    }
                } catch (e) {
                    r = !0, a = e
                } finally {
                    try {
                        !o && l.return && l.return()
                    } finally {
                        if (r) throw a
                    }
                }
            }
            return e.theme && i.setTheme(e.theme), "object" === R(e.layers) && Object.keys(e.layers).length > 0 && Object.keys(e.layers).forEach(function (t) {
                i.appendLayer(t, e.layers[t])
            }), Array.isArray(e.icons) && e.icons.forEach(function (e) {
                var t = e.component;
                i.insertIcon(e.name, t, e.args, e.parentControl)
            }), Object.assign(e.video, {
                ui: i
            })
        }
        var b = o(n(60)),
            E = o(n(300)),
            k = window.navigator.userAgent.toLowerCase(),
            w = /(iphone)/.test(k) || /(ipad)/.test(k),
            S = /(ipad)/.test(k),
            T = /(android)/.test(k),
            x = /(windows phone)/.test(k),
            A = w || T || x,
            D = /(webkit)[ \/]([\w.]+).*(version)[/]([\w.]+).*(safari)[/]([\w.]+)/.test(k) || /(version)(applewebkit)[/]([\w.]+).*(safari)[/]([\w.]+)/.test(k),
            L = /(msie) ([\w.]+)/.test(k) || /trident.*(rv)(?::| )([\w.]+)/.test(k),
            C = /(chrome)\/([\w.]+)/.test(k),
            M = {
                isIOS: w,
                isIPAD: S,
                isAndroid: T,
                isWP: x,
                isMobile: A,
                isSafari: D,
                isIE: L,
                isChrome: C,
                ua: k,
                getChromeVersion: r
            },
            I = {
                loadstart: "_onloadstart",
                canplay: "_oncanplay",
                loadeddata: "_onloadeddata",
                loadedmetadata: "_onloadedmetadata",
                abort: "_onabort",
                error: "_onerror",
                pause: "_onpause",
                waiting: "_onwaiting",
                stalled: "_onstalled",
                suspend: "_onsuspend",
                play: "_onplay",
                volumechange: "_onvolumechange",
                playing: "_onplaying",
                seeked: "_onseeked",
                seeking: "_onseeking",
                durationchange: "_ondurationchange",
                progress: "_onprogress",
                ratechange: "_onratechange",
                timeupdate: "_ontimeupdate",
                ended: "_onended",
                canplaythrough: "_oncanplaythrough"
            },
            R = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                return typeof e
            } : function (e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            },
            P = function (e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            },
            N = function () {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var i = t[n];
                        i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
                    }
                }
                return function (t, n, i) {
                    return n && e(t.prototype, n), i && e(t, i), t
                }
            }(),
            O = function e(t, n, i) {
                null === t && (t = Function.prototype);
                var o = Object.getOwnPropertyDescriptor(t, n);
                if (void 0 === o) {
                    var r = Object.getPrototypeOf(t);
                    return null === r ? void 0 : e(r, n, i)
                }
                if ("value" in o) return o.value;
                var a = o.get;
                if (void 0 !== a) return a.call(i)
            },
            j = function (e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            },
            U = function (e, t) {
                if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !t || "object" != typeof t && "function" != typeof t ? e : t
            },
            B = "auto",
            F = Math.random(),
            z = M.getChromeVersion();
        (M.isChrome || M.isIE) && F <= .99 && z && z > 50 && (B = "metadata");
        var H = {
                controls: !1,
                preload: B || "auto",
                style: {
                    width: "100%",
                    height: "100%",
                    backgroundColor: "rgb(0,0,0)"
                }
            },
            Y = M.isMobile,
            V = {
                segmentChange: "segment_change"
            },
            q = function () {
                function e(t) {
                    P(this, e);
                    var n = {
                        env: "dev"
                    };
                    this.args = Object.assign(n, t), this._conatainer = t.container, this.init(t), this.eventEmitter = new b.EventEmitter
                }
                return N(e, [{
                    key: "init",
                    value: function (e) {
                        this.video = this._createVideo(e.videoAttr), "hidden" === this.args.videoVisiblity && this.hide(), this.videoInfo = {}, this.duration = 0, this.currentTime = 0, this._registerEvents()
                    }
                }, {
                    key: "loadSource",
                    value: function (e) {
                        this.setSource(e)
                    }
                }, {
                    key: "setSource",
                    value: function (e) {
                        this.video.src = e
                    }
                }, {
                    key: "resetSource",
                    value: function (e) {
                        try {
                            this.currentTime = 0
                        } catch (e) {
                            console.log("__ error 1 ___", e)
                        }
                        this.currentTime = 0, this.duration = 0, this._source = e.source
                    }
                }, {
                    key: "on",
                    value: function (e, t) {
                        var n = this;
                        "error" === e && (e = "videoerror"), this.eventEmitter.on(e, function (e) {
                            t(e, n.video)
                        })
                    }
                }, {
                    key: "once",
                    value: function (e, t) {
                        this.eventEmitter.once(e, t)
                    }
                }, {
                    key: "fire",
                    value: function (e, t) {
                        "error" === e && (e = "videoerror"), this.eventEmitter.removeListener(e, t)
                    }
                }, {
                    key: "fireAll",
                    value: function () {
                        this.eventEmitter.removeAllListeners()
                    }
                }, {
                    key: "emit",
                    value: function (e, t) {
                        e = "error" === e ? "videoerror" : e, this.eventEmitter.emit(e, t)
                    }
                }, {
                    key: "_createVideo",
                    value: function () {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                        return a(this._conatainer, Object.assign(e, {
                            src: this.args.source,
                            muted: this.args.muted
                        }))
                    }
                }, {
                    key: "play",
                    value: function () {
                        return this.video.paused && this.video.play(), this.video.paused
                    }
                }, {
                    key: "pause",
                    value: function () {
                        return this.video.pause(), this.video.paused
                    }
                }, {
                    key: "seek",
                    value: function (e) {
                        this.duration
                    }
                }, {
                    key: "setVolume",
                    value: function (e) {
                        return e > 1 && (e = 1), e > 0 ? (this.video.muted = !1, this.video.volume = e) : this.video.volume = 0, this.video.volume
                    }
                }, {
                    key: "setMuted",
                    value: function (e) {
                        return this.video.muted = e, this.video.muted
                    }
                }, {
                    key: "setRate",
                    value: function (e) {
                        return this.video.playbackRate = e, this.video.playbackRate
                    }
                }, {
                    key: "replay",
                    value: function () {
                        this.video.currentTime = 0, this.currentTime = 0, this.video.play()
                    }
                }, {
                    key: "getDuration",
                    value: function () {
                        return this.duration
                    }
                }, {
                    key: "getCurrentTimeWithTimeFormate",
                    value: function () {
                        return u(this.video.currentTime)
                    }
                }, {
                    key: "getCurrentTime",
                    value: function () {
                        return this.currentTime
                    }
                }, {
                    key: "getVolume",
                    value: function () {
                        return this.video.volume
                    }
                }, {
                    key: "getBufferTime",
                    value: function () {
                        var e = this.getDuration(),
                            t = this.video,
                            n = 0;
                        if (e > 0)
                            for (var i = 0; i < t.buffered.length; i++)
                                if (t.buffered.start(t.buffered.length - 1 - i) < t.currentTime) {
                                    var o = t.buffered.end(t.buffered.length - 1 - i);
                                    n = o;
                                    break
                                }
                        return n
                    }
                }, {
                    key: "getAttribute",
                    value: function (e) {
                        if (this.video[e]) return this.video[e]
                    }
                }, {
                    key: "setAttribute",
                    value: function (e, t) {
                        this.video[e] = t
                    }
                }, {
                    key: "setStyle",
                    value: function (e, t) {
                        this.video.style[e] = t
                    }
                }, {
                    key: "setSize",
                    value: function (e, t) {
                        this.video.width = e, this.video.height = t
                    }
                }, {
                    key: "fullScreen",
                    value: function () {}
                }, {
                    key: "load",
                    value: function () {
                        this.video.setAttribute("preload", !0), this.video.load()
                    }
                }, {
                    key: "end",
                    value: function () {
                        var e = this.video.duration;
                        this.setCurrentTime(e - .1)
                    }
                }, {
                    key: "destroy",
                    value: function () {
                        this.video.src = "", this.fireAll()
                    }
                }, {
                    key: "_registerEvents",
                    value: function (e) {
                        var t = this,
                            n = e || this.video;
                        if (n) {
                            var i = !0,
                                o = !1,
                                r = void 0;
                            try {
                                for (var a, s = Object.keys(I)[Symbol.iterator](); !(i = (a = s.next()).done); i = !0)! function () {
                                    var e = a.value;
                                    n["handler_" + e] = function (n) {
                                        var i = {
                                            event: n,
                                            videoInfo: t.videoInfo,
                                            isSuccess: !0
                                        };
                                        "string" == typeof I[e] && "function" == typeof t[I[e]] && t[I[e]](i)
                                    }, n.addEventListener(e, n["handler_" + e])
                                }()
                            } catch (e) {
                                o = !0, r = e
                            } finally {
                                try {
                                    !i && s.return && s.return()
                                } finally {
                                    if (o) throw r
                                }
                            }
                        }
                    }
                }, {
                    key: "removeAllEvents",
                    value: function (e) {
                        var t = !0,
                            n = !1,
                            i = void 0;
                        try {
                            for (var o, r = Object.keys(I)[Symbol.iterator](); !(t = (o = r.next()).done); t = !0) {
                                var a = o.value;
                                e.removeEventListener(a, e["handler_" + a])
                            }
                        } catch (e) {
                            n = !0, i = e
                        } finally {
                            try {
                                !t && r.return && r.return()
                            } finally {
                                if (n) throw i
                            }
                        }
                    }
                }, {
                    key: "_onloadstart",
                    value: function (e) {
                        this.emit("loadstart", e)
                    }
                }, {
                    key: "_oncanplay",
                    value: function (e) {
                        this.emit("canplay", e)
                    }
                }, {
                    key: "_onloadeddata",
                    value: function (e) {
                        this.emit("loadeddata", e)
                    }
                }, {
                    key: "_onloadedmetadata",
                    value: function (e) {
                        this.emit("loadedmetadata", e)
                    }
                }, {
                    key: "_onabort",
                    value: function (e) {
                        this.emit("abort", e)
                    }
                }, {
                    key: "_onerror",
                    value: function (e) {
                        e.error = this.video.error, e.networkState = this.video.networkState, e.url = this.video.src, this.emit("error", e)
                    }
                }, {
                    key: "_onpause",
                    value: function (e) {
                        this.emit("pause", e)
                    }
                }, {
                    key: "_onwaiting",
                    value: function (e) {
                        this.emit("waiting", e)
                    }
                }, {
                    key: "_onstalled",
                    value: function (e) {
                        e.error = this.video.error, e.networkState = this.video.networkState, e.url = this.video.src, this.emit("stalled", e)
                    }
                }, {
                    key: "_onsuspend",
                    value: function (e) {
                        e.error = this.video.error, e.networkState = this.video.networkState, e.url = this.video.src, this.emit("suspend", e)
                    }
                }, {
                    key: "_onplay",
                    value: function (e) {
                        this.emit("play", e)
                    }
                }, {
                    key: "_onvolumechange",
                    value: function (e) {
                        this.emit("volumechange", e)
                    }
                }, {
                    key: "_onplaying",
                    value: function (e) {
                        this.emit("playing", e)
                    }
                }, {
                    key: "_onseeked",
                    value: function (e) {
                        this.emit("seeked", e)
                    }
                }, {
                    key: "_onseeking",
                    value: function (e) {
                        this.emit("seeking", e)
                    }
                }, {
                    key: "_ondurationchange",
                    value: function (e) {
                        this.duration = this.video.duration, this.emit("durationchange", e)
                    }
                }, {
                    key: "_onprogress",
                    value: function (e) {
                        this.emit("progress", e)
                    }
                }, {
                    key: "_onratechange",
                    value: function (e) {
                        e.playbackRate = this.video.playbackRate, this.emit("ratechange", e)
                    }
                }, {
                    key: "_ontimeupdate",
                    value: function (e) {
                        this.currentTime = this.video.currentTime, this.emit("timeupdate", e)
                    }
                }, {
                    key: "_onended",
                    value: function (e) {
                        this.emit("ended", e)
                    }
                }, {
                    key: "_oncanplaythrough",
                    value: function (e) {
                        this.emit("canplaythrough", e)
                    }
                }]), e
            }(),
            G = 3,
            Q = function (e) {
                function t(e) {
                    P(this, t);
                    var n = U(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e));
                    return G = e.videoLimits || G, n.config = e, n._flyVideoEles = null, n._segments = null, n._currentSegmentIndex = -1, n._nextPreloading = !1, n._totalDuration = e.duration || 0, n._seekTimer = null, n._geneSegments(e.source), n._createFlyViedeoEles(G, e.videoAttr), n._seekTo(0, !0), n.setMuted(e.muted), n
                }
                return j(t, e), N(t, [{
                    key: "_setNextPreLoadState",
                    value: function (e) {
                        this._nextPreloading = e
                    }
                }, {
                    key: "getBufferTime",
                    value: function () {
                        var e = O(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "getBufferTime", this).call(this),
                            n = this._segments[this._currentSegmentIndex];
                        return e + (n && n.start || 0)
                    }
                }, {
                    key: "getDuration",
                    value: function () {
                        return this.totalDuration
                    }
                }, {
                    key: "init",
                    value: function () {}
                }, {
                    key: "_geneSegments",
                    value: function (e) {
                        var t = void 0,
                            n = void 0,
                            i = 0;
                        this._segments = e.slice();
                        for (var o = 0; o < this._segments.length; o++) t = this._segments[o], n = this._segments[o - 1], t.seconds && (t.seconds = parseFloat(t.seconds), i += t.seconds, t.start = n ? n.end : 0, t.end = t.start + t.seconds);
                        this._totalDuration = i || this._totalDuration
                    }
                }, {
                    key: "_createFlyViedeoEles",
                    value: function (e) {
                        var t = this,
                            n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                            i = this.config,
                            o = i.crossorigin,
                            r = (i.videoVisiblity, i.container);
                        this._flyVideoEles = new Array(e).fill(0).map(function () {
                            var e = Object.assign(n, {
                                crossorigin: o,
                                autoplay: !1,
                                muted: !1
                            });
                            e.style = {
                                width: "100%",
                                height: "100%",
                                backgroundColor: "rgb(0,0,0)",
                                display: "none"
                            };
                            var i = a(r, e);
                            return t._registerEvents(i), i
                        })
                    }
                }, {
                    key: "_seekTo",
                    value: function (e, t) {
                        var n = this;
                        this._seekTimer && clearTimeout(this._seekTimer);
                        var i = this._findSegment(e);
                        if (i) {
                            var o = e - i.start,
                                r = i.no % G;
                            if (this._currentSegmentIndex !== i.no) {
                                var a = !1,
                                    s = t || !1,
                                    l = 1,
                                    u = 1; - 1 !== this._currentSegmentIndex && (a = this.video.muted, l = this.video.playbackRate, u = this.video.volume, s = this.video.paused), this._emitSegmentChange(this._currentSegmentIndex, i.no), this._currentSegmentIndex = i.no;
                                var c = this._enableFlyVideo(r, i.src);
                                this._disabledFlyVideos(), c.muted = a, c.playbackRate = l, c.volume = u, s || this.play()
                            }! function e() {
                                n.video.readyState > 1 ? n.video.currentTime = o : n._seekTimer = setTimeout(e, 30)
                            }(), this._preloadNext((e - i.start) / i.seconds)
                        }
                    }
                }, {
                    key: "_emitSegmentChange",
                    value: function (e, t) {
                        this.emit(V.segmentChange, {
                            lastSeg: {
                                index: e,
                                segment: this._segments[e]
                            },
                            currentSeg: {
                                index: t,
                                segment: this._segments[t]
                            }
                        })
                    }
                }, {
                    key: "_findSegment",
                    value: function (e) {
                        return this._segments.filter(function (t) {
                            return t.start <= e && t.end > e
                        })[0]
                    }
                }, {
                    key: "_enableFlyVideo",
                    value: function (e, t) {
                        var n = this._selectFlyVideo(e, t);
                        return n.style.display = "block", n
                    }
                }, {
                    key: "_disabledFlyVideos",
                    value: function () {
                        var e = this;
                        this._flyVideoEles.forEach(function (t) {
                            t !== e.video && (t.style.display = "none", t.muted = !0, t.autoplay = !1, t.pause())
                        })
                    }
                }, {
                    key: "_selectFlyVideo",
                    value: function (e, t) {
                        var n = this._flyVideoEles[e],
                            i = n.getAttribute("src");
                        return i && i === t || (n.setAttribute("src", t), n.load()), n
                    }
                }, {
                    key: "_preloadNext",
                    value: function (e) {
                        if (e < .9) return void this._setNextPreLoadState(!1);
                        if (!this._nextPreloading) {
                            this._setNextPreLoadState(!0);
                            var t = this._currentSegmentIndex + 1;
                            if (!(t >= this._segments.length)) {
                                var n = this._selectFlyVideo(t % G, this._segments[t].src);
                                n.muted = !0, n.autoplay = !0
                            }
                        }
                    }
                }, {
                    key: "_onpause",
                    value: function (e) {
                        e.event.target === this.video && this.emit("pause", e)
                    }
                }, {
                    key: "_onended",
                    value: function (e) {
                        var t = this._segments[this._currentSegmentIndex],
                            n = this.video.currentTime;
                        this._currentSegmentIndex >= this._segments.length - 1 ? (this.video.pause(), this.emit("ended", e)) : t.seconds - n < .5 && (this._seekTo(t.end + .1), this._play())
                    }
                }, {
                    key: "_play",
                    value: function () {
                        var e = this;
                        if (this.video.paused) {
                            if (this.video.readyState < 1) return void setTimeout(function () {
                                return e._play()
                            }, 30);
                            var t = this.video.play();
                            t && t.catch(function (t) {
                                "object" === (void 0 === t ? "undefined" : R(t)) && "AbortError" === t.name ? (e.emit("pause", t), e.emit("notAllowedError", t)) : "object" === (void 0 === t ? "undefined" : R(t)) && "NotAllowedError" === t.name && (e.emit("pause", t), e.emit("notAllowedError", t))
                            })
                        }
                        return this.video.paused
                    }
                }, {
                    key: "_ontimeupdate",
                    value: function (e) {
                        var t = this._segments[this._currentSegmentIndex];
                        e.currentTime = this.currentTime = t.start + this.video.currentTime, this.emit("timeupdate", e);
                        var n = this._segments[this._currentSegmentIndex];
                        this._preloadNext(this.video.currentTime / n.seconds)
                    }
                }, {
                    key: "_onerror",
                    value: function (e) {
                        var t = e.event.target,
                            n = t.getAttribute("src"),
                            i = this._segments.filter(function (e) {
                                return e.src === n
                            })[0];
                        if (i && (e.sourceIndex = i.no), "none" === t.style.display) return e.error = t.error, e.networkState = t.networkState, e.url = t.src, e.video = t, this.emit("video_seg_error", e);
                        e.error = this.video.error, e.networkState = this.video.networkState, e.url = this.video.src, e.duration = this.video.duration, e.currentTime = this.video.currentTime, this.emit("error", e)
                    }
                }, {
                    key: "play",
                    value: function () {
                        this._play()
                    }
                }, {
                    key: "replay",
                    value: function () {
                        this._seekTo(0), this._play()
                    }
                }, {
                    key: "seek",
                    value: function (e) {
                        e - this._totalDuration > 0 && (e = this._totalDuration - .1), this._seekTo(e)
                    }
                }, {
                    key: "setStyle",
                    value: function (e, t) {
                        this._videoElments.forEach(function (n) {
                            n.style[e] = t
                        })
                    }
                }, {
                    key: "setAttribute",
                    value: function (e, t) {
                        this._videoElments.forEach(function (n) {
                            n[e] = t
                        })
                    }
                }, {
                    key: "setVolume",
                    value: function (e) {
                        e > 1 && (e = 1), e > 0 ? (this.video.volume = e, this.video.muted = !1) : (this.video.volume = 0, this.video.muted = !0)
                    }
                }, {
                    key: "setSource",
                    value: function (e) {
                        var t = e.source,
                            n = e.duration,
                            i = e.seekTime;
                        this._totalDuration = n;
                        var o = this.getCurrentTime();
                        this._geneSegments(t), this.reset(), this._seekTo(i > 0 ? i : o)
                    }
                }, {
                    key: "end",
                    value: function () {
                        this._seekTo(this._totalDuration - .1)
                    }
                }, {
                    key: "reset",
                    value: function () {
                        this._currentSegmentIndex = -1, this._nextPreloading = !1
                    }
                }, {
                    key: "destroy",
                    value: function () {
                        var e = this;
                        this.reset(), this._flyVideoEles.forEach(function (t) {
                            e.removeAllEvents(t)
                        }), this.fireAll()
                    }
                }, {
                    key: "video",
                    get: function () {
                        if (this._flyVideoEles.length) return this._flyVideoEles[this._currentSegmentIndex % G]
                    }
                }, {
                    key: "totalDuration",
                    get: function () {
                        return this._totalDuration
                    }
                }]), t
            }(q),
            W = function (e) {
                function t(e) {
                    P(this, t);
                    var n = U(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e));
                    if (n._isPause = !0, n._curIndex = 0, n.currentTime = 0, n.isend = !1, !e.source) return U(n);
                    n._source = n._processSource(e.source), n._totalNum = n._source.length;
                    var i = n._countDuration(n._source);
                    return n.duration = e.duration ? e.duration : i, n._source.length > 0 && (n.video.src = n._source[0].src), e.poster && (n.video.poster = e.poster), e.autoplay && (n._autoplay = !0, n.video.autoplay = n._autoplay, n.video.preload = !0, n._isPause = !1), n
                }
                return j(t, e), N(t, [{
                    key: "seek",
                    value: function (e) {
                        this.isend = !1, 1 === this._totalNum ? (e >= this.duration && (e = this.duration), this._setCurrentTime(e)) : this._multiSeek(e)
                    }
                }, {
                    key: "play",
                    value: function () {
                        var e = this;
                        this._isPause = !1, this.video.src || (this.video.src = this._source[this._curIndex].src);
                        var t = this.video.play();
                        return t && t.catch(function (t) {
                            "object" === (void 0 === t ? "undefined" : R(t)) && "AbortError" === t.name ? (e.emit("pause", t), e.emit("notAllowedError", t)) : "object" === (void 0 === t ? "undefined" : R(t)) && "NotAllowedError" === t.name && (e.emit("pause", t), e.emit("notAllowedError", t))
                        }), this.video.paused
                    }
                }, {
                    key: "pause",
                    value: function () {
                        return this._isPause = !0, this.video.pause(), this.video.paused
                    }
                }, {
                    key: "replay",
                    value: function () {
                        this.currentTime = 0, this._curIndex = 0, this.video.src = this._source[this._curIndex].src, this.video.play(), this._isPause = !1, this.isend = !1
                    }
                }, {
                    key: "setSource",
                    value: function (e) {
                        this.currentTime = 0, this._curIndex = 0, this.isend = !1, this._source = this._processSource(e.source), this._totalNum = this._source.length;
                        var t = this._countDuration(this._source);
                        this.duration = e.duration || t, this.video.pause(), this.args.seekTime = e.seekTime, this.video.src = this._source[this._curIndex].src, "number" == typeof this.args.seekTime && this.args.seekTime > .1 && this.seek(this.args.seekTime), this.currentTime = this.args.seekTime, e.autoplay && (this._autoplay = !0, this.video.autoplay = this._autoplay, this.video.preload = !0, this._isPause = !1)
                    }
                }, {
                    key: "_processSource",
                    value: function (e) {
                        var t = [];
                        return e instanceof Array ? t = e : "string" == typeof e && t.push({
                            src: e,
                            seconds: 0
                        }), t
                    }
                }, {
                    key: "_createVideo",
                    value: function () {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                        return a(this._conatainer, Object.assign(e, {
                            conrtols: "true",
                            crossorigin: this.args.crossorigin
                        }))
                    }
                }, {
                    key: "_multiSeek",
                    value: function (e) {
                        if (e <= 0) this._setCurrentTime(0);
                        else {
                            var t = this._getIndexByTime(e);
                            t !== this._curIndex && (this.video.pause(), this.video.src = this._source[t].src), e >= this._source[t].endTime ? this._setCurrentTime(this._source[t].endTime) : this._setCurrentTime(e - this._source[t].startTime), this._curIndex = t
                        }
                    }
                }, {
                    key: "_getIndexByTime",
                    value: function (e) {
                        for (var t = this._source.length, n = 0, i = 0; t > n;) {
                            if (i = parseInt((t + n) / 2), e <= this._source[i].endTime && e >= this._source[i].startTime) return i;
                            e > this._source[i].endTime ? n = i : t = i
                        }
                        return i
                    }
                }, {
                    key: "_countDuration",
                    value: function (e) {
                        for (var t = 0, n = 0, i = 0, o = e.length; i < o; i++) t += e[i].seconds, e[i].startTime = n, n += e[i].seconds, e[i].endTime = n;
                        return t
                    }
                }, {
                    key: "setCurrentTime",
                    value: function (e) {
                        this._setCurrentTime(e)
                    }
                }, {
                    key: "getCurrentTime",
                    value: function () {
                        return 1 === this._totalNum || 0 === this._curIndex ? this.video.currentTime : this.video.currentTime + this._source[this._curIndex].startTime
                    }
                }, {
                    key: "tagErrorSrc",
                    value: function (e) {
                        e.setAttribute("data-orginal-src", "true")
                    }
                }, {
                    key: "_setCurrentTime",
                    value: function (e) {
                        try {
                            this.video.currentTime = e
                        } catch (o) {
                            var t = !0,
                                n = this,
                                i = function i() {
                                    t && (t = !1, n.video.currentTime = e), n.video.removeEventListener("canplay", i)
                                };
                            this.video.addEventListener("canplay", i)
                        }
                    }
                }, {
                    key: "_onpause",
                    value: function (e) {
                        (this.video.paused || this._isPause) && (e.fromUser = this._isPause, this._isPause = !0, this.emit("pause", e))
                    }
                }, {
                    key: "_onplay",
                    value: function (e) {
                        this._isPause = !1, this.emit("play", e)
                    }
                }, {
                    key: "_oncanplay",
                    value: function (e) {
                        var t = this;
                        if (!this._isPause && this.video.paused) {
                            var n = this.video.play();
                            n && n.catch(function (e) {
                                "object" === (void 0 === e ? "undefined" : R(e)) && "AbortError" === e.name ? (t.emit("pause", e), t.emit("notAllowedError", e)) : "object" === (void 0 === e ? "undefined" : R(e)) && "NotAllowedError" === e.name && (t.emit("pause", e), t.emit("notAllowedError", e))
                            })
                        }
                        this.emit("canplay", e)
                    }
                }, {
                    key: "_ondurationchange",
                    value: function (e) {
                        1 === this._totalNum && 0 === this.duration && (this.duration = this.video.duration, this._source[0].seconds = this.duration, this._source[0].endTime = this.duration), this.emit("durationchange", e)
                    }
                }, {
                    key: "_ontimeupdate",
                    value: function (e) {
                        1 === this._totalNum ? this.currentTime = this.video.currentTime : this.currentTime = this.video.currentTime + this._source[this._curIndex].startTime, e.currentTime = this.currentTime, this.emit("timeupdate", e)
                    }
                }, {
                    key: "_onended",
                    value: function (e) {
                        if (this._totalNum > 1) this._multiEnded(e);
                        else {
                            if (this.isend) return;
                            this.isend = !0, this.emit("ended", e)
                        }
                    }
                }, {
                    key: "_multiEnded",
                    value: function (e) {
                        if (this._curIndex + 1 < this._totalNum) this._curIndex++, this.video.pause(), this.video.src = this._source[this._curIndex].src, this._setCurrentTime(0);
                        else {
                            if (this.isend) return;
                            this.isend = !0, this.emit("ended", e)
                        }
                    }
                }]), t
            }(q),
            K = function () {
                function e(t) {
                    P(this, e), this.config = t, this.hlsCore = t.hlsCore, this.hlsCore && (this.hls = new this.hlsCore(this.config.hlsconfig)), this._container = this.config.container, this._videoCore = new y(this.config), this._attachPlayerEvents()
                }
                return N(e, [{
                    key: "emit",
                    value: function (e, t) {
                        this._videoCore.emit(e, t)
                    }
                }, {
                    key: "on",
                    value: function (e, t) {
                        this._videoCore.on(e, t)
                    }
                }, {
                    key: "fire",
                    value: function (e, t) {
                        this._videoCore.fire(e, t)
                    }
                }, {
                    key: "fireAll",
                    value: function () {
                        this._videoCore.fireAll()
                    }
                }, {
                    key: "_attachPlayerEvents",
                    value: function () {
                        var e = this;
                        if (this._videoCore && I) {
                            for (var t in I)! function (t) {
                                e._videoCore.on(t, function () {
                                    e._setCallBack(t)
                                })
                            }(t)
                        }
                    }
                }, {
                    key: "getPlaying",
                    value: function () {
                        return !this._videoCore.video.paused
                    }
                }, {
                    key: "_setCallBack",
                    value: function (e) {
                        this.config && this.config.events && this.config.events["" + e] && this.config.events["" + e]()
                    }
                }, {
                    key: "play",
                    value: function () {
                        return this._videoCore.play()
                    }
                }, {
                    key: "loadSource",
                    value: function (e) {
                        return this._videoCore.loadSource(e)
                    }
                }, {
                    key: "pause",
                    value: function () {
                        return this._videoCore.pause()
                    }
                }, {
                    key: "replay",
                    value: function () {
                        this.config.decoder && "m3u8" === this.config.type && !M.isSafari ? (this._videoCore.video.currentTime = 0, this.hls.loadSource(this.config.source[0].source || this.config.source), this.hls.attachMedia(this._videoCore.video), this._videoCore.play()) : this._videoCore.replay()
                    }
                }, {
                    key: "seek",
                    value: function (e) {
                        this._videoCore.seek(e)
                    }
                }, {
                    key: "forwardVideo",
                    value: function (e) {
                        var t = e || 10,
                            n = this._videoCore.getCurrentTime();
                        this._videoCore.seek(parseInt(n) + t)
                    }
                }, {
                    key: "backVideo",
                    value: function (e) {
                        var t = e || 10,
                            n = this._videoCore.getCurrentTime();
                        this._videoCore.seek(n - t)
                    }
                }, {
                    key: "setVolume",
                    value: function (e) {
                        return this._videoCore.setVolume(e)
                    }
                }, {
                    key: "setMuted",
                    value: function (e) {
                        return this._videoCore.setMuted(e)
                    }
                }, {
                    key: "setRate",
                    value: function (e) {
                        this._videoCore.setRate(e)
                    }
                }, {
                    key: "getDuration",
                    value: function () {
                        return this._videoCore.getDuration()
                    }
                }, {
                    key: "getVolume",
                    value: function () {
                        return this._videoCore.getVolume()
                    }
                }, {
                    key: "getCurrentTime",
                    value: function () {
                        return this._videoCore.getCurrentTime()
                    }
                }, {
                    key: "getBufferTime",
                    value: function () {
                        return this._videoCore.getBufferTime()
                    }
                }, {
                    key: "changeSource",
                    value: function (e, t, n) {
                        var i = {},
                            o = "",
                            r = "";
                        2 === arguments.length ? (i = {
                            source: e,
                            duration: t
                        }, o = e, r = n || this.config.type) : (i = arguments[0], o = i.source[0].src || i.source.src, r = i.type || this.config.type), this.config.decoder && "m3u8" === r ? (this.hls.loadSource(o), i.seekTime > 0 && this.hls.startLoad(i.seekTime), this.hls.attachMedia(this._videoCore.video)) : this._videoCore.setSource(i)
                    }
                }, {
                    key: "skipTime",
                    value: function (e) {
                        this._videoCore.seek(e)
                    }
                }, {
                    key: "insertPlay",
                    value: function (e) {
                        this._videoCore.setSource(e), this._videoCore.play()
                    }
                }, {
                    key: "setSize",
                    value: function (e, t) {
                        this._videoCore.setSize(e, t)
                    }
                }, {
                    key: "screenStatus",
                    value: function () {
                        return document.fullscreen || document.webkitIsFullScreen || document.mozFullScreen || !1
                    }
                }, {
                    key: "fullScreen",
                    value: function () {
                        if (this._container.style.position = "fixed", this._container.style.width = "100%", this._container.style.height = "100%", this._containerDefaultClassName = this._container.className, this._container.className += " fullscreen", this._container.requestFullscreen) this._container.requestFullscreen();
                        else if (this._container.webkitRequestFullscreen) this._container.webkitRequestFullscreen();
                        else if (this._container.mozRequestFullScreen) this._container.mozRequestFullScreen();
                        else if (this._container.msRequestFullscreen) this._container.msRequestFullscreen();
                        else if (window.ActiveXObject) {
                            var e = new window.ActiveXObject("WScript.Shell");
                            e.SendKeys("{F11}")
                        } else console.log("浏览器不支持全屏");
                        this.emit("fullscreen", !0)
                    }
                }, {
                    key: "exitFullscreen",
                    value: function () {
                        this._container.removeAttribute("style"), this._container.className = this._containerDefaultClassName, document.exitFullscreen ? document.exitFullscreen().catch(function () {}) : document.msExitFullscreen ? document.msExitFullscreen().catch(function () {}) : document.mozCancelFullScreen ? document.mozCancelFullScreen().catch(function () {}) : document.webkitExitFullscreen && document.webkitExitFullscreen().catch(function () {}), this.emit("fullscreen", !1)
                    }
                }, {
                    key: "getAttribute",
                    value: function (e) {
                        return this._videoCore.getAttribute(e)
                    }
                }, {
                    key: "load",
                    value: function () {
                        this._videoCore.load()
                    }
                }, {
                    key: "end",
                    value: function () {
                        this._videoCore.end()
                    }
                }, {
                    key: "tagErrorSrc",
                    value: function (e) {
                        return this._videoCore.tagErrorSrc(e)
                    }
                }, {
                    key: "destroy",
                    value: function () {
                        this._videoCore.destroy(), this.hls && this.hls.destroy()
                    }
                }]), e
            }(),
            X = {
                init: function (e) {
                    var t = e.id;
                    this.componentsGroup || (this.componentsGroup = {}), this.componentsGroup[t] = {
                        _video: e,
                        _originalOptions: e.config || {}
                    }
                }, register: function (e, t, n) {
                    var i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {};
                    this.componentsGroup && this.componentsGroup[e] || this.init({
                        id: e
                    }), this.componentsGroup[e]._components || (this.componentsGroup[e]._components = {});
                    var o = this.componentsGroup[e]._components,
                        r = this.componentsGroup[e]._originalOptions;
                    i.video = this.componentsGroup[e]._video, i.name = t;
                    var a = !0,
                        s = !1,
                        l = void 0;
                    try {
                        for (var u, c = Object.keys(r)[Symbol.iterator](); !(a = (u = c.next()).done); a = !0) {
                            var d = u.value;
                            t.toLowerCase() === d.toLowerCase() && (i = Object.assign({}, i, r[d]))
                        }
                    } catch (e) {
                        s = !0, l = e
                    } finally {
                        try {
                            !a && c.return && c.return()
                        } finally {
                            if (s) throw l
                        }
                    }
                    return i.disabled && "dashboard" !== t ? null : (o[t.toLowerCase()] = new n(i), o[t.toLowerCase()].func = n, o[t.toLowerCase()])
                }, unRegister: function (e, t) {
                    this.componentsGroup[e]._components[t].destroy(), this.componentsGroup[e]._components[t] = null
                }, findComponent: function (e, t) {
                    var n = t.toLowerCase();
                    return this.componentsGroup[e]._components[n]
                }, reRender: function (e) {
                    var t = {},
                        n = this.componentsGroup[e]._components,
                        i = !0,
                        o = !1,
                        r = void 0;
                    try {
                        for (var a, s = Object.keys(n)[Symbol.iterator](); !(i = (a = s.next()).done); i = !0) {
                            var l = a.value;
                            t[l] = {
                                component: n[l].func,
                                options: n[l]._args
                            }, this.unRegister(l)
                        }
                    } catch (e) {
                        o = !0, r = e
                    } finally {
                        try {
                            !i && s.return && s.return()
                        } finally {
                            if (o) throw r
                        }
                    }
                    var u = !0,
                        c = !1,
                        d = void 0;
                    try {
                        for (var h, p = Object.keys(t)[Symbol.iterator](); !(u = (h = p.next()).done); u = !0) {
                            var f = h.value;
                            this.register(e, f, t[f].component, t[f].options)
                        }
                    } catch (e) {
                        c = !0, d = e
                    } finally {
                        try {
                            !u && p.return && p.return()
                        } finally {
                            if (c) throw d
                        }
                    }
                }
            },
            J = function () {
                function e() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    P(this, e), this._args = t, this._events = {}, this.init(t)
                }
                return N(e, [{
                    key: "init",
                    value: function (e) {
                        this._parent = e.container, this._children = [], this._video = e.video, this.name = e.name;
                        var t = this.render();
                        t ? this._el = this.insert(t, e.index) : e.tag && (this._el = this.createElement(e.tag, e.name), this._parent.appendChild(this._el)), this.attr = e.attr ? e.attr : {}, this.style = e.style ? e.style : {}, this.setAttr(this.attr), this.setStyle(this.style);
                        var n = this.children();
                        if (Object.keys(n).length > 0) {
                            var i = !0,
                                o = !1,
                                r = void 0;
                            try {
                                for (var a, s = Object.keys(n)[Symbol.iterator](); !(i = (a = s.next()).done); i = !0) {
                                    var l = a.value,
                                        u = l,
                                        c = this._registerComponent(u, n[l]);
                                    this._children.push(c)
                                }
                            } catch (e) {
                                o = !0, r = e
                            } finally {
                                try {
                                    !i && s.return && s.return()
                                } finally {
                                    if (o) throw r
                                }
                            }
                        }
                    }
                }, {
                    key: "insert",
                    value: function (e, t) {
                        var n = this._parent.children.length,
                            i = parseInt(t);
                        if (void 0 === t || n <= i) return this._parent.insertAdjacentHTML("beforeend", e), this._parent.children[this._parent.children.length - 1];
                        if (0 === i) return this._parent.insertAdjacentHTML("afterbegin", e), this._parent.children[0];
                        var o = this._parent.children[i];
                        return o && o.insertAdjacentHTML ? (o.insertAdjacentHTML("beforebegin", e), this._parent.children[i]) : void 0
                    }
                }, {
                    key: "children",
                    value: function () {
                        return {}
                    }
                }, {
                    key: "_registerComponent",
                    value: function (e, t, n) {
                        var i = "object" === (void 0 === n ? "undefined" : R(n)) ? n : {};
                        i.container = this._el;
                        var o = this._args._id || "component_share";
                        return this._video && this._video.id && (o = this._video.id), X.register(o, e, t, i)
                    }
                }, {
                    key: "getComponent",
                    value: function (e) {
                        return X.findComponent(this._video.id, e)
                    }
                }, {
                    key: "_createElement",
                    value: function (e, t) {
                        this._el = document.createElement(e), this._el.name = t
                    }
                }, {
                    key: "find",
                    value: function (e) {
                        return this._el.querySelector(e)
                    }
                }, {
                    key: "bind",
                    value: function (e, t, n) {
                        arguments.length < 3 && "function" == typeof t ? this.bindEL(e, t) : 3 === arguments.length && "function" == typeof n && E.bind(this._el, e, t, n)
                    }
                }, {
                    key: "unbind",
                    value: function (e, t, n) {
                        arguments.length < 3 && "function" == typeof t ? this.unbindEL(e, t) : "function" == typeof n && E.ubind(this._el, t, n, !1)
                    }
                }, {
                    key: "on",
                    value: function (e, t) {
                        var n = this;
                        "string" == typeof e ? (this._events[e] = t, this._video.on(e, t)) : Array.isArray(e) && e.forEach(function (e) {
                            n._events[e] = t, n._video.on(e, t)
                        })
                    }
                }, {
                    key: "fire",
                    value: function (e, t) {
                        var n = this;
                        "string" == typeof e ? (this._events[e] = void 0, this._video.fire(e, t)) : Array.isArray(e) && e.forEach(function (e) {
                            n._events[e] = void 0, n._video.fire(e, t)
                        })
                    }
                }, {
                    key: "fireAll",
                    value: function () {
                        var e = !0,
                            t = !1,
                            n = void 0;
                        try {
                            for (var i, o = Object.keys(this._events)[Symbol.iterator](); !(e = (i = o.next()).done); e = !0) {
                                var r = i.value;
                                this.fire(r, this._events[r])
                            }
                        } catch (e) {
                            t = !0, n = e
                        } finally {
                            try {
                                !e && o.return && o.return()
                            } finally {
                                if (t) throw n
                            }
                        }
                    }
                }, {
                    key: "emit",
                    value: function (e, t) {
                        this._video.emit(e, t)
                    }
                }, {
                    key: "setStyle",
                    value: function (e, t) {
                        if ("string" == typeof e) return this.style[e] = t, this._el.style[e] = t;
                        if ("object" === (void 0 === e ? "undefined" : R(e))) {
                            var n = e,
                                i = !0,
                                o = !1,
                                r = void 0;
                            try {
                                for (var a, s = Object.keys(n)[Symbol.iterator](); !(i = (a = s.next()).done); i = !0) {
                                    var l = a.value;
                                    this._el.style[l] = n[l]
                                }
                            } catch (e) {
                                o = !0, r = e
                            } finally {
                                try {
                                    !i && s.return && s.return()
                                } finally {
                                    if (o) throw r
                                }
                            }
                        }
                    }
                }, {
                    key: "setAttr",
                    value: function (e, t) {
                        if ("string" == typeof e) return this._el.setAttribute(e, t);
                        if ("object" === (void 0 === e ? "undefined" : R(e))) {
                            var n = e,
                                i = !0,
                                o = !1,
                                r = void 0;
                            try {
                                for (var a, s = Object.keys(n)[Symbol.iterator](); !(i = (a = s.next()).done); i = !0) {
                                    var l = a.value;
                                    this._el.setAttribute(l, n[l])
                                }
                            } catch (e) {
                                o = !0, r = e
                            } finally {
                                try {
                                    !i && s.return && s.return()
                                } finally {
                                    if (o) throw r
                                }
                            }
                        }
                    }
                }, {
                    key: "setHtml",
                    value: function (e, t) {
                        this._el.innerHtml = e, "function" == typeof t && t()
                    }
                }, {
                    key: "bindEL",
                    value: function (e, t) {
                        var n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
                        "on" + e in this._el && "function" == typeof t && this._el.addEventListener(e, t, n)
                    }
                }, {
                    key: "unbindEL",
                    value: function (e, t) {
                        var n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
                        "on" + e in this._el && "function" == typeof t && this._node.removeEventListener(e, t, n)
                    }
                }, {
                    key: "show",
                    value: function () {
                        if (this._el.style.display = "", "none" === window.getComputedStyle(this._el, null).getPropertyValue("display")) return this._el.style.display = "block"
                    }
                }, {
                    key: "hide",
                    value: function () {
                        this._el.style.display = "none"
                    }
                }, {
                    key: "render",
                    value: function () {
                        return "<div></div>"
                    }
                }, {
                    key: "destroy",
                    value: function () {
                        this._el && (this._el.hasOwnProperty("remove") ? this._el.remove() : this._el.parentNode && this._el.parentNode.removeChild(this._el)), this.fireAll()
                    }
                }]), e
            }(),
            Z = function (e) {
                function t(e) {
                    P(this, t);
                    var n = U(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e));
                    return n.on("play", function () {
                        n.isEnded = !1, n.changePauseState()
                    }), n.on("pause", function () {
                        n.changePlayState()
                    }), n.on("ended", function () {
                        n.isEnded = !0, n.changePlayState()
                    }), n.bind("click", function () {
                        if (n._el.className.indexOf("control-pause-icon") > -1) return h(n._el, "control-pause-icon"), void n._video.pause();
                        d(n._el, "control-pause-icon"), n.isEnded ? n._video.replay() : n._video.play()
                    }), n
                }
                return j(t, e), N(t, [{
                    key: "changePauseState",
                    value: function () {
                        this._stateTimeout && window.clearTimeout(this._stateTimeout), d(this._el, "control-pause-icon"), this._el.setAttribute("data-tip", "暂停")
                    }
                }, {
                    key: "changePlayState",
                    value: function () {
                        var e = this;
                        this._stateTimeout && window.clearTimeout(this._stateTimeout), this._stateTimeout = window.setTimeout(function () {
                            h(e._el, "control-pause-icon"), e._el.setAttribute("data-tip", "播放")
                        }, 250)
                    }
                }, {
                    key: "disable",
                    value: function () {
                        this._el.setAttribute("disabled", "disabled")
                    }
                }, {
                    key: "enable",
                    value: function () {
                        this._el.disabled = !1
                    }
                }, {
                    key: "render",
                    value: function () {
                        return '\n            <div data-tip="播放" class="control-icon control-play-icon">\n                <span class="iconfont icon-play"></span>\n                <span class="iconfont icon-pause"></span>\n            </div>\n        '
                    }
                }]), t
            }(J),
            $ = function (e) {
                function t(e) {
                    P(this, t);
                    var n = U(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e));
                    return n.duration = n._video.getDuration(), n.setTotalTime(n.duration), n.on("timeupdate", function () {
                        var e = u(n._video.getCurrentTime()),
                            t = n._video.getDuration();
                        t !== n.duration && (n.duration = t, n.setTotalTime(t)), n.setTime(e)
                    }), n.on("ended", function () {}), n
                }
                return j(t, e), N(t, [{
                    key: "setTime",
                    value: function (e) {
                        this.find(".control-time-current").innerText = this.setFourFormate(e)
                    }
                }, {
                    key: "setTotalTime",
                    value: function (e) {
                        var t = u(e);
                        t.length > 5 && "00" === t.substr(0, 2) && (this.formate = 4), this.find(".control-time-duration").innerText = this.setFourFormate(t)
                    }
                }, {
                    key: "setFourFormate",
                    value: function (e) {
                        return 4 === this.formate ? e.replace("00:", "") : e
                    }
                }, {
                    key: "render",
                    value: function () {
                        return '\n            <div class="control-time">\n                <span class="control-time-current">00:00</span>\n                <span class="control-time-split"> / </span>\n                <span class="control-time-duration">00:00</span>\n            </div>\n        '
                    }
                }]), t
            }(J),
            ee = M.isMobile,
            te = function (e) {
                function t(e) {
                    P(this, t);
                    var n = U(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e));
                    n.input = n.find(".input-range-container"), n.volumeCurrent = n.find(".control-volume-current"), n.thumb = n.find(".js-thumb");
                    var i = n._video.getVolume();
                    return n.setVolume(i), n.setRangeValue(i), n.setVolumeTip(i), n.hideVolumeTip(), n.index = 0, n.on("volumechange", function (e, t) {
                        if (t.muted) return n.setVolume(0), n.setRangeValue(0), void n.setVolumeTip(0);
                        var i = t.volume;
                        n.setVolume(i), n.setRangeValue(i), n.setVolumeTip(i)
                    }), n.bind("click", function (e) {
                        var t = e.target;
                        ("DIV" !== t.tagName && "INPUT" !== t.tagName || -1 !== t.className.indexOf("control-volume-icon")) && (n.showVolumeSlide(), -1 !== n._el.className.indexOf("muted-icon") ? n.setMuted(!1) : n.setMuted(!0))
                    }), n.bind("mouseenter", function () {
                        n.showVolumeSlide(), n.showVolumeTip()
                    }), n.bind("mouseleave", function () {
                        n.removeVolumeSlide(), n.hideVolumeTip()
                    }), n.input.addEventListener("click", function (e) {
                        var t = f(e.currentTarget),
                            i = document.getElementsByClassName("mini-play-box")[0],
                            o = 0;
                        if (o = i ? e.clientY : e.pageY, M.isSafari) {
                            var r = void 0;
                            r = i ? document.getElementById("player") : document.getElementById("ykPlayer");
                            var a = document.getElementsByClassName("youku-film-player")[0],
                                s = 0;
                            if (a && a.classList.contains("fullscreen") && r && (s = r.offsetTop), o >= t.top - s) {
                                var l = o - (t.top - s),
                                    u = n.input.offsetHeight,
                                    c = 1 - l / u;
                                c >= 0 && c <= 1 && (n.setVolume(c, !0), n.setVolumeTip(c), n.setRangeValue(c))
                            }
                        } else if (o >= t.top) {
                            var d = o - t.top,
                                h = n.input.offsetHeight,
                                p = 1 - d / h;
                            p >= 0 && p <= 1 && (n.setVolume(p, !0), n.setRangeValue(p), n.setVolumeTip(p))
                        }
                    }), n.thumb.addEventListener(Y ? "touchstart" : "mousedown", function (e) {
                        n.initDrag(e)
                    }), n
                }
                return j(t, e), N(t, [{
                    key: "initDrag",
                    value: function (e) {
                        e.preventDefault();
                        var t = this;
                        this._dragEl = this.thumb;
                        var n = this.input.offsetHeight,
                            i = {
                                x: (Y ? e.touches[0].clientX : e.clientX) - this._dragEl.offsetLeft,
                                y: (Y ? e.touches[0].clientX : e.clientY) - this._dragEl.offsetTop,
                                maxTop: n
                            },
                            o = function (e) {
                                var o = v(e, t._dragEl, i);
                                if (o && o.top >= 0) {
                                    var r = o.top,
                                        a = 1 - r / n;
                                    t.setRangeValue(a), t.setVolume(a, !0), t.setVolumeTip(a)
                                } else o && o.top < 0 && (t.setRangeValue(1), t.setVolume(1, !0), t.setVolumeTip(1))
                            },
                            r = function e(n) {
                                if (o(n), t._dragEl = null, Y) return document.removeEventListener("touchmove", o, !1), void document.removeEventListener("touchend", e, !1);
                                document.removeEventListener("mouseenter", o, !1), document.removeEventListener("mouseup", e, !1)
                            };
                        if (Y) return document.addEventListener("touchmove", o, !1), void document.addEventListener("touchend", r, !1);
                        document.addEventListener("mousemove", o, !1), document.addEventListener("mouseup", r, !1)
                    }
                }, {
                    key: "showVolumeSlide",
                    value: function () {
                        -1 === this._el.className.indexOf("slide-show") && d(this._el, "slide-show")
                    }
                }, {
                    key: "removeVolumeSlide",
                    value: function () {
                        -1 !== this._el.className.indexOf("slide-show") && h(this._el, "slide-show")
                    }
                }, {
                    key: "setCurrentVolume",
                    value: function (e) {
                        this.currentVolume = e, this.setVolume(0)
                    }
                }, {
                    key: "setRangeValue",
                    value: function (e) {
                        this.input.setAttribute("data-val", e), this.thumb.style.bottom = 100 * e + "%"
                    }
                }, {
                    key: "getRaneValue",
                    value: function () {
                        return this.input.value
                    }
                }, {
                    key: "setVolume",
                    value: function (e, t) {
                        this.currentVolume || (this.currentVolume = this.getRaneValue()), e < .001 && (this.setRangeValue(0), d(this._el, "muted-icon")), e > 0 && h(this._el, "muted-icon"), this.volumeCurrent.style.height = 100 * e + "%", t && (this._video.setVolume(e), this.currentVolume = this.getRaneValue())
                    }
                }, {
                    key: "setMuted",
                    value: function (e) {
                        this._video.setMuted(e), e ? d(this._el, "muted-icon") : h(this._el, "muted-icon")
                    }
                }, {
                    key: "revertVolume",
                    value: function () {
                        var e = this.currentVolume || .5;
                        this.setRangeValue(e), this.setVolume(e, 1)
                    }
                }, {
                    key: "setVolumeTip",
                    value: function (e) {
                        e = Math.floor(100 * e), document.getElementById("volume-tip").innerHTML = e + "%"
                    }
                }, {
                    key: "showVolumeTip",
                    value: function () {
                        document.getElementById("volume-tip").style.visibility = "visible"
                    }
                }, {
                    key: "hideVolumeTip",
                    value: function () {
                        document.getElementById("volume-tip").style.visibility = "hidden"
                    }
                }, {
                    key: "render",
                    value: function () {
                        return '\n          <div class="control-icon control-volume-icon">\n            <span class="iconfont icon-volume"></span>\n            <span class="iconfont icon-mute"></span>\n            <div class="control-volume-box">\n                <div class="control-volume-slider">\n                    <div class="input-range-container">\n                        <div class="input-range-thumb js-thumb"></div>\n                    </div>\n                    <div class="control-volume-current" style="height:50%;"></div>\n                </div>\n            </div>\n            <div class="volume-tip" id="volume-tip" style="visibility:none"></div>\n          </div>\n        '
                    }
                }]), t
            }(J),
            ne = function (e) {
                function t(e) {
                    P(this, t);
                    var n = U(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e));
                    return n.bind("click", function () {
                        if (navigator.userAgent.indexOf("iPad") > 0 && !document.documentElement.webkitRequestFullScreen) return void n._video._videoCore.video.webkitEnterFullScreen();
                        n.hide(), e.onFullscreen && "function" == typeof e.onFullscreen ? e.onFullscreen() : n._video.fullScreen()
                    }), n.on("fullscreen", function (e) {
                        e ? n.hide() : n.show()
                    }), n
                }
                return j(t, e), N(t, [{
                    key: "render",
                    value: function () {
                        return '\n            <div data-tip="全屏" class="control-icon control-fullscreen-icon">\n                <span class="iconfont icon-fullscreen"></span>\n            </div>\n        '
                    }
                }]), t
            }(J),
            ie = function (e) {
                function t(e) {
                    function n() {
                        var t = function () {
                            o.hide(), o._args.exitFullscreenComplete && "function" == typeof o._args.exitFullscreenComplete ? e.exitFullscreenComplete() : o._video.exitFullscreen()
                        };
                        !1 === document.webkitIsFullScreen ? t() : !1 === document.mozFullScreen ? t() : !1 === document.msFullscreenElement ? t() : !1 === document.fullscreen && t()
                    }
                    P(this, t);
                    var i = U(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e));
                    i.bind("click", function () {
                        i.hide(), e.onHalfFullscreen && "function" == typeof e.onHalfFullscreen ? e.onHalfFullscreen() : i._video.exitFullscreen()
                    }), i.on("fullscreen", function (e) {
                        e ? i.show() : i.hide()
                    });
                    var o = i;
                    return document.addEventListener("webkitfullscreenchange", n, !1), document.addEventListener("mozfullscreenchange", n, !1), document.addEventListener("fullscreenchange", n, !1), document.addEventListener("MSFullscreenChange", n, !1), i
                }
                return j(t, e), N(t, [{
                    key: "isShow",
                    value: function () {
                        return "" === this._el.style.display
                    }
                }, {
                    key: "render",
                    value: function () {
                        return '\n            <div data-tip="退出全屏" class="control-icon control-halfscreen-icon" style="display:none;">\n                <span class="iconfont icon-exit-fullscreen"></span>\n            </div>\n        '
                    }
                }]), t
            }(J),
            oe = function (e) {
                function t() {
                    return P(this, t), U(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments))
                }
                return j(t, e), N(t, [{
                    key: "children",
                    value: function () {
                        return {
                            PlayIcon: Z,
                            TimeSpan: $
                        }
                    }
                }, {
                    key: "insertComponent",
                    value: function (e, t) {
                        return this._registerComponent(name, e, {
                            index: t
                        })
                    }
                }, {
                    key: "insertIcon",
                    value: function (e, t, n) {
                        this._registerComponent(e, t, n)
                    }
                }, {
                    key: "render",
                    value: function () {
                        return '\n            <div class="control-left-grid">\n            </div>\n        '
                    }
                }]), t
            }(J),
            re = function (e) {
                function t() {
                    return P(this, t), U(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments))
                }
                return j(t, e), N(t, [{
                    key: "children",
                    value: function () {
                        return this._video.config.hasOwnProperty("supportFullscreen") && !1 === this._video.config.supportFullscreen ? {
                            Volume: te
                        } : {
                            Volume: te,
                            FullscreenIcon: ne,
                            HalfFullscreenIcon: ie
                        }
                    }
                }, {
                    key: "insertIcon",
                    value: function (e, t, n) {
                        this._registerComponent(e, t, n)
                    }
                }, {
                    key: "render",
                    value: function () {
                        return '\n            <div class="control-right-grid">\n            </div>\n        '
                    }
                }]), t
            }(J),
            ae = function (e) {
                function t() {
                    return P(this, t), U(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments))
                }
                return j(t, e), N(t, [{
                    key: "children",
                    value: function () {
                        return {
                            DashboardLeftGrid: oe,
                            DashboardRightGrid: re
                        }
                    }
                }, {
                    key: "render",
                    value: function () {
                        return '\n            <div class="h5-control-wrap">\n            </div>\n        '
                    }
                }]), t
            }(J),
            se = function (e) {
                function t(e) {
                    P(this, t);
                    var n = U(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e));
                    n.input = n.find(".input-range-container"), n.progressPlayed = n.find(".progress-played"), n.progressLoaded = n.find(".progress-loaded"), n.thumb = n.find(".js-thumb"), n.minVal = 0, e.maxSeekTime && e.maxSeekTime > 0 && n.setMaxActiveProgress(e.maxSeekTime), n.on("timeupdate", function () {
                        if (!n._dragEl) {
                            var e = n._video.getCurrentTime(),
                                t = n._video.getDuration();
                            n.setProgressPlayedPercent(e / t * 100), n.setRangeValue((e / t * 100).toFixed(1))
                        }
                    }), n.on("ended", function () {
                        n.setProgressPlayedPercent(100), n.setRangeValue(100)
                    });
                    var i = n._video.getDuration();
                    n.on("progress", function () {
                        var e = n._video.getBufferTime();
                        e > 0 && n.setProgressLoadedPercent(e / i * 100)
                    });
                    var o = Date.now();
                    return n.on("loadstart", function () {
                        var e = Date.now() - o;
                        n.setProgressLoadedPercent(e / i * 100)
                    }), Array.isArray(e.highlights) && n.setHightLights(e.highlights), n.bind(".progress-hightlights", "click", function (e) {
                        var t = 0,
                            i = 0;
                        e.delegateTarget.dataset ? (t = parseFloat(e.delegateTarget.dataset.time), i = parseFloat(e.delegateTarget.dataset.percent)) : (t = parseFloat(e.delegateTarget.getAttribute("data-time")), i = parseFloat(e.delegateTarget.getAttribute("data-percent"))), t > 0 && i > 0 && (n.setProgressPlayedPercent(i), n._video.seek(t))
                    }), n.input.addEventListener("click", function (e) {
                        var t = f(e.currentTarget);
                        n.checkFullScreen() && (t.left = 0);
                        var i = e.currentTarget.getBoundingClientRect(),
                            o = e.pageX - i.left,
                            r = n.input.offsetWidth,
                            a = o / r * 100;
                        n.setRangeValue(a), n.onRangeChange(a)
                    }), n.thumb.addEventListener(Y ? "touchstart" : "mousedown", function (e) {
                        n.initDrag(e)
                    }), n
                }
                return j(t, e), N(t, [{
                    key: "checkFullScreen",
                    value: function () {
                        return this._video._container.className.indexOf("fullscreen") >= 0
                    }
                }, {
                    key: "initDrag",
                    value: function (e) {
                        e.preventDefault();
                        var t = this;
                        this._dragEl = this.thumb;
                        var n = this.input.offsetWidth,
                            i = getComputedStyle(this._dragEl, null).marginLeft;
                        i && (i = parseFloat(i));
                        var o = {
                            x: (Y ? e.touches[0].clientX : e.pageX) - this._dragEl.offsetLeft + i,
                            y: (Y ? e.touches[0].clientX : e.clientY) - this._dragEl.offsetTop,
                            maxLeft: n
                        };
                        this.checkFullScreen() && (o.x = e.pageX - this._dragEl.offsetLeft);
                        var r = function (e) {
                                var i = v(e, t._dragEl, o);
                                if (i) {
                                    var r = i.left,
                                        a = r / n * 100;
                                    t.setRangeValue(a), t.onRangeChange(a)
                                }
                            },
                            a = function e() {
                                if (t._dragEl = null, Y) return document.removeEventListener("touchmove", r, !1), void document.removeEventListener("touchend", e, !1);
                                document.removeEventListener("mousemove", r, !1), document.removeEventListener("mouseup", e, !1)
                            };
                        if (Y) return document.addEventListener("touchmove", r, !1), void document.addEventListener("touchend", a, !1);
                        document.addEventListener("mousemove", r, !1), document.addEventListener("mouseup", a, !1)
                    }
                }, {
                    key: "onRangeChange",
                    value: function (e) {
                        if (!this._args.disabled) {
                            this.maxVal && e > this.maxVal && (e = this.maxVal), void 0 !== this.minVal && e < this.minVal && (e = this.minVal), this.setProgressPlayedPercent(e);
                            var t = this._video.getDuration();
                            this._video.seek(t * e / 100)
                        }
                    }
                }, {
                    key: "setProgressPlayedPercent",
                    value: function (e) {
                        this.progressPlayed.style.width = e + "%"
                    }
                }, {
                    key: "setRangeValue",
                    value: function (e) {
                        this.maxVal && e > this.maxVal && (e = this.maxVal), void 0 !== this.minVal && e < this.minVal && (e = this.minVal), this.input.setAttribute("data-val", e), this.thumb.style.left = e + "%"
                    }
                }, {
                    key: "setProgressLoadedPercent",
                    value: function (e) {
                        this.progressLoaded.style.width = e + "%"
                    }
                }, {
                    key: "hideProgressPlayed",
                    value: function () {
                        l(this.progressPlayed), l(this.progressLoaded), l(this.input)
                    }
                }, {
                    key: "showProgressPlay",
                    value: function () {
                        s(this.progressPlayed), s(this.progressLoaded), s(this.input)
                    }
                }, {
                    key: "disableInput",
                    value: function () {
                        this.input.disabled = !0, l(this.input)
                    }
                }, {
                    key: "enableInput",
                    value: function () {
                        this.input.disabled = !1, s(this.input)
                    }
                }, {
                    key: "setMaxActiveProgress",
                    value: function (e) {
                        var t = this._video.getDuration(),
                            n = e / t;
                        this.maxVal = 100 * n
                    }
                }, {
                    key: "setHightLights",
                    value: function (e) {
                        var t = this,
                            n = function (e, t, n, i, o) {
                                var r = '<span class="progress-hightlights';
                                return i && (r += " " + i), e < 8 ? r += " left" : e > 92 && (r += " right"), r += '"', r += ' data-time="' + t + '" data-percent="' + e + '" style="left: ' + e + "%;", o && (r += "background-color: " + o + ";"), r += '">', n && (r += '<span class="progress-hightlights-tips">' + n + "</span>"), r += "</span>"
                            },
                            i = "";
                        e.forEach(function (e) {
                            var o = e.time,
                                r = e.tips,
                                a = t._video.getDuration(),
                                s = o / a * 100;
                            s && r && (i += n(s, o, r, e.class, e.color))
                        }), this.find(".progress-container").insertAdjacentHTML("beforeend", i)
                    }
                }, {
                    key: "render",
                    value: function () {
                        return '\n            <div class="h5player-progress">\n                <div class="progress-hover-container">\n                    <div class="progress-container">\n                        <div class="input-range-container progress-input-range">\n                            <div class="input-range-thumb js-thumb"></div>\n                        </div>\n                        <div class="progress-loaded"></div>\n                        <div class="progress-played"></div>\n                    </div>\n                </div>\n            </div>\n        '
                    }
                }]), t
            }(J),
            le = {
                x: null,
                y: null
            },
            ue = function (e) {
                function t(e) {
                    P(this, t);
                    var n = U(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e));
                    if (!1 === e.controls) {
                        var i;
                        return i = n.hide(), U(n, i)
                    }
                    return n._eventsMap = {}, n.isForceHide = !1, e.autoHide && n.bindAutoHide(), e.isForceHide && (n.isForceHide = e.isForceHide, n.hide()), n
                }
                return j(t, e), N(t, [{
                    key: "setMoseOver",
                    value: function (e) {
                        this.args.autoHide = e
                    }
                }, {
                    key: "_onMousemove",
                    value: function (e) {
                        return e.pageX === le.x && e.pageY === le.y ? (le.x = e.pageX, void(le.y = e.pageY)) : (le.x = e.pageX, le.y = e.pageY, this.isForceHide ? void 0 : p(this._el, e.target) ? this.show(!0) : void this.show(2500))
                    }
                }, {
                    key: "_onMouseleave",
                    value: function () {
                        var e = this;
                        "number" == typeof this._args.autoHide && this._args.autoHide > 0 ? (window.clearTimeout(this._hideTimeout), this._hideTimeout = window.setTimeout(function () {
                            e.hide()
                        }, this._args.autoHide)) : this.hide()
                    }
                }, {
                    key: "_onMouseover",
                    value: function () {
                        this.isForceHide || this.show(!0)
                    }
                }, {
                    key: "bindAutoHide",
                    value: function () {
                        this._eventsMap.mousemove = this._onMousemove.bind(this), this._eventsMap.mouseleave = this._onMouseleave.bind(this), this._eventsMap.mouseover = this._onMouseover.bind(this), this._parent.addEventListener("mousemove", this._eventsMap.mousemove), this._parent.addEventListener("mouseleave", this._eventsMap.mouseleave), this._parent.addEventListener("mouseover", this._eventsMap.mouseover, !0)
                    }
                }, {
                    key: "show",
                    value: function () {
                        var e = this,
                            t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                        window.clearTimeout(this._hideTimeout), this._el.style.display = "", "function" == typeof this._args.show && this._args.show(), !0 !== t && "number" == typeof this._args.autoHide && this._args.autoHide > 0 && (this._hideTimeout = window.setTimeout(function () {
                            e.hide()
                        }, this._args.autoHide + t))
                    }
                }, {
                    key: "focusHide",
                    value: function () {
                        this.isForceHide = !0
                    }
                }, {
                    key: "removeFocusHide",
                    value: function () {
                        this.isForceHide = !1
                    }
                }, {
                    key: "hide",
                    value: function () {
                        this._el.style.display = "none", "function" == typeof this._args.hide && this._args.hide()
                    }
                }, {
                    key: "children",
                    value: function () {
                        return {
                            Progress: se,
                            Control: ae
                        }
                    }
                }, {
                    key: "render",
                    value: function () {
                        return '\n            <div class="h5player-dashboard">\n            </div>\n        '
                    }
                }, {
                    key: "destroy",
                    value: function () {
                        this._parent.removeEventListener("mousemove", this._eventsMap.mousemove), this._parent.removeEventListener("mouseleave", this._eventsMap.mouseleave), this._parent.removeEventListener("mouseover", this._eventsMap.mouseover), O(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "destroy", this).call(this)
                    }
                }]), t
            }(J),
            ce = function (e) {
                function t(e) {
                    return P(this, t), U(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e))
                }
                return j(t, e), N(t, [{
                    key: "render",
                    value: function () {
                        return '\n            <div class="h5-full-layer">\n              Hello!\n            </div>\n        '
                    }
                }]), t
            }(J),
            de = function (e) {
                function t(e) {
                    return P(this, t), U(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e))
                }
                return j(t, e), N(t, [{
                    key: "render",
                    value: function () {
                        return '\n          <div class="h5-layer">\n              <div class="spv_error_tit">出了点小状况，正在为您搬运视频...</div>\n          </div>\n        '
                    }
                }]), t
            }(ce),
            he = function (e) {
                function t(e) {
                    return P(this, t), U(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e))
                }
                return j(t, e), N(t, [{
                    key: "switch",
                    value: function (e) {
                        this.hideAllLayer();
                        var t = !0,
                            n = !1,
                            i = void 0;
                        try {
                            for (var o, r = this._children[Symbol.iterator](); !(t = (o = r.next()).done); t = !0) {
                                var a = o.value;
                                a.name === e && a.show()
                            }
                        } catch (e) {
                            n = !0, i = e
                        } finally {
                            try {
                                !t && r.return && r.return()
                            } finally {
                                if (n) throw i
                            }
                        }
                    }
                }, {
                    key: "hideAllLayer",
                    value: function () {
                        var e = !0,
                            t = !1,
                            n = void 0;
                        try {
                            for (var i, o = this._children[Symbol.iterator](); !(e = (i = o.next()).done); e = !0) {
                                i.value.hide()
                            }
                        } catch (e) {
                            t = !0, n = e
                        } finally {
                            try {
                                !e && o.return && o.return()
                            } finally {
                                if (t) throw n
                            }
                        }
                    }
                }, {
                    key: "append",
                    value: function (e, t) {
                        if ("object" === (void 0 === t ? "undefined" : R(t)) && t.html) {
                            var n = this._registerComponent(e, function (e) {
                                function n() {
                                    return P(this, n), U(this, (n.__proto__ || Object.getPrototypeOf(n)).apply(this, arguments))
                                }
                                return j(n, e), N(n, [{
                                    key: "render",
                                    value: function () {
                                        return t.html
                                    }
                                }]), n
                            }(J));
                            return this._children.push(n), n
                        }
                        if ("function" == typeof t) {
                            var i = this._registerComponent(e, t);
                            "Component" === Object.getPrototypeOf(i.constructor).name && this._children.push(i)
                        }
                    }
                }, {
                    key: "getLayer",
                    value: function (e) {
                        var t = !0,
                            n = !1,
                            i = void 0;
                        try {
                            for (var o, r = this._children[Symbol.iterator](); !(t = (o = r.next()).done); t = !0) {
                                var a = o.value;
                                if (a.name === e) return a
                            }
                        } catch (e) {
                            n = !0, i = e
                        } finally {
                            try {
                                !t && r.return && r.return()
                            } finally {
                                if (n) throw i
                            }
                        }
                    }
                }, {
                    key: "childrens",
                    value: function () {
                        return {
                            ErrorLayer: de
                        }
                    }
                }, {
                    key: "render",
                    value: function () {
                        return '\n            <div class="h5-layer-conatiner">\n            </div>\n        '
                    }
                }]), t
            }(J);
        i(".h5player-dashboard {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  z-index: 1500;\n  font-size: 14px;\n  user-select: none;\n  -webkit-user-select: none;\n}\n.h5player-dashboard .input-range-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 12;\n  opacity: 0;\n}\n.h5player-dashboard .input-range-container .input-range-thumb {\n  z-index: 111;\n  position: absolute;\n  top: -2px;\n  left: 0;\n  border: 8px solid #fff;\n  margin-left: -7px;\n  border-radius: 10px;\n  cursor: pointer;\n}\n.h5player-dashboard .input-range-container .input-range-thumb:before {\n  display: block;\n  content: '';\n  position: absolute;\n  top: -15px;\n  left: -15px;\n  border: 15px solid rgba(20, 138, 255, 0.3);\n  border-radius: 19px;\n}\n.h5player-dashboard .input-range-container .input-range-thumb:after {\n  display: block;\n  content: '';\n  position: absolute;\n  top: -6px;\n  left: -6px;\n  border: 6px solid #fff;\n  border-radius: 8px;\n}\n.h5player-progress {\n  position: relative;\n  cursor: pointer;\n}\n.h5player-progress .hgshow {\n  display: none;\n}\n.h5player-progress .progress-hover-container {\n  position: relative;\n  height: 8px;\n}\n.h5player-progress .progress-container {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 2px;\n  background: rgba(133, 133, 133, 0.3);\n  opacity: .85;\n  transition: height 0.2s ease-in, opacity 0.2s ease-out;\n}\n.h5player-progress .progress-container div {\n  max-width: 100%;\n}\n.h5player-progress .progress-hover-container:hover .progress-container {\n  height: 12px;\n  opacity: 1;\n}\n.h5player-progress .progress-hover-container:hover .progress-container .input-range-container {\n  opacity: 1;\n}\n.h5player-progress .progress-hover-container:hover .progress-container .progress-played {\n  border-top-right-radius: 4px;\n}\n.h5player-progress .progress-hover-container:hover .progress-container .progress-hightlights {\n  display: block;\n}\n.h5player-progress .progress-played {\n  position: absolute;\n  z-index: 11;\n  height: 100%;\n  background: #148AFF;\n}\n.h5player-progress .progress-loaded {\n  position: absolute;\n  z-index: 10;\n  height: 100%;\n  background: rgba(255, 255, 255, 0.5);\n}\n.h5player-progress .progress-hightlights {\n  display: none;\n  z-index: 12;\n  position: absolute;\n  top: 3px;\n  width: 6px;\n  height: 6px;\n  transform: translateX(-50%);\n  border-radius: 6px;\n  background-color: #fff;\n}\n.h5player-progress .progress-hightlights:hover .progress-hightlights-tips {\n  display: -webkit-box;\n}\n.h5player-progress .progress-hightlights .progress-hightlights-tips {\n  display: none;\n  position: absolute;\n  left: 50%;\n  bottom: 11px;\n  padding: 5px 8px;\n  max-width: 145px;\n  min-width: 100px;\n  background-color: rgba(0, 0, 0, 0.8);\n  color: #fff;\n  border-radius: 2px;\n  transform: translateX(-50%);\n  height: 40px;\n  width: 128px;\n  font-size: 12px;\n  letter-spacing: 0;\n  line-height: 21px;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n}\n.h5player-progress .progress-hightlights .progress-hightlights-tips:before {\n  display: block;\n  content: '';\n  position: absolute;\n  bottom: -10px;\n  left: 50%;\n  width: 0;\n  height: 0;\n  border-width: 5px;\n  border-style: solid;\n  transform: translateX(-50%);\n  border-color: rgba(0, 0, 0, 0.8) transparent transparent;\n}\n.h5player-progress .progress-hightlights.left .progress-hightlights-tips {\n  left: 0;\n  transform: translateX(0);\n}\n.h5player-progress .progress-hightlights.left .progress-hightlights-tips:before {\n  left: 8px;\n}\n.h5player-progress .progress-hightlights.right .progress-hightlights-tips {\n  left: 0;\n  transform: translateX(-100%);\n}\n.h5player-progress .progress-hightlights.right .progress-hightlights-tips:before {\n  right: 8px;\n  left: auto;\n}\n.h5-control-wrap {\n  position: relative;\n  height: 44px;\n  padding: 0px 10px;\n  direction: ltr;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  text-align: left;\n  box-sizing: content-box;\n  background-color: rgba(0, 0, 0, 0.1);\n}\n.h5-control-wrap .control-left-grid,\n.h5-control-wrap .control-right-grid {\n  line-height: 44px;\n  height: 100%;\n}\n.h5-control-wrap .control-left-grid {\n  float: left;\n}\n.h5-control-wrap .control-right-grid {\n  float: right;\n  padding-right: 10px;\n}\n.h5-control-wrap .control-icon {\n  display: inline-block;\n  cursor: pointer;\n  position: relative;\n  background-size: cover;\n  background-color: transparent;\n  border: none;\n  vertical-align: middle;\n  line-height: 20px;\n}\n.h5-control-wrap .control-icon div {\n  font-size: 14px;\n}\n.h5-control-wrap .control-icon:hover {\n  opacity: 1;\n}\n.h5-control-wrap .control-icon[data-tip]:hover:after {\n  display: inline-block;\n}\n.h5-control-wrap .control-icon:after {\n  content: attr(data-tip);\n  display: none;\n  position: absolute;\n  bottom: 37px;\n  left: 50%;\n  padding: 3px 8px;\n  background-color: rgba(0, 0, 0, 0.8);\n  border-radius: 2px;\n  transform: translateX(-50%);\n  word-break: keep-all;\n  color: #ffffff;\n  font-size: 14px;\n  line-height: 20px;\n}\n.h5-control-wrap .control-icon:before {\n  content: '';\n  display: none;\n  position: absolute;\n  bottom: 29px;\n  left: 50%;\n  width: 0;\n  height: 0;\n  border-width: 4px;\n  border-style: solid;\n  transform: translateX(-50%);\n  border-color: rgba(0, 0, 0, 0.8);\n}\n.h5-control-wrap button:disabled {\n  cursor: not-allowed;\n}\n.h5-control-wrap .control-icon:active,\n.h5-control-wrap .control-icon:focus {\n  outline: none;\n}\n.h5-control-wrap .control-play-icon,\n.h5-control-wrap .control-pause-icon {\n  width: 28px;\n  height: 28px;\n  line-height: 28px;\n}\n.h5-control-wrap .control-play-icon .iconfont,\n.h5-control-wrap .control-pause-icon .iconfont {\n  color: #fff;\n  opacity: 0.8;\n  font-size: 28px;\n}\n.h5-control-wrap .control-play-icon:hover .iconfont,\n.h5-control-wrap .control-pause-icon:hover .iconfont {\n  opacity: 1;\n}\n.h5-control-wrap .control-play-icon .icon-pause {\n  display: none;\n}\n.h5-control-wrap .control-play-icon .icon-play {\n  display: block;\n}\n.h5-control-wrap .control-pause-icon .icon-pause {\n  display: block;\n}\n.h5-control-wrap .control-pause-icon .icon-play {\n  display: none;\n}\n.h5-control-wrap .control-time {\n  display: inline-block;\n  padding: 0 5px;\n  font-size: 80%;\n  white-space: nowrap;\n  margin-left: 16px;\n  font-family: arial;\n  height: 20px;\n  line-height: 20px;\n}\n.h5-control-wrap .control-time .control-time-current {\n  color: #ffffff;\n}\n.h5-control-wrap .control-time .control-time-split {\n  color: rgba(255, 255, 255, 0.7);\n}\n.h5-control-wrap .control-time .control-time-duration {\n  color: rgba(255, 255, 255, 0.7);\n}\n.h5-control-wrap .control-volume-icon {\n  width: 20px;\n  height: 34px;\n  padding-top: 16px;\n  line-height: 20px;\n  margin-left: 16px;\n}\n.h5-control-wrap .control-volume-icon .iconfont {\n  font-size: 20px;\n  color: #fff;\n  opacity: 0.8;\n}\n.h5-control-wrap .control-volume-icon:hover .iconfont {\n  opacity: 1;\n}\n.h5-control-wrap .control-volume-icon .icon-volume {\n  display: block;\n}\n.h5-control-wrap .control-volume-icon .icon-mute {\n  display: none;\n}\n.h5-control-wrap .muted-icon .icon-volume {\n  display: none;\n}\n.h5-control-wrap .muted-icon .icon-mute {\n  display: block;\n}\n.h5-control-wrap .svg-mute {\n  display: none;\n}\n.h5-control-wrap .control-volume-icon.muted-icon .svg-mute {\n  display: inline-block;\n}\n.h5-control-wrap .control-volume-icon.muted-icon .svg-volume {\n  display: none;\n}\n.h5-control-wrap .control-volume-box {\n  display: none;\n  position: absolute;\n  left: 50%;\n  -webkit-transform: translateX(-50%);\n  transform: translateX(-50%);\n  bottom: 38px;\n  padding-bottom: 15px;\n  width: 64px;\n  height: 160px;\n  align-items: center;\n}\n.h5-control-wrap .control-volume-box:before {\n  content: '';\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 160px;\n  border-radius: 4px;\n  background-color: rgba(0, 0, 0, 0.8);\n}\n.h5-control-wrap .control-volume-box .control-volume-slider {\n  position: absolute;\n  width: 6.4px;\n  height: 108px;\n  top: 37.5px;\n  left: 28px;\n  background: rgba(255, 255, 255, 0.3);\n  border-radius: 20px;\n}\n.h5-control-wrap .control-volume-box .control-volume-slider .input-range-container {\n  opacity: 1;\n}\n.h5-control-wrap .control-volume-box .control-volume-slider .input-range-container .input-range-thumb {\n  top: auto;\n  bottom: 0;\n  background-color: #fff;\n  left: 0;\n  margin-left: -5px;\n  margin-bottom: -7px;\n}\n.h5-control-wrap .control-volume-box .control-volume-current {\n  position: absolute;\n  bottom: 0;\n  width: 6.4px;\n  height: 50%;\n  background-image: linear-gradient(-180deg, #05E4FC 0%, #148AFF 100%);\n  border-radius: 5px;\n}\n.h5-control-wrap .control-volume-icon.slide-show .control-volume-box {\n  display: block;\n}\n.h5-control-wrap .control-volume-icon.slide-show .volume-tip {\n  line-height: 16px;\n  color: #ffffff;\n  text-align: center;\n  position: absolute;\n  top: -160px;\n  width: 64px;\n  margin-left: -24px;\n  padding-top: 7px;\n}\n.h5-control-wrap .control-volume-icon.slide-show:after,\n.h5-control-wrap .control-volume-icon.slide-show:before {\n  display: none !important;\n}\n.h5-control-wrap .control-settings-icon,\n.h5-control-wrap .control-fullscreen-icon,\n.h5-control-wrap .control-halfscreen-icon {\n  width: 20px;\n  height: 20px;\n  margin-left: 16px;\n}\n.h5-control-wrap .control-fullscreen-icon .iconfont,\n.h5-control-wrap .control-halfscreen-icon .iconfont {\n  font-size: 20px;\n  color: #fff;\n  opacity: 0.8;\n}\n.h5-control-wrap .control-settings-icon .iconfont {\n  font-size: 20px;\n}\n.h5-control-wrap .control-settings-icon .icon-volume,\n.h5-control-wrap .control-fullscreen-icon .icon-volume,\n.h5-control-wrap .control-halfscreen-icon .icon-volume {\n  display: block;\n}\n.h5-control-wrap .control-settings-icon .icon-volume,\n.h5-control-wrap .control-fullscreen-icon .icon-volume,\n.h5-control-wrap .control-halfscreen-icon .icon-volume {\n  display: block;\n}\n.h5-control-wrap .control-settings-icon:hover .iconfont,\n.h5-control-wrap .control-fullscreen-icon:hover .iconfont,\n.h5-control-wrap .control-halfscreen-icon:hover .iconfont {\n  opacity: 1;\n}\n.h5-control-wrap .control-halfscreen-icon .iconfont {\n  font-size: 22px;\n}\n.h5-control-wrap .h5-full-dialog {\n  position: absolute;\n  top: 0;\n  left: 0;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  background: #000000;\n  z-index: 109;\n}\n.mobile-ui .control-volume-box,\n.mobile-ui .control-mute-icon,\n.mobile-ui .control-volume-icon {\n  display: none !important;\n}\n.mobile-ui .control-icon {\n  width: 20px;\n  height: 20px;\n}\n.mobile-ui .control-fullscreen-icon,\n.mobile-ui .control-halfscreen-icon {\n  width: 14px;\n  height: 14px;\n}\n.mobile-ui .h5-control-wrap {\n  height: 20px;\n  padding: 0 5px 5px;\n  line-height: 20px;\n}\n.mobile-ui .h5player-progress {\n  height: 10px;\n}\n.h5-layer-conatiner {\n  display: flex;\n  position: absolute;\n  top: 0;\n  left: 0;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  z-index: 109;\n  color: #fff;\n}\n.h5-layer-conatiner .h5-layer {\n  display: none;\n}\n"), i('@font-face {\n  font-family: \'playerfont\';\n  /* project id 1027320 */\n  src: url(\'//g.alicdn.com/player/playericons/1.0.3/iconfont.eot\');\n  src: url(\'//g.alicdn.com/player/playericons/1.0.3/iconfont.eot?#iefix\') format(\'embedded-opentype\'), url(\'//g.alicdn.com/player/playericons/1.0.3/iconfont.woff2\') format(\'woff2\'), url(\'//g.alicdn.com/player/playericons/1.0.3/iconfont.woff\') format(\'woff\'), url(\'//g.alicdn.com/player/playericons/1.0.3/iconfont.ttf\') format(\'truetype\'), url(\'//g.alicdn.com/player/playericons/1.0.3/iconfont.svg\') format(\'svg\');\n}\n.h5-control-wrap .iconfont {\n  font-family: "playerfont";\n  font-size: 16px;\n  font-style: normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  vertical-align: baseline;\n}\n.h5-control-wrap .icon-next:before {\n  content: "\\e601";\n}\n.h5-control-wrap .icon-pause:before {\n  content: "\\e602";\n}\n.h5-control-wrap .icon-play:before {\n  content: "\\e603";\n}\n.h5-control-wrap .icon-setting:before {\n  content: "\\e605";\n}\n.h5-control-wrap .icon-webfullscreen:before {\n  content: "\\e60f";\n}\n.h5-control-wrap .icon-exit-webfullscreen:before {\n  content: "\\e610";\n}\n.h5-control-wrap .icon-volume:before {\n  content: "\\e611";\n}\n.h5-control-wrap .icon-mute:before {\n  content: "\\e612";\n}\n.h5-control-wrap .icon-picture:before {\n  content: "\\e613";\n}\n.h5-control-wrap .icon-fullscreen:before {\n  content: "\\e614";\n}\n.h5-control-wrap .icon-exit-fullscreen:before {\n  content: "\\e615";\n}\n.h5-control-wrap .icon-select:before {\n  content: "\\e616";\n}\n.h5-control-wrap .icon-selected:before {\n  content: "\\e617";\n}\n.h5-control-wrap .icon-favorite:before {\n  content: "\\e618";\n}\n.h5-control-wrap .icon-favorited:before {\n  content: "\\e619";\n}\n.h5-control-wrap .icon-subscibe:before {\n  content: "\\e61a";\n}\n.h5-control-wrap .icon-history:before {\n  content: "\\e61b";\n}\n.h5-control-wrap .icon-upload:before {\n  content: "\\e61c";\n}\n.h5-control-wrap .icon-download-app:before {\n  content: "\\e61d";\n}\n.h5-control-wrap .icon-close:before {\n  content: "\\e61e";\n}\n.h5-control-wrap .icon-switch-close:before {\n  content: "\\e61f";\n}\n.h5-control-wrap .icon-switch-open:before {\n  content: "\\e620";\n}\n');
        var pe = {
                install: function (e, t) {
                    _({
                        container: e,
                        video: t,
                        ui: t.config.ui,
                        theme: t.config.theme,
                        layers: t.config.layers,
                        icons: t.config.icons,
                        autoHide: t.config.autoHide,
                        controls: t.config.controls
                    })
                }, componentsManager: X
            },
            fe = function () {
                function e(t) {
                    P(this, e), this.config = t, this.hlsconfig = this.config.hlsconfig, this._component = this.config.component || {}, this._container = this.config.container, this._type = this.config.type, this._decoder = this.config.decoder, this._UI = pe, this.hlsCore = this.config.hlsCore;
                    var n = new Date;
                    this.randomNum = n.getTime();
                    var i = {
                        autoStartLoad: !0,
                        startPosition: -1,
                        capLevelToPlayerSize: !1,
                        debug: !1,
                        maxBufferLength: 108e3
                    };
                    this.hlsconfig = Object.assign(i, this.hlsconfig)
                }
                return N(e, [{
                    key: "shardRouter",
                    value: function () {
                        return Array.isArray(this.config.source) && this.config.source.length > 1 ? M.isMobile ? this.controlType = "single" : this.controlType = "multi" : "xhr" === this.config.controlType ? this.controlType = "xhr" : this.controlType = "single", this.controlType
                    }
                }, {
                    key: "decodeRouter",
                    value: function (e) {
                        this._player = e, this._decoder && "m3u8" === this._type && this.loadExtend(e.hls)
                    }
                }, {
                    key: "loadExtend",
                    value: function (e) {
                        var t = this,
                            n = this.hlsCore;
                        n && (Array.isArray(this.config.source) && this.config.source.length > 0 && "multi" === this.config.controlType || (this.hls = e || new n(this.hlsconfig), this.video = this._player._videoCore.video, Array.isArray(this.config.source) ? this.hls.loadSource(this.config.source[0].src) : this.hls.loadSource(this.config.source), this.hls.attachMedia(this.video), this.getHlsCallback(this.hls)), this.hls.on("hlsManifestLoaded", function (e, n) {
                            var i = n.levels;
                            0 === i.length && t._player._videoCore.emit("emptySourceList", {
                                source: n.string,
                                targetDuration: n.targetDuration,
                                list: i,
                                url: n.url
                            })
                        }))
                    }
                }, {
                    key: "getHlsCallback",
                    value: function (e) {
                        var t = this;
                        this.hlsCore && (e.on(this.hlsCore.Events.FRAG_BUFFERED, function (e, n) {
                            t._player.emit("hlsbuffered", n)
                        }), e.on(this.hlsCore.Events.ERROR, function (e, n) {
                            t._player.emit("hlsError", n)
                        }))
                    }
                }, {
                    key: "register",
                    value: function (e) {
                        var t = {
                                mustUI: ""
                            },
                            n = Object.assign(t, this._component),
                            i = Object.keys(n).sort();
                        this._player = e;
                        for (var o in i) {
                            var r = i[o],
                                a = n[r];
                            this.registerComponent(r, a)
                        }
                    }
                }, {
                    key: "registerComponent",
                    value: function (e, t) {
                        if ("" !== t && !t) return !1;
                        t && "boolean" != typeof t ? (this._player.id = "component" + this.randomNum, t.install(this._container, this._player)) : this.switchComponent(e)
                    }
                }, {
                    key: "destroy",
                    value: function () {
                        var e = this._UI.componentsManager.componentsGroup[this._player.id];
                        for (var t in e._components) e._components[t].destroy && e._components[t].destroy()
                    }
                }, {
                    key: "switchComponent",
                    value: function (e) {
                        switch (e) {
                        case "mustUI":
                            this._player.id = "component" + this.randomNum, this._UI.install(this._container, this._player)
                        }
                    }
                }]), e
            }(),
            ge = function () {
                function e(t) {
                    P(this, e), this.config = t, this.manage = new fe(this.config), this.config.controlType = this.config.controlType || this.manage.shardRouter(), this.control = new K(this.config), this.init(), this.ui = this.control.ui
                }
                return N(e, [{
                    key: "init",
                    value: function () {
                        this.routerPlayer(), this.register()
                    }
                }, {
                    key: "routerPlayer",
                    value: function () {
                        this.manage.decodeRouter(this.control)
                    }
                }, {
                    key: "register",
                    value: function () {
                        this.manage.register(this.control)
                    }
                }]), e
            }(),
            me = 3,
            ye = 2,
            ve = function (e) {
                function t(e) {
                    P(this, t);
                    var n = U(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e));
                    return n.videoInfo.duration = e.duration, n.args.videoIndex = 0, n._queueCallback = {}, n.duration = n._getTotalTime(), n
                }
                return j(t, e), N(t, [{
                    key: "_checkVideo",
                    value: function () {
                        return this.args.videoList = [], Array.isArray(this.args.source) && this.args.source.length > 0 ? this.args.videoList = this.args.source : "string" == typeof this.args.source && (this.args.videoList = [this.args.source]), this.args.videoList
                    }
                }, {
                    key: "_createVideo",
                    value: function () {
                        var e = this,
                            t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                        if (this.args.videoLimits && this.args.videoLimits > 1 && (me = this.args.videoLimits), this.args.videoCacheLimits && this.args.videoCacheLimits > 1 && this.args.videoCacheLimits < me && (ye = this.args.videoCacheLimits), this._checkVideo(), this._videoElments = [], 0 === this.args.videoList.length && (this.args.videoList = Array(me).join(".").split(".")), this.args.videoList.forEach(function (n, i) {
                            if (!(i >= me)) {
                                var o = Object.assign(t, {
                                    src: n.src ? n.src : n,
                                    "data-orginal-src": n.src ? n.src : n,
                                    "data-vm-index": "v" + i,
                                    crossorigin: e.args.crossorigin
                                });
                                o.style = {
                                    width: "100%",
                                    height: "100%",
                                    backgroundColor: "rgb(0,0,0)"
                                }, 0 !== i ? (o.style.display = "none", o.src = "") : o.autoplay = !0 === e.args.autoplay, i > ye && (o.autoplay = !1, o.src = null), "hidden" === e.args.videoVisiblity && (o.style.display = "none"), e.args.muted && (o.muted = !0);
                                var r = a(e._conatainer, o);
                                i > 0 && i <= ye && (r.registerEvent = 1, e._registerEvents(r)), e._videoElments.push(r)
                            }
                        }), 0 !== this._videoElments.length) return this._videoElments[0].registerEvent = 1, this.args.autoplay && (this._isPlaying = !0), this._videoElments[0]
                    }
                }, {
                    key: "_getTotalTime",
                    value: function () {
                        var e = 0;
                        try {
                            var t = !0,
                                n = !1,
                                i = void 0;
                            try {
                                for (var o, r = this.args.videoList[Symbol.iterator](); !(t = (o = r.next()).done); t = !0) {
                                    var a = o.value;
                                    m(a) && (e += parseFloat(a.seconds))
                                }
                            } catch (e) {
                                n = !0, i = e
                            } finally {
                                try {
                                    !t && r.return && r.return()
                                } finally {
                                    if (n) throw i
                                }
                            }
                        } catch (t) {
                            this.args.duration && (e = this.args.duration)
                        }
                        return e
                    }
                }, {
                    key: "_nextVideo",
                    value: function () {
                        var e = this.args.videoIndex + 1;
                        return this._setVideo(e, !1)
                    }
                }, {
                    key: "_setNextPreloadVideo",
                    value: function () {
                        var e = this.args.videoIndex + ye;
                        if (e >= this.args.videoList.length) return void(e %= this.args.videoList.length);
                        this.video.src = this.args.videoList[e].source, this.load()
                    }
                }, {
                    key: "_arrangePreloadVideo",
                    value: function (e) {
                        var t = this,
                            n = function (n) {
                                var i = (e + n) % t._videoElments.length,
                                    o = t.args.videoList[t.args.videoIndex + n],
                                    r = t._videoElments[i],
                                    a = t._getSrc(o);
                                r.autoplay && r.removeAttribute("autoplay"), r.registerEvent || (t._registerEvents(r), r.registerEvent = 1);
                                var s = r.getAttribute("data-orginal-src");
                                s !== a ? (r.src = a, r.setAttribute("data-orginal-src", a), r.setAttribute("data-canplay", "none"), r.load()) : r.src || (r.src = s, r.setAttribute("data-canplay", "none"), r.load())
                            };
                        if (this.args.videoIndex + 1 < this.args.videoList.length) n(1);
                        else
                            for (var i = 1; i < this.args.videoList.length - this.args.videoIndex; i++) n(i)
                    }
                }, {
                    key: "_releaseVideo",
                    value: function (e) {
                        var t = this._videoElments.length - 1 - e,
                            n = this._videoElments[t];
                        n && (n.src = "")
                    }
                }, {
                    key: "_setVideo",
                    value: function (e, t, n) {
                        if (e !== this.args.videoIndex || n) {
                            if (e === this.args.videoList.length) return "ended";
                            this.args.videoIndex !== e && this.emit(V.segmentChange, {
                                lastSeg: {
                                    index: this.args.videoIndex,
                                    segment: this.args.videoList[this.args.videoIndex]
                                },
                                currentSeg: {
                                    index: e,
                                    segment: this.args.videoList[e]
                                }
                            }), this.args.videoIndex = e;
                            var i = this.args.videoIndex % this._videoElments.length;
                            this.hide(), t && !this.video.paused && this.video.pause(), this.video = this._videoElments[i], this.show();
                            var o = this.args.videoList[this.args.videoIndex],
                                r = this._getSrc(o);
                            r && o.errorTag && (r = g(r));
                            this.video.getAttribute("data-orginal-src") === r && this.video.src || (this._setVideoSrc(this.video, r), this.video.setAttribute("data-canplay", "none")), this.video.registerEvent || (this._registerEvents(), this.video.registerEvent = 1), this._isPlaying && ((M.isIE || M.isSafari) && this._isSeek || (this._currentTime(0), this.play()))
                        }
                    }
                }, {
                    key: "_getSrc",
                    value: function (e) {
                        return e.src ? e.src : e
                    }
                }, {
                    key: "end",
                    value: function () {
                        var e = this.video.duration;
                        this.args.videoIndex = this.args.videoList.length - 1, this._currentTime(e - .1)
                    }
                }, {
                    key: "_onended",
                    value: function (e) {
                        var t = this.getCurrentTime(),
                            n = this.getDuration();
                        "ended" === this._nextVideo() && t - n > -3 && this.emit("ended", e)
                    }
                }, {
                    key: "_setVideoSrc",
                    value: function (e, t) {
                        e.src = t, e.setAttribute("data-orginal-src", t)
                    }
                }, {
                    key: "show",
                    value: function () {
                        this.video.style.display = "block"
                    }
                }, {
                    key: "hide",
                    value: function () {
                        this.video.style.display = "none"
                    }
                }, {
                    key: "play",
                    value: function () {
                        var e = this;
                        if (this.video.paused) {
                            var t = this.video.play();
                            t && t.catch(function (t) {
                                "object" === (void 0 === t ? "undefined" : R(t)) && "AbortError" === t.name ? (e.emit("pause", t), e.emit("notAllowedError", t)) : "object" === (void 0 === t ? "undefined" : R(t)) && "NotAllowedError" === t.name && (e.emit("pause", t), e.emit("notAllowedError", t))
                            }), this._isPlaying = !0
                        }
                        return this.video.paused
                    }
                }, {
                    key: "pause",
                    value: function () {
                        return this.video.pause(), this._isPlaying = !1, this.video.paused
                    }
                }, {
                    key: "_batchSetVideoElementsAttr",
                    value: function (e, t) {
                        this._videoElments[e].setAttribute("data-orginal-src", t), 0 !== e ? this._videoElments[e].style.display = "none" : (this._videoElments[e].style.display = "block", this._videoElments[e].setAttribute("src", t)), this._videoElments[e].preload = "none", this._videoElments[e].autoplay = !1
                    }
                }, {
                    key: "setSource",
                    value: function (e) {
                        var t = this,
                            n = this.args.source,
                            i = e.source;
                        if (this.args.source = i, this.args.duration = e.duration, this.args.seekTime = e.seekTime, this._checkVideo(), this.video.pause(), i.length < me) i.length > n.length ? this.args.videoList.forEach(function (e, i) {
                            if (i > n.length - 1 && n.length + i + 1 <= me) {
                                var o = {
                                    src: e.src ? e.src : e,
                                    "data-orginal-src": e.src ? e.src : e,
                                    crossorigin: t.args.crossorigin
                                };
                                return o.style = {
                                    display: "none",
                                    width: "100%",
                                    height: "100%",
                                    backgroundColor: "rgb(0,0,0)"
                                }, t._videoElments.push(a(t._conatainer, o))
                            }
                            if (i <= n.length - 1) {
                                var r = t._getSrc(e);
                                t._videoElments[i].src = r, t._videoElments[i].setAttribute("data-orginal-src", r)
                            }
                        }) : (this._videoElments.forEach(function (e) {
                            e.style.display = "none"
                        }), this.args.videoList.forEach(function (e, n) {
                            var i = t._getSrc(e);
                            t._batchSetVideoElementsAttr(n, i)
                        }));
                        else {
                            if ("number" == typeof this.args.seekTime && this.args.seekTime > .1) return void this.seek(this.args.seekTime, !0);
                            this.args.videoList.map(function (e, n) {
                                if (n >= t._videoElments.length) return null;
                                var i = e.src ? e.src : e;
                                return 0 === n ? t._batchSetVideoElementsAttr(n, i) : (t._videoElments[n].setAttribute("data-src", i), t._videoElments[n].src = ""), t._videoElments[n]
                            })
                        }
                        this.args.videoIndex = 0, this.video = this._videoElments[0], this.video.paused && this.video.play()
                    }
                }, {
                    key: "seek",
                    value: function (e, t) {
                        e - this._getTotalTime() > 2 && this.end();
                        var n = this._findVideoViaTime(e);
                        if (n) {
                            var i = this.video.paused;
                            this._isSeek = !0, this._setVideo(n.index, !i, t), this._currentTime(n.timeDiff)
                        }
                    }
                }, {
                    key: "setCurrentTime",
                    value: function (e) {
                        this._currentTime(e)
                    }
                }, {
                    key: "_currentTime",
                    value: function (e) {
                        var t = this;
                        this._isSeek = !1, this._preloadNextSegmentFlag = !1;
                        var n = this.video.duration;
                        if (M.isIE || M.isSafari) {
                            if (e < .001) return this.show(), this.play(), void(n && (this.video.currentTime = 0));
                            if ("play" !== this.video.getAttribute("data-canplay")) {
                                var i = this.video.getAttribute("data-vm-index");
                                this._queueCallback[i] = function () {
                                    t.play(), n && (t.video.currentTime = e), t.show()
                                }
                            } else n && (this.video.currentTime = e), this.play(), this.show()
                        } else try {
                            this.video.currentTime = e
                        } catch (t) {
                            console.log(t);
                            var o = !0,
                                r = this,
                                a = function t() {
                                    o && (o = !1, r.video.currentTime = e), r.video.removeEventListener("canplay", t)
                                };
                            this.video.addEventListener("canplay", a)
                        }
                    }
                }, {
                    key: "_onpause",
                    value: function (e) {
                        this._isPlaying || this.emit("pause", e)
                    }
                }, {
                    key: "_findVideoViaTime",
                    value: function (e) {
                        var t = 0,
                            n = !0,
                            i = !1,
                            o = void 0;
                        try {
                            for (var r, a = this.args.videoList[Symbol.iterator](); !(n = (r = a.next()).done); n = !0) {
                                var s = r.value;
                                if (t += parseFloat(s.seconds), e < t) return {
                                    index: this.args.videoList.indexOf(s),
                                    source: s,
                                    timeDiff: s.seconds - (t - e)
                                }
                            }
                        } catch (e) {
                            i = !0, o = e
                        } finally {
                            try {
                                !n && a.return && a.return()
                            } finally {
                                if (i) throw o
                            }
                        }
                        return null
                    }
                }, {
                    key: "_findVideoListIndex",
                    value: function (e) {
                        for (var t = 0; t < this.args.videoList.length; t++) {
                            var n = this.args.videoList[t];
                            if (e === (n.src ? n.src : n)) return t
                        }
                    }
                }, {
                    key: "getCurrentTime",
                    value: function () {
                        for (var e = 0, t = 0; t < this.args.videoIndex; t++) e += 1 * this.args.videoList[t].seconds;
                        return 1 * this.video.currentTime + e
                    }
                }, {
                    key: "getBufferTime",
                    value: function () {
                        var e = this._getTotalTime(),
                            t = this.video,
                            n = 0;
                        if (e > 0)
                            for (var i = 0; i < t.buffered.length; i++)
                                if (t.buffered.start(t.buffered.length - 1 - i) < t.currentTime) {
                                    var o = t.buffered.end(t.buffered.length - 1 - i);
                                    n = o;
                                    break
                                }
                        for (var r = 0, a = 0; a < this.args.videoIndex; a++) r += 1 * this.args.videoList[a].seconds;
                        return n + r
                    }
                }, {
                    key: "getPlayVideoBufferTime",
                    value: function () {
                        var e = this._getTotalTime(),
                            t = this.video,
                            n = 0;
                        if (e > 0)
                            for (var i = 0; i < t.buffered.length; i++)
                                if (t.buffered.start(t.buffered.length - 1 - i) < t.currentTime) {
                                    var o = t.buffered.end(t.buffered.length - 1 - i);
                                    n = o;
                                    break
                                }
                        return n
                    }
                }, {
                    key: "setRate",
                    value: function (e) {
                        return this._videoElments.forEach(function (t) {
                            t.playbackRate = e
                        }), this.rate = e, this.video.playbackRate
                    }
                }, {
                    key: "replay",
                    value: function () {
                        this._setVideo(0), this.show(), this._currentTime(0), this.video.play()
                    }
                }, {
                    key: "getPlayingState",
                    value: function () {
                        return this._isPlaying
                    }
                }, {
                    key: "getDuration",
                    value: function () {
                        return this.args && this.args.duration ? this.args.duration : parseInt(this._getTotalTime())
                    }
                }, {
                    key: "setAttribute",
                    value: function (e, t) {
                        this._videoElments.forEach(function (n) {
                            n[e] = t
                        })
                    }
                }, {
                    key: "setMuted",
                    value: function (e) {
                        return this.setAttribute("muted", e), this.video.muted
                    }
                }, {
                    key: "setVolume",
                    value: function (e) {
                        return e > 1 && (e = 1), e > 0 ? (this.video.muted && this.setMuted(!1), this.setAttribute("volume", e)) : this.setAttribute("volume", 0), this.video.volume
                    }
                }, {
                    key: "setStyle",
                    value: function (e, t) {
                        this._videoElments.forEach(function (n) {
                            n.style[e] = t
                        })
                    }
                }, {
                    key: "_ontimeupdate",
                    value: function (e) {
                        this.currentTime = this.getCurrentTime(), e.videoInfo.duration && (e.currentTime = this.currentTime), this.emit("timeupdate", e), !this._preloadNextSegmentFlag && this._checkPreloadStrategy() && (this._preloadNextSegmentFlag = !0, this._arrangePreloadVideo(this.args.videoIndex), this.emit("timeupdate", e))
                    }
                }, {
                    key: "_checkPreloadStrategy",
                    value: function () {
                        var e = this.video.currentTime,
                            t = this.video.duration;
                        return t < 40 || e / t > .9
                    }
                }, {
                    key: "_onloadedmetadata",
                    value: function (e) {
                        e.event && (e.event.target.setAttribute("data-canplay", "play"), this._runQueueCallback())
                    }
                }, {
                    key: "_runQueueCallback",
                    value: function () {
                        var e = this.video.getAttribute("data-vm-index"),
                            t = this._queueCallback[e];
                        "function" == typeof t && (t(), this._queueCallback[e] = null)
                    }
                }, {
                    key: "tagErrorSrc",
                    value: function (e) {
                        var t = e.getAttribute("data-orginal-src");
                        this.args.videoList.forEach(function (e) {
                            e.src === t && (e.errorTag = !0)
                        })
                    }
                }, {
                    key: "_onerror",
                    value: function (e) {
                        var t = e.event.target,
                            n = t.getAttribute("data-orginal-src");
                        if (e.sourceIndex = this._findVideoListIndex(n), "none" === t.style.display) return e.error = t.error, e.networkState = t.networkState, e.url = t.src, e.video = t, e.videoEleIndex = t.getAttribute("data-vm-index"), this.emit("video_seg_error", e);
                        e.error = this.video.error, e.networkState = this.video.networkState, e.url = this.video.src, e.duration = this.video.duration, e.currentTime = this.video.currentTime, e.isPlaying = this.isPlaying, this.emit("error", e)
                    }
                }, {
                    key: "onNextSeq",
                    value: function () {
                        this.emit("nextVideo", this.args.videoList[this.args.videoIndex])
                    }
                }, {
                    key: "_onvolumechange",
                    value: function (e) {
                        e.event.target === this.video && (e.volume = this.video.volume, this.emit("volumechange", e))
                    }
                }, {
                    key: "_onratechange",
                    value: function (e) {
                        e.event.target === this.video && (e.playbackRate = this.video.playbackRate, this.emit("ratechange", e))
                    }
                }]), t
            }(q),
            _e = {};
        _e.fullscreen = "fullscreen";
        for (var be in I) _e[be] = be;
        ge.Component = J, ge.Layer = ce, ge.Events = _e, ge.SingleVideoControl = W, ge.MultiVideoControl = ve, e.exports = ge
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function o(e, t) {
            var n = (0, Q.default)(X, t),
                i = document.createElement("video"),
                o = !0,
                r = !1,
                a = void 0;
            try {
                for (var s, l = (0, Y.default)((0, z.default)(n)); !(o = (s = l.next()).done); o = !0) {
                    var u = s.value;
                    if ("style" === u && "object" === (0, q.default)(n.style)) {
                        var c = n.style,
                            d = !0,
                            h = !1,
                            p = void 0;
                        try {
                            for (var f, g = (0, Y.default)((0, z.default)(c)); !(d = (f = g.next()).done); d = !0) {
                                var m = f.value;
                                i.style[m] = c[m]
                            }
                        } catch (e) {
                            h = !0, p = e
                        } finally {
                            try {
                                !d && g.return && g.return()
                            } finally {
                                if (h) throw p
                            }
                        }
                    } else {
                        var y = n[u];
                        y && i.setAttribute(u, y)
                    }
                }
            } catch (e) {
                r = !0, a = e
            } finally {
                try {
                    !o && l.return && l.return()
                } finally {
                    if (r) throw a
                }
            }
            return "object" === (void 0 === e ? "undefined" : (0, q.default)(e)) && e.setAttribute && e.appendChild(i), i
        }

        function r(e) {
            var t = new XMLHttpRequest;
            t.open("GET", e, !0), t.responseType = "blob";
            var n = document.createElement("video");
            t.onload = function () {
                if (200 === this.status) {
                    var e = this.response,
                        t = URL.createObjectURL(e);
                    n.src = t
                }
            }, t.send()
        }

        function a(e, t) {
            e && (e.style.display = t || "block")
        }

        function s(e) {
            e && (e.style.display = "none")
        }

        function l(e) {
            var t = e.split(":");
            return 3600 * t[0] + 60 * t[1] + 1 * t[2]
        }

        function u(e, t) {
            e = parseInt(e);
            var n = parseInt(e / 3600),
                i = parseInt(e % 3600 / 60),
                o = e % 60;
            return "array" === t ? [n, i, o] : [n, i, o].map(function (e) {
                return c(e)
            }).join(":")
        }

        function c(e) {
            return e < 10 ? "0" + e : e
        }

        function d(e, t) {
            if ((0, B.default)(e) === (0, B.default)(t)) return !1;
            var n = {},
                i = !0,
                o = !1,
                r = void 0;
            try {
                for (var a, s = (0, Y.default)((0, z.default)(t)); !(i = (a = s.next()).done); i = !0) {
                    var l = a.value;
                    "number" == typeof t[l] && Number(e[l]) !== t[l] ? n[l] = 1 : "boolean" == typeof t[l] && Boolean(e[l]) !== t[l] ? n[l] = 1 : e[l] !== t[l] ? n[l] = 1 : e[l] || (n[l] = 1)
                }
            } catch (e) {
                o = !0, r = e
            } finally {
                try {
                    !i && s.return && s.return()
                } finally {
                    if (o) throw r
                }
            }
            return n
        }

        function h(e, t) {
            var n = "player-stat-" + Math.floor(1e4 * Math.random()),
                i = document.createElement("img");
            i.onerror = function () {
                t && t(), i.onload = null, i.onerror = null, i = null
            }, i.onload = function () {
                i.onload = null, i.onerror = null, i = null
            }, i.src = "" + e, i.className = n
        }

        function p(e) {
            return !/(?=(\b|\D))(((\d{1,2})|(1\d{1,2})|(2[0-4]\d)|(25[0-5]))\.){3}((\d{1,2})|(1\d{1,2})|(2[0-4]\d)|(25[0-5]))(?=(\b|\D))/.test(e)
        }

        function f(e, t) {
            if (e.length < 1) return e;
            t && "http:" !== t && "https:" !== t && (t = null);
            var n = e[0].url ? "url" : e[0].src ? "src" : null;
            if (!n) return e;
            for (var i = 0, o = e.length; i < o; i++) {
                var r = e[i][n].split("/");
                p(e[i][n]) ? r[0] = t || r[0] : (r[0] = t || r[0], r[2] = J), e[i][n] = r.join("/")
            }
            return e
        }

        function g(e, t) {
            if (t = t || 1, e.length < t) return e;
            var n = e[0].url ? "url" : e[0].src ? "src" : null;
            if (!n) return e;
            for (var i = t, o = e.length; i < o; i++) {
                var r = e[i][n];
                e[i][n] = r.replace("vkey", "vkeyyy")
            }
            return e
        }

        function m(e, t, n) {
            var i = null;
            "js" === t ? (i = document.createElement("script"), i.setAttribute("type", "text/javascript"), i.setAttribute("src", e)) : "css" === t && (i = document.createElement("link"), i.setAttribute("rel", "stylesheet"), i.setAttribute("type", "text/css"), i.setAttribute("href", e)), void 0 !== i && (document.getElementsByTagName("head")[0].appendChild(i), i.onload = function () {
                n && n()
            })
        }

        function y() {
            var e = window.orientation;
            switch (e) {
            case 90:
            case -90:
                e = 0;
                break;
            default:
                e = 1
            }
            return e
        }

        function v(e) {
            var t = [];
            for (var n in e) t.push(n + "=" + e[n]);
            return t.join("&")
        }

        function _(e) {
            var t = e.toString(),
                n = t.length;
            return n < 4 ? t : 4 === n ? t.charAt(0) + "," + t.slice(1, 4) : n > 4 && n < 9 ? (e / 1e4).toFixed(1) + "万" : n >= 9 ? (e / 1e8).toFixed(1) + "亿" : t
        }

        function b(e, t) {
            var n = document.createElement("a");
            n.setAttribute("href", e), n.setAttribute("target", t || "_self"), document.body.appendChild(n), n.click()
        }

        function E(e) {
            return e < 10 ? "0" + e : e
        }

        function k(e) {
            return null === e ? "" : e.replace(/\&/g, "&amp;").replace(/\</g, "&lt;").replace(/\>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&apos;")
        }

        function w(e, t) {
            for (var n = 0, i = e.length; n < i; n++)
                if (t(e[n])) return n;
            return -1
        }

        function S(e, t) {
            var n = {};
            try {
                n = JSON.parse(localStorage.getItem(e))
            } catch (e) {
                console.warn("Localstorage meet some parsing errors!")
            }
            return n || (n = t), n
        }

        function T(e, t) {
            try {
                localStorage.setItem(e, (0, B.default)(t))
            } catch (e) {
                console.warn("Localstorage meet some errors!")
            }
        }

        function x(e, t) {
            try {
                sessionStorage.setItem(e, (0, B.default)(t))
            } catch (e) {
                console.warn("sessionStorage meet some errors!")
            }
        }

        function A(e, t) {
            var n = {};
            try {
                n = JSON.parse(sessionStorage.getItem(e))
            } catch (e) {
                console.warn("sessionStorage meet some parsing errors!")
            }
            return n || (n = t), n
        }

        function D() {
            return {
                appname: W.Browser.name,
                version: W.Browser.version
            }
        }

        function L(e, t) {
            (K || /^(test|daily|pre)/.test(location.host) || location.search.replace(/.*[\?\&]enableAdLog=([^&]+).*|.*/, "$1")) && (console.log("%c YKplayer", "background:#000;color:#bada55", e), t && console.log(t))
        }

        function C(e) {
            e = e || location.search || location.href;
            var t = /[^\s&?#=\/]+=[^\s&?#=]+/g,
                n = e.match(t),
                i = {};
            return n && n.map(function (e) {
                var t = e.split("=");
                return t.length > 1 && (i[t[0]] = decodeURIComponent(t[1])), decodeURIComponent(t[1])
            }), i
        }

        function M(e) {
            var t = 0,
                n = 0;
            if (e && e.offsetParent)
                for (t = e.offsetLeft, n = e.offsetTop; e = e.offsetParent;) t += e.offsetLeft, n += e.offsetTop;
            return {
                left: t,
                top: n
            }
        }

        function I() {
            return [document.querySelector('meta[name="data-spm"]') && document.querySelector('meta[name="data-spm"]').getAttribute("content"), document.body.getAttribute("data-spm")].concat((0, j.default)(arguments)).join(".")
        }

        function R(e, t) {
            var n = "show" === t ? {
                log: "/yt/youku.pcweb.control",
                code: "H1478724911",
                type: "EXP"
            } : {
                log: "/yt/youku.pcweb.control",
                code: "H1477801390",
                type: "CLK"
            };
            try {
                window.goldlog && window.goldlog.record(n.log, n.type, e, n.code)
            } catch (e) {
                console.log(e)
            }
        }

        function P(e) {
            var t = void 0;
            try {
                t = JSON.parse(localStorage.getItem("YK_SHOW_PREFER")) || {}
            } catch (e) {
                t = {}
            }
            return t[e]
        }

        function N(e, t) {
            var n = void 0;
            try {
                n = JSON.parse(localStorage.getItem("YK_SHOW_PREFER")) || {}
            } catch (e) {
                n = {}
            }
            n[e] = t, localStorage.setItem("YK_SHOW_PREFER", (0, B.default)(n))
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var O = n(69),
            j = i(O),
            U = n(18),
            B = i(U),
            F = n(37),
            z = i(F),
            H = n(36),
            Y = i(H),
            V = n(38),
            q = i(V),
            G = n(19),
            Q = i(G);
        t.createVideo = o, t.preLoadResource = r, t.show = a, t.hide = s, t.timeToSeconds = l, t.secondsToTime = u, t.checkObjDiff = d, t.sendlog = h, t.checkUrlIsDomain = p, t.changeCDNDomain = f, t.changeCdnUrlError = g, t.loadfile = m, t.getScreenState = y, t.urlParameter = v, t.formatNum = _, t.openURL = b, t.formatFill = E, t.htmlEncodeAll = k, t.findIndex = w, t.getLocalData = S, t.setLocalData = T, t.setSessionData = x, t.getSessionData = A, t.getUaVersion = D, t.printLog = L, t.getParamFromUrl = C, t.getElementOffsets = M, t.getSPM = I, t.sendGoldlog = R, t.getPreferSetting = P, t.setPreferSetting = N;
        var W = n(26),
            K = window.YKPLAYER_DENNUG,
            X = {
                controls: !0,
                preload: !0,
                style: {
                    width: "100%",
                    height: "100%",
                    backgroundColor: "rgb(0,0,0)"
                }
            },
            J = "shift-vali.cp31.ott.cibntv.net"
    },
    function (e, t) {
        var n = e.exports = {
            version: "2.6.11"
        };
        "number" == typeof __e && (__e = n)
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.AD_STATE = t.AD_EVENTS = t.AD_TYPE = t.VIDEO_LIMIT = t.CLASS_NAME = t.PlayerLanguage = t.MessageConfig = t.ORDER = t.QualityNameMap = t.QualityNameList = t.QUALITY = t.STREAM_TYPE_MAP = t.PLAYERSYSTEM = t.playerState = t.Global = void 0;
        var o = n(151),
            r = i(o),
            a = n(51),
            s = i(a),
            l = n(154),
            u = i(l),
            c = n(64),
            d = n(153),
            h = i(d),
            p = n(23);
        t.Global = r.default, t.playerState = s.default, t.PLAYERSYSTEM = u.default, t.STREAM_TYPE_MAP = p.STREAM_TYPE_MAP, t.QUALITY = p.QUALITY, t.QualityNameList = p.QualityNameList, t.QualityNameMap = p.QualityNameMap, t.ORDER = p.ORDER, t.MessageConfig = c.MessageConfig, t.PlayerLanguage = h.default, t.CLASS_NAME = p.CLASS_NAME, t.VIDEO_LIMIT = p.VIDEO_LIMIT, t.AD_TYPE = p.AD_TYPE, t.AD_EVENTS = p.AD_EVENTS, t.AD_STATE = p.AD_STATE
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        var o = n(37),
            r = i(o),
            a = n(36),
            s = i(a),
            l = n(38),
            u = i(l);
        e.exports = {
            toggle: function (e, t) {
                this.hasClass(e, t) ? this.removeClass(e, t) : this.addClass(e, t)
            }, swichChildClass: function (e, t, n, i) {
                for (var o = e.querySelectorAll(t), r = 0; r < o.length; r++) {
                    var a = o[r];
                    i(a) ? this.addClass(a, n) : this.removeClass(a, n)
                }
            }, hasClass: function (e, t) {
                return e.className.indexOf(t) > -1
            }, addClass: function (e, t) {
                if (e.classList) e.classList.add(t);
                else {
                    var n = e.className.split(" ");
                    n.push(t), e.className = n.join(" ")
                }
            }, removeClass: function (e, t) {
                if (e.classList) e.classList.remove(t);
                else {
                    for (var n = e.className.split(" "), i = -1, o = 0, r = n.length; o < r; o++) n[o] === t && (i = o);
                    i > -1 && n.splice(i, 1), e.className = n.join(" ")
                }
            }, getAttr: function (e, t) {
                return e.getAttribute(t)
            }, setStyle: function (e, t, n) {
                if ("string" == typeof t) return e.style[t] = n;
                if ("object" === (void 0 === t ? "undefined" : (0, u.default)(t))) {
                    var i = t,
                        o = !0,
                        a = !1,
                        l = void 0;
                    try {
                        for (var c, d = (0, s.default)((0, r.default)(i)); !(o = (c = d.next()).done); o = !0) {
                            var h = c.value;
                            e.style[h] = i[h]
                        }
                    } catch (e) {
                        a = !0, l = e
                    } finally {
                        try {
                            !o && d.return && d.return()
                        } finally {
                            if (a) throw l
                        }
                    }
                }
            }
        }
    },
    function (e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = {
                DOMAIN_IS_ILLEGAL: "Domain.Is.Illegal",
                UNKNOWN_ERROR: "Unknown.Error",
                ARGUMENT_ERROR: "Argument.Error",
                LANGUAGE_IS_CHANGED: "Language.Is.Changed",
                LANGUAGE_CHANGE_FAILED: "Language.Change.Failed",
                LANGUAGE_STRINGS_LOADED: "Language.Strings.Loaded",
                RIGHTMENU_CONFIG_LOADSTART: "Rightmenu.Config.LoadStart",
                SHORTCUTKEY_IS_READY: "ShortCutKey.Is.Ready",
                PLAYER_CORE_LOAD_START: "Player.Core.LoadStart",
                PLAYER_CORE_LOAD_PROGRESS: "Player.Core.LoadProgress",
                PLAYER_CORE_LOAD_FAILED: "Player.Core.LoadFailed",
                PLAYER_CORE_LOAD_COMPLETE: "Player.Core.LoadComplete",
                PLAYER_CORE_INITIALIZED: "Player.Core.Initialized",
                PLAYER_STATE_CHANGE: "Player.State.Change",
                PLAYER_IS_READY: "Player.Is.Ready",
                PLAYER_IS_PAUSED: "Player.Is.Paused",
                PLAYER_IS_PLAYING: "Player.Is.Playing",
                PLAYER_BEGIN_PLAYING: "Player.Begin.Playing",
                PLAYER_IS_LOADING: "Player.Is.Loading",
                PLAYER_GET_META_DATA: "Player.Get.MetaData",
                PLAYER_GET_DURATION: "Player.Get.Duration",
                PLAYER_QUALITY_CHANGE: "Player.Quality.Change",
                QUALITY_SET_FAILED: "Quality.Set.Failed",
                QUALITY_SET_CANCEL: "Quality.Set.Cancel",
                PLAYER_LANGUAGE_CHANGE: "Player.Language.Change",
                PLAYER_PLAY_START: "Player.Play.Start",
                PLAYER_REAL_START: "Player.Real.Start",
                PLAYER_PLAY_END: "Player.Play.End",
                PLAYER_PLAY_STOP: "Player.Play.Stop",
                PLAYER_BUFFER_INIT: "Player.Buffer.Init",
                PLAYER_BUFFER_EMPTY: "Player.Buffer.Empty",
                PLAYER_BUFFER_FULL: "Player.Buffer.Full",
                PLAYER_PLAY_FAILED: "Player.Play.Failed",
                PLAYER_COVER_LOADFAILED: "Player.Cover.LoadFailed",
                PLAYER_COVER_COMPLETE: "Player.Cover.LoadComplete",
                PLAYER_PLUGIN360_LOADFAILED: "Player.Plugin360.LoadFailed",
                PLAYER_PLUGIN360_COMPLETE: "Player.Plugin360.LoadComplete",
                PLAYER_SKIN_LOAD_START: "Player.Skin.LoadStart",
                PLAYER_SKIN_LOAD_PROGRESS: "Player.Skin.LoadProgress",
                PLAYER_SKIN_LOAD_FAILED: "Player.Skin.LoadFailed",
                PLAYER_SKIN_LOAD_COMPLETE: "Player.Skin.LoadComplete",
                SKIN_IS_READY: "Skin.Is.Ready",
                SKIN_CONTROLBAR_SHOWHIDE: "Skin.Controlbar.Showhide",
                AD_GET: "Ad.Get",
                AD_RETURN: "Ad.Return",
                AD_IS_READY: "Ad.Is.Ready",
                AD_SHOW_START: "Ad.Show.Start",
                AD_SHOW_FAILED: "Ad.Show.Failed",
                AD_SHOW_COMPLETE: "Ad.Show.Complete",
                AD_PRELOAD_COMPLETE: "Ad.Preload.Complete",
                SERVICE_IS_READY: "Service.Is.Ready",
                SERVICE_EXECUTE_START: "Service.Execute.Start",
                SERVICE_EXECUTE_PROGRESS: "Service.Execute.Progress",
                SERVICE_EXECUTE_FAILED: "Service.Execute.Failed",
                SERVICE_EXECUTE_COMPLETE: "Service.Execute.Complete",
                SERVICE_DATA_ERROR: "Service.Data.Error",
                SERVICE_DATA_SUCCESS: "Service.Data.Success",
                SERVICE_EXECUTE_WAINING: "Service.Execute.Warning",
                SERVICE_IS_DONE: "Service.Is.Done",
                SERVICE_ALL_COMPLETE: "Service.All.Complete",
                API_IS_READY: "Api.Is.Ready",
                API_INVOKE_FAILED: "Api.Invoke.Failed",
                API_CHECK_TIMEOUT: "Api.Check.Timeout",
                API_CONTROL_CHANGE: "Api.Control.Change",
                APP_IS_READY: "App.Is.Ready",
                HINT_SHOW: "Hint.Show",
                NOTE_INFO_SHOW: "Note.Info.Show",
                NOTE_INFO_NONE: "Note.Info.None",
                NOTE_PLAY_CONTINUOUS: "Note.Play.Continuous",
                NOTE_INVOKE_CONTINUOUS: "Note.Invoke.Continuous",
                NOTE_JUMP_HEAD: "Note.Jump.Head",
                NOTE_HEAD_SETTING: "Note.Head.Setting",
                NOTE_JUMP_TAIL: "Note.Jump.Tail",
                NOTE_ACCELERATE: "Note.Accelerate",
                NOTE_RESTORE_LAST: "Note.Restore.Last",
                NOTE_CLOUD_RESTORE_LAST: "Note.Cloud.Restore.Last",
                NOTE_INSERT_AD: "Note.Insert.Ad",
                NOTE_HIGH_QUALITY: "Note.High.Quality",
                NOTE_INSTALL_IKU_BUFFER: "Note.Install.Iku.Buffer",
                NOTE_TRIAL_TVS: "Note.Trial.Tvs",
                NOTE_OPEN_WINDOW: "Note.Open.Window",
                NOTE_WINDOW_COPYIED: "Note.Window.Copyied",
                NOTE_AD_SHARE: "Note.Ad.Share",
                NOTE_AD_SKIP: "Note.Ad.Skip",
                NOTE_INTERNET_SLOW: "Note.Internet.Slow",
                NOTE_ACCELERATE_REGISTER: "Note.Accelerate.Register",
                NOTE_INFO_SUBSCRIBE: "Note.Info.Subscribe"
            },
            o = [{
                code: "E0000",
                message: i.UNKNOWN_ERROR
            }, {
                code: "E1000",
                message: i.DOMAIN_IS_ILLEGAL
            }, {
                code: "E1001",
                message: i.ARGUMENT_ERROR
            }, {
                code: "E1002",
                message: i.PLAYER_COVER_LOADFAILED
            }, {
                code: "E1003",
                message: i.PLAYER_CORE_LOAD_FAILED
            }, {
                code: "E1004",
                message: i.PLAYER_SKIN_LOAD_FAILED
            }, {
                code: "W1000",
                message: i.LANGUAGE_CHANGE_FAILED
            }, {
                code: "W1100",
                message: i.API_INVOKE_FAILED
            }, {
                code: "W1001",
                message: i.RIGHTMENU_CONFIG_LOADFAILED
            }, {
                code: "N0001",
                message: i.NOTE_PLAY_CONTINUOUS
            }, {
                code: "N0002",
                message: i.NOTE_INVOKE_CONTINUOUS
            }, {
                code: "N0003",
                message: i.NOTE_JUMP_HEAD
            }, {
                code: "N0004",
                message: i.NOTE_HEAD_SETTING
            }, {
                code: "N0005",
                message: i.NOTE_JUMP_TAIL
            }, {
                code: "N0006",
                message: i.NOTE_ACCELERATE
            }, {
                code: "N0007",
                message: i.NOTE_RESTORE_LAST
            }, {
                code: "N0008",
                message: i.NOTE_CLOUD_RESTORE_LAST
            }, {
                code: "N0009",
                message: i.NOTE_INSERT_AD
            }, {
                code: "N0010",
                message: i.NOTE_HIGH_QUALITY_HINT
            }, {
                code: "N0011",
                message: i.NOTE_INSTALL_IKU_BUFFER
            }, {
                code: "N0012",
                message: i.NOTE_TRIAL_TVS
            }, {
                code: "N0013",
                message: i.NOTE_OPEN_WINDOW
            }, {
                code: "N0014",
                message: i.NOTE_WINDOW_COPYIED
            }, {
                code: "N0015",
                message: i.NOTE_AD_SHARE
            }, {
                code: "N0016",
                message: i.NOTE_AD_SKIP
            }, {
                code: "N0017",
                message: i.NOTE_INTERNET_SLOW
            }, {
                code: "N0018",
                message: i.NOTE_ACCELERATE_REGISTER
            }, {
                code: "N0019",
                message: i.NOTE_INFO_SUBSCRIBE
            }];
        i.MESSAGE_MAP = o, t.default = i
    },
    function (e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = n(65),
            o = function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }(i),
            r = n(39),
            a = {
                hasLoadEg: !1,
                sendGoldLog: function (e, t) {
                    if (1 === e.type) this.sendlog(e, t);
                    else try {
                        e.code ? window.goldlog.record(e.url, e.eventType, e.format ? e.params : (0, r.formatParams)(e.params, !0), e.code) : window.goldlog.record(e.url, e.eventType, e.format ? e.params : (0, r.formatParams)(e.params, !0), "GET")
                    } catch (n) {
                        this.sendlog(e, t)
                    }
                }, sendlog: function (e, t) {
                    var n = "";
                    n = e.domain.indexOf("http:") < 0 && e.domain.indexOf("https:") < 0 ? a.getProtocol() + e.domain : e.domain, n += e.url, n += (-1 === n.indexOf("?") ? "?" : "&") + (e.format ? e.params : (0, r.formatParams)(e.params, !0));
                    var i = document.createElement("img");
                    t && i.addEventListener("error", t), i.onload = function () {
                        i.onload = null, i.onerror = null, i = null
                    }, i.src = n
                }, getProtocol: function () {
                    return document.location && document.location.protocol ? document.location.protocol : document.location && document.location.href && document.location.href.indexOf("https:") > -1 ? "https:" : "http:"
                }, _loadfile: function (e, t) {
                    var n = null;
                    "js" === t ? (n = document.createElement("script"), n.setAttribute("type", "text/javascript"), n.setAttribute("src", e)) : "css" === t && (n = document.createElement("link"), n.setAttribute("rel", "stylesheet"), n.setAttribute("type", "text/css"), n.setAttribute("href", e)), void 0 !== n && document.getElementsByTagName("head")[0].appendChild(n)
                }, addAplusMeta: function () {
                    var e = document.location.href;
                    if (e.indexOf("youku.com") < 0 && e.indexOf("tudou.com") < 0) {
                        var t = document.getElementsByTagName("head")[0],
                            n = document.createElement("meta");
                        n.name = "aplus-disable-pvid", n.content = "true", t.appendChild(n)
                    }
                }, loadAplus: function () {
                }, getCna: function () {
                    return "gAT7FsiEzRoCAXFu16sxRbp5";
                }
            };
        t.default = a, a.loadAplus()
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        t.__esModule = !0;
        var o = n(2),
            r = i(o),
            a = n(233),
            s = i(a);
        t.default = function e(t, n, i) {
            null === t && (t = Function.prototype);
            var o = (0, s.default)(t, n);
            if (void 0 === o) {
                var a = (0, r.default)(t);
                return null === a ? void 0 : e(a, n, i)
            }
            if ("value" in o) return o.value;
            var l = o.get;
            if (void 0 !== l) return l.call(i)
        }
    },
    function (e, t, n) {
        var i = n(14),
            o = n(7),
            r = n(27),
            a = n(28),
            s = n(32),
            l = function (e, t, n) {
                var u, c, d, h = e & l.F,
                    p = e & l.G,
                    f = e & l.S,
                    g = e & l.P,
                    m = e & l.B,
                    y = e & l.W,
                    v = p ? o : o[t] || (o[t] = {}),
                    _ = v.prototype,
                    b = p ? i : f ? i[t] : (i[t] || {}).prototype;
                p && (n = t);
                for (u in n)(c = !h && b && void 0 !== b[u]) && s(v, u) || (d = c ? b[u] : n[u], v[u] = p && "function" != typeof b[u] ? n[u] : m && c ? r(d, i) : y && b[u] == d ? function (e) {
                    var t = function (t, n, i) {
                        if (this instanceof e) {
                            switch (arguments.length) {
                            case 0:
                                return new e;
                            case 1:
                                return new e(t);
                            case 2:
                                return new e(t, n)
                            }
                            return new e(t, n, i)
                        }
                        return e.apply(this, arguments)
                    };
                    return t.prototype = e.prototype, t
                }(d) : g && "function" == typeof d ? r(Function.call, d) : d, g && ((v.virtual || (v.virtual = {}))[u] = d, e & l.R && _ && !_[u] && a(_, u, d)))
            };
        l.F = 1, l.G = 2, l.S = 4, l.P = 8, l.B = 16, l.W = 32, l.U = 64, l.R = 128, e.exports = l
    },
    function (e, t) {
        var n = e.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")();
        "number" == typeof __g && (__g = n)
    },
    function (e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = {
            NET_STATUS: "NetStatus",
            STATUS: "status",
            COMMAND: "command",
            ERROR: "playerror",
            NOTE: "note",
            WARNING: "warning",
            HINT: "hint"
        };
        t.default = i
    },
    function (e, t, n) {
        var i = n(87)("wks"),
            o = n(58),
            r = n(14).Symbol,
            a = "function" == typeof r;
        (e.exports = function (e) {
            return i[e] || (i[e] = a && r[e] || (a ? r : o)("Symbol." + e))
        }).store = i
    },
    function (e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = {
                SET_MEDIA_INFO: "setMediaInfo",
                SET_USER_INFO: "setUserInfo",
                SET_PLAYER_CONFIG: "setPlayerConfig",
                PLAY: "play",
                PAUSE: "pause",
                RESUME: "resume",
                SEEK: "seek",
                REPLAY: "replay",
                RELOAD: "reload",
                START: "start",
                RESTART: "restart",
                STOP: "stop",
                SET_VOLUME: "setVolume",
                VOLUME_UP: "volumeUp",
                VOLUME_DOWN: "volumeDown",
                SET_QUALITY: "setQuality",
                CHANGE_QUALITY: "changeQuality",
                SET_PREFERRED_QUALITY: "setPreferredQuality",
                SET_CONTINUOUS: "setContinuous",
                SET_LANGUAGE: "setLanguage",
                PLAY_LIST: "playList",
                GOTO_MAINSITE: "gotoMainsite",
                REGISTER: "register",
                LOGIN: "login",
                LOGOUT: "logout",
                SET_PLAYER_SIZE: "setPlayerSize",
                SET_PLAYER_SIZE_NORMAL: "setPlayerSizeNormal",
                SET_PLAYER_SIZE_FULLSCREEN: "setPlayerSizeFullScreen",
                SET_PLAYER_SIZE_NARROWSCREEN: "setPlayerSizeNarrowScreen",
                SET_PLAYER_SIZE_WIDECREEN: "setPlayerSizeWideScreen",
                SET_PLAYER_SIZE_POPUP: "setPlayerSizePopUp",
                SET_SCALE: "setScale",
                SET_SIZE: "setSize",
                SET_PROPORTION_MODE: "setProportionMode",
                SET_ROTATION_ANGLE: "setRotationAngle",
                SET_ROTATION_LEFT: "setRotationLeft",
                SET_ROTATION_RIGHT: "setRotationRight",
                SET_FILP: "setFilp",
                SET_PLAYER_STYLE: "setPlayerStyle",
                SET_PLAYER_TWEEN_TO_STYLE: "setPlayerTweenToStyle",
                SET_TIP_TIME: "setTipTime",
                SET_QRCODE_TIME: "setQRCodeTime",
                TOGGLE_FULLSCREEN: "toggle_fullscreen",
                SET_PANEL_RARAMS_CHANGED: "setPanelParamsChanged",
                SHOW_SET_PANEL: "showSetPanel",
                HIDE_SET_PANEL: "hideSetPanel",
                TOGGLE_HIDE_SHOW_SET_PANEL: "toggleHideShowSetPanel",
                SHOW_SHARE_PANEL: "showSharePanel",
                HIDE_SHARE_PANEL: "hideSharePanel",
                SHOW_INFO_PANEL: "showInfoPanel",
                HIDE_INFO_PANEL: "hideInfoPanel",
                SHOW_CLOUD_PANEL: "showCloudPanel",
                HIDE_CLOUD_PANEL: "hideCloudPanel",
                SHOW_RECOMMEND_PANEL: "showRecommendPanel",
                HIDE_RECOMMEND_PANEL: "hideRecommendPanel",
                HIDE_SHOW_SHORCUTKEYS_PANEL: "showShorcutKeys",
                HIDE_SHOW_PLAYEINFO_MONITOR: "PlayInfoMonitor",
                SHOW_PRIVACY_PANEL: "ShowPrivacyPanel",
                HIDE_PRIVACY_PANEL: "HidePrivacyPanel",
                PRIVACY_PASSWORD_ERROR: "PrivacyPasswordError",
                PRIVACY_SUBMIT_PASSWORD: "PrivacySubmitPassword",
                SHOW_SUBSCRIBE_PANEL: "ShowSubscribePanel",
                HIDE_SUBSCRIBE_PANEL: "HideSubscribePanel",
                CHECK_PAY_INFO: "CheckPayInfo",
                SHOW_PAY_PANEL: "ShowPayPanel",
                HIDE_PAY_PANEL: "HidePayPanel",
                SHOW_PREVENT_SHARING: "ShowPreventSharing",
                HIDE_PREVENT_SHARING: "HidePreventSharing",
                NORMAL_ERROR: "NormalError",
                TOGGLE_SHORCUTKEYS_ENABLED: "toggleShorcutKeysEnabled",
                SEARCH: "search",
                SET_SKIP_HEAD_AND_TAIL: "setSkipHeadAndTail",
                SET_SKIP_HEAD: "setSkipHead",
                SET_SKIP_TAIL: "setSkipTail",
                SET_AUTO_CONTINUOUS_PLAY: "setAutoContinuousPlay",
                SET_AUTO_CLARITY: "setAutoClarity",
                SHOW_PLAY_LIST: "showPlayList",
                HIDE_PLAY_LIST: "hidePlayList",
                OPEN_DANMU: "openDanmu",
                CLOSE_DANMU: "closeDanmu",
                SUBMIT_DANMU: "submitDanmu",
                OPEN_PICCOMMENT: "openPicComment",
                CLOSE_PICCOMMENT: "closePicComment",
                SEND_EVENT_LOG: "sendEventLog",
                SEND_PAGEERROR_LOG: "sendPageErrorLog",
                SEND_SUBTITLE_LOG: "sendSubtitleLog",
                SEND_BUSINESS_LOG: "sendBusinessLog",
                RECORD_TO_COOKIE: "recordCookie",
                AD_MUTE: "adMute",
                AD_VIP_MESSAGE: "adVipMessage"
            },
            o = {
                "-2002": i.SHOW_PRIVACY_PANEL,
                "-2003": i.PRIVACY_PASSWORD_ERROR,
                "-2004": i.SHOW_SUBSCRIBE_PANEL,
                "-3001": i.CHECK_PAY_INFO,
                "-3002": i.CHECK_PAY_INFO,
                "-3006": i.SHOW_PREVENT_SHARING,
                "-3007": i.CHECK_PAY_INFO,
                "-3008": i.SHOW_PAY_PANEL,
                "-3009": i.SHOW_PAY_PANEL,
                "-4003": i.NORMAL_ERROR
            };
        i.ERROR_MAP = o, t.default = i
    },
    function (e, t, n) {
        e.exports = {
            default: n(243),
            __esModule: !0
        }
    },
    function (e, t, n) {
        "use strict";
        t.__esModule = !0;
        var i = n(231),
            o = function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }(i);
        t.default = o.default || function (e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (e[i] = n[i])
            }
            return e
        }
    },
    function (e, t, n) {
        e.exports = !n(31)(function () {
            return 7 != Object.defineProperty({}, "a", {
                get: function () {
                    return 7
                }
            }).a
        })
    },
    function (e, t) {
        e.exports = function (e) {
            return "object" == typeof e ? null !== e : "function" == typeof e
        }
    },
    function (e, t, n) {
        var i = n(25),
            o = n(109),
            r = n(89),
            a = Object.defineProperty;
        t.f = n(20) ? Object.defineProperty : function (e, t, n) {
            if (i(e), t = r(t, !0), i(n), o) try {
                return a(e, t, n)
            } catch (e) {}
            if ("get" in n || "set" in n) throw TypeError("Accessors not supported!");
            return "value" in n && (e[t] = n.value), e
        }
    },
    function (e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.APPKEY = t.MTOP_ENV = t.AD_EVENTS = t.AD_STATE = t.AD_TYPE = t.VIDEO_LIMIT = t.CLASS_NAME = t.QualityNameList = t.LevelNameMap = t.QualityNameMap = t.STREAM_TYPE_MAP = t.START_QUALITY_MAP = t.PREFER_QUALITY_INDEX = t.ORDER = t.QUALITY = t.QualityMap = void 0;
        var i = n(37),
            o = function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }(i),
            r = (t.QualityMap = {
                1: "320p",
                2: "540p",
                3: "720p",
                4: "1080p"
            }, t.QUALITY = {
                auto: 0,
                "320p": 1,
                "540p": 2,
                "720p": 3,
                "1080p": 4,
                "1080p_hdr": 5
            }, t.ORDER = {
                "1080p_hdr": ["hls4hd3_sdr"],
                "1080p": ["mp4hd3v2", "mp4hd3", "cmaf4hd3"],
                "720p": ["mp4hd2v2", "mp4hd2", "cmaf4hd2"],
                "540p": ["mp4hd", "cmaf4hd"],
                "320p": ["mp4sd", "3gphd", "flvhd", "cmaf4sd", "cmaf4ld"],
                auto: ["h264"]
            }),
            a = t.PREFER_QUALITY_INDEX = {
                auto: 99,
                "320p": 2,
                "540p": 3,
                "720p": 4,
                "1080p": 5,
                "1080p_hdr": 11
            };
        t.START_QUALITY_MAP = (0, o.default)(a).reduce(function (e, t) {
            return e[a[t]] = t, e
        }, {}), t.STREAM_TYPE_MAP = (0, o.default)(r).reduce(function (e, t) {
            return r[t].reduce(function (e, n) {
                return e[n] = t, e
            }, e), e
        }, {}), t.QualityNameMap = {
            "1080p_hdr": "HDR",
            "1080p": "蓝光 1080P",
            "720p": "超清 720P",
            "540p": "高清 540P",
            "320p": "标清 360P",
            auto: "智能"
        }, t.LevelNameMap = {
            "1080p": "蓝光",
            "720p": "超清",
            "540p": "高清",
            "320p": "标清"
        }, t.QualityNameList = [{
            code: "1080p_hdr",
            name: "HDR"
        }, {
            code: "1080p",
            name: "蓝光 1080P"
        }, {
            code: "720p",
            name: "超清 720P"
        }, {
            code: "540p",
            name: "高清 540P"
        }, {
            code: "320p",
            name: "标清 360P"
        }, {
            code: "auto",
            name: "智能"
        }], t.CLASS_NAME = {
            ifHide: !1,
            hide: "ykplayer-dashboard-hidden"
        }, t.VIDEO_LIMIT = 4, t.AD_TYPE = {
            FRONT: "frontad",
            END: "endad",
            CONTENT: "contentad",
            STAND: "standard",
            PAUSE: "pausead"
        }, t.AD_STATE = {
            PLAY: "adplay",
            PLAYING: "adplaying",
            PAUSE: "adpause",
            READY: "adready",
            END: "adended",
            ERROR: "aderror",
            WAITING: "adwaiting",
            SERVICEERROR: "adserviceerror",
            SERVICELOADING: "adserviceloading"
        }, t.AD_EVENTS = {
            ADPLUGIN_STATE_CHANGE: "adplugin.statechange"
        }, t.MTOP_ENV = "acs", t.APPKEY = "24679788"
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(0),
            r = i(o),
            a = n(1),
            s = i(a),
            l = n(6),
            u = function () {
                function e(t) {
                    (0, r.default)(this, e), this._logHost = "//yt.mmstat.com", this._logName = "", this._id = "youkulog", this.protocol = document.location.protocol.slice(0, document.location.protocol.length - 1), this._enabled = !0, this._global = t
                }
                return (0, s.default)(e, [{
                    key: "onNetStatus",
                    value: function (e) {
                        this.enabled
                    }
                }, {
                    key: "processEnabledChange",
                    value: function () {}
                }, {
                    key: "report",
                    value: function () {}
                }, {
                    key: "getUaVersion",
                    value: function () {
                        return (0, l.getUaVersion)()
                    }
                }, {
                    key: "getFullValue",
                    value: function () {
                        var e = this._global._config.playScene;
                        return e = "light" === e ? "2" : "mini" === e ? "3" : this._global.playerState.fullscreen ? "1" : "0"
                    }
                }, {
                    key: "id",
                    get: function () {
                        return this._id
                    }, set: function (e) {
                        this._id = e
                    }
                }, {
                    key: "enabled",
                    get: function () {
                        return this._enabled
                    }, set: function (e) {
                        this._enabled = e, this.processEnabledChange()
                    }
                }]), e
            }();
        t.default = u
    },
    function (e, t, n) {
        var i = n(21);
        e.exports = function (e) {
            if (!i(e)) throw TypeError(e + " is not an object!");
            return e
        }
    },
    function (e, t, n) {
        "use strict";

        function i(e, t) {
            for (var n = [], i = 0; i < e.length; i++)
                if (!n.length || !e[i].skipIfMatched) {
                    var o = e[i].reg.exec(t);
                    if (o && n.push({
                        map: e[i],
                        match: o
                    }), n.length && e[i].breakIfMatched) break
                }
            return n
        }

        function o() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "",
                t = {
                    ext: {}
                };
            e || "object" !== ("undefined" == typeof navigator ? "undefined" : l(navigator)) || (e = navigator.userAgent || "");
            for (var n = i(r, e), o = 0; o < n.length; o++) {
                var u = n[o],
                    c = u.match,
                    d = u.map,
                    h = {
                        browser: c[5] || c[3] || c[1] || "",
                        version: c[4] || c[2] || "0"
                    };
                if (h.browser) {
                    var p = d.name.toLowerCase();
                    void 0 === t.name ? (t["is" + d.name] = !0, t.version = h.version, t.majorVersion = parseInt(h.version, 10), t.name = p) : (t["is" + d.name] = !0, t.ext[p] = {
                        version: h.version,
                        majorVersion: parseInt(h.version, 10)
                    })
                }
            }
            var f = i(a, e)[0] || {
                    match: [],
                    map: {}
                },
                g = f.match,
                m = f.map;
            if (g[0] && (t["is" + m.name] = !0, t.platform = m.name.toLowerCase()), t.isMobile = m.mobile || !1, t.isDesktop = m.desktop || !1, t.isIOS = m.ios || !1, t.isYouku)
                for (var y = i(s, e), v = 0; v < y.length; v++) {
                    var _ = y[v];
                    if (_.match) {
                        var b = _.map;
                        t[b.name] = _.match[1]
                    }
                }
            return t
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var r = [{
                name: "YoukuHD",
                reg: /(youku_hd|youkuhd)\/([\d.]+)/i
            }, {
                name: "YoukuHD",
                reg: /(youku_hd|youkuhd);/i
            }, {
                name: "Youku",
                reg: /(youku|youku_hd|youkuhd)\/([\d.]+)/i
            }, {
                name: "Wechat",
                reg: /(micromessenger)\/([\d.]+)/i
            }, {
                name: "QQ",
                reg: /(qq)\/([\d.]+)/i
            }, {
                name: "Weibo",
                reg: /(weibo).*weibo__([\d.]+)/i
            }, {
                name: "QZone",
                reg: /(qzone)\/.*_qz_([\d.]+)/i
            }, {
                name: "Baidu",
                reg: /(baiduboxapp)\/([\d.]+)/i
            }, {
                name: "DingDing",
                reg: /(aliapp\(dingtalk)\/([\d.]+)/i
            }, {
                name: "Taobao",
                reg: /(aliapp\(tb)\/([\d.]+)/i
            }, {
                name: "Alipay",
                reg: /(alipayclient|aliapp\(AP)\/([\d.]+)/i
            }, {
                name: "AliTrip",
                reg: /(alitrip|aliapp\(lx)\/([\d.]+)/i
            }, {
                name: "UC",
                reg: /(ucbrowser)\/([\d.]+)/i
            }, {
                name: "WindVane",
                reg: /(windvane)\/([\d.]+)/i
            }, {
                name: "Liebao",
                reg: /(liebao[^/]*)\/([\d.]+)/i
            }, {
                name: "360",
                reg: /(qihoobrowser)\/([\d.]+)/i
            }, {
                name: "360SoSuo",
                reg: /(mso_app)\s*\(([\d.]+)/i
            }, {
                name: "QQLive",
                reg: /(qqlivebrowser)\/([\d.]+)/i
            }, {
                name: "QQBrowser",
                reg: /(qqbrowser)\/([\d.]+)/i
            }, {
                name: "Iqiyi",
                reg: /(iqiyiversion)\/([\d.]+)/i
            }, {
                name: "BaiduBrowser",
                reg: /(baidubrowser)\/([\d.]+)/i
            }, {
                name: "Sogou",
                reg: /(sogou[\w]*browser)\/([\d.]+)/i
            }, {
                name: "Edge",
                reg: /(edge)\/([\d.]+)/i
            }, {
                name: "Opera",
                reg: /(opr)\/([\d.]+)/i,
                skipIfMatched: !0
            }, {
                name: "Chrome",
                reg: /(chrome)\/([\d.]+)/i,
                skipIfMatched: !0
            }, {
                name: "Chrome",
                reg: /(crios)\/([\d.]+)/i,
                skipIfMatched: !0
            }, {
                name: "IEMobile",
                reg: /(iemobile)[\/]([\d.]+)/i,
                skipIfMatched: !0
            }, {
                name: "Firefox",
                reg: /(firefox)\/([\d.]+)/i,
                skipIfMatched: !0
            }, {
                name: "Opera",
                reg: /(opera)(?:.*version|)[ \/]([\d.]+)/i,
                skipIfMatched: !0
            }, {
                name: "Safari",
                reg: /(version)(applewebkit)[/]([\d.]+).*(safari)[/]([\d.]+)/i,
                skipIfMatched: !0
            }, {
                name: "Safari",
                reg: /(webkit)[ \/]([\d.]+).*(version)[/]([\d.]+).*(safari)[/]([\d.]+)/i,
                skipIfMatched: !0
            }, {
                name: "IE",
                reg: /(msie) ([\d.]+)/i
            }, {
                name: "IE",
                reg: /trident.*(rv)(?::| )([\d.]+)/i
            }],
            a = [{
                name: "IPad",
                reg: /(ipad|iphone.*youku_hd\/[\d.]+)/i,
                mobile: !0,
                ios: !0,
                breakIfMatched: !0
            }, {
                name: "IPad",
                reg: /(ipad|iphone.*youku_hd)/i,
                mobile: !0,
                ios: !0,
                breakIfMatched: !0
            }, {
                name: "IPod",
                reg: /(ipod)/i,
                mobile: !0,
                ios: !0,
                breakIfMatched: !0
            }, {
                name: "WindowsPhone",
                reg: /(windows phone)/i,
                mobile: !0,
                breakIfMatched: !0
            }, {
                name: "IPhone",
                reg: /(iphone)/i,
                mobile: !0,
                ios: !0,
                breakIfMatched: !0
            }, {
                name: "Android",
                reg: /(android)/i,
                mobile: !0,
                breakIfMatched: !0
            }, {
                name: "Windows",
                reg: /(win)/i,
                desktop: !0,
                breakIfMatched: !0
            }, {
                name: "Mac",
                reg: /(mac)/i,
                desktop: !0,
                breakIfMatched: !0
            }, {
                name: "Linux",
                reg: /(linux)/i,
                desktop: !0,
                breakIfMatched: !0
            }],
            s = [{
                name: "GUID",
                reg: /GUID[\s]([\w\d]+);/i
            }, {
                name: "OUID",
                reg: /OUID[\s]([\w\d]+);/i
            }, {
                name: "UTDID",
                reg: /UTDID[\s]([\w\d\+]+);/i
            }],
            l = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                return typeof e
            } : function (e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            };
        t.Browser = {}, t.Browser = o(), t.uaMatch = o
    },
    function (e, t, n) {
        var i = n(41);
        e.exports = function (e, t, n) {
            if (i(e), void 0 === t) return e;
            switch (n) {
            case 1:
                return function (n) {
                    return e.call(t, n)
                };
            case 2:
                return function (n, i) {
                    return e.call(t, n, i)
                };
            case 3:
                return function (n, i, o) {
                    return e.call(t, n, i, o)
                }
            }
            return function () {
                return e.apply(t, arguments)
            }
        }
    },
    function (e, t, n) {
        var i = n(22),
            o = n(47);
        e.exports = n(20) ? function (e, t, n) {
            return i.f(e, t, o(1, n))
        } : function (e, t, n) {
            return e[t] = n, e
        }
    },
    function (e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = n(63);
        t.EQRErrorCorrectLevel = i.EQRErrorCorrectLevel;
        var o = n(139);
        t.QRAlgorithm = o.QRAlgorithm;
        var r = n(145);
        t.generateQRCode4MiniProgram = r.generateQRCode4MiniProgram;
        var a = n(144);
        t.generateQRCode4Browser = a.generateQRCode4Browser;
        var s = n(146);
        t.generateQRCode4NodeJS = s.generateQRCode4NodeJS;
        var l = n(142);
        t.Report = l.Report
    },
    function (e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = {
            notAllowedError: "notAllowedError",
            setDanmuStatus: "danmustatus",
            playerReady: "ready",
            onPlayerStart: "startPlay",
            Play: "play",
            Pause: "pause",
            PlayerPlayNext: "playNext",
            InnerPlayerPlayNext: "InnerplayNext",
            onTrialEnd: "trialend",
            onPlayerSet: "playerset",
            onPlayerComplete: "player.ended",
            onTimeUpdate: "timeupdate",
            onPlayerPreAdInit: "playerpreadinit",
            onPlayerLastAdInit: "playerlasteadinit",
            onPlayerMidAdInit: "playerminadinit",
            PlayerInteract: "playerinteract",
            playerSubscribe: "playersubscribe",
            playerToIku: "playeropiku",
            onFullscreen: "fullscreen",
            onCallAnthology: "callAnthology",
            dashboardStateChange: "dashboardStateChange",
            switchFlash: "switchflash",
            onPlayerError: "player.error",
            onRateChange: "ratechange",
            onAdPlay: "onadplay",
            onAdEnd: "onadend",
            onCutAdPlay: "oncutadplay",
            onCutAdEnd: "oncutadend",
            webFullScreen: "onwebfullscreen",
            switchMini: "switchMini"
        };
        t.default = i
    },
    function (e, t) {
        e.exports = function (e) {
            try {
                return !!e()
            } catch (e) {
                return !0
            }
        }
    },
    function (e, t) {
        var n = {}.hasOwnProperty;
        e.exports = function (e, t) {
            return n.call(e, t)
        }
    },
    function (e, t, n) {
        var i = n(78),
            o = n(75);
        e.exports = function (e) {
            return i(o(e))
        }
    },
    function (e, t, n) {
        var i = n(75);
        e.exports = function (e) {
            return Object(i(e))
        }
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(18),
            r = i(o),
            a = n(2),
            s = i(a),
            l = n(0),
            u = i(l),
            c = n(1),
            d = i(c),
            h = n(4),
            p = i(h),
            f = n(3),
            g = i(f),
            m = n(67),
            y = i(m),
            v = n(39),
            _ = n(156),
            b = n(52),
            E = i(b),
            k = n(10),
            w = i(k),
            S = n(15),
            T = i(S),
            x = n(62),
            A = i(x),
            D = n(147),
            L = i(D),
            C = n(23),
            M = function (e) {
                function t(e) {
                    (0, u.default)(this, t);
                    var n = (0, p.default)(this, (t.__proto__ || (0, s.default)(t)).call(this));
                    return n._id = "base", n.state = y.default.NOT_START, n._global = e, n
                }
                return (0, g.default)(t, e), (0, d.default)(t, [{
                    key: "start",
                    value: function () {}
                }, {
                    key: "restart",
                    value: function () {
                        this._global.service[this.id] = {}, this.state = y.default.NOT_START
                    }
                }, {
                    key: "stop",
                    value: function () {}
                }, {
                    key: "onNetStatus",
                    value: function (e) {}
                }, {
                    key: "loadData",
                    value: function () {
                        var e = this,
                            t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "jsonp",
                            n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 5e3,
                            i = {
                                url: this.getServiceUrl(),
                                data: this.getServiceParam(),
                                time: n,
                                success: function (t) {
                                    t.data || e.onComplete(t), L.default.check(t, function (t, n) {
                                        t ? e.onComplete(n) : e.loadData("jsonp", 2e4, n._sufeiToke)
                                    }), window.define = window._define
                                }, fail: function (t) {
                                    e.dispatchError(t)
                                }
                            };
                        "jsonp" === t ? (0, v.JSONP)(i) : (0, _.FetchLoader)(i)
                    }
                }, {
                    key: "loadFetchData",
                    value: function () {
                        var e = this;
                        (0, _.FetchLoader)({
                            url: this.getServiceUrl(),
                            data: this.getServiceParam(),
                            success: function (t) {
                                e.onComplete(t)
                            }, fail: function (t) {
                                e.dispatchError(t)
                            }
                        })
                    }
                }, {
                    key: "loadMtopData",
                    value: function (e, t) {
                        var n = this,
                            i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 5e3;
                        A.default.config.prefix = this._global.initConfig.env || C.MTOP_ENV, A.default.config.subDomain = "", A.default.config.mainDomain = "youku.com";
                        var o = this.getServiceMtopParam(),
                            a = {
                                api: e,
                                v: "1.1",
                                data: (0, r.default)(o),
                                appKey: "24679788",
                                ecode: 0,
                                timeout: i
                            };
                        if (t)
                            for (var s in t) a[s] = t[s];
                        a.AntiFlood = !0, a.AntiCreep = !0;
                        var l = A.default.request(a),
                            u = {
                                code: "404",
                                message: "fail",
                                url: e
                            };
                        l.then(function (e) {
                            0 === e.retType ? n.onComplete(e.data) : (u.message = e.ret.join("|"), u.url = e.api + "#" + e.v, n.dispatchError(u))
                        }, function (e) {
                            u.message = e.ret.join("|"), u.url = e.api + "#" + e.v, n.dispatchError(u)
                        }).catch(function (e) {
                            console.log("promise error:", e)
                        })
                    }
                }, {
                    key: "getServiceUrl",
                    value: function () {
                        return null
                    }
                }, {
                    key: "getServiceParam",
                    value: function () {
                        return {}
                    }
                }, {
                    key: "getServiceMtopParam",
                    value: function () {
                        return {}
                    }
                }, {
                    key: "dispatchStart",
                    value: function () {
                        this.state = y.default.START, this.emit({
                            code: w.default.SERVICE_EXECUTE_START,
                            level: T.default.STATUS,
                            data: {
                                id: this._id,
                                desc: "Get " + this._id + "  service data start!"
                            }
                        })
                    }
                }, {
                    key: "dispatchError",
                    value: function (e) {
                        this.state = y.default.ERROR;
                        var t = e || {};
                        t.id = this._id, t.desc = t.message ? "Get " + this._id + "  service data " + t.message + "!" : "", this.emit({
                            code: w.default.SERVICE_EXECUTE_FAILED,
                            level: T.default.ERROR,
                            data: t
                        })
                    }
                }, {
                    key: "onComplete",
                    value: function (e) {}
                }, {
                    key: "dispatchWarning",
                    value: function (e) {
                        this.emit({
                            code: w.default.SERVICE_EXECUTE_WAINING,
                            level: T.default.WARNING,
                            data: {
                                id: this._id,
                                data: e
                            }
                        })
                    }
                }, {
                    key: "dispatchComplete",
                    value: function () {
                        this.state = y.default.COMPLETE, this.emit({
                            code: w.default.SERVICE_EXECUTE_COMPLETE,
                            level: T.default.STATUS,
                            data: {
                                id: this._id
                            }
                        })
                    }
                }, {
                    key: "dispatchDone",
                    value: function (e) {
                        this.emit({
                            code: w.default.SERVICE_IS_DONE,
                            level: T.default.STATUS,
                            data: {
                                id: this._id,
                                serviceState: e
                            }
                        })
                    }
                }, {
                    key: "dispatchDataError",
                    value: function (e) {
                        var t = e || {};
                        t.id = this._id, t.desc = t.message ? this._id + "  service return data " + t.message + "!" : "", this.emit({
                            code: w.default.SERVICE_DATA_ERROR,
                            level: T.default.WARNING,
                            data: t
                        })
                    }
                }, {
                    key: "dispatchDataSuccess",
                    value: function () {
                        this.emit({
                            code: w.default.SERVICE_DATA_SUCCESS,
                            level: T.default.STATUS,
                            data: {
                                id: this._id,
                                desc: this._id + " service return data success!"
                            }
                        })
                    }
                }, {
                    key: "id",
                    get: function () {
                        return this._id
                    }, set: function (e) {
                        this._id = e, this._global && !this._global.service[this.id] && (this._global.service[this.id] = {})
                    }
                }, {
                    key: "state",
                    get: function () {
                        return this._state
                    }, set: function (e) {
                        this._state !== e && (this._state = e, this._global && this._global.service[this.id] && (this._global.service[this.id].state = this._state))
                    }
                }]), t
            }(E.default);
        t.default = M
    },
    function (e, t, n) {
        e.exports = {
            default: n(242),
            __esModule: !0
        }
    },
    function (e, t, n) {
        e.exports = {
            default: n(250),
            __esModule: !0
        }
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        t.__esModule = !0;
        var o = n(236),
            r = i(o),
            a = n(235),
            s = i(a),
            l = "function" == typeof s.default && "symbol" == typeof r.default ? function (e) {
                return typeof e
            } : function (e) {
                return e && "function" == typeof s.default && e.constructor === s.default && e !== s.default.prototype ? "symbol" : typeof e
            };
        t.default = "function" == typeof s.default && "symbol" === l(r.default) ? function (e) {
            return void 0 === e ? "undefined" : l(e)
        } : function (e) {
            return e && "function" == typeof s.default && e.constructor === s.default && e !== s.default.prototype ? "symbol" : void 0 === e ? "undefined" : l(e)
        }
    },
    function (e, t, n) {
        "use strict";

        function i(e, t) {
            e.timer && clearTimeout(e.timer), e.clearAttributes ? e.clearAttributes() : e.onload = e.onbort = e.onreadystatechange = e.onerror = null, delete window["youkuPlayer" + t]
        }

        function o(e, t) {
            var n = [];
            for (var i in e) n.push(encodeURIComponent(i) + "=" + encodeURIComponent(e[i]));
            if (!t) {
                var o = Math.random();
                o = o.toString().replace(".", ""), n.push("_t=" + o)
            }
            return n.join("&")
        }

        function r() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            if (e.url) {
                var t = e.callback || "callback",
                    n = e.data || {},
                    r = parseInt(e.time) || 5e3,
                    a = (new Date).getTime() + Math.round(100 * Math.random()),
                    s = "_call_" + a;
                n[t] = "youkuPlayer" + s;
                var l = o(n),
                    u = e.url;
                u += (-1 === u.indexOf("?") ? "?" : "&") + l;
                var c = document.createElement("script");
                window["youkuPlayer" + s] = function (t) {
                    "timeout" !== c.jsonp && (c.jsonp = "success", i(c, s), e.success && e.success(t))
                }, r && (c.timer = setTimeout(function () {
                    c.jsonp = "timeout", i(c, s), e.fail && e.fail({
                        code: "408",
                        message: "timeout",
                        url: c.src
                    })
                }, r)), c.onreadystatechange = c.onload = function () {
                    this.readyState && "loaded" !== this.readyState && "complete" !== this.readyState || ("timeout" !== c.jsonp && "success" !== c.jsonp && e.fail && e.fail({
                        code: "404",
                        message: "fail",
                        url: c.src
                    }), i(c, s))
                }, c.onerror = function () {
                    c.jsonp = "error", i(c, s), e.fail && e.fail({
                        code: "404",
                        message: "error",
                        url: c.src
                    })
                }, c.src = u, document.getElementsByTagName("head")[0].appendChild(c)
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.formatParams = o, t.JSONP = r
    },
    function (e, t, n) {
        e.exports = {
            default: n(244),
            __esModule: !0
        }
    },
    function (e, t) {
        e.exports = function (e) {
            if ("function" != typeof e) throw TypeError(e + " is not a function!");
            return e
        }
    },
    function (e, t) {
        var n = {}.toString;
        e.exports = function (e) {
            return n.call(e).slice(8, -1)
        }
    },
    function (e, t, n) {
        var i = n(27),
            o = n(112),
            r = n(110),
            a = n(25),
            s = n(57),
            l = n(92),
            u = {},
            c = {},
            t = e.exports = function (e, t, n, d, h) {
                var p, f, g, m, y = h ? function () {
                        return e
                    } : l(e),
                    v = i(n, d, t ? 2 : 1),
                    _ = 0;
                if ("function" != typeof y) throw TypeError(e + " is not iterable!");
                if (r(y)) {
                    for (p = s(e.length); p > _; _++)
                        if ((m = t ? v(a(f = e[_])[0], f[1]) : v(e[_])) === u || m === c) return m
                } else
                    for (g = y.call(e); !(f = g.next()).done;)
                        if ((m = o(g, v, f.value, t)) === u || m === c) return m
            };
        t.BREAK = u, t.RETURN = c
    },
    function (e, t) {
        e.exports = {}
    },
    function (e, t) {
        e.exports = !0
    },
    function (e, t, n) {
        var i = n(117),
            o = n(77);
        e.exports = Object.keys || function (e) {
            return i(e, o)
        }
    },
    function (e, t) {
        e.exports = function (e, t) {
            return {
                enumerable: !(1 & e),
                configurable: !(2 & e),
                writable: !(4 & e),
                value: t
            }
        }
    },
    function (e, t, n) {
        var i = n(22).f,
            o = n(32),
            r = n(16)("toStringTag");
        e.exports = function (e, t, n) {
            e && !o(e = n ? e : e.prototype, r) && i(e, r, {
                configurable: !0,
                value: t
            })
        }
    },
    function (e, t, n) {
        "use strict";
        var i = n(275)(!0);
        n(79)(String, "String", function (e) {
            this._t = String(e), this._i = 0
        }, function () {
            var e, t = this._t,
                n = this._i;
            return n >= t.length ? {
                value: void 0,
                done: !0
            } : (e = i(t, n), this._i += e.length, {
                value: e,
                done: !1
            })
        })
    },
    function (e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = n(38),
            o = function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }(i),
            r = {
                guoyu: {
                    num: 1,
                    name: "国语",
                    alias: "普通话"
                },
                yue: {
                    num: 2,
                    name: "粤语"
                },
                chuan: {
                    num: 3,
                    name: "川话"
                },
                tai: {
                    num: 4,
                    name: "台湾"
                },
                min: {
                    num: 5,
                    name: "闽南"
                },
                en: {
                    num: 6,
                    name: "英语"
                },
                ja: {
                    num: 7,
                    name: "日语"
                },
                kr: {
                    num: 8,
                    name: "韩语"
                },
                in : {
                    num: 9,
                    name: "印度"
                },
                fr: {
                    num: 11,
                    name: "法语"
                },
                de: {
                    num: 12,
                    name: "德语"
                },
                it: {
                    num: 13,
                    name: "意语"
                },
                es: {
                    num: 14,
                    name: "西语"
                },
                th: {
                    num: 16,
                    name: "泰语"
                },
                baby: {
                    num: 17,
                    name: "萌童"
                },
                man: {
                    num: 18,
                    name: "暖男"
                },
                tspl: {
                    num: 19,
                    name: "同声评论"
                },
                dir: {
                    num: 20,
                    name: "导演评述"
                },
                dbh: {
                    num: 21,
                    name: "东北话"
                },
                bo: {
                    num: 22,
                    name: "藏语"
                },
                ug: {
                    num: 23,
                    name: "维语"
                },
                ar: {
                    num: 24,
                    name: "阿拉伯语"
                },
                uk: {
                    num: 25,
                    name: "乌克兰语"
                },
                pt: {
                    num: 26,
                    name: "葡萄牙语"
                }
            },
            a = {
                langCodeToCN: function (e) {
                    var t = "default";
                    return r[e] && (t = r[e].name), t
                }, langCnToLangid: function (e) {
                    var t = 0;
                    return r[e] && (t = r[e].num), t
                }, langToCode: function (e) {
                    if (!e || void 0 === (void 0 === e ? "undefined" : (0, o.default)(e))) return null;
                    if (!/^[\u4e00-\u9fa5]+$/.test(e)) return e;
                    for (var t in r)
                        if (r[t].name === e || r[t].alias === e) return t;
                    return "default"
                }
            };
        t.default = a
    },
    function (e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = {
            INIT: "player.init",
            RELOADING: "serviceLoading",
            RESETING: "playerreset",
            READY: "ready",
            PAUSE: "paused",
            PLAY: "playing",
            WAITIING: "waiting",
            SEEKING: "seeking",
            END: "ended",
            ERROR: "error",
            ADPLAY: "adplay",
            ADPAUSE: "adpause",
            CUTADPLAY: "cutadplay",
            REPLAY: "replay",
            ADEND: "adended"
        };
        t.default = i
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(0),
            r = i(o),
            a = n(1),
            s = i(a),
            l = n(15),
            u = i(l),
            c = n(60),
            d = i(c),
            h = function () {
                function e() {
                    (0, r.default)(this, e), this._emitter = new d.default.EventEmitter
                }
                return (0, s.default)(e, [{
                    key: "on",
                    value: function (e, t) {
                        this._emitter.addListener(e, t)
                    }
                }, {
                    key: "off",
                    value: function (e, t) {
                        this._emitter.removeListener(e, t)
                    }
                }, {
                    key: "emit",
                    value: function (e) {
                        this._emitter.emit(u.default.NET_STATUS, e)
                    }
                }, {
                    key: "destroy",
                    value: function () {
                        this._emitter.removeAllListeners(), this._emitter = null
                    }
                }]), e
            }();
        t.default = h
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(18),
            r = i(o),
            a = n(62),
            s = i(a),
            l = n(23),
            u = {
                loadMtopData: function (e, t, n, i, o) {
                    if (s.default.config.prefix = l.MTOP_ENV, s.default.config.subDomain = "", s.default.config.mainDomain = "youku.com", o)
                        for (var a in o) s.default.config[a] = o[a];
                    var u = {
                            api: e,
                            v: "1.0",
                            appKey: l.APPKEY,
                            ecode: 0,
                            data: (0, r.default)(t)
                        },
                        c = s.default.request(u);
                    return c.then(function (e) {
                        n && n(e)
                    }, function (e) {
                        i && i(e)
                    }), c
                }
            };
        t.default = u
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(38),
            r = i(o),
            a = n(2),
            s = i(a),
            l = n(0),
            u = i(l),
            c = n(1),
            d = i(c),
            h = n(4),
            p = i(h),
            f = n(3),
            g = i(f),
            m = n(5),
            y = n(9),
            v = i(y),
            _ = n(68),
            b = n(6),
            E = function (e) {
                function t(e) {
                    (0, u.default)(this, t);
                    var n = (0, p.default)(this, (t.__proto__ || (0, s.default)(t)).call(this, e));
                    return n.data = (0, b.getLocalData)(_.LSKEY, _.defaultSettings), n.bindDashboardEvents(), n.setDataUI(n.data), n
                }
                return (0, g.default)(t, e), (0, d.default)(t, [{
                    key: "bindDashboardEvents",
                    value: function () {
                        var e = this;
                        this.bind("mouseenter", function () {
                            v.default.hasClass(e._el, "disabled") || e.showDashBoard()
                        }), this.bind("mouseleave", function () {
                            e._el.className.indexOf("dashboard-show") > 0 && v.default.removeClass(e._el, "dashboard-show")
                        })
                    }
                }, {
                    key: "showDashBoard",
                    value: function () {
                        v.default.addClass(this._el, "dashboard-show")
                    }
                }, {
                    key: "setDataUI",
                    value: function (e) {
                        var t = this;
                        this.setSkip(e.skip), this.setContinuousPlay(e.continuePlay), this.setVolume(), this.bind(".js-skip", "click", function () {
                            var e = v.default.hasClass(t.find(".js-skip"), "active");
                            t.setSkip(!e)
                        }), this.bind(".js-loop", "click", function () {
                            var e = v.default.hasClass(t.find(".js-loop"), "active");
                            t.setLoop(!e)
                        }), this.bind(".js-continue-play", "click", function () {
                            var e = v.default.hasClass(t.find(".js-continue-play"), "active");
                            t.setContinuousPlay(!e)
                        }), this.on("volumechange", function (e, n) {
                            var i = n.volume;
                            if (n.muted || 0 === i) return t.data.muted = !0, void(0, b.setLocalData)(_.LSKEY, t.data);
                            i > 0 && (t.data.volume = i, t.data.muted = !1), (0, b.setLocalData)(_.LSKEY, t.data)
                        })
                    }
                }, {
                    key: "setSkip",
                    value: function (e) {
                        "false" === String(e) ? v.default.removeClass(this.find(".js-skip"), "active") : v.default.addClass(this.find(".js-skip"), "active"), this.data.skip = "false" !== String(e);
                        var t = {
                            skip: this.data.skip
                        };
                        this.setConfig(t), this.setLoacalData(t)
                    }
                }, {
                    key: "setLoop",
                    value: function (e) {
                        "false" === String(e) ? v.default.removeClass(this.find(".js-loop"), "active") : v.default.addClass(this.find(".js-loop"), "active"), this.data.loop = "false" !== String(e);
                        var t = {
                            loop: this.data.loop
                        };
                        this.setConfig(t)
                    }
                }, {
                    key: "setContinuousPlay",
                    value: function (e) {
                        "false" === String(e) ? v.default.removeClass(this.find(".js-continue-play"), "active") : v.default.addClass(this.find(".js-continue-play"), "active"), this.data.continuePlay = "false" !== String(e);
                        var t = {
                            continuePlay: this.data.continuePlay
                        };
                        this.setConfig(t), this.setLoacalData(t)
                    }
                }, {
                    key: "setVolume",
                    value: function () {
                        var e = !1;
                        if (void 0 === (0, r.default)(this.data.muted) ? this.data.muted = !1 : !0 === this.data.muted && (e = !0, this._video.setMuted(!0)), this.data.volume) {
                            var t = Number(this.data.volume),
                                n = this._video.getVolume();
                            if (Math.abs(n - t) > .1 && !e) this._video.setVolume(this.data.volume);
                            else if (e) {
                                var i = this.getComponent("volume");
                                i.setCurrentVolume(t)
                            }
                        } else this.data.volume = this._video.getVolume()
                    }
                }, {
                    key: "setLoacalData",
                    value: function (e) {
                        var t = (0, b.getLocalData)(_.LSKEY) || {};
                        for (var n in e) e[n] !== t[n] && (t[n] = e[n]);
                        (0, b.setLocalData)(_.LSKEY, t)
                    }
                }, {
                    key: "setSessionalData",
                    value: function (e) {
                        var t = (0, b.getSessionData)("rate") || {};
                        e.rate !== t.rate && (t.rate = e.rate), (0, b.setSessionData)("rate", t)
                    }
                }, {
                    key: "setConfig",
                    value: function (e) {
                        var t = this._video.global.config,
                            n = {};
                        for (var i in e) t[i] !== e[i] && (n[i] = e[i]);
                        this._video.global.config = n
                    }
                }, {
                    key: "render",
                    value: function () {
                    }
                }]), t
            }(m.Component);
        t.default = E
    },
    function (e, t, n) {
        var i = n(25),
            o = n(270),
            r = n(77),
            a = n(86)("IE_PROTO"),
            s = function () {},
            l = function () {
                var e, t = n(76)("iframe"),
                    i = r.length;
                for (t.style.display = "none", n(108).appendChild(t), t.src = "javascript:", e = t.contentWindow.document, e.open(), e.write("<script>document.F=Object<\/script>"), e.close(), l = e.F; i--;) delete l.prototype[r[i]];
                return l()
            };
        e.exports = Object.create || function (e, t) {
            var n;
            return null !== e ? (s.prototype = i(e), n = new s, s.prototype = null, n[a] = e) : n = l(), void 0 === t ? n : o(n, t)
        }
    },
    function (e, t) {
        t.f = {}.propertyIsEnumerable
    },
    function (e, t, n) {
        var i = n(88),
            o = Math.min;
        e.exports = function (e) {
            return e > 0 ? o(i(e), 9007199254740991) : 0
        }
    },
    function (e, t) {
        var n = 0,
            i = Math.random();
        e.exports = function (e) {
            return "Symbol(".concat(void 0 === e ? "" : e, ")_", (++n + i).toString(36))
        }
    },
    function (e, t, n) {
        n(280);
        for (var i = n(14), o = n(28), r = n(44), a = n(16)("toStringTag"), s = "CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","), l = 0; l < s.length; l++) {
            var u = s[l],
                c = i[u],
                d = c && c.prototype;
            d && !d[a] && o(d, a, u), r[u] = r.Array
        }
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            console && console.warn && console.warn(e)
        }

        function o() {
            o.init.call(this)
        }

        function r(e) {
            if ("function" != typeof e) throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof e)
        }

        function a(e) {
            return void 0 === e._maxListeners ? o.defaultMaxListeners : e._maxListeners
        }

        function s(e, t, n, o) {
            var s, l, u;
            if (r(n), l = e._events, void 0 === l ? (l = e._events = Object.create(null), e._eventsCount = 0) : (void 0 !== l.newListener && (e.emit("newListener", t, n.listener ? n.listener : n), l = e._events), u = l[t]), void 0 === u) u = l[t] = n, ++e._eventsCount;
            else if ("function" == typeof u ? u = l[t] = o ? [n, u] : [u, n] : o ? u.unshift(n) : u.push(n), (s = a(e)) > 0 && u.length > s && !u.warned) {
                u.warned = !0;
                var c = new Error("Possible EventEmitter memory leak detected. " + u.length + " " + String(t) + " listeners added. Use emitter.setMaxListeners() to increase limit");
                c.name = "MaxListenersExceededWarning", c.emitter = e, c.type = t, c.count = u.length, i(c)
            }
            return e
        }

        function l() {
            if (!this.fired) return this.target.removeListener(this.type, this.wrapFn), this.fired = !0, 0 === arguments.length ? this.listener.call(this.target) : this.listener.apply(this.target, arguments)
        }

        function u(e, t, n) {
            var i = {
                    fired: !1,
                    wrapFn: void 0,
                    target: e,
                    type: t,
                    listener: n
                },
                o = l.bind(i);
            return o.listener = n, i.wrapFn = o, o
        }

        function c(e, t, n) {
            var i = e._events;
            if (void 0 === i) return [];
            var o = i[t];
            return void 0 === o ? [] : "function" == typeof o ? n ? [o.listener || o] : [o] : n ? f(o) : h(o, o.length)
        }

        function d(e) {
            var t = this._events;
            if (void 0 !== t) {
                var n = t[e];
                if ("function" == typeof n) return 1;
                if (void 0 !== n) return n.length
            }
            return 0
        }

        function h(e, t) {
            for (var n = new Array(t), i = 0; i < t; ++i) n[i] = e[i];
            return n
        }

        function p(e, t) {
            for (; t + 1 < e.length; t++) e[t] = e[t + 1];
            e.pop()
        }

        function f(e) {
            for (var t = new Array(e.length), n = 0; n < t.length; ++n) t[n] = e[n].listener || e[n];
            return t
        }
        var g, m = "object" == typeof Reflect ? Reflect : null,
            y = m && "function" == typeof m.apply ? m.apply : function (e, t, n) {
                return Function.prototype.apply.call(e, t, n)
            };
        g = m && "function" == typeof m.ownKeys ? m.ownKeys : Object.getOwnPropertySymbols ? function (e) {
            return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))
        } : function (e) {
            return Object.getOwnPropertyNames(e)
        };
        var v = Number.isNaN || function (e) {
            return e !== e
        };
        e.exports = o, o.EventEmitter = o, o.prototype._events = void 0, o.prototype._eventsCount = 0, o.prototype._maxListeners = void 0;
        var _ = 10;
        Object.defineProperty(o, "defaultMaxListeners", {
            enumerable: !0,
            get: function () {
                return _
            }, set: function (e) {
                if ("number" != typeof e || e < 0 || v(e)) throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + e + ".");
                _ = e
            }
        }), o.init = function () {
            void 0 !== this._events && this._events !== Object.getPrototypeOf(this)._events || (this._events = Object.create(null), this._eventsCount = 0), this._maxListeners = this._maxListeners || void 0
        }, o.prototype.setMaxListeners = function (e) {
            if ("number" != typeof e || e < 0 || v(e)) throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + e + ".");
            return this._maxListeners = e, this
        }, o.prototype.getMaxListeners = function () {
            return a(this)
        }, o.prototype.emit = function (e) {
            for (var t = [], n = 1; n < arguments.length; n++) t.push(arguments[n]);
            var i = "error" === e,
                o = this._events;
            if (void 0 !== o) i = i && void 0 === o.error;
            else if (!i) return !1;
            if (i) {
                var r;
                if (t.length > 0 && (r = t[0]), r instanceof Error) throw r;
                var a = new Error("Unhandled error." + (r ? " (" + r.message + ")" : ""));
                throw a.context = r, a
            }
            var s = o[e];
            if (void 0 === s) return !1;
            if ("function" == typeof s) y(s, this, t);
            else
                for (var l = s.length, u = h(s, l), n = 0; n < l; ++n) y(u[n], this, t);
            return !0
        }, o.prototype.addListener = function (e, t) {
            return s(this, e, t, !1)
        }, o.prototype.on = o.prototype.addListener, o.prototype.prependListener = function (e, t) {
            return s(this, e, t, !0)
        }, o.prototype.once = function (e, t) {
            return r(t), this.on(e, u(this, e, t)), this
        }, o.prototype.prependOnceListener = function (e, t) {
            return r(t), this.prependListener(e, u(this, e, t)), this
        }, o.prototype.removeListener = function (e, t) {
            var n, i, o, a, s;
            if (r(t), void 0 === (i = this._events)) return this;
            if (void 0 === (n = i[e])) return this;
            if (n === t || n.listener === t) 0 == --this._eventsCount ? this._events = Object.create(null) : (delete i[e], i.removeListener && this.emit("removeListener", e, n.listener || t));
            else if ("function" != typeof n) {
                for (o = -1, a = n.length - 1; a >= 0; a--)
                    if (n[a] === t || n[a].listener === t) {
                        s = n[a].listener, o = a;
                        break
                    }
                if (o < 0) return this;
                0 === o ? n.shift() : p(n, o), 1 === n.length && (i[e] = n[0]), void 0 !== i.removeListener && this.emit("removeListener", e, s || t)
            }
            return this
        }, o.prototype.off = o.prototype.removeListener, o.prototype.removeAllListeners = function (e) {
            var t, n, i;
            if (void 0 === (n = this._events)) return this;
            if (void 0 === n.removeListener) return 0 === arguments.length ? (this._events = Object.create(null), this._eventsCount = 0) : void 0 !== n[e] && (0 == --this._eventsCount ? this._events = Object.create(null) : delete n[e]), this;
            if (0 === arguments.length) {
                var o, r = Object.keys(n);
                for (i = 0; i < r.length; ++i) "removeListener" !== (o = r[i]) && this.removeAllListeners(o);
                return this.removeAllListeners("removeListener"), this._events = Object.create(null), this._eventsCount = 0, this
            }
            if ("function" == typeof (t = n[e])) this.removeListener(e, t);
            else if (void 0 !== t)
                for (i = t.length - 1; i >= 0; i--) this.removeListener(e, t[i]);
            return this
        }, o.prototype.listeners = function (e) {
            return c(this, e, !0)
        }, o.prototype.rawListeners = function (e) {
            return c(this, e, !1)
        }, o.listenerCount = function (e, t) {
            return "function" == typeof e.listenerCount ? e.listenerCount(t) : d.call(e, t)
        }, o.prototype.listenerCount = d, o.prototype.eventNames = function () {
            return this._eventsCount > 0 ? g(this._events) : []
        }
    },
    function (e, t, n) {
        "use strict";

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function o() {
            return "undefined" != typeof window && "undefined" != typeof document && !r()
        }

        function r() {
            return "undefined" != typeof my
        }

        function a() {
            return c && c.app && "alipay" === c.app
        }

        function s() {
            return o() && window.WebSocket || r() && my.connectSocket
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var l = function () {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var i = t[n];
                    i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
                }
            }
            return function (t, n, i) {
                return n && e(t.prototype, n), i && e(t, i), t
            }
        }();
        t.checkIsBrowser = o, t.checkIsAliMiniAPP = r, t.checkIsAlipayMiniAPP = a, t.checkIsSupportWS = s;
        var u = void 0,
            c = {};
        try {
            r() && (c = my.getSystemInfoSync && my.getSystemInfoSync() || {})
        } catch (e) {
            c = {}
        }
        t.WebSocket = function () {
            var e = void 0;
            if (o() && window.WebSocket && (e = window.WebSocket), r() && my.connectSocket && (e = function () {
                function e(t) {
                    var n = this;
                    i(this, e), my.connectSocket({
                        url: t,
                        success: function () {}, fail: function (e) {
                            n._onError(e)
                        }
                    }), this.readyState = 0, my.onSocketOpen(function (e) {
                        n.onopen(e), n.readyState = 1
                    }), my.onSocketClose(function (e) {
                        n.onclose(e), n.readyState = 3
                    }), my.onSocketError(function (e) {
                        n._onError(e)
                    }), my.onSocketMessage(function (e) {
                        a() ? n.onmessage(e) : n.onmessage(e.data)
                    })
                }
                return l(e, [{
                    key: "_onError",
                    value: function (e) {
                        this.onerror(e)
                    }
                }, {
                    key: "close",
                    value: function () {
                        this.readyState = 2, my.closeSocket()
                    }
                }, {
                    key: "send",
                    value: function (e) {
                        my.sendSocketMessage({
                            data: e,
                            fail: function (e) {
                                throw e
                            }
                        })
                    }
                }]), e
            }()), !e) throw "Not find WebSocket API!";
            return e
        }(), t.sessionStorage = function () {
            return o() ? window.sessionStorage : (u = u || {}, {
                setItem: function (e, t) {
                    u[e] = t
                }, getItem: function (e) {
                    return u[e]
                }
            })
        }()
    },
    function (e, t) {
        "undefined" == typeof window && (window = {
                ctrl: {},
                lib: {}
            }), !window.ctrl && (window.ctrl = {}), !window.lib && (window.lib = {}),
            function (e, t) {
                function n() {
                    var e = {},
                        t = new f(function (t, n) {
                            e.resolve = t, e.reject = n
                        });
                    return e.promise = t, e
                }

                function i(e, t) {
                    for (var n in t) void 0 === e[n] && (e[n] = t[n]);
                    return e
                }

                function o(e) {
                    (document.getElementsByTagName("head")[0] || document.getElementsByTagName("body")[0] || document.firstElementChild || document).appendChild(e)
                }

                function r(e) {
                    var t = [];
                    for (var n in e) e[n] && t.push(n + "=" + encodeURIComponent(e[n]));
                    return t.join("&")
                }

                function a(e) {
                    try {
                        return ".com" !== e.substring(e.lastIndexOf(".")) ? (e.split(".") || []).length <= 3 ? e : e.split(".").slice(1).join(".") : e.substring(e.lastIndexOf(".", e.lastIndexOf(".") - 1) + 1)
                    } catch (t) {
                        return e.substring(e.lastIndexOf(".", e.lastIndexOf(".") - 1) + 1)
                    }
                }

                function s(e) {
                    function t(e, t) {
                        return e << t | e >>> 32 - t
                    }

                    function n(e, t) {
                        var n, i, o, r, a;
                        return o = 2147483648 & e, r = 2147483648 & t, n = 1073741824 & e, i = 1073741824 & t, a = (1073741823 & e) + (1073741823 & t), n & i ? 2147483648 ^ a ^ o ^ r : n | i ? 1073741824 & a ? 3221225472 ^ a ^ o ^ r : 1073741824 ^ a ^ o ^ r : a ^ o ^ r
                    }

                    function i(e, t, n) {
                        return e & t | ~e & n
                    }

                    function o(e, t, n) {
                        return e & n | t & ~n
                    }

                    function r(e, t, n) {
                        return e ^ t ^ n
                    }

                    function a(e, t, n) {
                        return t ^ (e | ~n)
                    }

                    function s(e, o, r, a, s, l, u) {
                        return e = n(e, n(n(i(o, r, a), s), u)), n(t(e, l), o)
                    }

                    function l(e, i, r, a, s, l, u) {
                        return e = n(e, n(n(o(i, r, a), s), u)), n(t(e, l), i)
                    }

                    function u(e, i, o, a, s, l, u) {
                        return e = n(e, n(n(r(i, o, a), s), u)), n(t(e, l), i)
                    }

                    function c(e, i, o, r, s, l, u) {
                        return e = n(e, n(n(a(i, o, r), s), u)), n(t(e, l), i)
                    }

                    function d(e) {
                        var t, n, i = "",
                            o = "";
                        for (n = 0; 3 >= n; n++) t = e >>> 8 * n & 255, o = "0" + t.toString(16), i += o.substr(o.length - 2, 2);
                        return i
                    }
                    var h, p, f, g, m, y, v, _, b, E = [];
                    for (e = function (e) {
                        e = e.replace(/\r\n/g, "\n");
                        for (var t = "", n = 0; n < e.length; n++) {
                            var i = e.charCodeAt(n);
                            128 > i ? t += String.fromCharCode(i) : i > 127 && 2048 > i ? (t += String.fromCharCode(i >> 6 | 192), t += String.fromCharCode(63 & i | 128)) : (t += String.fromCharCode(i >> 12 | 224), t += String.fromCharCode(i >> 6 & 63 | 128), t += String.fromCharCode(63 & i | 128))
                        }
                        return t
                    }(e), E = function (e) {
                        for (var t, n = e.length, i = n + 8, o = (i - i % 64) / 64, r = 16 * (o + 1), a = new Array(r - 1), s = 0, l = 0; n > l;) t = (l - l % 4) / 4, s = l % 4 * 8, a[t] = a[t] | e.charCodeAt(l) << s, l++;
                        return t = (l - l % 4) / 4, s = l % 4 * 8, a[t] = a[t] | 128 << s, a[r - 2] = n << 3, a[r - 1] = n >>> 29, a
                    }(e), y = 1732584193, v = 4023233417, _ = 2562383102, b = 271733878, h = 0; h < E.length; h += 16) p = y, f = v, g = _, m = b, y = s(y, v, _, b, E[h + 0], 7, 3614090360), b = s(b, y, v, _, E[h + 1], 12, 3905402710), _ = s(_, b, y, v, E[h + 2], 17, 606105819), v = s(v, _, b, y, E[h + 3], 22, 3250441966), y = s(y, v, _, b, E[h + 4], 7, 4118548399), b = s(b, y, v, _, E[h + 5], 12, 1200080426), _ = s(_, b, y, v, E[h + 6], 17, 2821735955), v = s(v, _, b, y, E[h + 7], 22, 4249261313), y = s(y, v, _, b, E[h + 8], 7, 1770035416), b = s(b, y, v, _, E[h + 9], 12, 2336552879), _ = s(_, b, y, v, E[h + 10], 17, 4294925233), v = s(v, _, b, y, E[h + 11], 22, 2304563134), y = s(y, v, _, b, E[h + 12], 7, 1804603682), b = s(b, y, v, _, E[h + 13], 12, 4254626195), _ = s(_, b, y, v, E[h + 14], 17, 2792965006), v = s(v, _, b, y, E[h + 15], 22, 1236535329), y = l(y, v, _, b, E[h + 1], 5, 4129170786), b = l(b, y, v, _, E[h + 6], 9, 3225465664), _ = l(_, b, y, v, E[h + 11], 14, 643717713), v = l(v, _, b, y, E[h + 0], 20, 3921069994), y = l(y, v, _, b, E[h + 5], 5, 3593408605), b = l(b, y, v, _, E[h + 10], 9, 38016083), _ = l(_, b, y, v, E[h + 15], 14, 3634488961), v = l(v, _, b, y, E[h + 4], 20, 3889429448), y = l(y, v, _, b, E[h + 9], 5, 568446438), b = l(b, y, v, _, E[h + 14], 9, 3275163606), _ = l(_, b, y, v, E[h + 3], 14, 4107603335), v = l(v, _, b, y, E[h + 8], 20, 1163531501), y = l(y, v, _, b, E[h + 13], 5, 2850285829), b = l(b, y, v, _, E[h + 2], 9, 4243563512), _ = l(_, b, y, v, E[h + 7], 14, 1735328473), v = l(v, _, b, y, E[h + 12], 20, 2368359562), y = u(y, v, _, b, E[h + 5], 4, 4294588738), b = u(b, y, v, _, E[h + 8], 11, 2272392833), _ = u(_, b, y, v, E[h + 11], 16, 1839030562), v = u(v, _, b, y, E[h + 14], 23, 4259657740), y = u(y, v, _, b, E[h + 1], 4, 2763975236), b = u(b, y, v, _, E[h + 4], 11, 1272893353), _ = u(_, b, y, v, E[h + 7], 16, 4139469664), v = u(v, _, b, y, E[h + 10], 23, 3200236656), y = u(y, v, _, b, E[h + 13], 4, 681279174), b = u(b, y, v, _, E[h + 0], 11, 3936430074), _ = u(_, b, y, v, E[h + 3], 16, 3572445317), v = u(v, _, b, y, E[h + 6], 23, 76029189), y = u(y, v, _, b, E[h + 9], 4, 3654602809), b = u(b, y, v, _, E[h + 12], 11, 3873151461), _ = u(_, b, y, v, E[h + 15], 16, 530742520), v = u(v, _, b, y, E[h + 2], 23, 3299628645), y = c(y, v, _, b, E[h + 0], 6, 4096336452), b = c(b, y, v, _, E[h + 7], 10, 1126891415), _ = c(_, b, y, v, E[h + 14], 15, 2878612391), v = c(v, _, b, y, E[h + 5], 21, 4237533241), y = c(y, v, _, b, E[h + 12], 6, 1700485571), b = c(b, y, v, _, E[h + 3], 10, 2399980690), _ = c(_, b, y, v, E[h + 10], 15, 4293915773), v = c(v, _, b, y, E[h + 1], 21, 2240044497), y = c(y, v, _, b, E[h + 8], 6, 1873313359), b = c(b, y, v, _, E[h + 15], 10, 4264355552), _ = c(_, b, y, v, E[h + 6], 15, 2734768916), v = c(v, _, b, y, E[h + 13], 21, 1309151649), y = c(y, v, _, b, E[h + 4], 6, 4149444226), b = c(b, y, v, _, E[h + 11], 10, 3174756917), _ = c(_, b, y, v, E[h + 2], 15, 718787259), v = c(v, _, b, y, E[h + 9], 21, 3951481745), y = n(y, p), v = n(v, f), _ = n(_, g), b = n(b, m);
                    return (d(y) + d(v) + d(_) + d(b)).toLowerCase()
                }

                function l(e) {
                    return "[object Object]" == {}.toString.call(e)
                }

                function u(e, t, n) {
                    var i = n || {};
                    document.cookie = e.replace(/[^+#$&^`|]/g, encodeURIComponent).replace("(", "%28").replace(")", "%29") + "=" + t.replace(/[^+#$&\/:<-\[\]-}]/g, encodeURIComponent) + (i.domain ? ";domain=" + i.domain : "") + (i.path ? ";path=" + i.path : "") + (i.secure ? ";secure" : "") + (i.httponly ? ";HttpOnly" : "") + (i.sameSite ? ";Samesite=" + i.sameSite : "")
                }

                function c(e) {
                    var t = new RegExp("(?:^|;\\s*)" + e + "\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);
                    return t ? t[1] : void 0
                }

                function d(e, t, n) {
                    var i = new Date;
                    i.setTime(i.getTime() - 864e5);
                    document.cookie = e + "=;path=/;domain=." + t + ";expires=" + i.toGMTString(), document.cookie = e + "=;path=/;domain=." + n + "." + t + ";expires=" + i.toGMTString()
                }

                function h(e, t) {
                    for (var n = e.split("."), i = t.split("."), o = 0; 3 > o; o++) {
                        var r = Number(n[o]),
                            a = Number(i[o]);
                        if (r > a) return 1;
                        if (a > r) return -1;
                        if (!isNaN(r) && isNaN(a)) return 1;
                        if (isNaN(r) && !isNaN(a)) return -1
                    }
                    return 0
                }

                function p(e) {
                    this.id = "" + (new Date).getTime() + ++k, this.params = i(e || {}, {
                        v: "*",
                        data: {},
                        type: "get",
                        dataType: "jsonp"
                    }), this.params.type = this.params.type.toLowerCase(), "object" == typeof this.params.data && (this.params.data = JSON.stringify(this.params.data)), this.middlewares = y.slice(0)
                }
                var f = e.Promise,
                    g = (f || {
                        resolve: function () {}
                    }).resolve();
                String.prototype.trim || (String.prototype.trim = function () {
                    return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "")
                });
                var m = {
                        useJsonpResultType: !1,
                        safariGoLogin: !0,
                        useAlipayJSBridge: !1
                    },
                    y = [],
                    v = {
                        ERROR: -1,
                        SUCCESS: 0,
                        TOKEN_EXPIRED: 1,
                        SESSION_EXPIRED: 2
                    };
                (function () {
                    var t = e.location.hostname;
                    if (!t) {
                        var n = e.parent.location.hostname;
                        n && ~n.indexOf("zebra.alibaba-inc.com") && (t = n)
                    }
                    var i = ["taobao.net", "taobao.com", "tmall.com", "tmall.hk", "alibaba-inc.com"],
                        o = new RegExp("([^.]*?)\\.?((?:" + i.join(")|(?:").replace(/\./g, "\\.") + "))", "i"),
                        r = t.match(o) || [],
                        a = r[2] || "taobao.com",
                        s = r[1] || "m";
                    "taobao.net" !== a || "x" !== s && "waptest" !== s && "daily" !== s ? "taobao.net" === a && "demo" === s ? s = "demo" : "alibaba-inc.com" === a && "zebra" === s ? s = "zebra" : "waptest" !== s && "wapa" !== s && "m" !== s && (s = "m") : s = "waptest";
                    var l = "h5api";
                    "taobao.net" === a && "waptest" === s && (l = "acs"), m.mainDomain = a, m.subDomain = s, m.prefix = l
                })(),
                function () {
                    var t = e.navigator.userAgent,
                        n = t.match(/WindVane[\/\s]([\d\.\_]+)/);
                    n && (m.WindVaneVersion = n[1]);
                    var i = t.match(/AliApp\(([^\/]+)\/([\d\.\_]+)\)/i);
                    i && (m.AliAppName = i[1], m.AliAppVersion = i[2]);
                    var o = t.match(/AMapClient\/([\d\.\_]+)/i);
                    o && (m.AliAppName = "AMAP", m.AliAppVersion = o[1])
                }();
                var _ = /[Android|Adr]/.test(e.navigator.userAgent),
                    b = "AP" === m.AliAppName,
                    E = b && h(m.AliAppVersion, "10.1.2") >= 0 || "KB" === m.AliAppName && h(m.AliAppVersion, "7.1.62") >= 0 || _ && "AMAP" === m.AliAppName && h(m.AliAppVersion, "1.0.1") >= 0,
                    k = 0;
                p.prototype.use = function (e) {
                    if (!e) throw new Error("middleware is undefined");
                    return this.middlewares.push(e), this
                }, p.prototype.__processRequestMethod = function (e) {
                    var t = this.params,
                        n = this.options;
                    "get" === t.type && "jsonp" === t.dataType ? n.getJSONP = !0 : "get" === t.type && "originaljsonp" === t.dataType ? n.getOriginalJSONP = !0 : "get" === t.type && "json" === t.dataType ? n.getJSON = !0 : "post" === t.type && (n.postJSON = !0), e()
                }, p.prototype.__processRequestType = function (n) {
                    var i = this,
                        o = this.params,
                        r = this.options;
                    if (!0 === m.H5Request && (r.H5Request = !0), !0 === m.WindVaneRequest && (r.WindVaneRequest = !0), !1 === r.H5Request && !0 === r.WindVaneRequest) {
                        if (!E && (!t.windvane || parseFloat(r.WindVaneVersion) < 5.4)) throw new Error("WINDVANE_NOT_FOUND::缺少WindVane环境");
                        if (E && !e.AlipayJSBridge) throw new Error("ALIPAY_NOT_READY::支付宝通道未准备好，支付宝请见 https://lark.alipay.com/mtbsdkdocs/mtopjssdkdocs/pucq6z")
                    } else if (!0 === r.H5Request) r.WindVaneRequest = !1;
                    else if (void 0 === r.WindVaneRequest && void 0 === r.H5Request) {
                        if (t.windvane && parseFloat(r.WindVaneVersion) >= 5.4 ? r.WindVaneRequest = !0 : r.H5Request = !0, E) {
                            if (r.WindVaneRequest = r.H5Request = void 0, e.AlipayJSBridge)
                                if (l(o.data)) r.WindVaneRequest = !0;
                                else try {
                                    l(JSON.parse(o.data)) ? r.WindVaneRequest = !0 : r.H5Request = !0
                                } catch (e) {
                                    r.H5Request = !0
                                } else r.H5Request = !0;
                                "AMAP" !== m.AliAppName || o.useNebulaJSbridgeWithAMAP || (r.WindVaneRequest = r.H5Request = void 0, r.H5Request = !0)
                        }
                        window.self !== window.top && (r.H5Request = !0)
                    }
                    var a = e.navigator.userAgent.toLowerCase();
                    return a.indexOf("youku") > -1 && r.mainDomain.indexOf("youku.com") < 0 && (r.WindVaneRequest = !1, r.H5Request = !0), r.mainDomain.indexOf("youku.com") > -1 && a.indexOf("youku") < 0 && (r.WindVaneRequest = !1, r.H5Request = !0), n ? n().then(function () {
                        var e = r.retJson.ret;
                        if (e instanceof Array && (e = e.join(",")), !0 === r.WindVaneRequest && E && r.retJson.error || !e || e.indexOf("PARAM_PARSE_ERROR") > -1 || e.indexOf("HY_FAILED") > -1 || e.indexOf("HY_NO_HANDLER") > -1 || e.indexOf("HY_CLOSED") > -1 || e.indexOf("HY_EXCEPTION") > -1 || e.indexOf("HY_NO_PERMISSION") > -1) {
                            if (!E || !isNaN(r.retJson.error) || -1 !== r.retJson.error.indexOf("FAIL_SYS_ACCESS_DENIED")) return E && l(o.data) && (o.data = JSON.stringify(o.data)), m.H5Request = !0, i.__sequence([i.__processRequestType, i.__processToken, i.__processRequestUrl, i.middlewares, i.__processRequest]);
                            void 0 === r.retJson.api && void 0 === r.retJson.v && (r.retJson.api = o.api, r.retJson.v = o.v, r.retJson.ret = [r.retJson.error + "::" + r.retJson.errorMessage], r.retJson.data = {})
                        }
                    }) : void 0
                };
                var w = "_m_h5_c",
                    S = "_m_h5_tk";
                p.prototype.__getTokenFromAlipay = function () {
                    var t = n(),
                        i = this.options,
                        o = (e.navigator.userAgent, !!location.protocol.match(/^https?\:$/));
                    return !0 === i.useAlipayJSBridge && !o && E && e.AlipayJSBridge && e.AlipayJSBridge.call ? e.AlipayJSBridge.call("getMtopToken", function (e) {
                        e && e.token && (i.token = e.token), t.resolve()
                    }, function () {
                        t.resolve()
                    }) : t.resolve(), t.promise
                }, p.prototype.__getTokenFromCookie = function () {
                    var e = this.options;
                    return e.CDR && c(w) ? e.token = c(w).split(";")[0] : e.token = e.token || c(S), e.token && (e.token = e.token.split("_")[0]), f.resolve()
                }, p.prototype.__waitWKWebViewCookie = function (t) {
                    var n = this.options;
                    n.waitWKWebViewCookieFn && n.H5Request && e.webkit && e.webkit.messageHandlers ? n.waitWKWebViewCookieFn(t) : t()
                }, p.prototype.__processToken = function (e) {
                    var t = this,
                        n = this.options;
                    return this.params, n.token && delete n.token, !0 !== n.WindVaneRequest ? g.then(function () {
                        return t.__getTokenFromAlipay()
                    }).then(function () {
                        return t.__getTokenFromCookie()
                    }).then(e).then(function () {
                        var e = n.retJson,
                            i = e.ret;
                        if (i instanceof Array && (i = i.join(",")), i.indexOf("TOKEN_EMPTY") > -1 || (!0 === n.CDR || !0 === n.syncCookieMode) && i.indexOf("ILLEGAL_ACCESS") > -1 || i.indexOf("TOKEN_EXOIRED") > -1) {
                            if (n.maxRetryTimes = n.maxRetryTimes || 5, n.failTimes = n.failTimes || 0, n.H5Request && ++n.failTimes < n.maxRetryTimes) {
                                var o = [t.__waitWKWebViewCookie, t.__processToken, t.__processRequestUrl, t.middlewares, t.__processRequest];
                                if (!0 === n.syncCookieMode && t.constructor.__cookieProcessorId !== t.id)
                                    if (t.constructor.__cookieProcessor) {
                                        var r = function (e) {
                                            var n = function () {
                                                t.constructor.__cookieProcessor = null, t.constructor.__cookieProcessorId = null, e()
                                            };
                                            t.constructor.__cookieProcessor ? t.constructor.__cookieProcessor.then(n).catch(n) : e()
                                        };
                                        o = [r, t.__waitWKWebViewCookie, t.__processToken, t.__processRequestUrl, t.middlewares, t.__processRequest]
                                    } else t.constructor.__cookieProcessor = t.__requestProcessor, t.constructor.__cookieProcessorId = t.id;
                                return t.__sequence(o)
                            }
                            n.maxRetryTimes > 0 && (d(w, n.pageDomain, "*"), d(S, n.mainDomain, n.subDomain), d("_m_h5_tk_enc", n.mainDomain, n.subDomain)), e.retType = v.TOKEN_EXPIRED
                        }
                    }) : void e()
                }, p.prototype.__processRequestUrl = function (t) {
                    var n = this.params,
                        i = this.options;
                    if (i.hostSetting && i.hostSetting[e.location.hostname]) {
                        var o = i.hostSetting[e.location.hostname];
                        o.prefix && (i.prefix = o.prefix), o.subDomain && (i.subDomain = o.subDomain), o.mainDomain && (i.mainDomain = o.mainDomain)
                    }
                    if (!0 === i.H5Request) {
                        var r = "//" + (i.prefix ? i.prefix + "." : "") + (i.subDomain ? i.subDomain + "." : "") + i.mainDomain + "/h5/" + n.api.toLowerCase() + "/" + n.v.toLowerCase() + "/",
                            a = n.appKey || ("waptest" === i.subDomain ? "4272" : "12574478"),
                            l = (new Date).getTime(),
                            u = s(i.token + "&" + l + "&" + a + "&" + n.data),
                            c = {
                                jsv: "2.5.8",
                                appKey: a,
                                t: l,
                                sign: u
                            },
                            d = {
                                data: n.data,
                                ua: n.ua
                            };
                        Object.keys(n).forEach(function (e) {
                            void 0 === c[e] && void 0 === d[e] && "headers" !== e && "ext_headers" !== e && "ext_querys" !== e && (c[e] = n[e])
                        }), n.ext_querys && Object.keys(n.ext_querys).forEach(function (e) {
                            c[e] = n.ext_querys[e]
                        }), i.getJSONP ? c.type = "jsonp" : i.getOriginalJSONP ? c.type = "originaljsonp" : (i.getJSON || i.postJSON) && (c.type = "originaljson"), void 0 !== n.valueType && ("original" === n.valueType ? i.getJSONP || i.getOriginalJSONP ? c.type = "originaljsonp" : (i.getJSON || i.postJSON) && (c.type = "originaljson") : "string" === n.valueType && (i.getJSONP || i.getOriginalJSONP ? c.type = "jsonp" : (i.getJSON || i.postJSON) && (c.type = "json"))), !0 === i.useJsonpResultType && "originaljson" === c.type && delete c.type, i.dangerouslySetProtocol && (r = i.dangerouslySetProtocol + ":" + r), i.querystring = c, i.postdata = d, i.path = r
                    }
                    t()
                }, p.prototype.__processUnitPrefix = function (e) {
                    e()
                };
                var T = 0;
                p.prototype.__requestJSONP = function (e) {
                    function t(e) {
                        if (c && clearTimeout(c), d.parentNode && d.parentNode.removeChild(d), "TIMEOUT" === e) window[u] = function () {
                            window[u] = void 0;
                            try {
                                delete window[u]
                            } catch (e) {}
                        };
                        else {
                            window[u] = void 0;
                            try {
                                delete window[u]
                            } catch (e) {}
                        }
                    }
                    var i = n(),
                        a = this.params,
                        s = this.options,
                        l = a.timeout || 2e4,
                        u = "mtopjsonp" + (a.jsonpIncPrefix || "") + ++T,
                        c = setTimeout(function () {
                            e(s.timeoutErrMsg || "TIMEOUT::接口超时"), t("TIMEOUT")
                        }, l);
                    s.querystring.callback = u;
                    var d = document.createElement("script");
                    return d.src = s.path + "?" + r(s.querystring) + "&" + r(s.postdata), d.async = !0, d.onerror = function () {
                        t("ABORT"), e(s.abortErrMsg || "ABORT::接口异常退出")
                    }, window[u] = function () {
                        s.results = Array.prototype.slice.call(arguments), t(), i.resolve()
                    }, o(d), i.promise
                }, p.prototype.__requestJSON = function (t) {
                    function i(e) {
                        d && clearTimeout(d), "TIMEOUT" === e && l.abort()
                    }
                    var o = n(),
                        a = this.params,
                        s = this.options,
                        l = new e.XMLHttpRequest,
                        u = a.timeout || 2e4,
                        d = setTimeout(function () {
                            t(s.timeoutErrMsg || "TIMEOUT::接口超时"), i("TIMEOUT")
                        }, u);
                    s.CDR && c(w) && (s.querystring.c = decodeURIComponent(c(w))), l.onreadystatechange = function () {
                        if (4 == l.readyState) {
                            var e, n, r = l.status;
                            if (r >= 200 && 300 > r || 304 == r) {
                                i(), e = l.responseText, n = l.getAllResponseHeaders() || "";
                                try {
                                    e = /^\s*$/.test(e) ? {} : JSON.parse(e), e.responseHeaders = n, s.results = [e], o.resolve()
                                } catch (e) {
                                    t("PARSE_JSON_ERROR::解析JSON失败")
                                }
                            } else i("ABORT"), t(s.abortErrMsg || "ABORT::接口异常退出")
                        }
                    };
                    var h, p, f = s.path + "?" + r(s.querystring);
                    s.getJSON ? (h = "GET", f += "&" + r(s.postdata)) : s.postJSON && (h = "POST", p = r(s.postdata)), l.open(h, f, !0), l.withCredentials = !0, l.setRequestHeader("Accept", "application/json"), l.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
                    var g = a.ext_headers || a.headers;
                    if (g)
                        for (var m in g) l.setRequestHeader(m, g[m]);
                    return l.send(p), o.promise
                }, p.prototype.__requestWindVane = function (e) {
                    function i(e) {
                        a.results = [e], o.resolve()
                    }
                    var o = n(),
                        r = this.params,
                        a = this.options,
                        s = r.data,
                        l = r.api,
                        u = r.v,
                        c = a.postJSON ? 1 : 0,
                        d = a.getJSON || a.postJSON || a.getOriginalJSONP ? "originaljson" : "";
                    void 0 !== r.valueType && ("original" === r.valueType ? d = "originaljson" : "string" === r.valueType && (d = "")), !0 === a.useJsonpResultType && (d = "");
                    var h, p, f = "https" === location.protocol ? 1 : 0,
                        g = r.isSec || 0,
                        m = r.sessionOption || "AutoLoginOnly",
                        y = r.ecode || 0,
                        v = r.ext_headers || {},
                        _ = r.ext_querys || {};
                    p = void 0 !== r.timer ? parseInt(r.timer) : void 0 !== r.timeout ? parseInt(r.timeout) : 2e4, h = 2 * p, !0 === r.needLogin && void 0 === r.sessionOption && (m = "AutoLoginAndManualLogin"), void 0 !== r.secType && void 0 === r.isSec && (g = r.secType);
                    var b = {
                        api: l,
                        v: u,
                        post: String(c),
                        type: d,
                        isHttps: String(f),
                        ecode: String(y),
                        isSec: String(g),
                        param: JSON.parse(s),
                        timer: p,
                        sessionOption: m,
                        ext_headers: v,
                        ext_querys: _
                    };
                    return r.ttid && !0 === a.dangerouslySetWVTtid && (b.ttid = r.ttid), Object.assign && r.dangerouslySetWindvaneParams && Object.assign(b, r.dangerouslySetWindvaneParams), t.windvane.call("MtopWVPlugin", "send", b, i, i, h), o.promise
                }, p.prototype.__requestAlipay = function (t) {
                    function i(e) {
                        a.results = [e], o.resolve()
                    }
                    var o = n(),
                        r = this.params,
                        a = this.options,
                        s = {
                            apiName: r.api,
                            apiVersion: r.v,
                            needEcodeSign: "1" === String(r.ecode),
                            usePost: !!a.postJSON
                        };
                    return l(r.data) || (r.data = JSON.parse(r.data)), s.data = r.data, r.ttid && !0 === a.dangerouslySetWVTtid && (s.ttid = r.ttid), (a.getJSON || a.postJSON || a.getOriginalJSONP) && (s.type = "originaljson"), void 0 !== r.valueType && ("original" === r.valueType ? s.type = "originaljson" : "string" === r.valueType && delete s.type), !0 === a.useJsonpResultType && delete s.type, Object.assign && r.dangerouslySetAlipayParams && Object.assign(s, r.dangerouslySetAlipayParams), e.AlipayJSBridge.call("mtop", s, i), o.promise
                }, p.prototype.__processRequest = function (e, t) {
                    var n = this;
                    return g.then(function () {
                        var e = n.options;
                        if (e.H5Request && (e.getJSONP || e.getOriginalJSONP)) return n.__requestJSONP(t);
                        if (e.H5Request && (e.getJSON || e.postJSON)) return n.__requestJSON(t);
                        if (e.WindVaneRequest) return E ? n.__requestAlipay(t) : n.__requestWindVane(t);
                        throw new Error("UNEXCEPT_REQUEST::错误的请求类型")
                    }).then(e).then(function () {
                        var e = n.options,
                            t = (n.params, e.results[0]),
                            i = t && t.ret || [];
                        t.ret = i, i instanceof Array && (i = i.join(","));
                        var o = t.c;
                        e.CDR && o && u(w, o, {
                            domain: e.pageDomain,
                            path: "/",
                            secure: e.secure,
                            sameSite: e.sameSite
                        }), i.indexOf("SUCCESS") > -1 ? t.retType = v.SUCCESS : t.retType = v.ERROR, e.retJson = t
                    })
                }, p.prototype.__sequence = function (e) {
                    function t(e) {
                        if (e instanceof Array) e.forEach(t);
                        else {
                            var a, s = n(),
                                l = n();
                            o.push(function () {
                                return s = n(), a = e.call(i, function (e) {
                                    return s.resolve(e), l.promise
                                }, function (e) {
                                    return s.reject(e), l.promise
                                }), a && (a = a.catch(function (e) {
                                    s.reject(e)
                                })), s.promise
                            }), r.push(function (e) {
                                return l.resolve(e), a
                            })
                        }
                    }
                    var i = this,
                        o = [],
                        r = [];
                    e.forEach(t);
                    for (var a, s = g; a = o.shift();) s = s.then(a);
                    for (; a = r.pop();) s = s.then(a);
                    return s
                };
                var x = function (e) {
                        e()
                    },
                    A = function (e) {
                        e()
                    };
                p.prototype.request = function (n) {
                    var o = this;
                    if (this.options = i(n || {}, m), !f) {
                        var r = "当前浏览器不支持Promise，请在windows对象上挂载Promise对象";
                        throw t.mtop = {
                            ERROR: r
                        }, new Error(r)
                    }
                    var s = f.resolve([x, A]).then(function (e) {
                        var t = e[0],
                            n = e[1];
                        return o.__sequence([t, o.__processRequestMethod, o.__processRequestType, o.__processToken, o.__processRequestUrl, o.middlewares, o.__processRequest, n])
                    }).then(function () {
                        var e = o.options.retJson;
                        return e.retType !== v.SUCCESS ? f.reject(e) : o.options.successCallback ? void o.options.successCallback(e) : f.resolve(e)
                    }).catch(function (e) {
                        var n;
                        return e instanceof Error ? (console.error(e.stack), n = {
                            ret: [e.message],
                            stack: [e.stack],
                            retJson: v.ERROR
                        }) : n = "string" == typeof e ? {
                            ret: [e],
                            retJson: v.ERROR
                        } : void 0 !== e ? e : o.options.retJson, t.mtop.errorListener && t.mtop.errorListener({
                            api: o.params.api,
                            data: o.params.data,
                            v: o.params.v,
                            retJson: n
                        }), o.options.failureCallback ? void o.options.failureCallback(n) : f.reject(n)
                    });
                    return this.__processRequestType(), o.options.H5Request && (o.constructor.__firstProcessor || (o.constructor.__firstProcessor = s), x = function (e) {
                        o.constructor.__firstProcessor.then(e).catch(e)
                    }), ("get" === this.params.type && "json" === this.params.dataType || "post" === this.params.type) && (n.pageDomain = n.pageDomain || a(e.location.hostname), n.mainDomain !== n.pageDomain && (n.maxRetryTimes = 4, n.CDR = !0)), this.__requestProcessor = s, s
                }, t.mtop = function (e) {
                    return new p(e)
                }, t.mtop.request = function (e, t, n) {
                    var i = {
                        H5Request: e.H5Request,
                        WindVaneRequest: e.WindVaneRequest,
                        LoginRequest: e.LoginRequest,
                        AntiCreep: e.AntiCreep,
                        AntiFlood: e.AntiFlood,
                        successCallback: t,
                        failureCallback: n || t
                    };
                    return new p(e).request(i)
                }, t.mtop.H5Request = function (e, t, n) {
                    var i = {
                        H5Request: !0,
                        successCallback: t,
                        failureCallback: n || t
                    };
                    return new p(e).request(i)
                }, t.mtop.middlewares = y, t.mtop.config = m, t.mtop.RESPONSE_TYPE = v, t.mtop.CLASS = p
            }(window, window.lib || (window.lib = {})),
            function (e, t) {
                function n(e) {
                    return e.preventDefault(), !1
                }

                function i(e) {
                    var t = new RegExp("(?:^|;\\s*)" + e + "\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);
                    return t ? t[1] : void 0
                }

                function o(t, i) {
                    var o = this,
                        r = e.dpr || 1,
                        a = document.createElement("div"),
                        s = document.documentElement.getBoundingClientRect(),
                        l = Math.max(s.width, window.innerWidth) / r,
                        u = Math.max(s.height, window.innerHeight) / r;
                    a.style.cssText = ["-webkit-transform:scale(" + r + ") translateZ(0)", "-ms-transform:scale(" + r + ") translateZ(0)", "transform:scale(" + r + ") translateZ(0)", "-webkit-transform-origin:0 0", "-ms-transform-origin:0 0", "transform-origin:0 0", "width:" + l + "px", "height:" + u + "px", "z-index:999999", "position:" + (l > 800 ? "fixed" : "absolute"), "left:0", "top:0px", "background:" + (l > 800 ? "rgba(0,0,0,.5)" : "#FFF"), "display:none"].join(";");
                    var c = document.createElement("div");
                    c.style.cssText = ["width:100%", "height:52px", "background:#EEE", "line-height:52px", "text-align:left", "box-sizing:border-box", "padding-left:20px", "position:absolute", "left:0", "top:0", "font-size:16px", "font-weight:bold", "color:#333"].join(";"), c.innerText = t;
                    var d = document.createElement("a");
                    d.style.cssText = ["display:block", "position:absolute", "right:0", "top:0", "height:52px", "line-height:52px", "padding:0 20px", "color:#999"].join(";"), d.innerText = "关闭";
                    var h = document.createElement("iframe");
                    h.style.cssText = ["width:100%", "height:100%", "border:0", "overflow:hidden"].join(";"), l > 800 && (c.style.cssText = ["width:370px", "height:52px", "background:#EEE", "line-height:52px", "text-align:left", "box-sizing:border-box", "padding-left:20px", "position:absolute", "left:" + (l / 2 - 185) + "px", "top:40px", "font-size:16px", "font-weight:bold", "color:#333"].join(";"), h.style.cssText = ["position:absolute", "top:92px", "left:" + (l / 2 - 185) + "px", "width:370px", "height:480px", "border:0", "background:#FFF", "overflow:hidden"].join(";")), c.appendChild(d), a.appendChild(c), a.appendChild(h), a.className = "J_MIDDLEWARE_FRAME_WIDGET", document.body.appendChild(a), h.src = i, d.addEventListener("click", function () {
                        o.hide();
                        var e = document.createEvent("HTMLEvents");
                        e.initEvent("close", !1, !1), a.dispatchEvent(e)
                    }, !1), this.addEventListener = function () {
                        a.addEventListener.apply(a, arguments)
                    }, this.removeEventListener = function () {
                        a.removeEventListener.apply(a, arguments)
                    }, this.show = function () {
                        document.addEventListener("touchmove", n, !1), a.style.display = "block", window.scrollTo(0, 0)
                    }, this.hide = function () {
                        document.removeEventListener("touchmove", n), window.scrollTo(0, -s.top), a.parentNode && a.parentNode.removeChild(a)
                    }
                }

                function r(e) {
                    var n = this,
                        i = this.options,
                        o = this.params;
                    return e().then(function () {
                        var e = i.retJson,
                            r = e.ret,
                            a = navigator.userAgent.toLowerCase(),
                            s = a.indexOf("safari") > -1 && a.indexOf("chrome") < 0 && a.indexOf("qqbrowser") < 0;
                        if (r instanceof Array && (r = r.join(",")), (r.indexOf("SESSION_EXPIRED") > -1 || r.indexOf("SID_INVALID") > -1 || r.indexOf("AUTH_REJECT") > -1 || r.indexOf("NEED_LOGIN") > -1) && (e.retType = d.SESSION_EXPIRED, !i.WindVaneRequest && (!0 === c.LoginRequest || !0 === i.LoginRequest || !0 === o.needLogin))) {
                            if (!t.login) throw new Error("LOGIN_NOT_FOUND::缺少lib.login");
                            if (!0 !== i.safariGoLogin || !s || "taobao.com" === i.pageDomain) return t.login.goLoginAsync().then(function (e) {
                                return n.__sequence([n.__processToken, n.__processRequestUrl, n.__processUnitPrefix, n.middlewares, n.__processRequest])
                            }).catch(function (e) {
                                throw "CANCEL" === e ? new Error("LOGIN_CANCEL::用户取消登录") : new Error("LOGIN_FAILURE::用户登录失败")
                            });
                            t.login.goLogin()
                        }
                    })
                }

                function a(e) {
                    var t = this.options;
                    return this.params, !0 !== t.H5Request || !0 !== c.AntiFlood && !0 !== t.AntiFlood ? void e() : e().then(function () {
                        var e = t.retJson,
                            n = e.ret;
                        n instanceof Array && (n = n.join(",")), n.indexOf("FAIL_SYS_USER_VALIDATE") > -1 && e.data.url && (t.AntiFloodReferer ? location.href = e.data.url.replace(/(http_referer=).+/, "$1" + t.AntiFloodReferer) : location.href = e.data.url)
                    })
                }

                function s(t) {
                    var n = this,
                        r = this.options,
                        a = this.params;
                    return !1 !== r.AntiCreep && (r.AntiCreep = !0), !0 !== a.forceAntiCreep && !0 !== r.H5Request || !0 !== c.AntiCreep && !0 !== r.AntiCreep ? void t() : t().then(function () {
                        var t = r.retJson,
                            s = t.ret;
                        if (s instanceof Array && (s = s.join(",")), (s.indexOf("RGV587_ERROR::SM") > -1 || s.indexOf("ASSIST_FLAG") > -1) && t.data.url) {
                            var u = "_m_h5_smt",
                                c = i(u),
                                d = !1;
                            if (!0 === r.saveAntiCreepToken && c) {
                                c = JSON.parse(c);
                                for (var h in c) a[h] && (d = !0)
                            }
                            if (!0 === r.saveAntiCreepToken && c && !d) {
                                for (var h in c) a[h] = c[h];
                                return n.__sequence([n.__processToken, n.__processRequestUrl, n.__processUnitPrefix, n.middlewares, n.__processRequest])
                            }
                            return new l(function (i, s) {
                                function l() {
                                    h.removeEventListener("close", l), e.removeEventListener("message", c), s("USER_INPUT_CANCEL::用户取消输入")
                                }

                                function c(t) {
                                    var o;
                                    try {
                                        o = JSON.parse(t.data) || {}
                                    } catch (e) {}
                                    if (o && "child" === o.type) {
                                        h.removeEventListener("close", l), e.removeEventListener("message", c), h.hide();
                                        var d;
                                        try {
                                            "string" == typeof (d = JSON.parse(decodeURIComponent(o.content))) && (d = JSON.parse(d));
                                            for (var p in d) a[p] = d[p];
                                            !0 === r.saveAntiCreepToken ? (document.cookie = u + "=" + JSON.stringify(d) + ";", e.location.reload()) : n.__sequence([n.__processToken, n.__processRequestUrl, n.__processUnitPrefix, n.middlewares, n.__processRequest]).then(i)
                                        } catch (e) {
                                            s("USER_INPUT_FAILURE::用户输入失败")
                                        }
                                    }
                                }
                                var d = t.data.url,
                                    h = new o("", d);
                                h.addEventListener("close", l, !1), e.addEventListener("message", c, !1), h.show()
                            })
                        }
                    })
                }
                if (!t || !t.mtop || t.mtop.ERROR) throw new Error("Mtop 初始化失败！");
                var l = e.Promise,
                    u = t.mtop.CLASS,
                    c = t.mtop.config,
                    d = t.mtop.RESPONSE_TYPE;
                t.mtop.middlewares.push(r), t.mtop.loginRequest = function (e, t, n) {
                    var i = {
                        LoginRequest: !0,
                        H5Request: !0,
                        successCallback: t,
                        failureCallback: n || t
                    };
                    return new u(e).request(i)
                }, t.mtop.antiFloodRequest = function (e, t, n) {
                    var i = {
                        AntiFlood: !0,
                        successCallback: t,
                        failureCallback: n || t
                    };
                    return new u(e).request(i)
                }, t.mtop.middlewares.push(a), t.mtop.antiCreepRequest = function (e, t, n) {
                    var i = {
                        AntiCreep: !0,
                        successCallback: t,
                        failureCallback: n || t
                    };
                    return new u(e).request(i)
                }, t.mtop.middlewares.push(s)
            }(window, window.lib || (window.lib = {})), e.exports = window.lib.mtop
    },
    function (e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        ! function (e) {
            e.L = "L", e.M = "M", e.Q = "Q", e.H = "H"
        }(t.EQRErrorCorrectLevel || (t.EQRErrorCorrectLevel = {}));
        ! function (e) {
            e[e.L = 0] = "L", e[e.M = 1] = "M", e[e.Q = 2] = "Q", e[e.H = 3] = "H"
        }(t.EQRErrorCorrectNumberLevel || (t.EQRErrorCorrectNumberLevel = {}));
        ! function (e) {
            e[e.PATTERN000 = 0] = "PATTERN000", e[e.PATTERN001 = 1] = "PATTERN001", e[e.PATTERN010 = 2] = "PATTERN010", e[e.PATTERN011 = 3] = "PATTERN011", e[e.PATTERN100 = 4] = "PATTERN100", e[e.PATTERN101 = 5] = "PATTERN101", e[e.PATTERN110 = 6] = "PATTERN110", e[e.PATTERN111 = 7] = "PATTERN111"
        }(t.EQRMaskPattern || (t.EQRMaskPattern = {})), t.RS_BLOCK_TABLE = [
            [1, 26, 19],
            [1, 26, 16],
            [1, 26, 13],
            [1, 26, 9],
            [1, 44, 34],
            [1, 44, 28],
            [1, 44, 22],
            [1, 44, 16],
            [1, 70, 55],
            [1, 70, 44],
            [2, 35, 17],
            [2, 35, 13],
            [1, 100, 80],
            [2, 50, 32],
            [2, 50, 24],
            [4, 25, 9],
            [1, 134, 108],
            [2, 67, 43],
            [2, 33, 15, 2, 34, 16],
            [2, 33, 11, 2, 34, 12],
            [2, 86, 68],
            [4, 43, 27],
            [4, 43, 19],
            [4, 43, 15],
            [2, 98, 78],
            [4, 49, 31],
            [2, 32, 14, 4, 33, 15],
            [4, 39, 13, 1, 40, 14],
            [2, 121, 97],
            [2, 60, 38, 2, 61, 39],
            [4, 40, 18, 2, 41, 19],
            [4, 40, 14, 2, 41, 15],
            [2, 146, 116],
            [3, 58, 36, 2, 59, 37],
            [4, 36, 16, 4, 37, 17],
            [4, 36, 12, 4, 37, 13],
            [2, 86, 68, 2, 87, 69],
            [4, 69, 43, 1, 70, 44],
            [6, 43, 19, 2, 44, 20],
            [6, 43, 15, 2, 44, 16],
            [4, 101, 81],
            [1, 80, 50, 4, 81, 51],
            [4, 50, 22, 4, 51, 23],
            [3, 36, 12, 8, 37, 13],
            [2, 116, 92, 2, 117, 93],
            [6, 58, 36, 2, 59, 37],
            [4, 46, 20, 6, 47, 21],
            [7, 42, 14, 4, 43, 15],
            [4, 133, 107],
            [8, 59, 37, 1, 60, 38],
            [8, 44, 20, 4, 45, 21],
            [12, 33, 11, 4, 34, 12],
            [3, 145, 115, 1, 146, 116],
            [4, 64, 40, 5, 65, 41],
            [11, 36, 16, 5, 37, 17],
            [11, 36, 12, 5, 37, 13],
            [5, 109, 87, 1, 110, 88],
            [5, 65, 41, 5, 66, 42],
            [5, 54, 24, 7, 55, 25],
            [11, 36, 12],
            [5, 122, 98, 1, 123, 99],
            [7, 73, 45, 3, 74, 46],
            [15, 43, 19, 2, 44, 20],
            [3, 45, 15, 13, 46, 16],
            [1, 135, 107, 5, 136, 108],
            [10, 74, 46, 1, 75, 47],
            [1, 50, 22, 15, 51, 23],
            [2, 42, 14, 17, 43, 15],
            [5, 150, 120, 1, 151, 121],
            [9, 69, 43, 4, 70, 44],
            [17, 50, 22, 1, 51, 23],
            [2, 42, 14, 19, 43, 15],
            [3, 141, 113, 4, 142, 114],
            [3, 70, 44, 11, 71, 45],
            [17, 47, 21, 4, 48, 22],
            [9, 39, 13, 16, 40, 14],
            [3, 135, 107, 5, 136, 108],
            [3, 67, 41, 13, 68, 42],
            [15, 54, 24, 5, 55, 25],
            [15, 43, 15, 10, 44, 16],
            [4, 144, 116, 4, 145, 117],
            [17, 68, 42],
            [17, 50, 22, 6, 51, 23],
            [19, 46, 16, 6, 47, 17],
            [2, 139, 111, 7, 140, 112],
            [17, 74, 46],
            [7, 54, 24, 16, 55, 25],
            [34, 37, 13],
            [4, 151, 121, 5, 152, 122],
            [4, 75, 47, 14, 76, 48],
            [11, 54, 24, 14, 55, 25],
            [16, 45, 15, 14, 46, 16],
            [6, 147, 117, 4, 148, 118],
            [6, 73, 45, 14, 74, 46],
            [11, 54, 24, 16, 55, 25],
            [30, 46, 16, 2, 47, 17],
            [8, 132, 106, 4, 133, 107],
            [8, 75, 47, 13, 76, 48],
            [7, 54, 24, 22, 55, 25],
            [22, 45, 15, 13, 46, 16],
            [10, 142, 114, 2, 143, 115],
            [19, 74, 46, 4, 75, 47],
            [28, 50, 22, 6, 51, 23],
            [33, 46, 16, 4, 47, 17],
            [8, 152, 122, 4, 153, 123],
            [22, 73, 45, 3, 74, 46],
            [8, 53, 23, 26, 54, 24],
            [12, 45, 15, 28, 46, 16],
            [3, 147, 117, 10, 148, 118],
            [3, 73, 45, 23, 74, 46],
            [4, 54, 24, 31, 55, 25],
            [11, 45, 15, 31, 46, 16],
            [7, 146, 116, 7, 147, 117],
            [21, 73, 45, 7, 74, 46],
            [1, 53, 23, 37, 54, 24],
            [19, 45, 15, 26, 46, 16],
            [5, 145, 115, 10, 146, 116],
            [19, 75, 47, 10, 76, 48],
            [15, 54, 24, 25, 55, 25],
            [23, 45, 15, 25, 46, 16],
            [13, 145, 115, 3, 146, 116],
            [2, 74, 46, 29, 75, 47],
            [42, 54, 24, 1, 55, 25],
            [23, 45, 15, 28, 46, 16],
            [17, 145, 115],
            [10, 74, 46, 23, 75, 47],
            [10, 54, 24, 35, 55, 25],
            [19, 45, 15, 35, 46, 16],
            [17, 145, 115, 1, 146, 116],
            [14, 74, 46, 21, 75, 47],
            [29, 54, 24, 19, 55, 25],
            [11, 45, 15, 46, 46, 16],
            [13, 145, 115, 6, 146, 116],
            [14, 74, 46, 23, 75, 47],
            [44, 54, 24, 7, 55, 25],
            [59, 46, 16, 1, 47, 17],
            [12, 151, 121, 7, 152, 122],
            [12, 75, 47, 26, 76, 48],
            [39, 54, 24, 14, 55, 25],
            [22, 45, 15, 41, 46, 16],
            [6, 151, 121, 14, 152, 122],
            [6, 75, 47, 34, 76, 48],
            [46, 54, 24, 10, 55, 25],
            [2, 45, 15, 64, 46, 16],
            [17, 152, 122, 4, 153, 123],
            [29, 74, 46, 14, 75, 47],
            [49, 54, 24, 10, 55, 25],
            [24, 45, 15, 46, 46, 16],
            [4, 152, 122, 18, 153, 123],
            [13, 74, 46, 32, 75, 47],
            [48, 54, 24, 14, 55, 25],
            [42, 45, 15, 32, 46, 16],
            [20, 147, 117, 4, 148, 118],
            [40, 75, 47, 7, 76, 48],
            [43, 54, 24, 22, 55, 25],
            [10, 45, 15, 67, 46, 16],
            [19, 148, 118, 6, 149, 119],
            [18, 75, 47, 31, 76, 48],
            [34, 54, 24, 34, 55, 25],
            [20, 45, 15, 61, 46, 16]
        ], t.PATTERN_POSITION_TABLE = [
            [],
            [6, 18],
            [6, 22],
            [6, 26],
            [6, 30],
            [6, 34],
            [6, 22, 38],
            [6, 24, 42],
            [6, 26, 46],
            [6, 28, 50],
            [6, 30, 54],
            [6, 32, 58],
            [6, 34, 62],
            [6, 26, 46, 66],
            [6, 26, 48, 70],
            [6, 26, 50, 74],
            [6, 30, 54, 78],
            [6, 30, 56, 82],
            [6, 30, 58, 86],
            [6, 34, 62, 90],
            [6, 28, 50, 72, 94],
            [6, 26, 50, 74, 98],
            [6, 30, 54, 78, 102],
            [6, 28, 54, 80, 106],
            [6, 32, 58, 84, 110],
            [6, 30, 58, 86, 114],
            [6, 34, 62, 90, 118],
            [6, 26, 50, 74, 98, 122],
            [6, 30, 54, 78, 102, 126],
            [6, 26, 52, 78, 104, 130],
            [6, 30, 56, 82, 108, 134],
            [6, 34, 60, 86, 112, 138],
            [6, 30, 58, 86, 114, 142],
            [6, 34, 62, 90, 118, 146],
            [6, 30, 54, 78, 102, 126, 150],
            [6, 24, 50, 76, 102, 128, 154],
            [6, 28, 54, 80, 106, 132, 158],
            [6, 32, 58, 84, 110, 136, 162],
            [6, 26, 54, 82, 110, 138, 166],
            [6, 30, 58, 86, 114, 142, 170]
        ]
    },
    function (e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        t.MessageConfig = {
            "global.playerState": "global.playerState",
            "global.config": "global.config",
            "global.mediaData": "global.mediaData",
            "global.reset": "global.reset",
            "global.reload": "global.reload",
            "player.skipTime": "player.skipTime",
            "player.reload": "reload",
            "player.reset": "reset",
            "player.showInfo": "player.showinfo",
            "player.hideInfo": "player.hideInfo",
            "player.showInfoWindow": "player.showInfoWindow",
            "player.hideInfoWindow": "player.hideInfoWindow",
            "player.ready": "ready",
            "player.replay": "replay",
            "player.error": "player.error",
            "service.state": "service.state",
            eventLog: "sendEventLog",
            uimessage: "uimessage"
        }
    },
    function (e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = {
            storageSet: function (e, t) {
                try {
                    localStorage.setItem(e, t)
                } catch (e) {}
            }, cookie: function (e, t, n, i) {
                if ("string" == typeof e && (i = n, n = t, t = e, e = window), void 0 === n) return n = e.document.cookie.match(new RegExp("(?:\\s|^)" + t + "\\=([^;]*)")), n ? decodeURIComponent(n[1]) : null;
                i = i || {};
                var o = void 0,
                    r = "";
                i.expires && (i.expires.constructor === Date ? o = i.expires : (o = new Date, o.setTime(o.getTime() + 24 * i.expires * 60 * 60 * 1e3)), r = "; expires=" + o.toGMTString());
                var a = i.path ? "; path=" + i.path : "",
                    s = i.domain ? "; domain=" + i.domain : "",
                    l = i.secure ? "; secure" : "";
                e.document.cookie = [t, "=", encodeURIComponent(n), r, a, s, l].join("")
            }
        };
        t.default = i
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function o() {
          
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.AdLayer = t.ADEvents = t.ADState = t.ADType = t.default = void 0;
        var r = n(71),
            a = i(r),
            s = n(2),
            l = i(s),
            u = n(0),
            c = i(u),
            d = n(1),
            h = i(d),
            p = n(4),
            f = i(p),
            g = n(3),
            m = i(g),
            y = n(5),
            v = n(6);
        n(312);
        var _ = window.adPlayerSDK || window.ykSDK,
            b = {
                FRONT: "frontad",
                END: "endad",
                CONTENT: "contentad",
                STAND: "standard",
                PAUSE: "pausead",
                CUT: "bfad",
                PREVIOUSLY: "previouslyad"
            },
            E = {
                PLAY: "adplay",
                PLAYING: "adplaying",
                PAUSE: "adpause",
                READY: "adready",
                END: "adended",
                ERROR: "aderror",
                WAITING: "adwaiting",
                SABORT: "safariabort",
                SERVICEERROR: "adserviceerror",
                SERVICELOADING: "adserviceloading",
                SERVICESTART: "adservicestart",
                SERVICEEND: "adserviceend",
                CUTPLAYING: "cutplaying"
            },
            k = {
                ADPLUGIN_STATE_CHANGE: "adplugin.statechange",
                SERVICE_STATE: "service.success",
                SERVICE_ERROR: "service.error"
            },
            w = function (e) {
                function t(e) {
                    return (0, c.default)(this, t), (0, f.default)(this, (t.__proto__ || (0, l.default)(t)).call(this, e))
                }
                return (0, m.default)(t, e), (0, h.default)(t, [{
                    key: "render",
                    value: function () {
                        return '<div class="h5-ext-layer" style="z-index:1200;">\n        </div>'
                    }
                }]), t
            }(y.Layer),
            S = {
                create: function (e) {
                    if (o(), _) {
                        return new _(e)
                    }
                    return null
                }, init: function (e, t) {
                    (0, v.printLog)("SDKBridge init", t);
                    var n = t.player._uiManage._adLayer._el;
                    e && e.invoke("init", {
                        player: t.player,
                        container: n,
                        upsData: t.upsData,
                        data: t.adInfo,
                        fullscreen: t.player.global.playerState.fullscreen
                    })
                }, invoke: function (e, t) {
                    for (var n = arguments.length, i = Array(n > 2 ? n - 2 : 0), o = 2; o < n; o++) i[o - 2] = arguments[o];
                    return "timeUpdate" !== t && (0, v.printLog)("SDKBridge ::" + t, i), e ? e.invoke.apply(e, [t].concat((0, a.default)(i))) : void 0
                }, destroy: function (e) {
                    (0, v.printLog)("SDKBridge destroy"), e && e.destroy()
                }, on: function (e, t, n) {
                    e && e.on(t, n)
                }
            };
        t.default = S, t.ADType = b, t.ADState = E, t.ADEvents = k, t.AdLayer = w
    },
    function (e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = {
            NOT_START: "notstart",
            START: "start",
            COMPLETE: "complete",
            ERROR: "error"
        };
        t.default = i
    },
    function (e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        t.defaultSettings = {
            quality: "320p",
            preferQuality: "auto",
            skip: !0,
            continuePlay: !0,
            language: "",
            volume: "",
            muted: !1
        }, t.LSKEY = "YK_PSL_SETTINGS"
    },
    function (e, t, n) {
        e.exports = {
            default: n(241),
            __esModule: !0
        }
    },
    function (e, t, n) {
        "use strict";
        t.__esModule = !0;
        var i = n(107),
            o = function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }(i);
        t.default = function (e) {
            return function () {
                var t = e.apply(this, arguments);
                return new o.default(function (e, n) {
                    function i(r, a) {
                        try {
                            var s = t[r](a),
                                l = s.value
                        } catch (e) {
                            return void n(e)
                        }
                        if (!s.done) return o.default.resolve(l).then(function (e) {
                            i("next", e)
                        }, function (e) {
                            i("throw", e)
                        });
                        e(l)
                    }
                    return i("next")
                })
            }
        }
    },
    function (e, t, n) {
        "use strict";
        t.__esModule = !0;
        var i = n(69),
            o = function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }(i);
        t.default = function (e) {
            if (Array.isArray(e)) {
                for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];
                return n
            }
            return (0, o.default)(e)
        }
    },
    function (e, t, n) {
        e.exports = n(308)
    },
    function (e, t) {
        e.exports = function (e, t, n, i) {
            if (!(e instanceof t) || void 0 !== i && i in e) throw TypeError(n + ": incorrect invocation!");
            return e
        }
    },
    function (e, t, n) {
        var i = n(42),
            o = n(16)("toStringTag"),
            r = "Arguments" == i(function () {
                return arguments
            }()),
            a = function (e, t) {
                try {
                    return e[t]
                } catch (e) {}
            };
        e.exports = function (e) {
            var t, n, s;
            return void 0 === e ? "Undefined" : null === e ? "Null" : "string" == typeof (n = a(t = Object(e), o)) ? n : r ? i(t) : "Object" == (s = i(t)) && "function" == typeof t.callee ? "Arguments" : s
        }
    },
    function (e, t) {
        e.exports = function (e) {
            if (void 0 == e) throw TypeError("Can't call method on  " + e);
            return e
        }
    },
    function (e, t, n) {
        var i = n(21),
            o = n(14).document,
            r = i(o) && i(o.createElement);
        e.exports = function (e) {
            return r ? o.createElement(e) : {}
        }
    },
    function (e, t) {
        e.exports = "constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")
    },
    function (e, t, n) {
        var i = n(42);
        e.exports = Object("z").propertyIsEnumerable(0) ? Object : function (e) {
            return "String" == i(e) ? e.split("") : Object(e)
        }
    },
    function (e, t, n) {
        "use strict";
        var i = n(45),
            o = n(13),
            r = n(120),
            a = n(28),
            s = n(44),
            l = n(267),
            u = n(48),
            c = n(116),
            d = n(16)("iterator"),
            h = !([].keys && "next" in [].keys()),
            p = function () {
                return this
            };
        e.exports = function (e, t, n, f, g, m, y) {
            l(n, t, f);
            var v, _, b, E = function (e) {
                    if (!h && e in T) return T[e];
                    switch (e) {
                    case "keys":
                    case "values":
                        return function () {
                            return new n(this, e)
                        }
                    }
                    return function () {
                        return new n(this, e)
                    }
                },
                k = t + " Iterator",
                w = "values" == g,
                S = !1,
                T = e.prototype,
                x = T[d] || T["@@iterator"] || g && T[g],
                A = x || E(g),
                D = g ? w ? E("entries") : A : void 0,
                L = "Array" == t ? T.entries || x : x;
            if (L && (b = c(L.call(new e))) !== Object.prototype && b.next && (u(b, k, !0), i || "function" == typeof b[d] || a(b, d, p)), w && x && "values" !== x.name && (S = !0, A = function () {
                return x.call(this)
            }), i && !y || !h && !S && T[d] || a(T, d, A), s[t] = A, s[k] = p, g)
                if (v = {
                    values: w ? A : E("values"),
                    keys: m ? A : E("keys"),
                    entries: D
                }, y)
                    for (_ in v) _ in T || r(T, _, v[_]);
                else o(o.P + o.F * (h || S), t, v);
            return v
        }
    },
    function (e, t, n) {
        var i = n(58)("meta"),
            o = n(21),
            r = n(32),
            a = n(22).f,
            s = 0,
            l = Object.isExtensible || function () {
                return !0
            },
            u = !n(31)(function () {
                return l(Object.preventExtensions({}))
            }),
            c = function (e) {
                a(e, i, {
                    value: {
                        i: "O" + ++s,
                        w: {}
                    }
                })
            },
            d = function (e, t) {
                if (!o(e)) return "symbol" == typeof e ? e : ("string" == typeof e ? "S" : "P") + e;
                if (!r(e, i)) {
                    if (!l(e)) return "F";
                    if (!t) return "E";
                    c(e)
                }
                return e[i].i
            },
            h = function (e, t) {
                if (!r(e, i)) {
                    if (!l(e)) return !0;
                    if (!t) return !1;
                    c(e)
                }
                return e[i].w
            },
            p = function (e) {
                return u && f.NEED && l(e) && !r(e, i) && c(e), e
            },
            f = e.exports = {
                KEY: i,
                NEED: !1,
                fastKey: d,
                getWeak: h,
                onFreeze: p
            }
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            var t, n;
            this.promise = new e(function (e, i) {
                if (void 0 !== t || void 0 !== n) throw TypeError("Bad Promise constructor");
                t = e, n = i
            }), this.resolve = o(t), this.reject = o(n)
        }
        var o = n(41);
        e.exports.f = function (e) {
            return new i(e)
        }
    },
    function (e, t, n) {
        var i = n(56),
            o = n(47),
            r = n(33),
            a = n(89),
            s = n(32),
            l = n(109),
            u = Object.getOwnPropertyDescriptor;
        t.f = n(20) ? u : function (e, t) {
            if (e = r(e), t = a(t, !0), l) try {
                return u(e, t)
            } catch (e) {}
            if (s(e, t)) return o(!i.f.call(e, t), e[t])
        }
    },
    function (e, t) {
        t.f = Object.getOwnPropertySymbols
    },
    function (e, t, n) {
        var i = n(13),
            o = n(7),
            r = n(31);
        e.exports = function (e, t) {
            var n = (o.Object || {})[e] || Object[e],
                a = {};
            a[e] = t(n), i(i.S + i.F * r(function () {
                n(1)
            }), "Object", a)
        }
    },
    function (e, t, n) {
        var i = n(28);
        e.exports = function (e, t, n) {
            for (var o in t) n && e[o] ? e[o] = t[o] : i(e, o, t[o]);
            return e
        }
    },
    function (e, t, n) {
        var i = n(87)("keys"),
            o = n(58);
        e.exports = function (e) {
            return i[e] || (i[e] = o(e))
        }
    },
    function (e, t, n) {
        var i = n(7),
            o = n(14),
            r = o["__core-js_shared__"] || (o["__core-js_shared__"] = {});
        (e.exports = function (e, t) {
            return r[e] || (r[e] = void 0 !== t ? t : {})
        })("versions", []).push({
            version: i.version,
            mode: n(45) ? "pure" : "global",
            copyright: "© 2019 Denis Pushkarev (zloirock.ru)"
        })
    },
    function (e, t) {
        var n = Math.ceil,
            i = Math.floor;
        e.exports = function (e) {
            return isNaN(e = +e) ? 0 : (e > 0 ? i : n)(e)
        }
    },
    function (e, t, n) {
        var i = n(21);
        e.exports = function (e, t) {
            if (!i(e)) return e;
            var n, o;
            if (t && "function" == typeof (n = e.toString) && !i(o = n.call(e))) return o;
            if ("function" == typeof (n = e.valueOf) && !i(o = n.call(e))) return o;
            if (!t && "function" == typeof (n = e.toString) && !i(o = n.call(e))) return o;
            throw TypeError("Can't convert object to primitive value")
        }
    },
    function (e, t, n) {
        var i = n(14),
            o = n(7),
            r = n(45),
            a = n(91),
            s = n(22).f;
        e.exports = function (e) {
            var t = o.Symbol || (o.Symbol = r ? {} : i.Symbol || {});
            "_" == e.charAt(0) || e in t || s(t, e, {
                value: a.f(e)
            })
        }
    },
    function (e, t, n) {
        t.f = n(16)
    },
    function (e, t, n) {
        var i = n(74),
            o = n(16)("iterator"),
            r = n(44);
        e.exports = n(7).getIteratorMethod = function (e) {
            if (void 0 != e) return e[o] || e["@@iterator"] || r[i(e)]
        }
    },
    function (e, t) {},
    function (module, exports, __webpack_require__) {
        (function (process) {
            function TS_MUXER_SOURCE(e) {
                var t = function () {
                    "use strict";

                    function e(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var i = t[n];
                            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
                        }
                    }

                    function t(e, t, n, i, o, r) {
                        var a;
                        a = 1 < r && fe(e.audioobjecttype, e.samplingfrequencyindex, e.channelcount) || t[n].data;
                        for (var s = 0; s < r; s++) t.splice(n + s, 0, {
                            inert: !0,
                            audioobjecttype: e.audioobjecttype,
                            channelcount: e.channelcount,
                            dts: i + o * s,
                            pts: i + o * s,
                            data: a,
                            sampleCount: e.sampleCount,
                            samplerate: e.samplerate,
                            samplesize: e.samplesize,
                            samplingfrequencyindex: e.samplingfrequencyindex
                        })
                    }

                    function n(e) {
                        return parseInt(e) === e
                    }

                    function i(e) {
                        if (!n(e.length)) return !1;
                        for (var t = 0; t < e.length; t++)
                            if (!n(e[t]) || e[t] < 0 || 255 < e[t]) return !1;
                        return !0
                    }

                    function o(e, t) {
                        if (e.buffer && "Uint8Array" === e.name) return t && (e = e.slice ? e.slice() : Array.prototype.slice.call(e)), e;
                        if (Array.isArray(e)) {
                            if (!i(e)) throw new Error("Array contains invalid value: " + e);
                            return new Uint8Array(e)
                        }
                        if (n(e.length) && i(e)) return new Uint8Array(e);
                        throw new Error("unsupported array-like object")
                    }

                    function r(e) {
                        return new Uint8Array(e)
                    }

                    function a(e, t, n, i, o) {
                        null == i && null == o || (e = e.slice ? e.slice(i, o) : Array.prototype.slice.call(e, i, o)), t.set(e, n)
                    }

                    function s(e) {
                        for (var t = [], n = 0; n < e.length; n += 4) t.push(e[n] << 24 | e[n + 1] << 16 | e[n + 2] << 8 | e[n + 3]);
                        return t
                    }
                    var l, u, c, d, h, p, f, g, m, y, v, _, b, E, k, w, S, T, x, A, D, L, C, M, I, R, P, N, O, j, U, B, F, z, H, Y, V, q, G, Q, W = function (e, t) {
                            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                        },
                        K = function (t, n, i) {
                            return n && e(t.prototype, n), i && e(t, i), t
                        },
                        X = Math.pow(2, 32) - 1;
                    ! function () {
                        var e;
                        if (L = {
                            avc1: [],
                            avcC: [],
                            btrt: [],
                            pasp: [],
                            dinf: [],
                            dref: [],
                            esds: [],
                            ftyp: [],
                            hdlr: [],
                            mdat: [],
                            mdhd: [],
                            mdia: [],
                            mfhd: [],
                            minf: [],
                            moof: [],
                            moov: [],
                            mp4a: [],
                            mvex: [],
                            mvhd: [],
                            sdtp: [],
                            smhd: [],
                            stbl: [],
                            stco: [],
                            stsc: [],
                            stsd: [],
                            stsz: [],
                            stts: [],
                            styp: [],
                            tfdt: [],
                            tfhd: [],
                            traf: [],
                            trak: [],
                            trun: [],
                            trex: [],
                            tkhd: [],
                            vmhd: []
                        }, "undefined" != typeof Uint8Array) {
                            for (e in L) L.hasOwnProperty(e) && (L[e] = [e.charCodeAt(0), e.charCodeAt(1), e.charCodeAt(2), e.charCodeAt(3)]);
                            C = new Uint8Array(["i".charCodeAt(0), "s".charCodeAt(0), "o".charCodeAt(0), "m".charCodeAt(0)]), I = new Uint8Array(["a".charCodeAt(0), "v".charCodeAt(0), "c".charCodeAt(0), "1".charCodeAt(0)]), M = new Uint8Array([0, 0, 0, 1]), R = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 118, 105, 100, 101, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 86, 105, 100, 101, 111, 72, 97, 110, 100, 108, 101, 114, 0]), P = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 115, 111, 117, 110, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 83, 111, 117, 110, 100, 72, 97, 110, 100, 108, 101, 114, 0]), N = {
                                video: R,
                                audio: P
                            }, U = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 12, 117, 114, 108, 32, 0, 0, 0, 1]), j = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0]), B = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0]), F = B, z = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]), H = B, O = new Uint8Array([0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0])
                        }
                    }(), l = function (e) {
                        var t, n, i = [],
                            o = 0;
                        for (t = 1; t < arguments.length; t++) i.push(arguments[t]);
                        for (t = i.length; t--;) o += i[t].byteLength;
                        for (n = new Uint8Array(o + 8), new DataView(n.buffer, n.byteOffset, n.byteLength).setUint32(0, n.byteLength), n.set(e, 4), t = 0, o = 8; t < i.length; t++) n.set(i[t], o), o += i[t].byteLength;
                        return n
                    }, u = function () {
                        return l(L.dinf, l(L.dref, U))
                    }, c = function (e) {
                        return l(L.esds, new Uint8Array([0, 0, 0, 0, 3, 25, 0, 0, 0, 4, 17, 64, 21, 0, 6, 0, 0, 0, 218, 192, 0, 0, 218, 192, 5, 2, e.audioobjecttype << 3 | e.samplingfrequencyindex >>> 1, e.samplingfrequencyindex << 7 | e.channelcount << 3, 6, 1, 2]))
                    }, k = function (e) {
                        return l(L.hdlr, N[e])
                    }, E = function (e) {
                        var t = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 3, 0, 1, 95, 144, e.duration >>> 24 & 255, e.duration >>> 16 & 255, e.duration >>> 8 & 255, 255 & e.duration, 85, 196, 0, 0]);
                        return e.samplerate && (t[12] = e.samplerate >>> 24 & 255, t[13] = e.samplerate >>> 16 & 255, t[14] = e.samplerate >>> 8 & 255, t[15] = 255 & e.samplerate), l(L.mdhd, t)
                    }, b = function (e) {
                        return l(L.mdia, E(e), k(e.type), p(e))
                    }, h = function (e) {
                        return l(L.mfhd, new Uint8Array([0, 0, 0, 0, (4278190080 & e) >> 24, (16711680 & e) >> 16, (65280 & e) >> 8, 255 & e]))
                    }, p = function (e) {
                        return l(L.minf, "video" === e.type ? l(L.vmhd, O) : l(L.smhd, j), u(), S(e))
                    }, f = function (e, t) {
                        for (var n = [], i = t.length; i--;) n[i] = x(t[i]);
                        return l.apply(null, [L.moof, h(e)].concat(n))
                    }, g = function (e) {
                        for (var t = e.length, n = [], i = 0; t--;) e[t].duration > i && (i = e[t].duration), n[t] = v(e[t]);
                        return l.apply(null, [L.moov, y(i)].concat(n).concat(m(e)))
                    }, m = function (e) {
                        for (var t = e.length, n = []; t--;) n[t] = A(e[t]);
                        return l.apply(null, [L.mvex].concat(n))
                    }, y = function (e) {
                        var t = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 2, 0, 1, 95, 144, (4278190080 & e) >> 24, (16711680 & e) >> 16, (65280 & e) >> 8, 255 & e, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 255, 255, 255, 255]);
                        return l(L.mvhd, t)
                    }, w = function (e) {
                        var t, n, i = e.samples || [],
                            o = new Uint8Array(4 + i.length);
                        for (n = 0; n < i.length; n++) t = i[n].flags, o[n + 4] = t.dependsOn << 4 | t.isDependedOn << 2 | t.hasRedundancy;
                        return l(L.sdtp, o)
                    }, S = function (e) {
                        return l(L.stbl, T(e), l(L.stts, H), l(L.stsc, F), l(L.stsz, z), l(L.stco, B))
                    }, T = function (e) {
                        return l(L.stsd, new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1]), "video" === e.type ? Y(e) : V(e))
                    }, Y = function (e) {
                        var t, n = e.sps || [],
                            i = e.pps || [],
                            o = [],
                            r = [];
                        for (t = 0; t < n.length; t++) o.push((65280 & n[t].byteLength) >>> 8), o.push(255 & n[t].byteLength), o = o.concat(Array.prototype.slice.call(n[t]));
                        for (t = 0; t < i.length; t++) r.push((65280 & i[t].byteLength) >>> 8), r.push(255 & i[t].byteLength), r = r.concat(Array.prototype.slice.call(i[t]));
                        var a = e.sarRatio[0],
                            s = e.sarRatio[1];
                        return l(L.avc1, new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, (65280 & e.width) >> 8, 255 & e.width, (65280 & e.height) >> 8, 255 & e.height, 0, 72, 0, 0, 0, 72, 0, 0, 0, 0, 0, 0, 0, 1, 19, 118, 105, 100, 101, 111, 106, 115, 45, 99, 111, 110, 116, 114, 105, 98, 45, 104, 108, 115, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 24, 17, 17]), l(L.avcC, new Uint8Array([1, e.profileIdc, e.profileCompatibility, e.levelIdc, 255, 224 | n.length].concat(o).concat([i.length]).concat(r))), l(L.btrt, new Uint8Array([0, 28, 156, 128, 0, 45, 198, 192, 0, 45, 198, 192])), l(L.pasp, new Uint8Array([a >> 24, a >> 16 & 255, a >> 8 & 255, 255 & a, s >> 24, s >> 16 & 255, s >> 8 & 255, 255 & s])))
                    }, V = function (e) {
                        return l(L.mp4a, new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, (65280 & e.channelcount) >> 8, 255 & e.channelcount, (65280 & e.samplesize) >> 8, 255 & e.samplesize, 0, 0, 0, 0, (65280 & e.samplerate) >> 8, 255 & e.samplerate, 0, 0]), c(e))
                    }, _ = function (e) {
                        var t = new Uint8Array([0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, 0, (4278190080 & e.id) >> 24, (16711680 & e.id) >> 16, (65280 & e.id) >> 8, 255 & e.id, 0, 0, 0, 0, (4278190080 & e.duration) >> 24, (16711680 & e.duration) >> 16, (65280 & e.duration) >> 8, 255 & e.duration, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, (65280 & e.width) >> 8, 255 & e.width, 0, 0, (65280 & e.height) >> 8, 255 & e.height, 0, 0]);
                        return l(L.tkhd, t)
                    }, x = function (e) {
                        var t, n, i, o, r, a;
                        return t = l(L.tfhd, new Uint8Array([0, 0, 0, 58, (4278190080 & e.id) >> 24, (16711680 & e.id) >> 16, (65280 & e.id) >> 8, 255 & e.id, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])), r = Math.floor(e.baseMediaDecodeTime / (X + 1)), a = Math.floor(e.baseMediaDecodeTime % (X + 1)), n = l(L.tfdt, new Uint8Array([1, 0, 0, 0, r >>> 24 & 255, r >>> 16 & 255, r >>> 8 & 255, 255 & r, a >>> 24 & 255, a >>> 16 & 255, a >>> 8 & 255, 255 & a])), "audio" === e.type ? (i = D(e, 92), l(L.traf, t, n, i)) : (o = w(e), i = D(e, o.length + 92), l(L.traf, t, n, i, o))
                    }, v = function (e) {
                        return e.duration = e.duration || 4294967295, l(L.trak, _(e), b(e))
                    }, A = function (e) {
                        var t = new Uint8Array([0, 0, 0, 0, (4278190080 & e.id) >> 24, (16711680 & e.id) >> 16, (65280 & e.id) >> 8, 255 & e.id, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1]);
                        return "video" !== e.type && (t[t.length - 1] = 0), l(L.trex, t)
                    }, Q = function (e, t) {
                        var n = 0,
                            i = 0,
                            o = 0,
                            r = 0;
                        return e.length && (void 0 !== e[0].duration && (n = 1), void 0 !== e[0].size && (i = 2), void 0 !== e[0].flags && (o = 4), void 0 !== e[0].compositionTimeOffset && (r = 8)), [0, 0, n | i | o | r, 1, (4278190080 & e.length) >>> 24, (16711680 & e.length) >>> 16, (65280 & e.length) >>> 8, 255 & e.length, (4278190080 & t) >>> 24, (16711680 & t) >>> 16, (65280 & t) >>> 8, 255 & t]
                    }, G = function (e, t) {
                        var n, i, o, r;
                        for (t += 20 + 16 * (i = e.samples || []).length, n = Q(i, t), r = 0; r < i.length; r++) o = i[r], n = n.concat([(4278190080 & o.duration) >>> 24, (16711680 & o.duration) >>> 16, (65280 & o.duration) >>> 8, 255 & o.duration, (4278190080 & o.size) >>> 24, (16711680 & o.size) >>> 16, (65280 & o.size) >>> 8, 255 & o.size, o.flags.isLeading << 2 | o.flags.dependsOn, o.flags.isDependedOn << 6 | o.flags.hasRedundancy << 4 | o.flags.paddingValue << 1 | o.flags.isNonSyncSample, 61440 & o.flags.degradationPriority, 15 & o.flags.degradationPriority, (4278190080 & o.compositionTimeOffset) >>> 24, (16711680 & o.compositionTimeOffset) >>> 16, (65280 & o.compositionTimeOffset) >>> 8, 255 & o.compositionTimeOffset]);
                        return l(L.trun, new Uint8Array(n))
                    }, q = function (e, t) {
                        var n, i, o, r;
                        for (t += 20 + 8 * (i = e.samples || []).length, n = Q(i, t), r = 0; r < i.length; r++) o = i[r], n = n.concat([(4278190080 & o.duration) >>> 24, (16711680 & o.duration) >>> 16, (65280 & o.duration) >>> 8, 255 & o.duration, (4278190080 & o.size) >>> 24, (16711680 & o.size) >>> 16, (65280 & o.size) >>> 8, 255 & o.size]);
                        return l(L.trun, new Uint8Array(n))
                    }, D = function (e, t) {
                        return "audio" === e.type ? q(e, t) : G(e, t)
                    };
                    var J, Z, $, ee, te, ne = {
                            ftyp: d = function () {
                                return l(L.ftyp, C, M, C, I)
                            }, mdat: function (e) {
                                return l(L.mdat, e)
                            }, moof: f,
                            moov: g,
                            initSegment: function (e) {
                                var t, n = d(),
                                    i = g(e);
                                return (t = new Uint8Array(n.byteLength + i.byteLength)).set(n), t.set(i, n.byteLength), t
                            }
                        },
                        ie = function (e) {
                            return e >>> 0
                        };
                    $ = function (e) {
                        return J(e, ["moov", "trak"]).reduce(function (e, t) {
                            var n, i, o, r, a;
                            return (n = J(t, ["tkhd"])[0]) ? (i = n[0], r = ie(n[o = 0 === i ? 12 : 20] << 24 | n[o + 1] << 16 | n[o + 2] << 8 | n[o + 3]), (a = J(t, ["mdia", "mdhd"])[0]) ? (o = 0 === (i = a[0]) ? 12 : 20, e[r] = ie(a[o] << 24 | a[o + 1] << 16 | a[o + 2] << 8 | a[o + 3]), e) : null) : null
                        }, {})
                    }, ee = function (e, t) {
                        var n, i, o;
                        return n = J(t, ["moof", "traf"]), i = [].concat.apply([], n.map(function (t) {
                            return J(t, ["tfhd"]).map(function (n) {
                                var i, o;
                                return i = ie(n[4] << 24 | n[5] << 16 | n[6] << 8 | n[7]), o = e[i] || 9e4, (J(t, ["tfdt"]).map(function (e) {
                                    var t, n;
                                    return t = e[0], n = ie(e[4] << 24 | e[5] << 16 | e[6] << 8 | e[7]), 1 === t && (n *= Math.pow(2, 32), n += ie(e[8] << 24 | e[9] << 16 | e[10] << 8 | e[11])), n
                                })[0] || 1 / 0) / o
                            })
                        })), o = Math.min.apply(null, i), isFinite(o) ? o : 0
                    }, te = function (e) {
                        var t = J(e, ["moov", "trak"]),
                            n = [];
                        return t.forEach(function (e) {
                            var t = J(e, ["mdia", "hdlr"]),
                                i = J(e, ["tkhd"]);
                            t.forEach(function (e, t) {
                                var o, r, a = Z(e.subarray(8, 12)),
                                    s = i[t];
                                "vide" === a && (r = 0 === (o = new DataView(s.buffer, s.byteOffset, s.byteLength)).getUint8(0) ? o.getUint32(12) : o.getUint32(20), n.push(r))
                            })
                        }), n
                    };
                    var oe = {
                            findBox: J = function (e, t) {
                                var n, i, o, r, a, s = [];
                                if (!t.length) return null;
                                for (n = 0; n < e.byteLength;) i = ie(e[n] << 24 | e[n + 1] << 16 | e[n + 2] << 8 | e[n + 3]), o = Z(e.subarray(n + 4, n + 8)), r = 1 < i ? n + i : e.byteLength, o === t[0] && (1 === t.length ? s.push(e.subarray(n + 8, r)) : (a = J(e.subarray(n + 8, r), t.slice(1))).length && (s = s.concat(a))), n = r;
                                return s
                            }, parseType: Z = function (e) {
                                var t = "";
                                return t += String.fromCharCode(e[0]), t += String.fromCharCode(e[1]), t += String.fromCharCode(e[2]), t += String.fromCharCode(e[3])
                            }, timescale: $,
                            startTime: ee,
                            videoTrackIds: te
                        },
                        re = function () {
                            this.init = function () {
                                var e = {};
                                this.on = function (t, n) {
                                    e[t] || (e[t] = []), e[t] = e[t].concat(n)
                                }, this.off = function (t, n) {
                                    var i;
                                    return !!e[t] && (i = e[t].indexOf(n), e[t] = e[t].slice(), e[t].splice(i, 1), -1 < i)
                                }, this.trigger = function (t) {
                                    var n, i, o, r;
                                    if (n = e[t])
                                        if (2 === arguments.length)
                                            for (o = n.length, i = 0; i < o; ++i) n[i].call(this, arguments[1]);
                                        else {
                                            for (r = [], i = arguments.length, i = 1; i < arguments.length; ++i) r.push(arguments[i]);
                                            for (o = n.length, i = 0; i < o; ++i) n[i].apply(this, r)
                                        }
                                }, this.dispose = function () {
                                    e = {}
                                }
                            }
                        };
                    re.prototype.pipe = function (e) {
                        return this.on("data", function (t) {
                            e.push(t)
                        }), this.on("done", function (t) {
                            e.flush(t)
                        }), e
                    }, re.prototype.push = function (e) {
                        this.trigger("data", e)
                    }, re.prototype.flush = function (e) {
                        this.trigger("done", e)
                    };
                    var ae = re,
                        se = /Version\/[\d.]+\s*Safari\/[\d.]+/.test(navigator.userAgent),
                        le = 3600,
                        ue = function (e) {
                            var t, n, i = [],
                                o = [];
                            for (i.byteLength = 0, i.empty = !0, t = 0; t < e.length; t++)
                                if ("access_unit_delimiter_rbsp" === (n = e[t]).nalUnitType) {
                                    if (i.length)
                                        if (i.duration = n.dts - i.dts, !i.empty && 0 < i.duration) delete i.empty, o.push(i), le = i.duration;
                                        else {
                                            var r = o[o.length - 1];
                                            r && (r.duration += i.duration || 0)
                                        }(i = [n]).empty = !0, i.byteLength = n.data.byteLength, i.pts = n.pts, i.dts = n.dts
                                } else "slice_layer_without_partitioning_rbsp_idr" === n.nalUnitType ? (i.keyFrame = !0, i.empty = !1) : "NDR" === n.nalUnitType && (i.empty = !1), i.duration = n.dts - i.dts, i.byteLength += n.data.byteLength, i.push(n);
                            return (!i.duration || i.duration <= 0) && (i.duration = o[o.length - 1] && o[o.length - 1].duration || le, le = i.duration), !i.empty && 0 < i.duration ? (delete i.empty, o.push(i)) : o[o.length - 1] && (o[o.length - 1].duration += i.duration || 0), o
                        },
                        ce = function (e) {
                            var t, n, i = [],
                                o = [];
                            for (i.byteLength = 0, i.nalCount = 0, i.duration = 0, i.pts = e[0].pts, i.dts = e[0].dts, o.byteLength = 0, o.nalCount = 0, o.duration = 0, o.pts = e[0].pts, o.dts = e[0].dts, t = 0; t < e.length; t++)(n = e[t]).keyFrame ? (i.length && (o.push(i), o.byteLength += i.byteLength, o.nalCount += i.nalCount, o.duration += i.duration), (i = [n]).nalCount = n.length, i.byteLength = n.byteLength, i.pts = n.pts, i.dts = n.dts, i.duration = n.duration) : (i.duration += n.duration, i.nalCount += n.length, i.byteLength += n.byteLength, i.push(n));
                            return o.length && i.duration <= 0 && (i.duration = o[o.length - 1].duration), o.byteLength += i.byteLength, o.nalCount += i.nalCount, o.duration += i.duration, o.push(i), o
                        },
                        de = function (e) {
                            var t;
                            return !e[0][0].keyFrame && 1 < e.length && (t = e.shift(), e.byteLength -= t.byteLength, e.nalCount -= t.nalCount, e[0][0].dts = t.dts, e[0][0].pts = t.pts, e[0][0].duration += t.duration), e
                        },
                        he = function (e, t) {
                            var n, i, o, r, a, s, l, u = 0,
                                c = e.dts,
                                d = e.pts,
                                h = t || 0,
                                p = [];
                            if (se) var f = e[e.length - 1],
                                g = e.reduce(function (e, t) {
                                    return e + t.length
                                }, 0),
                                m = Math.round((f[f.length - 1].dts - e.dts) / (g - 1));
                            for (n = 0; n < e.length; n++)
                                for (r = e[n], i = 0; i < r.length; i++) {
                                    if ((a = r[i]).dts = Math.max(c, a.dts), a.pts = Math.max(d, a.pts), se) a.dts = c + u * m, a.duration = m, u++;
                                    else {
                                        var y = r[i + 1] || e[n + 1] && e[n + 1][0];
                                        if (y) a.duration = Math.max(0, y.dts - a.dts);
                                        else {
                                            var v = r[i - 1] || e[n - 1] && e[n - 1][e[n - 1].length - 1];
                                            v && (a.duration = Math.max(0, a.dts - v.dts))
                                        }
                                    }
                                    s = a, l = void 0, (l = {
                                        size: 0,
                                        flags: {
                                            isLeading: 0,
                                            dependsOn: 1,
                                            isDependedOn: 0,
                                            hasRedundancy: 0,
                                            degradationPriority: 0,
                                            isNonSyncSample: 1
                                        }
                                    }).dataOffset = h, l.compositionTimeOffset = se ? Math.max(0, s.duration * Math.round((s.pts - s.dts) / s.duration)) : Math.round(s.pts - s.dts), l.duration = s.duration, l.size = 4 * s.length, l.size += s.byteLength, s.keyFrame && (l.flags.dependsOn = 2, l.flags.isNonSyncSample = 0), h += (o = l).size, p.push(o)
                                }
                            return p
                        },
                        pe = function (e) {
                            var t, n, i, o, r, a, s = 0,
                                l = e.byteLength,
                                u = e.nalCount,
                                c = new Uint8Array(l + 4 * u),
                                d = new DataView(c.buffer);
                            for (t = 0; t < e.length; t++)
                                for (o = e[t], n = 0; n < o.length; n++)
                                    for (r = o[n], i = 0; i < r.length; i++) a = r[i], d.setUint32(s, a.data.byteLength), s += 4, c.set(a.data, s), s += a.data.byteLength;
                            return c
                        },
                        fe = function (e, t, n) {
                            switch (6 <= t && (e = 5), "mp4a.40." + (e || 2)) {
                            case "mp4a.40.2":
                                if (1 === n) return new Uint8Array([0, 200, 0, 128, 35, 128]);
                                if (2 === n) return new Uint8Array([33, 0, 73, 144, 2, 25, 0, 35, 128]);
                                if (3 === n) return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 142]);
                                if (4 === n) return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 128, 44, 128, 8, 2, 56]);
                                if (5 === n) return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 56]);
                                if (6 === n) return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 0, 178, 0, 32, 8, 224]);
                                break;
                            default:
                                if (1 === n) return new Uint8Array([1, 64, 34, 128, 163, 78, 230, 128, 186, 8, 0, 0, 0, 28, 6, 241, 193, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]);
                                if (2 === n) return new Uint8Array([1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0, 0, 0, 149, 0, 6, 241, 161, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]);
                                if (3 === n) return new Uint8Array([1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0, 0, 0, 149, 0, 6, 241, 161, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94])
                            }
                            return null
                        },
                        ge = 9e4,
                        me = {
                            prefixWithSilence: function (e, t, n, i, o) {
                                var r = 0,
                                    a = 0,
                                    s = 0,
                                    l = 0;
                                if (t.length) {
                                    var u = ge / (e.samplerate / 1024),
                                        c = {};
                                    return (n || i) && (l = o - (n < i ? ge < i - n && console.warn("AV 差距过大 audio偏移过多，", (i - n) / ge) : (s = n - i, 0 < (r = Math.floor(s / u)) && (c.frontGap = (1e3 * s / ge).toFixed(3), c.frontFillCount = r, addFramesToFront(e, t, u, r))), (n = i) + t.length * u), a = Math.ceil(l / u), c.rearGap = (1e3 * l / ge).toFixed(3), c.rearFillCount = a, .001 < l / ge && 0 < a ? function (e, t, n, i) {
                                        var o;
                                        o = 2 < i && fe(e.audioobjecttype, e.samplingfrequencyindex, e.channelcount) || t[t.length - 1].data;
                                        for (var r = t[t.length - 1], a = 0; a < i; a++) t.push({
                                            inert: !0,
                                            audioobjecttype: r.audioobjecttype,
                                            channelcount: r.channelcount,
                                            dts: r.pts + n * (a + 1),
                                            pts: r.dts + n * (a + 1),
                                            data: o,
                                            sampleCount: e.sampleCount,
                                            samplerate: e.samplerate,
                                            samplesize: e.samplesize,
                                            samplingfrequencyindex: r.samplingfrequencyindex
                                        })
                                    }(e, t, u, a) : a < 0 && (c.rearGap = (1e3 * l / ge).toFixed(3), function (e, t) {
                                        for (; 0 < t-- && e[0].insert;) e.shift();
                                        for (; 0 < t--;) e.pop()
                                    }(t, -a))), e.baseMediaDecodeTime = n * e.samplerate / ge, c
                                }
                            }, fixAudioFrames: function (e, n, i) {
                                for (var o = ge / e.samplerate * 1024, r = 0; r < n.length; r++) {
                                    var a = n[r],
                                        s = a.pts - i,
                                        l = 1e3 * s / ge;
                                    if (s <= -o) n.splice(r, 1), r--;
                                    else if (o <= s && l < 1e4 && i) {
                                        var u = Math.round(s / o);
                                        t(e, n, r, i, o, u), i += u * o, r += u, a.pts = a.dts = i, i += o
                                    } else a.pts = a.dts = i, i += o
                                }
                                return i
                            }, trimAdtsFramesByEarliestDts: function (e, t, n) {
                                return t.minSegmentDts >= n ? e : (t.minSegmentDts = 1 / 0, e.filter(function (e) {
                                    return e.dts >= n && (t.minSegmentDts = Math.min(t.minSegmentDts, e.dts), t.minSegmentPts = t.minSegmentDts, !0)
                                }))
                            }, generateSampleTable: function (e) {
                                var t, n, i = [];
                                for (t = 0; t < e.length; t++) n = e[t], i.push({
                                    size: n.data.byteLength,
                                    duration: 1024
                                });
                                return i
                            }, concatenateFrameData: function (e) {
                                var t, n, i = 0,
                                    o = new Uint8Array(function (e) {
                                        var t, n = 0;
                                        for (t = 0; t < e.length; t++) n += e[t].data.byteLength;
                                        return n
                                    }(e));
                                for (t = 0; t < e.length; t++) n = e[t], o.set(n.data, i), i += n.data.byteLength;
                                return o
                            }
                        },
                        ye = function (e) {
                            delete e.videoMinPts, delete e.videoMinDts, delete e.videoMaxPts, delete e.videoMaxDts, delete e.audioMinPts, delete e.audioMinDts, delete e.audioMaxPts, delete e.audioMaxDts
                        },
                        ve = function (e, t) {
                            delete e.minSegmentDts, delete e.maxSegmentDts, delete e.minSegmentPts, delete e.maxSegmentPts, delete t[e.type + "MinPts"], delete t[e.type + "MinDts"], delete t[e.type + "MaxPts"], delete t[e.type + "MaxDts"]
                        },
                        _e = function (e, t) {
                            var n, i = e.minSegmentDts;
                            return t || (i -= e.timelineStartInfo.dts), n = e.timelineStartInfo.baseMediaDecodeTime, n += i, n = Math.max(0, n), "audio" === e.type && (n *= e.samplerate / 9e4, n = Math.floor(n)), n
                        },
                        be = function (e, t, n) {
                            if ("number" == typeof t.pts) {
                                var i = e.type + "MinPts",
                                    o = e.type + "MaxPts";
                                void 0 === n[i] ? n[i] = t.pts : n[i] = Math.min(t.pts, n[i]), void 0 === n[o] ? n[o] = t.pts : n[o] = Math.max(t.pts, n[i]), void 0 === e.minSegmentPts ? e.minSegmentPts = t.pts : e.minSegmentPts = Math.min(e.minSegmentPts, t.pts), void 0 === e.maxSegmentPts ? e.maxSegmentPts = t.pts : e.maxSegmentPts = Math.max(e.maxSegmentPts, t.pts)
                            }
                            if ("number" == typeof t.duration && (n.duration = t.duration), "number" == typeof t.dts) {
                                var r = e.type + "MinDts",
                                    a = e.type + "MaxDts";
                                void 0 === n[r] ? n[r] = t.dts : n[r] = Math.min(t.dts, n[r]), void 0 === n[a] ? n[a] = t.dts : n[a] = Math.max(t.dts, n[a]), void 0 === e.minSegmentDts ? e.minSegmentDts = t.dts : e.minSegmentDts = Math.min(e.minSegmentDts, t.dts), void 0 === e.maxSegmentDts ? e.maxSegmentDts = t.dts : e.maxSegmentDts = Math.max(e.maxSegmentDts, t.dts)
                            }
                        },
                        Ee = function (e) {
                            if (e.continuous && e.dts && e.videoMaxDts - e.dts < e.nextVideoDts && (e.pts = void 0, e.dts = void 0), void 0 === e.audioMinPts && (e.audioMinPts = e.videoMinPts), void 0 === e.audioMinDts && (e.audioMinDts = e.videoMinDts), void 0 === e.pts && e.videoMinPts && e.audioMinPts) {
                                var t = Math.min(e.videoMinPts, e.audioMinPts);
                                e.audioVideoShift = e.audioMinPts - e.videoMinPts, e.pts = t - (9e4 * e.timeOffset || 0)
                            }
                            if (void 0 === e.dts && e.videoMinDts && e.audioMinDts) {
                                var n = Math.min(e.videoMinDts, e.audioMinDts);
                                e.dts = n - (9e4 * e.timeOffset || 0)
                            }
                        },
                        ke = function (e) {
                            delete e.pts, delete e.dts, ye(e)
                        },
                        we = function (e) {
                            for (var t = 0, n = {
                                payloadType: -1,
                                payloadSize: 0
                            }, i = 0, o = 0; t < e.byteLength && 128 !== e[t];) {
                                for (; 255 === e[t];) i += 255, t++;
                                for (i += e[t++]; 255 === e[t];) o += 255, t++;
                                if (o += e[t++], !n.payload && 4 === i) {
                                    n.payloadType = i, n.payloadSize = o, n.payload = e.subarray(t, t + o);
                                    break
                                }
                                t += o, o = i = 0
                            }
                            return n
                        },
                        Se = function (e) {
                            return 181 !== e.payload[0] ? null : 49 != (e.payload[1] << 8 | e.payload[2]) ? null : "GA94" !== String.fromCharCode(e.payload[3], e.payload[4], e.payload[5], e.payload[6]) ? null : 3 !== e.payload[7] ? null : e.payload.subarray(8, e.payload.length - 1)
                        },
                        Te = function (e, t) {
                            var n, i, o, r, a = [];
                            if (!(64 & t[0])) return a;
                            for (i = 31 & t[0], n = 0; n < i; n++) r = {
                                type: 3 & t[2 + (o = 3 * n)],
                                pts: e
                            }, 4 & t[o + 2] && (r.ccData = t[o + 3] << 8 | t[o + 4], a.push(r));
                            return a
                        },
                        xe = function (e) {
                            for (var t, n, i = e.byteLength, o = [], r = 1; r < i - 2;) 0 === e[r] && 0 === e[r + 1] && 3 === e[r + 2] ? (o.push(r + 2), r += 2) : r++;
                            if (0 === o.length) return e;
                            t = i - o.length, n = new Uint8Array(t);
                            var a = 0;
                            for (r = 0; r < t; a++, r++) a === o[0] && (a++, o.shift()), n[r] = e[a];
                            return n
                        },
                        Ae = function e() {
                            e.prototype.init.call(this), this.captionPackets_ = [], this.ccStreams_ = [new Ie(0, 0), new Ie(0, 1), new Ie(1, 0), new Ie(1, 1)], this.reset(), this.ccStreams_.forEach(function (e) {
                                e.on("data", this.trigger.bind(this, "data")), e.on("done", this.trigger.bind(this, "done"))
                            }, this)
                        };
                    (Ae.prototype = new ae).push = function (e) {
                        var t, n, i;
                        if ("sei_rbsp" === e.nalUnitType && 4 === (t = we(e.escapedRBSP)).payloadType && (n = Se(t)))
                            if (e.dts < this.latestDts_) this.ignoreNextEqualDts_ = !0;
                            else {
                                if (e.dts === this.latestDts_ && this.ignoreNextEqualDts_) return void(--this.numSameDts_ || (this.ignoreNextEqualDts_ = !1));
                                i = Te(e.pts, n), this.captionPackets_ = this.captionPackets_.concat(i), this.latestDts_ !== e.dts && (this.numSameDts_ = 0), this.numSameDts_++, this.latestDts_ = e.dts
                            }
                    }, Ae.prototype.flush = function () {
                        this.captionPackets_.length ? (this.captionPackets_.forEach(function (e, t) {
                            e.presortIndex = t
                        }), this.captionPackets_.sort(function (e, t) {
                            return e.pts === t.pts ? e.presortIndex - t.presortIndex : e.pts - t.pts
                        }), this.captionPackets_.forEach(function (e) {
                            e.type < 2 && this.dispatchCea608Packet(e)
                        }, this), this.captionPackets_.length = 0, this.ccStreams_.forEach(function (e) {
                            e.flush()
                        }, this)) : this.ccStreams_.forEach(function (e) {
                            e.flush()
                        }, this)
                    }, Ae.prototype.reset = function () {
                        this.latestDts_ = null, this.ignoreNextEqualDts_ = !1, this.numSameDts_ = 0, this.activeCea608Channel_ = [null, null], this.ccStreams_.forEach(function (e) {
                            e.reset()
                        })
                    }, Ae.prototype.dispatchCea608Packet = function (e) {
                        this.setsChannel1Active(e) ? this.activeCea608Channel_[e.type] = 0 : this.setsChannel2Active(e) && (this.activeCea608Channel_[e.type] = 1), null !== this.activeCea608Channel_[e.type] && this.ccStreams_[(e.type << 1) + this.activeCea608Channel_[e.type]].push(e)
                    }, Ae.prototype.setsChannel1Active = function (e) {
                        return 4096 == (30720 & e.ccData)
                    }, Ae.prototype.setsChannel2Active = function (e) {
                        return 6144 == (30720 & e.ccData)
                    };
                    var De = {
                            42: 225,
                            92: 233,
                            94: 237,
                            95: 243,
                            96: 250,
                            123: 231,
                            124: 247,
                            125: 209,
                            126: 241,
                            127: 9608,
                            304: 174,
                            305: 176,
                            306: 189,
                            307: 191,
                            308: 8482,
                            309: 162,
                            310: 163,
                            311: 9834,
                            312: 224,
                            313: 160,
                            314: 232,
                            315: 226,
                            316: 234,
                            317: 238,
                            318: 244,
                            319: 251,
                            544: 193,
                            545: 201,
                            546: 211,
                            547: 218,
                            548: 220,
                            549: 252,
                            550: 8216,
                            551: 161,
                            552: 42,
                            553: 39,
                            554: 8212,
                            555: 169,
                            556: 8480,
                            557: 8226,
                            558: 8220,
                            559: 8221,
                            560: 192,
                            561: 194,
                            562: 199,
                            563: 200,
                            564: 202,
                            565: 203,
                            566: 235,
                            567: 206,
                            568: 207,
                            569: 239,
                            570: 212,
                            571: 217,
                            572: 249,
                            573: 219,
                            574: 171,
                            575: 187,
                            800: 195,
                            801: 227,
                            802: 205,
                            803: 204,
                            804: 236,
                            805: 210,
                            806: 242,
                            807: 213,
                            808: 245,
                            809: 123,
                            810: 125,
                            811: 92,
                            812: 94,
                            813: 95,
                            814: 124,
                            815: 126,
                            816: 196,
                            817: 228,
                            818: 214,
                            819: 246,
                            820: 223,
                            821: 165,
                            822: 164,
                            823: 9474,
                            824: 197,
                            825: 229,
                            826: 216,
                            827: 248,
                            828: 9484,
                            829: 9488,
                            830: 9492,
                            831: 9496
                        },
                        Le = function (e) {
                            return null === e ? "" : (e = De[e] || e, String.fromCharCode(e))
                        },
                        Ce = [4352, 4384, 4608, 4640, 5376, 5408, 5632, 5664, 5888, 5920, 4096, 4864, 4896, 5120, 5152],
                        Me = function () {
                            for (var e = [], t = 15; t--;) e.push("");
                            return e
                        },
                        Ie = function e(t, n) {
                            e.prototype.init.call(this), this.field_ = t || 0, this.dataChannel_ = n || 0, this.name_ = "CC" + (1 + (this.field_ << 1 | this.dataChannel_)), this.setConstants(), this.reset(), this.push = function (e) {
                                var t, n, i, o, r;
                                if ((t = 32639 & e.ccData) !== this.lastControlCode_) {
                                    if (4096 == (61440 & t) ? this.lastControlCode_ = t : t !== this.PADDING_ && (this.lastControlCode_ = null), i = t >>> 8, o = 255 & t, t !== this.PADDING_)
                                        if (t === this.RESUME_CAPTION_LOADING_) this.mode_ = "popOn";
                                        else if (t === this.END_OF_CAPTION_) this.mode_ = "popOn", this.clearFormatting(e.pts), this.flushDisplayed(e.pts), n = this.displayed_, this.displayed_ = this.nonDisplayed_, this.nonDisplayed_ = n, this.startPts_ = e.pts;
                                    else if (t === this.ROLL_UP_2_ROWS_) this.rollUpRows_ = 2, this.setRollUp(e.pts);
                                    else if (t === this.ROLL_UP_3_ROWS_) this.rollUpRows_ = 3, this.setRollUp(e.pts);
                                    else if (t === this.ROLL_UP_4_ROWS_) this.rollUpRows_ = 4, this.setRollUp(e.pts);
                                    else if (t === this.CARRIAGE_RETURN_) this.clearFormatting(e.pts), this.flushDisplayed(e.pts), this.shiftRowsUp_(), this.startPts_ = e.pts;
                                    else if (t === this.BACKSPACE_) "popOn" === this.mode_ ? this.nonDisplayed_[this.row_] = this.nonDisplayed_[this.row_].slice(0, -1) : this.displayed_[this.row_] = this.displayed_[this.row_].slice(0, -1);
                                    else if (t === this.ERASE_DISPLAYED_MEMORY_) this.flushDisplayed(e.pts), this.displayed_ = Me();
                                    else if (t === this.ERASE_NON_DISPLAYED_MEMORY_) this.nonDisplayed_ = Me();
                                    else if (t === this.RESUME_DIRECT_CAPTIONING_) "paintOn" !== this.mode_ && (this.flushDisplayed(e.pts), this.displayed_ = Me()), this.mode_ = "paintOn", this.startPts_ = e.pts;
                                    else if (this.isSpecialCharacter(i, o)) r = Le((i = (3 & i) << 8) | o), this[this.mode_](e.pts, r), this.column_++;
                                    else if (this.isExtCharacter(i, o)) "popOn" === this.mode_ ? this.nonDisplayed_[this.row_] = this.nonDisplayed_[this.row_].slice(0, -1) : this.displayed_[this.row_] = this.displayed_[this.row_].slice(0, -1), r = Le((i = (3 & i) << 8) | o), this[this.mode_](e.pts, r), this.column_++;
                                    else if (this.isMidRowCode(i, o)) this.clearFormatting(e.pts), this[this.mode_](e.pts, " "), this.column_++, 14 == (14 & o) && this.addFormatting(e.pts, ["i"]), 1 == (1 & o) && this.addFormatting(e.pts, ["u"]);
                                    else if (this.isOffsetControlCode(i, o)) this.column_ += 3 & o;
                                    else if (this.isPAC(i, o)) {
                                        var a = Ce.indexOf(7968 & t);
                                        "rollUp" === this.mode_ && (a - this.rollUpRows_ + 1 < 0 && (a = this.rollUpRows_ - 1), this.setRollUp(e.pts, a)), a !== this.row_ && (this.clearFormatting(e.pts), this.row_ = Math.max(0, a)), 1 & o && -1 === this.formatting_.indexOf("u") && this.addFormatting(e.pts, ["u"]), 16 == (16 & t) && (this.column_ = 4 * ((14 & t) >> 1)), this.isColorPAC(o) && 14 == (14 & o) && this.addFormatting(e.pts, ["i"])
                                    } else this.isNormalChar(i) && (0 === o && (o = null), r = Le(i), r += Le(o), this[this.mode_](e.pts, r), this.column_ += r.length)
                                } else this.lastControlCode_ = null
                            }
                        };
                    Ie.prototype = new ae, Ie.prototype.flushDisplayed = function (e) {
                        var t = this.displayed_.map(function (e) {
                            try {
                                return e.trim()
                            } catch (e) {
                                return console.error("Skipping malformed caption."), ""
                            }
                        }).join("\\n").replace(/^\\n+|\\n+$/g, "");
                        t.length && this.trigger("data", {
                            startPts: this.startPts_,
                            endPts: e,
                            text: t,
                            stream: this.name_
                        })
                    }, Ie.prototype.reset = function () {
                        this.mode_ = "popOn", this.topRow_ = 0, this.startPts_ = 0, this.displayed_ = Me(), this.nonDisplayed_ = Me(), this.lastControlCode_ = null, this.column_ = 0, this.row_ = 14, this.rollUpRows_ = 2, this.formatting_ = []
                    }, Ie.prototype.setConstants = function () {
                        0 === this.dataChannel_ ? (this.BASE_ = 16, this.EXT_ = 17, this.CONTROL_ = (20 | this.field_) << 8, this.OFFSET_ = 23) : 1 === this.dataChannel_ && (this.BASE_ = 24, this.EXT_ = 25, this.CONTROL_ = (28 | this.field_) << 8, this.OFFSET_ = 31), this.PADDING_ = 0, this.RESUME_CAPTION_LOADING_ = 32 | this.CONTROL_, this.END_OF_CAPTION_ = 47 | this.CONTROL_, this.ROLL_UP_2_ROWS_ = 37 | this.CONTROL_, this.ROLL_UP_3_ROWS_ = 38 | this.CONTROL_, this.ROLL_UP_4_ROWS_ = 39 | this.CONTROL_, this.CARRIAGE_RETURN_ = 45 | this.CONTROL_, this.RESUME_DIRECT_CAPTIONING_ = 41 | this.CONTROL_, this.BACKSPACE_ = 33 | this.CONTROL_, this.ERASE_DISPLAYED_MEMORY_ = 44 | this.CONTROL_, this.ERASE_NON_DISPLAYED_MEMORY_ = 46 | this.CONTROL_
                    }, Ie.prototype.isSpecialCharacter = function (e, t) {
                        return e === this.EXT_ && 48 <= t && t <= 63
                    }, Ie.prototype.isExtCharacter = function (e, t) {
                        return (e === this.EXT_ + 1 || e === this.EXT_ + 2) && 32 <= t && t <= 63
                    }, Ie.prototype.isMidRowCode = function (e, t) {
                        return e === this.EXT_ && 32 <= t && t <= 47
                    }, Ie.prototype.isOffsetControlCode = function (e, t) {
                        return e === this.OFFSET_ && 33 <= t && t <= 35
                    }, Ie.prototype.isPAC = function (e, t) {
                        return e >= this.BASE_ && e < this.BASE_ + 8 && 64 <= t && t <= 127
                    }, Ie.prototype.isColorPAC = function (e) {
                        return 64 <= e && e <= 79 || 96 <= e && e <= 127
                    }, Ie.prototype.isNormalChar = function (e) {
                        return 32 <= e && e <= 127
                    }, Ie.prototype.setRollUp = function (e, t) {
                        if ("rollUp" !== this.mode_ && (this.row_ = 14, this.mode_ = "rollUp", this.flushDisplayed(e), this.nonDisplayed_ = Me(), this.displayed_ = Me()), void 0 !== t && t !== this.row_)
                            for (var n = 0; n < this.rollUpRows_; n++) this.displayed_[t - n] = this.displayed_[this.row_ - n], this.displayed_[this.row_ - n] = "";
                        void 0 === t && (t = this.row_), this.topRow_ = t - this.rollUpRows_ + 1
                    }, Ie.prototype.addFormatting = function (e, t) {
                        this.formatting_ = this.formatting_.concat(t);
                        var n = t.reduce(function (e, t) {
                            return e + "<" + t + ">"
                        }, "");
                        this[this.mode_](e, n)
                    }, Ie.prototype.clearFormatting = function (e) {
                        if (this.formatting_.length) {
                            var t = this.formatting_.reverse().reduce(function (e, t) {
                                return e + "</" + t + ">"
                            }, "");
                            this.formatting_ = [], this[this.mode_](e, t)
                        }
                    }, Ie.prototype.popOn = function (e, t) {
                        var n = this.nonDisplayed_[this.row_];
                        n += t, this.nonDisplayed_[this.row_] = n
                    }, Ie.prototype.rollUp = function (e, t) {
                        var n = this.displayed_[this.row_];
                        n += t, this.displayed_[this.row_] = n
                    }, Ie.prototype.shiftRowsUp_ = function () {
                        var e;
                        for (e = 0; e < this.topRow_; e++) this.displayed_[e] = "";
                        for (e = this.row_ + 1; e < 15; e++) this.displayed_[e] = "";
                        for (e = this.topRow_; e < this.row_; e++) this.displayed_[e] = this.displayed_[e + 1];
                        this.displayed_[this.row_] = ""
                    }, Ie.prototype.paintOn = function (e, t) {
                        var n = this.displayed_[this.row_];
                        n += t, this.displayed_[this.row_] = n
                    };
                    var Re = {
                            CaptionStream: Ae,
                            Cea608Stream: Ie
                        },
                        Pe = {
                            H264_STREAM_TYPE: 27,
                            ADTS_STREAM_TYPE: 15,
                            METADATA_STREAM_TYPE: 21
                        },
                        Ne = {
                            16: 10,
                            24: 12,
                            32: 14
                        },
                        Oe = [1, 2, 4, 8, 16, 32, 64, 128, 27, 54, 108, 216, 171, 77, 154, 47, 94, 188, 99, 198, 151, 53, 106, 212, 179, 125, 250, 239, 197, 145],
                        je = [99, 124, 119, 123, 242, 107, 111, 197, 48, 1, 103, 43, 254, 215, 171, 118, 202, 130, 201, 125, 250, 89, 71, 240, 173, 212, 162, 175, 156, 164, 114, 192, 183, 253, 147, 38, 54, 63, 247, 204, 52, 165, 229, 241, 113, 216, 49, 21, 4, 199, 35, 195, 24, 150, 5, 154, 7, 18, 128, 226, 235, 39, 178, 117, 9, 131, 44, 26, 27, 110, 90, 160, 82, 59, 214, 179, 41, 227, 47, 132, 83, 209, 0, 237, 32, 252, 177, 91, 106, 203, 190, 57, 74, 76, 88, 207, 208, 239, 170, 251, 67, 77, 51, 133, 69, 249, 2, 127, 80, 60, 159, 168, 81, 163, 64, 143, 146, 157, 56, 245, 188, 182, 218, 33, 16, 255, 243, 210, 205, 12, 19, 236, 95, 151, 68, 23, 196, 167, 126, 61, 100, 93, 25, 115, 96, 129, 79, 220, 34, 42, 144, 136, 70, 238, 184, 20, 222, 94, 11, 219, 224, 50, 58, 10, 73, 6, 36, 92, 194, 211, 172, 98, 145, 149, 228, 121, 231, 200, 55, 109, 141, 213, 78, 169, 108, 86, 244, 234, 101, 122, 174, 8, 186, 120, 37, 46, 28, 166, 180, 198, 232, 221, 116, 31, 75, 189, 139, 138, 112, 62, 181, 102, 72, 3, 246, 14, 97, 53, 87, 185, 134, 193, 29, 158, 225, 248, 152, 17, 105, 217, 142, 148, 155, 30, 135, 233, 206, 85, 40, 223, 140, 161, 137, 13, 191, 230, 66, 104, 65, 153, 45, 15, 176, 84, 187, 22],
                        Ue = [82, 9, 106, 213, 48, 54, 165, 56, 191, 64, 163, 158, 129, 243, 215, 251, 124, 227, 57, 130, 155, 47, 255, 135, 52, 142, 67, 68, 196, 222, 233, 203, 84, 123, 148, 50, 166, 194, 35, 61, 238, 76, 149, 11, 66, 250, 195, 78, 8, 46, 161, 102, 40, 217, 36, 178, 118, 91, 162, 73, 109, 139, 209, 37, 114, 248, 246, 100, 134, 104, 152, 22, 212, 164, 92, 204, 93, 101, 182, 146, 108, 112, 72, 80, 253, 237, 185, 218, 94, 21, 70, 87, 167, 141, 157, 132, 144, 216, 171, 0, 140, 188, 211, 10, 247, 228, 88, 5, 184, 179, 69, 6, 208, 44, 30, 143, 202, 63, 15, 2, 193, 175, 189, 3, 1, 19, 138, 107, 58, 145, 17, 65, 79, 103, 220, 234, 151, 242, 207, 206, 240, 180, 230, 115, 150, 172, 116, 34, 231, 173, 53, 133, 226, 249, 55, 232, 28, 117, 223, 110, 71, 241, 26, 113, 29, 41, 197, 137, 111, 183, 98, 14, 170, 24, 190, 27, 252, 86, 62, 75, 198, 210, 121, 32, 154, 219, 192, 254, 120, 205, 90, 244, 31, 221, 168, 51, 136, 7, 199, 49, 177, 18, 16, 89, 39, 128, 236, 95, 96, 81, 127, 169, 25, 181, 74, 13, 45, 229, 122, 159, 147, 201, 156, 239, 160, 224, 59, 77, 174, 42, 245, 176, 200, 235, 187, 60, 131, 83, 153, 97, 23, 43, 4, 126, 186, 119, 214, 38, 225, 105, 20, 99, 85, 33, 12, 125],
                        Be = [3328402341, 4168907908, 4000806809, 4135287693, 4294111757, 3597364157, 3731845041, 2445657428, 1613770832, 33620227, 3462883241, 1445669757, 3892248089, 3050821474, 1303096294, 3967186586, 2412431941, 528646813, 2311702848, 4202528135, 4026202645, 2992200171, 2387036105, 4226871307, 1101901292, 3017069671, 1604494077, 1169141738, 597466303, 1403299063, 3832705686, 2613100635, 1974974402, 3791519004, 1033081774, 1277568618, 1815492186, 2118074177, 4126668546, 2211236943, 1748251740, 1369810420, 3521504564, 4193382664, 3799085459, 2883115123, 1647391059, 706024767, 134480908, 2512897874, 1176707941, 2646852446, 806885416, 932615841, 168101135, 798661301, 235341577, 605164086, 461406363, 3756188221, 3454790438, 1311188841, 2142417613, 3933566367, 302582043, 495158174, 1479289972, 874125870, 907746093, 3698224818, 3025820398, 1537253627, 2756858614, 1983593293, 3084310113, 2108928974, 1378429307, 3722699582, 1580150641, 327451799, 2790478837, 3117535592, 0, 3253595436, 1075847264, 3825007647, 2041688520, 3059440621, 3563743934, 2378943302, 1740553945, 1916352843, 2487896798, 2555137236, 2958579944, 2244988746, 3151024235, 3320835882, 1336584933, 3992714006, 2252555205, 2588757463, 1714631509, 293963156, 2319795663, 3925473552, 67240454, 4269768577, 2689618160, 2017213508, 631218106, 1269344483, 2723238387, 1571005438, 2151694528, 93294474, 1066570413, 563977660, 1882732616, 4059428100, 1673313503, 2008463041, 2950355573, 1109467491, 537923632, 3858759450, 4260623118, 3218264685, 2177748300, 403442708, 638784309, 3287084079, 3193921505, 899127202, 2286175436, 773265209, 2479146071, 1437050866, 4236148354, 2050833735, 3362022572, 3126681063, 840505643, 3866325909, 3227541664, 427917720, 2655997905, 2749160575, 1143087718, 1412049534, 999329963, 193497219, 2353415882, 3354324521, 1807268051, 672404540, 2816401017, 3160301282, 369822493, 2916866934, 3688947771, 1681011286, 1949973070, 336202270, 2454276571, 201721354, 1210328172, 3093060836, 2680341085, 3184776046, 1135389935, 3294782118, 965841320, 831886756, 3554993207, 4068047243, 3588745010, 2345191491, 1849112409, 3664604599, 26054028, 2983581028, 2622377682, 1235855840, 3630984372, 2891339514, 4092916743, 3488279077, 3395642799, 4101667470, 1202630377, 268961816, 1874508501, 4034427016, 1243948399, 1546530418, 941366308, 1470539505, 1941222599, 2546386513, 3421038627, 2715671932, 3899946140, 1042226977, 2521517021, 1639824860, 227249030, 260737669, 3765465232, 2084453954, 1907733956, 3429263018, 2420656344, 100860677, 4160157185, 470683154, 3261161891, 1781871967, 2924959737, 1773779408, 394692241, 2579611992, 974986535, 664706745, 3655459128, 3958962195, 731420851, 571543859, 3530123707, 2849626480, 126783113, 865375399, 765172662, 1008606754, 361203602, 3387549984, 2278477385, 2857719295, 1344809080, 2782912378, 59542671, 1503764984, 160008576, 437062935, 1707065306, 3622233649, 2218934982, 3496503480, 2185314755, 697932208, 1512910199, 504303377, 2075177163, 2824099068, 1841019862, 739644986],
                        Fe = [2781242211, 2230877308, 2582542199, 2381740923, 234877682, 3184946027, 2984144751, 1418839493, 1348481072, 50462977, 2848876391, 2102799147, 434634494, 1656084439, 3863849899, 2599188086, 1167051466, 2636087938, 1082771913, 2281340285, 368048890, 3954334041, 3381544775, 201060592, 3963727277, 1739838676, 4250903202, 3930435503, 3206782108, 4149453988, 2531553906, 1536934080, 3262494647, 484572669, 2923271059, 1783375398, 1517041206, 1098792767, 49674231, 1334037708, 1550332980, 4098991525, 886171109, 150598129, 2481090929, 1940642008, 1398944049, 1059722517, 201851908, 1385547719, 1699095331, 1587397571, 674240536, 2704774806, 252314885, 3039795866, 151914247, 908333586, 2602270848, 1038082786, 651029483, 1766729511, 3447698098, 2682942837, 454166793, 2652734339, 1951935532, 775166490, 758520603, 3000790638, 4004797018, 4217086112, 4137964114, 1299594043, 1639438038, 3464344499, 2068982057, 1054729187, 1901997871, 2534638724, 4121318227, 1757008337, 0, 750906861, 1614815264, 535035132, 3363418545, 3988151131, 3201591914, 1183697867, 3647454910, 1265776953, 3734260298, 3566750796, 3903871064, 1250283471, 1807470800, 717615087, 3847203498, 384695291, 3313910595, 3617213773, 1432761139, 2484176261, 3481945413, 283769337, 100925954, 2180939647, 4037038160, 1148730428, 3123027871, 3813386408, 4087501137, 4267549603, 3229630528, 2315620239, 2906624658, 3156319645, 1215313976, 82966005, 3747855548, 3245848246, 1974459098, 1665278241, 807407632, 451280895, 251524083, 1841287890, 1283575245, 337120268, 891687699, 801369324, 3787349855, 2721421207, 3431482436, 959321879, 1469301956, 4065699751, 2197585534, 1199193405, 2898814052, 3887750493, 724703513, 2514908019, 2696962144, 2551808385, 3516813135, 2141445340, 1715741218, 2119445034, 2872807568, 2198571144, 3398190662, 700968686, 3547052216, 1009259540, 2041044702, 3803995742, 487983883, 1991105499, 1004265696, 1449407026, 1316239930, 504629770, 3683797321, 168560134, 1816667172, 3837287516, 1570751170, 1857934291, 4014189740, 2797888098, 2822345105, 2754712981, 936633572, 2347923833, 852879335, 1133234376, 1500395319, 3084545389, 2348912013, 1689376213, 3533459022, 3762923945, 3034082412, 4205598294, 133428468, 634383082, 2949277029, 2398386810, 3913789102, 403703816, 3580869306, 2297460856, 1867130149, 1918643758, 607656988, 4049053350, 3346248884, 1368901318, 600565992, 2090982877, 2632479860, 557719327, 3717614411, 3697393085, 2249034635, 2232388234, 2430627952, 1115438654, 3295786421, 2865522278, 3633334344, 84280067, 33027830, 303828494, 2747425121, 1600795957, 4188952407, 3496589753, 2434238086, 1486471617, 658119965, 3106381470, 953803233, 334231800, 3005978776, 857870609, 3151128937, 1890179545, 2298973838, 2805175444, 3056442267, 574365214, 2450884487, 550103529, 1233637070, 4289353045, 2018519080, 2057691103, 2399374476, 4166623649, 2148108681, 387583245, 3664101311, 836232934, 3330556482, 3100665960, 3280093505, 2955516313, 2002398509, 287182607, 3413881008, 4238890068, 3597515707, 975967766],
                        ze = [1671808611, 2089089148, 2006576759, 2072901243, 4061003762, 1807603307, 1873927791, 3310653893, 810573872, 16974337, 1739181671, 729634347, 4263110654, 3613570519, 2883997099, 1989864566, 3393556426, 2191335298, 3376449993, 2106063485, 4195741690, 1508618841, 1204391495, 4027317232, 2917941677, 3563566036, 2734514082, 2951366063, 2629772188, 2767672228, 1922491506, 3227229120, 3082974647, 4246528509, 2477669779, 644500518, 911895606, 1061256767, 4144166391, 3427763148, 878471220, 2784252325, 3845444069, 4043897329, 1905517169, 3631459288, 827548209, 356461077, 67897348, 3344078279, 593839651, 3277757891, 405286936, 2527147926, 84871685, 2595565466, 118033927, 305538066, 2157648768, 3795705826, 3945188843, 661212711, 2999812018, 1973414517, 152769033, 2208177539, 745822252, 439235610, 455947803, 1857215598, 1525593178, 2700827552, 1391895634, 994932283, 3596728278, 3016654259, 695947817, 3812548067, 795958831, 2224493444, 1408607827, 3513301457, 0, 3979133421, 543178784, 4229948412, 2982705585, 1542305371, 1790891114, 3410398667, 3201918910, 961245753, 1256100938, 1289001036, 1491644504, 3477767631, 3496721360, 4012557807, 2867154858, 4212583931, 1137018435, 1305975373, 861234739, 2241073541, 1171229253, 4178635257, 33948674, 2139225727, 1357946960, 1011120188, 2679776671, 2833468328, 1374921297, 2751356323, 1086357568, 2408187279, 2460827538, 2646352285, 944271416, 4110742005, 3168756668, 3066132406, 3665145818, 560153121, 271589392, 4279952895, 4077846003, 3530407890, 3444343245, 202643468, 322250259, 3962553324, 1608629855, 2543990167, 1154254916, 389623319, 3294073796, 2817676711, 2122513534, 1028094525, 1689045092, 1575467613, 422261273, 1939203699, 1621147744, 2174228865, 1339137615, 3699352540, 577127458, 712922154, 2427141008, 2290289544, 1187679302, 3995715566, 3100863416, 339486740, 3732514782, 1591917662, 186455563, 3681988059, 3762019296, 844522546, 978220090, 169743370, 1239126601, 101321734, 611076132, 1558493276, 3260915650, 3547250131, 2901361580, 1655096418, 2443721105, 2510565781, 3828863972, 2039214713, 3878868455, 3359869896, 928607799, 1840765549, 2374762893, 3580146133, 1322425422, 2850048425, 1823791212, 1459268694, 4094161908, 3928346602, 1706019429, 2056189050, 2934523822, 135794696, 3134549946, 2022240376, 628050469, 779246638, 472135708, 2800834470, 3032970164, 3327236038, 3894660072, 3715932637, 1956440180, 522272287, 1272813131, 3185336765, 2340818315, 2323976074, 1888542832, 1044544574, 3049550261, 1722469478, 1222152264, 50660867, 4127324150, 236067854, 1638122081, 895445557, 1475980887, 3117443513, 2257655686, 3243809217, 489110045, 2662934430, 3778599393, 4162055160, 2561878936, 288563729, 1773916777, 3648039385, 2391345038, 2493985684, 2612407707, 505560094, 2274497927, 3911240169, 3460925390, 1442818645, 678973480, 3749357023, 2358182796, 2717407649, 2306869641, 219617805, 3218761151, 3862026214, 1120306242, 1756942440, 1103331905, 2578459033, 762796589, 252780047, 2966125488, 1425844308, 3151392187, 372911126],
                        He = [1667474886, 2088535288, 2004326894, 2071694838, 4075949567, 1802223062, 1869591006, 3318043793, 808472672, 16843522, 1734846926, 724270422, 4278065639, 3621216949, 2880169549, 1987484396, 3402253711, 2189597983, 3385409673, 2105378810, 4210693615, 1499065266, 1195886990, 4042263547, 2913856577, 3570689971, 2728590687, 2947541573, 2627518243, 2762274643, 1920112356, 3233831835, 3082273397, 4261223649, 2475929149, 640051788, 909531756, 1061110142, 4160160501, 3435941763, 875846760, 2779116625, 3857003729, 4059105529, 1903268834, 3638064043, 825316194, 353713962, 67374088, 3351728789, 589522246, 3284360861, 404236336, 2526454071, 84217610, 2593830191, 117901582, 303183396, 2155911963, 3806477791, 3958056653, 656894286, 2998062463, 1970642922, 151591698, 2206440989, 741110872, 437923380, 454765878, 1852748508, 1515908788, 2694904667, 1381168804, 993742198, 3604373943, 3014905469, 690584402, 3823320797, 791638366, 2223281939, 1398011302, 3520161977, 0, 3991743681, 538992704, 4244381667, 2981218425, 1532751286, 1785380564, 3419096717, 3200178535, 960056178, 1246420628, 1280103576, 1482221744, 3486468741, 3503319995, 4025428677, 2863326543, 4227536621, 1128514950, 1296947098, 859002214, 2240123921, 1162203018, 4193849577, 33687044, 2139062782, 1347481760, 1010582648, 2678045221, 2829640523, 1364325282, 2745433693, 1077985408, 2408548869, 2459086143, 2644360225, 943212656, 4126475505, 3166494563, 3065430391, 3671750063, 555836226, 269496352, 4294908645, 4092792573, 3537006015, 3452783745, 202118168, 320025894, 3974901699, 1600119230, 2543297077, 1145359496, 387397934, 3301201811, 2812801621, 2122220284, 1027426170, 1684319432, 1566435258, 421079858, 1936954854, 1616945344, 2172753945, 1330631070, 3705438115, 572679748, 707427924, 2425400123, 2290647819, 1179044492, 4008585671, 3099120491, 336870440, 3739122087, 1583276732, 185277718, 3688593069, 3772791771, 842159716, 976899700, 168435220, 1229577106, 101059084, 606366792, 1549591736, 3267517855, 3553849021, 2897014595, 1650632388, 2442242105, 2509612081, 3840161747, 2038008818, 3890688725, 3368567691, 926374254, 1835907034, 2374863873, 3587531953, 1313788572, 2846482505, 1819063512, 1448540844, 4109633523, 3941213647, 1701162954, 2054852340, 2930698567, 134748176, 3132806511, 2021165296, 623210314, 774795868, 471606328, 2795958615, 3031746419, 3334885783, 3907527627, 3722280097, 1953799400, 522133822, 1263263126, 3183336545, 2341176845, 2324333839, 1886425312, 1044267644, 3048588401, 1718004428, 1212733584, 50529542, 4143317495, 235803164, 1633788866, 892690282, 1465383342, 3115962473, 2256965911, 3250673817, 488449850, 2661202215, 3789633753, 4177007595, 2560144171, 286339874, 1768537042, 3654906025, 2391705863, 2492770099, 2610673197, 505291324, 2273808917, 3924369609, 3469625735, 1431699370, 673740880, 3755965093, 2358021891, 2711746649, 2307489801, 218961690, 3217021541, 3873845719, 1111672452, 1751693520, 1094828930, 2576986153, 757954394, 252645662, 2964376443, 1414855848, 3149649517, 370555436],
                        Ye = [1374988112, 2118214995, 437757123, 975658646, 1001089995, 530400753, 2902087851, 1273168787, 540080725, 2910219766, 2295101073, 4110568485, 1340463100, 3307916247, 641025152, 3043140495, 3736164937, 632953703, 1172967064, 1576976609, 3274667266, 2169303058, 2370213795, 1809054150, 59727847, 361929877, 3211623147, 2505202138, 3569255213, 1484005843, 1239443753, 2395588676, 1975683434, 4102977912, 2572697195, 666464733, 3202437046, 4035489047, 3374361702, 2110667444, 1675577880, 3843699074, 2538681184, 1649639237, 2976151520, 3144396420, 4269907996, 4178062228, 1883793496, 2403728665, 2497604743, 1383856311, 2876494627, 1917518562, 3810496343, 1716890410, 3001755655, 800440835, 2261089178, 3543599269, 807962610, 599762354, 33778362, 3977675356, 2328828971, 2809771154, 4077384432, 1315562145, 1708848333, 101039829, 3509871135, 3299278474, 875451293, 2733856160, 92987698, 2767645557, 193195065, 1080094634, 1584504582, 3178106961, 1042385657, 2531067453, 3711829422, 1306967366, 2438237621, 1908694277, 67556463, 1615861247, 429456164, 3602770327, 2302690252, 1742315127, 2968011453, 126454664, 3877198648, 2043211483, 2709260871, 2084704233, 4169408201, 0, 159417987, 841739592, 504459436, 1817866830, 4245618683, 260388950, 1034867998, 908933415, 168810852, 1750902305, 2606453969, 607530554, 202008497, 2472011535, 3035535058, 463180190, 2160117071, 1641816226, 1517767529, 470948374, 3801332234, 3231722213, 1008918595, 303765277, 235474187, 4069246893, 766945465, 337553864, 1475418501, 2943682380, 4003061179, 2743034109, 4144047775, 1551037884, 1147550661, 1543208500, 2336434550, 3408119516, 3069049960, 3102011747, 3610369226, 1113818384, 328671808, 2227573024, 2236228733, 3535486456, 2935566865, 3341394285, 496906059, 3702665459, 226906860, 2009195472, 733156972, 2842737049, 294930682, 1206477858, 2835123396, 2700099354, 1451044056, 573804783, 2269728455, 3644379585, 2362090238, 2564033334, 2801107407, 2776292904, 3669462566, 1068351396, 742039012, 1350078989, 1784663195, 1417561698, 4136440770, 2430122216, 775550814, 2193862645, 2673705150, 1775276924, 1876241833, 3475313331, 3366754619, 270040487, 3902563182, 3678124923, 3441850377, 1851332852, 3969562369, 2203032232, 3868552805, 2868897406, 566021896, 4011190502, 3135740889, 1248802510, 3936291284, 699432150, 832877231, 708780849, 3332740144, 899835584, 1951317047, 4236429990, 3767586992, 866637845, 4043610186, 1106041591, 2144161806, 395441711, 1984812685, 1139781709, 3433712980, 3835036895, 2664543715, 1282050075, 3240894392, 1181045119, 2640243204, 25965917, 4203181171, 4211818798, 3009879386, 2463879762, 3910161971, 1842759443, 2597806476, 933301370, 1509430414, 3943906441, 3467192302, 3076639029, 3776767469, 2051518780, 2631065433, 1441952575, 404016761, 1942435775, 1408749034, 1610459739, 3745345300, 2017778566, 3400528769, 3110650942, 941896748, 3265478751, 371049330, 3168937228, 675039627, 4279080257, 967311729, 135050206, 3635733660, 1683407248, 2076935265, 3576870512, 1215061108, 3501741890],
                        Ve = [1347548327, 1400783205, 3273267108, 2520393566, 3409685355, 4045380933, 2880240216, 2471224067, 1428173050, 4138563181, 2441661558, 636813900, 4233094615, 3620022987, 2149987652, 2411029155, 1239331162, 1730525723, 2554718734, 3781033664, 46346101, 310463728, 2743944855, 3328955385, 3875770207, 2501218972, 3955191162, 3667219033, 768917123, 3545789473, 692707433, 1150208456, 1786102409, 2029293177, 1805211710, 3710368113, 3065962831, 401639597, 1724457132, 3028143674, 409198410, 2196052529, 1620529459, 1164071807, 3769721975, 2226875310, 486441376, 2499348523, 1483753576, 428819965, 2274680428, 3075636216, 598438867, 3799141122, 1474502543, 711349675, 129166120, 53458370, 2592523643, 2782082824, 4063242375, 2988687269, 3120694122, 1559041666, 730517276, 2460449204, 4042459122, 2706270690, 3446004468, 3573941694, 533804130, 2328143614, 2637442643, 2695033685, 839224033, 1973745387, 957055980, 2856345839, 106852767, 1371368976, 4181598602, 1033297158, 2933734917, 1179510461, 3046200461, 91341917, 1862534868, 4284502037, 605657339, 2547432937, 3431546947, 2003294622, 3182487618, 2282195339, 954669403, 3682191598, 1201765386, 3917234703, 3388507166, 0, 2198438022, 1211247597, 2887651696, 1315723890, 4227665663, 1443857720, 507358933, 657861945, 1678381017, 560487590, 3516619604, 975451694, 2970356327, 261314535, 3535072918, 2652609425, 1333838021, 2724322336, 1767536459, 370938394, 182621114, 3854606378, 1128014560, 487725847, 185469197, 2918353863, 3106780840, 3356761769, 2237133081, 1286567175, 3152976349, 4255350624, 2683765030, 3160175349, 3309594171, 878443390, 1988838185, 3704300486, 1756818940, 1673061617, 3403100636, 272786309, 1075025698, 545572369, 2105887268, 4174560061, 296679730, 1841768865, 1260232239, 4091327024, 3960309330, 3497509347, 1814803222, 2578018489, 4195456072, 575138148, 3299409036, 446754879, 3629546796, 4011996048, 3347532110, 3252238545, 4270639778, 915985419, 3483825537, 681933534, 651868046, 2755636671, 3828103837, 223377554, 2607439820, 1649704518, 3270937875, 3901806776, 1580087799, 4118987695, 3198115200, 2087309459, 2842678573, 3016697106, 1003007129, 2802849917, 1860738147, 2077965243, 164439672, 4100872472, 32283319, 2827177882, 1709610350, 2125135846, 136428751, 3874428392, 3652904859, 3460984630, 3572145929, 3593056380, 2939266226, 824852259, 818324884, 3224740454, 930369212, 2801566410, 2967507152, 355706840, 1257309336, 4148292826, 243256656, 790073846, 2373340630, 1296297904, 1422699085, 3756299780, 3818836405, 457992840, 3099667487, 2135319889, 77422314, 1560382517, 1945798516, 788204353, 1521706781, 1385356242, 870912086, 325965383, 2358957921, 2050466060, 2388260884, 2313884476, 4006521127, 901210569, 3990953189, 1014646705, 1503449823, 1062597235, 2031621326, 3212035895, 3931371469, 1533017514, 350174575, 2256028891, 2177544179, 1052338372, 741876788, 1606591296, 1914052035, 213705253, 2334669897, 1107234197, 1899603969, 3725069491, 2631447780, 2422494913, 1635502980, 1893020342, 1950903388, 1120974935],
                        qe = [2807058932, 1699970625, 2764249623, 1586903591, 1808481195, 1173430173, 1487645946, 59984867, 4199882800, 1844882806, 1989249228, 1277555970, 3623636965, 3419915562, 1149249077, 2744104290, 1514790577, 459744698, 244860394, 3235995134, 1963115311, 4027744588, 2544078150, 4190530515, 1608975247, 2627016082, 2062270317, 1507497298, 2200818878, 567498868, 1764313568, 3359936201, 2305455554, 2037970062, 1047239e3, 1910319033, 1337376481, 2904027272, 2892417312, 984907214, 1243112415, 830661914, 861968209, 2135253587, 2011214180, 2927934315, 2686254721, 731183368, 1750626376, 4246310725, 1820824798, 4172763771, 3542330227, 48394827, 2404901663, 2871682645, 671593195, 3254988725, 2073724613, 145085239, 2280796200, 2779915199, 1790575107, 2187128086, 472615631, 3029510009, 4075877127, 3802222185, 4107101658, 3201631749, 1646252340, 4270507174, 1402811438, 1436590835, 3778151818, 3950355702, 3963161475, 4020912224, 2667994737, 273792366, 2331590177, 104699613, 95345982, 3175501286, 2377486676, 1560637892, 3564045318, 369057872, 4213447064, 3919042237, 1137477952, 2658625497, 1119727848, 2340947849, 1530455833, 4007360968, 172466556, 266959938, 516552836, 0, 2256734592, 3980931627, 1890328081, 1917742170, 4294704398, 945164165, 3575528878, 958871085, 3647212047, 2787207260, 1423022939, 775562294, 1739656202, 3876557655, 2530391278, 2443058075, 3310321856, 547512796, 1265195639, 437656594, 3121275539, 719700128, 3762502690, 387781147, 218828297, 3350065803, 2830708150, 2848461854, 428169201, 122466165, 3720081049, 1627235199, 648017665, 4122762354, 1002783846, 2117360635, 695634755, 3336358691, 4234721005, 4049844452, 3704280881, 2232435299, 574624663, 287343814, 612205898, 1039717051, 840019705, 2708326185, 793451934, 821288114, 1391201670, 3822090177, 376187827, 3113855344, 1224348052, 1679968233, 2361698556, 1058709744, 752375421, 2431590963, 1321699145, 3519142200, 2734591178, 188127444, 2177869557, 3727205754, 2384911031, 3215212461, 2648976442, 2450346104, 3432737375, 1180849278, 331544205, 3102249176, 4150144569, 2952102595, 2159976285, 2474404304, 766078933, 313773861, 2570832044, 2108100632, 1668212892, 3145456443, 2013908262, 418672217, 3070356634, 2594734927, 1852171925, 3867060991, 3473416636, 3907448597, 2614737639, 919489135, 164948639, 2094410160, 2997825956, 590424639, 2486224549, 1723872674, 3157750862, 3399941250, 3501252752, 3625268135, 2555048196, 3673637356, 1343127501, 4130281361, 3599595085, 2957853679, 1297403050, 81781910, 3051593425, 2283490410, 532201772, 1367295589, 3926170974, 895287692, 1953757831, 1093597963, 492483431, 3528626907, 1446242576, 1192455638, 1636604631, 209336225, 344873464, 1015671571, 669961897, 3375740769, 3857572124, 2973530695, 3747192018, 1933530610, 3464042516, 935293895, 3454686199, 2858115069, 1863638845, 3683022916, 4085369519, 3292445032, 875313188, 1080017571, 3279033885, 621591778, 1233856572, 2504130317, 24197544, 3017672716, 3835484340, 3247465558, 2220981195, 3060847922, 1551124588, 1463996600],
                        Ge = [4104605777, 1097159550, 396673818, 660510266, 2875968315, 2638606623, 4200115116, 3808662347, 821712160, 1986918061, 3430322568, 38544885, 3856137295, 718002117, 893681702, 1654886325, 2975484382, 3122358053, 3926825029, 4274053469, 796197571, 1290801793, 1184342925, 3556361835, 2405426947, 2459735317, 1836772287, 1381620373, 3196267988, 1948373848, 3764988233, 3385345166, 3263785589, 2390325492, 1480485785, 3111247143, 3780097726, 2293045232, 548169417, 3459953789, 3746175075, 439452389, 1362321559, 1400849762, 1685577905, 1806599355, 2174754046, 137073913, 1214797936, 1174215055, 3731654548, 2079897426, 1943217067, 1258480242, 529487843, 1437280870, 3945269170, 3049390895, 3313212038, 923313619, 679998e3, 3215307299, 57326082, 377642221, 3474729866, 2041877159, 133361907, 1776460110, 3673476453, 96392454, 878845905, 2801699524, 777231668, 4082475170, 2330014213, 4142626212, 2213296395, 1626319424, 1906247262, 1846563261, 562755902, 3708173718, 1040559837, 3871163981, 1418573201, 3294430577, 114585348, 1343618912, 2566595609, 3186202582, 1078185097, 3651041127, 3896688048, 2307622919, 425408743, 3371096953, 2081048481, 1108339068, 2216610296, 0, 2156299017, 736970802, 292596766, 1517440620, 251657213, 2235061775, 2933202493, 758720310, 265905162, 1554391400, 1532285339, 908999204, 174567692, 1474760595, 4002861748, 2610011675, 3234156416, 3693126241, 2001430874, 303699484, 2478443234, 2687165888, 585122620, 454499602, 151849742, 2345119218, 3064510765, 514443284, 4044981591, 1963412655, 2581445614, 2137062819, 19308535, 1928707164, 1715193156, 4219352155, 1126790795, 600235211, 3992742070, 3841024952, 836553431, 1669664834, 2535604243, 3323011204, 1243905413, 3141400786, 4180808110, 698445255, 2653899549, 2989552604, 2253581325, 3252932727, 3004591147, 1891211689, 2487810577, 3915653703, 4237083816, 4030667424, 2100090966, 865136418, 1229899655, 953270745, 3399679628, 3557504664, 4118925222, 2061379749, 3079546586, 2915017791, 983426092, 2022837584, 1607244650, 2118541908, 2366882550, 3635996816, 972512814, 3283088770, 1568718495, 3499326569, 3576539503, 621982671, 2895723464, 410887952, 2623762152, 1002142683, 645401037, 1494807662, 2595684844, 1335535747, 2507040230, 4293295786, 3167684641, 367585007, 3885750714, 1865862730, 2668221674, 2960971305, 2763173681, 1059270954, 2777952454, 2724642869, 1320957812, 2194319100, 2429595872, 2815956275, 77089521, 3973773121, 3444575871, 2448830231, 1305906550, 4021308739, 2857194700, 2516901860, 3518358430, 1787304780, 740276417, 1699839814, 1592394909, 2352307457, 2272556026, 188821243, 1729977011, 3687994002, 274084841, 3594982253, 3613494426, 2701949495, 4162096729, 322734571, 2837966542, 1640576439, 484830689, 1202797690, 3537852828, 4067639125, 349075736, 3342319475, 4157467219, 4255800159, 1030690015, 1155237496, 2951971274, 1757691577, 607398968, 2738905026, 499347990, 3794078908, 1011452712, 227885567, 2818666809, 213114376, 3034881240, 1455525988, 3414450555, 850817237, 1817998408, 3092726480],
                        Qe = [0, 235474187, 470948374, 303765277, 941896748, 908933415, 607530554, 708780849, 1883793496, 2118214995, 1817866830, 1649639237, 1215061108, 1181045119, 1417561698, 1517767529, 3767586992, 4003061179, 4236429990, 4069246893, 3635733660, 3602770327, 3299278474, 3400528769, 2430122216, 2664543715, 2362090238, 2193862645, 2835123396, 2801107407, 3035535058, 3135740889, 3678124923, 3576870512, 3341394285, 3374361702, 3810496343, 3977675356, 4279080257, 4043610186, 2876494627, 2776292904, 3076639029, 3110650942, 2472011535, 2640243204, 2403728665, 2169303058, 1001089995, 899835584, 666464733, 699432150, 59727847, 226906860, 530400753, 294930682, 1273168787, 1172967064, 1475418501, 1509430414, 1942435775, 2110667444, 1876241833, 1641816226, 2910219766, 2743034109, 2976151520, 3211623147, 2505202138, 2606453969, 2302690252, 2269728455, 3711829422, 3543599269, 3240894392, 3475313331, 3843699074, 3943906441, 4178062228, 4144047775, 1306967366, 1139781709, 1374988112, 1610459739, 1975683434, 2076935265, 1775276924, 1742315127, 1034867998, 866637845, 566021896, 800440835, 92987698, 193195065, 429456164, 395441711, 1984812685, 2017778566, 1784663195, 1683407248, 1315562145, 1080094634, 1383856311, 1551037884, 101039829, 135050206, 437757123, 337553864, 1042385657, 807962610, 573804783, 742039012, 2531067453, 2564033334, 2328828971, 2227573024, 2935566865, 2700099354, 3001755655, 3168937228, 3868552805, 3902563182, 4203181171, 4102977912, 3736164937, 3501741890, 3265478751, 3433712980, 1106041591, 1340463100, 1576976609, 1408749034, 2043211483, 2009195472, 1708848333, 1809054150, 832877231, 1068351396, 766945465, 599762354, 159417987, 126454664, 361929877, 463180190, 2709260871, 2943682380, 3178106961, 3009879386, 2572697195, 2538681184, 2236228733, 2336434550, 3509871135, 3745345300, 3441850377, 3274667266, 3910161971, 3877198648, 4110568485, 4211818798, 2597806476, 2497604743, 2261089178, 2295101073, 2733856160, 2902087851, 3202437046, 2968011453, 3936291284, 3835036895, 4136440770, 4169408201, 3535486456, 3702665459, 3467192302, 3231722213, 2051518780, 1951317047, 1716890410, 1750902305, 1113818384, 1282050075, 1584504582, 1350078989, 168810852, 67556463, 371049330, 404016761, 841739592, 1008918595, 775550814, 540080725, 3969562369, 3801332234, 4035489047, 4269907996, 3569255213, 3669462566, 3366754619, 3332740144, 2631065433, 2463879762, 2160117071, 2395588676, 2767645557, 2868897406, 3102011747, 3069049960, 202008497, 33778362, 270040487, 504459436, 875451293, 975658646, 675039627, 641025152, 2084704233, 1917518562, 1615861247, 1851332852, 1147550661, 1248802510, 1484005843, 1451044056, 933301370, 967311729, 733156972, 632953703, 260388950, 25965917, 328671808, 496906059, 1206477858, 1239443753, 1543208500, 1441952575, 2144161806, 1908694277, 1675577880, 1842759443, 3610369226, 3644379585, 3408119516, 3307916247, 4011190502, 3776767469, 4077384432, 4245618683, 2809771154, 2842737049, 3144396420, 3043140495, 2673705150, 2438237621, 2203032232, 2370213795],
                        We = [0, 185469197, 370938394, 487725847, 741876788, 657861945, 975451694, 824852259, 1483753576, 1400783205, 1315723890, 1164071807, 1950903388, 2135319889, 1649704518, 1767536459, 2967507152, 3152976349, 2801566410, 2918353863, 2631447780, 2547432937, 2328143614, 2177544179, 3901806776, 3818836405, 4270639778, 4118987695, 3299409036, 3483825537, 3535072918, 3652904859, 2077965243, 1893020342, 1841768865, 1724457132, 1474502543, 1559041666, 1107234197, 1257309336, 598438867, 681933534, 901210569, 1052338372, 261314535, 77422314, 428819965, 310463728, 3409685355, 3224740454, 3710368113, 3593056380, 3875770207, 3960309330, 4045380933, 4195456072, 2471224067, 2554718734, 2237133081, 2388260884, 3212035895, 3028143674, 2842678573, 2724322336, 4138563181, 4255350624, 3769721975, 3955191162, 3667219033, 3516619604, 3431546947, 3347532110, 2933734917, 2782082824, 3099667487, 3016697106, 2196052529, 2313884476, 2499348523, 2683765030, 1179510461, 1296297904, 1347548327, 1533017514, 1786102409, 1635502980, 2087309459, 2003294622, 507358933, 355706840, 136428751, 53458370, 839224033, 957055980, 605657339, 790073846, 2373340630, 2256028891, 2607439820, 2422494913, 2706270690, 2856345839, 3075636216, 3160175349, 3573941694, 3725069491, 3273267108, 3356761769, 4181598602, 4063242375, 4011996048, 3828103837, 1033297158, 915985419, 730517276, 545572369, 296679730, 446754879, 129166120, 213705253, 1709610350, 1860738147, 1945798516, 2029293177, 1239331162, 1120974935, 1606591296, 1422699085, 4148292826, 4233094615, 3781033664, 3931371469, 3682191598, 3497509347, 3446004468, 3328955385, 2939266226, 2755636671, 3106780840, 2988687269, 2198438022, 2282195339, 2501218972, 2652609425, 1201765386, 1286567175, 1371368976, 1521706781, 1805211710, 1620529459, 2105887268, 1988838185, 533804130, 350174575, 164439672, 46346101, 870912086, 954669403, 636813900, 788204353, 2358957921, 2274680428, 2592523643, 2441661558, 2695033685, 2880240216, 3065962831, 3182487618, 3572145929, 3756299780, 3270937875, 3388507166, 4174560061, 4091327024, 4006521127, 3854606378, 1014646705, 930369212, 711349675, 560487590, 272786309, 457992840, 106852767, 223377554, 1678381017, 1862534868, 1914052035, 2031621326, 1211247597, 1128014560, 1580087799, 1428173050, 32283319, 182621114, 401639597, 486441376, 768917123, 651868046, 1003007129, 818324884, 1503449823, 1385356242, 1333838021, 1150208456, 1973745387, 2125135846, 1673061617, 1756818940, 2970356327, 3120694122, 2802849917, 2887651696, 2637442643, 2520393566, 2334669897, 2149987652, 3917234703, 3799141122, 4284502037, 4100872472, 3309594171, 3460984630, 3545789473, 3629546796, 2050466060, 1899603969, 1814803222, 1730525723, 1443857720, 1560382517, 1075025698, 1260232239, 575138148, 692707433, 878443390, 1062597235, 243256656, 91341917, 409198410, 325965383, 3403100636, 3252238545, 3704300486, 3620022987, 3874428392, 3990953189, 4042459122, 4227665663, 2460449204, 2578018489, 2226875310, 2411029155, 3198115200, 3046200461, 2827177882, 2743944855],
                        Ke = [0, 218828297, 437656594, 387781147, 875313188, 958871085, 775562294, 590424639, 1750626376, 1699970625, 1917742170, 2135253587, 1551124588, 1367295589, 1180849278, 1265195639, 3501252752, 3720081049, 3399941250, 3350065803, 3835484340, 3919042237, 4270507174, 4085369519, 3102249176, 3051593425, 2734591178, 2952102595, 2361698556, 2177869557, 2530391278, 2614737639, 3145456443, 3060847922, 2708326185, 2892417312, 2404901663, 2187128086, 2504130317, 2555048196, 3542330227, 3727205754, 3375740769, 3292445032, 3876557655, 3926170974, 4246310725, 4027744588, 1808481195, 1723872674, 1910319033, 2094410160, 1608975247, 1391201670, 1173430173, 1224348052, 59984867, 244860394, 428169201, 344873464, 935293895, 984907214, 766078933, 547512796, 1844882806, 1627235199, 2011214180, 2062270317, 1507497298, 1423022939, 1137477952, 1321699145, 95345982, 145085239, 532201772, 313773861, 830661914, 1015671571, 731183368, 648017665, 3175501286, 2957853679, 2807058932, 2858115069, 2305455554, 2220981195, 2474404304, 2658625497, 3575528878, 3625268135, 3473416636, 3254988725, 3778151818, 3963161475, 4213447064, 4130281361, 3599595085, 3683022916, 3432737375, 3247465558, 3802222185, 4020912224, 4172763771, 4122762354, 3201631749, 3017672716, 2764249623, 2848461854, 2331590177, 2280796200, 2431590963, 2648976442, 104699613, 188127444, 472615631, 287343814, 840019705, 1058709744, 671593195, 621591778, 1852171925, 1668212892, 1953757831, 2037970062, 1514790577, 1463996600, 1080017571, 1297403050, 3673637356, 3623636965, 3235995134, 3454686199, 4007360968, 3822090177, 4107101658, 4190530515, 2997825956, 3215212461, 2830708150, 2779915199, 2256734592, 2340947849, 2627016082, 2443058075, 172466556, 122466165, 273792366, 492483431, 1047239e3, 861968209, 612205898, 695634755, 1646252340, 1863638845, 2013908262, 1963115311, 1446242576, 1530455833, 1277555970, 1093597963, 1636604631, 1820824798, 2073724613, 1989249228, 1436590835, 1487645946, 1337376481, 1119727848, 164948639, 81781910, 331544205, 516552836, 1039717051, 821288114, 669961897, 719700128, 2973530695, 3157750862, 2871682645, 2787207260, 2232435299, 2283490410, 2667994737, 2450346104, 3647212047, 3564045318, 3279033885, 3464042516, 3980931627, 3762502690, 4150144569, 4199882800, 3070356634, 3121275539, 2904027272, 2686254721, 2200818878, 2384911031, 2570832044, 2486224549, 3747192018, 3528626907, 3310321856, 3359936201, 3950355702, 3867060991, 4049844452, 4234721005, 1739656202, 1790575107, 2108100632, 1890328081, 1402811438, 1586903591, 1233856572, 1149249077, 266959938, 48394827, 369057872, 418672217, 1002783846, 919489135, 567498868, 752375421, 209336225, 24197544, 376187827, 459744698, 945164165, 895287692, 574624663, 793451934, 1679968233, 1764313568, 2117360635, 1933530610, 1343127501, 1560637892, 1243112415, 1192455638, 3704280881, 3519142200, 3336358691, 3419915562, 3907448597, 3857572124, 4075877127, 4294704398, 3029510009, 3113855344, 2927934315, 2744104290, 2159976285, 2377486676, 2594734927, 2544078150],
                        Xe = [0, 151849742, 303699484, 454499602, 607398968, 758720310, 908999204, 1059270954, 1214797936, 1097159550, 1517440620, 1400849762, 1817998408, 1699839814, 2118541908, 2001430874, 2429595872, 2581445614, 2194319100, 2345119218, 3034881240, 3186202582, 2801699524, 2951971274, 3635996816, 3518358430, 3399679628, 3283088770, 4237083816, 4118925222, 4002861748, 3885750714, 1002142683, 850817237, 698445255, 548169417, 529487843, 377642221, 227885567, 77089521, 1943217067, 2061379749, 1640576439, 1757691577, 1474760595, 1592394909, 1174215055, 1290801793, 2875968315, 2724642869, 3111247143, 2960971305, 2405426947, 2253581325, 2638606623, 2487810577, 3808662347, 3926825029, 4044981591, 4162096729, 3342319475, 3459953789, 3576539503, 3693126241, 1986918061, 2137062819, 1685577905, 1836772287, 1381620373, 1532285339, 1078185097, 1229899655, 1040559837, 923313619, 740276417, 621982671, 439452389, 322734571, 137073913, 19308535, 3871163981, 4021308739, 4104605777, 4255800159, 3263785589, 3414450555, 3499326569, 3651041127, 2933202493, 2815956275, 3167684641, 3049390895, 2330014213, 2213296395, 2566595609, 2448830231, 1305906550, 1155237496, 1607244650, 1455525988, 1776460110, 1626319424, 2079897426, 1928707164, 96392454, 213114376, 396673818, 514443284, 562755902, 679998e3, 865136418, 983426092, 3708173718, 3557504664, 3474729866, 3323011204, 4180808110, 4030667424, 3945269170, 3794078908, 2507040230, 2623762152, 2272556026, 2390325492, 2975484382, 3092726480, 2738905026, 2857194700, 3973773121, 3856137295, 4274053469, 4157467219, 3371096953, 3252932727, 3673476453, 3556361835, 2763173681, 2915017791, 3064510765, 3215307299, 2156299017, 2307622919, 2459735317, 2610011675, 2081048481, 1963412655, 1846563261, 1729977011, 1480485785, 1362321559, 1243905413, 1126790795, 878845905, 1030690015, 645401037, 796197571, 274084841, 425408743, 38544885, 188821243, 3613494426, 3731654548, 3313212038, 3430322568, 4082475170, 4200115116, 3780097726, 3896688048, 2668221674, 2516901860, 2366882550, 2216610296, 3141400786, 2989552604, 2837966542, 2687165888, 1202797690, 1320957812, 1437280870, 1554391400, 1669664834, 1787304780, 1906247262, 2022837584, 265905162, 114585348, 499347990, 349075736, 736970802, 585122620, 972512814, 821712160, 2595684844, 2478443234, 2293045232, 2174754046, 3196267988, 3079546586, 2895723464, 2777952454, 3537852828, 3687994002, 3234156416, 3385345166, 4142626212, 4293295786, 3841024952, 3992742070, 174567692, 57326082, 410887952, 292596766, 777231668, 660510266, 1011452712, 893681702, 1108339068, 1258480242, 1343618912, 1494807662, 1715193156, 1865862730, 1948373848, 2100090966, 2701949495, 2818666809, 3004591147, 3122358053, 2235061775, 2352307457, 2535604243, 2653899549, 3915653703, 3764988233, 4219352155, 4067639125, 3444575871, 3294430577, 3746175075, 3594982253, 836553431, 953270745, 600235211, 718002117, 367585007, 484830689, 133361907, 251657213, 2041877159, 1891211689, 1806599355, 1654886325, 1568718495, 1418573201, 1335535747, 1184342925],
                        Je = function e(t) {
                            if (!(this instanceof e)) throw Error("AES must be instanitated with new");
                            Object.defineProperty(this, "key", {
                                value: o(t, !0)
                            }), this._prepare()
                        };
                    Je.prototype._prepare = function () {
                        var e = Ne[this.key.length];
                        if (null == e) throw new Error("invalid key size (must be 16, 24 or 32 bytes)");
                        this._Ke = [], this._Kd = [];
                        for (var t = 0; t <= e; t++) this._Ke.push([0, 0, 0, 0]), this._Kd.push([0, 0, 0, 0]);
                        var n, i = 4 * (e + 1),
                            o = this.key.length / 4,
                            r = s(this.key);
                        for (t = 0; t < o; t++) n = t >> 2, this._Ke[n][t % 4] = r[t], this._Kd[e - n][t % 4] = r[t];
                        for (var a, l = 0, u = o; u < i;) {
                            if (a = r[o - 1], r[0] ^= je[a >> 16 & 255] << 24 ^ je[a >> 8 & 255] << 16 ^ je[255 & a] << 8 ^ je[a >> 24 & 255] ^ Oe[l] << 24, l += 1, 8 != o)
                                for (t = 1; t < o; t++) r[t] ^= r[t - 1];
                            else {
                                for (t = 1; t < o / 2; t++) r[t] ^= r[t - 1];
                                for (a = r[o / 2 - 1], r[o / 2] ^= je[255 & a] ^ je[a >> 8 & 255] << 8 ^ je[a >> 16 & 255] << 16 ^ je[a >> 24 & 255] << 24, t = o / 2 + 1; t < o; t++) r[t] ^= r[t - 1]
                            }
                            for (t = 0; t < o && u < i;) c = u >> 2, d = u % 4, this._Ke[c][d] = r[t], this._Kd[e - c][d] = r[t++], u++
                        }
                        for (var c = 1; c < e; c++)
                            for (var d = 0; d < 4; d++) a = this._Kd[c][d], this._Kd[c][d] = Qe[a >> 24 & 255] ^ We[a >> 16 & 255] ^ Ke[a >> 8 & 255] ^ Xe[255 & a]
                    }, Je.prototype.encrypt = function (e) {
                        if (16 != e.length) throw new Error("invalid plaintext size (must be 16 bytes)");
                        for (var t = this._Ke.length - 1, n = [0, 0, 0, 0], i = s(e), o = 0; o < 4; o++) i[o] ^= this._Ke[0][o];
                        for (var a = 1; a < t; a++) {
                            for (o = 0; o < 4; o++) n[o] = Be[i[o] >> 24 & 255] ^ Fe[i[(o + 1) % 4] >> 16 & 255] ^ ze[i[(o + 2) % 4] >> 8 & 255] ^ He[255 & i[(o + 3) % 4]] ^ this._Ke[a][o];
                            i = n.slice()
                        }
                        var l, u = r(16);
                        for (o = 0; o < 4; o++) l = this._Ke[t][o], u[4 * o] = 255 & (je[i[o] >> 24 & 255] ^ l >> 24), u[4 * o + 1] = 255 & (je[i[(o + 1) % 4] >> 16 & 255] ^ l >> 16), u[4 * o + 2] = 255 & (je[i[(o + 2) % 4] >> 8 & 255] ^ l >> 8), u[4 * o + 3] = 255 & (je[255 & i[(o + 3) % 4]] ^ l);
                        return u
                    }, Je.prototype.decrypt = function (e) {
                        if (16 != e.length) throw new Error("invalid ciphertext size (must be 16 bytes)");
                        for (var t = this._Kd.length - 1, n = [0, 0, 0, 0], i = s(e), o = 0; o < 4; o++) i[o] ^= this._Kd[0][o];
                        for (var a = 1; a < t; a++) {
                            for (o = 0; o < 4; o++) n[o] = Ye[i[o] >> 24 & 255] ^ Ve[i[(o + 3) % 4] >> 16 & 255] ^ qe[i[(o + 2) % 4] >> 8 & 255] ^ Ge[255 & i[(o + 1) % 4]] ^ this._Kd[a][o];
                            i = n.slice()
                        }
                        var l, u = r(16);
                        for (o = 0; o < 4; o++) l = this._Kd[t][o], u[4 * o] = 255 & (Ue[i[o] >> 24 & 255] ^ l >> 24), u[4 * o + 1] = 255 & (Ue[i[(o + 3) % 4] >> 16 & 255] ^ l >> 16), u[4 * o + 2] = 255 & (Ue[i[(o + 2) % 4] >> 8 & 255] ^ l >> 8), u[4 * o + 3] = 255 & (Ue[255 & i[(o + 1) % 4]] ^ l);
                        return u
                    };
                    var Ze = function e(t) {
                        if (!(this instanceof e)) throw Error("AES must be instanitated with new");
                        this.description = "Electronic Code Block", this.name = "ecb", this._aes = new Je(t)
                    };
                    Ze.prototype.encrypt = function (e) {
                        if ((e = o(e)).length % 16 != 0) throw new Error("invalid plaintext size (must be multiple of 16 bytes)");
                        for (var t = r(e.length), n = r(16), i = 0; i < e.length; i += 16) a(e, n, 0, i, i + 16), a(n = this._aes.encrypt(n), t, i);
                        return t
                    }, Ze.prototype.decrypt = function (e) {
                        if ((e = o(e)).length % 16 != 0) throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");
                        for (var t = r(e.length), n = r(16), i = 0; i < e.length; i += 16) a(e, n, 0, i, i + 16), a(n = this._aes.decrypt(n), t, i);
                        return t
                    };
                    var $e = {
                            AES: Je,
                            ModeOfOperation: {
                                ecb: Ze
                            },
                            _arrayTest: {
                                coerceArray: o,
                                createArray: r,
                                copyArray: a
                            }
                        },
                        et = null,
                        tt = function (e, t) {
                            null != t && (et = new $e.ModeOfOperation.ecb(t)), et = et || new $e.ModeOfOperation.ecb(t);
                            var n = e.length,
                                i = n % 16;
                            if (i) {
                                var o = et.decrypt(e.subarray(0, n - i)),
                                    r = e.subarray(n - i),
                                    a = new Uint8Array(o.length + r.length);
                                return a.set(o, 0), a.set(r, o.length), a
                            }
                            return et.decrypt(e)
                        },
                        nt = function (e, t) {
                            var n = 1;
                            for (t < e && (n = -1); 4294967296 < Math.abs(t - e);) e += 8589934592 * n;
                            return e
                        },
                        it = function e(t) {
                            var n, i;
                            e.prototype.init.call(this), this.type_ = t, this.push = function (e) {
                                e.type === this.type_ && (void 0 === i && (i = e.dts), e.dts = nt(e.dts, i), e.pts = nt(e.pts, i), n = e.dts, this.trigger("data", e))
                            }, this.flush = function () {
                                i = n, this.trigger("done")
                            }, this.discontinuity = function () {
                                n = i = void 0
                            }
                        };
                    it.prototype = new ae;
                    var ot, rt = it,
                        at = function (e, t, n) {
                            var i, o = "";
                            for (i = t; i < n; i++) o += "%" + ("00" + e[i].toString(16)).slice(-2);
                            return o
                        },
                        st = function (e, t, n) {
                            return decodeURIComponent(at(e, t, n))
                        },
                        lt = function (e) {
                            return e[0] << 21 | e[1] << 14 | e[2] << 7 | e[3]
                        },
                        ut = {
                            TXXX: function (e) {
                                var t;
                                if (3 === e.data[0]) {
                                    for (t = 1; t < e.data.length; t++)
                                        if (0 === e.data[t]) {
                                            e.description = st(e.data, 1, t), e.value = st(e.data, t + 1, e.data.length).replace(/\0*$/, "");
                                            break
                                        }
                                    e.data = e.value
                                }
                            }, WXXX: function (e) {
                                var t;
                                if (3 === e.data[0])
                                    for (t = 1; t < e.data.length; t++)
                                        if (0 === e.data[t]) {
                                            e.description = st(e.data, 1, t), e.url = st(e.data, t + 1, e.data.length);
                                            break
                                        }
                            }, PRIV: function (e) {
                                var t, n;
                                for (t = 0; t < e.data.length; t++)
                                    if (0 === e.data[t]) {
                                        e.owner = (n = e.data, unescape(at(n, 0, t)));
                                        break
                                    }
                                e.privateData = e.data.subarray(t + 1), e.data = e.privateData
                            }
                        };
                    (ot = function (e) {
                        var t, n = {
                                debug: !(!e || !e.debug),
                                descriptor: e && e.descriptor
                            },
                            i = 0,
                            o = [],
                            r = 0;
                        if (ot.prototype.init.call(this), this.dispatchType = Pe.METADATA_STREAM_TYPE.toString(16), n.descriptor)
                            for (t = 0; t < n.descriptor.length; t++) this.dispatchType += ("00" + n.descriptor[t].toString(16)).slice(-2);
                        this.push = function (e) {
                            var t, a, s, l, u;
                            if ("timed-metadata" === e.type)
                                if (e.dataAlignmentIndicator && (r = 0, o.length = 0), 0 === o.length && (e.data.length < 10 || e.data[0] !== "I".charCodeAt(0) || e.data[1] !== "D".charCodeAt(0) || e.data[2] !== "3".charCodeAt(0))) n.debug && console.log("Skipping unrecognized metadata packet");
                                else if (o.push(e), r += e.data.byteLength, 1 === o.length && (i = lt(e.data.subarray(6, 10)), i += 10), !(r < i)) {
                                for (t = {
                                    data: new Uint8Array(i),
                                    frames: [],
                                    pts: o[0].pts,
                                    dts: o[0].dts
                                }, u = 0; u < i;) t.data.set(o[0].data.subarray(0, i - u), u), u += o[0].data.byteLength, r -= o[0].data.byteLength, o.shift();
                                a = 10, 64 & t.data[5] && (a += 4, a += lt(t.data.subarray(10, 14)), i -= lt(t.data.subarray(16, 20)));
                                do {
                                    if ((s = lt(t.data.subarray(a + 4, a + 8))) < 1) return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");
                                    if ((l = {
                                        id: String.fromCharCode(t.data[a], t.data[a + 1], t.data[a + 2], t.data[a + 3]),
                                        data: t.data.subarray(a + 10, a + s + 10)
                                    }).key = l.id, ut[l.id] && (ut[l.id](l), "com.apple.streaming.transportStreamTimestamp" === l.owner)) {
                                        var c = l.data,
                                            d = (1 & c[3]) << 30 | c[4] << 22 | c[5] << 14 | c[6] << 6 | c[7] >>> 2;
                                        d *= 4, d += 3 & c[7], l.timeStamp = d, void 0 === t.pts && void 0 === t.dts && (t.pts = l.timeStamp, t.dts = l.timeStamp), this.trigger("timestamp", l)
                                    }
                                    t.frames.push(l), a += 10, a += s
                                } while (a < i);
                                this.trigger("data", t)
                            }
                        }
                    }).prototype = new ae;
                    var ct, dt, ht, pt = ot,
                        ft = rt;
                    (ct = function () {
                        var e = new Uint8Array(188),
                            t = 0;
                        ct.prototype.init.call(this), this.push = function (n) {
                            var i, o = 0,
                                r = 188;
                            for (t ? ((i = new Uint8Array(n.byteLength + t)).set(e.subarray(0, t)), i.set(n, t), t = 0) : i = n; r < i.byteLength;) 71 !== i[o] || 71 !== i[r] ? (o++, r++) : (this.trigger("data", i.subarray(o, r)), o += 188, r += 188);
                            o < i.byteLength && (e.set(i.subarray(o), 0), t = i.byteLength - o)
                        }, this.flush = function () {
                            188 === t && 71 === e[0] && (this.trigger("data", e), t = 0), this.trigger("done")
                        }
                    }).prototype = new ae, (dt = function () {
                        var e, t, n, i;
                        dt.prototype.init.call(this), (i = this).packetsWaitingForPmt = [], this.programMapTable = void 0, e = function (e, i) {
                            var o = 0;
                            i.payloadUnitStartIndicator && (o += e[o] + 1), "pat" === i.type ? t(e.subarray(o), i) : n(e.subarray(o), i)
                        }, t = function (e, t) {
                            t.section_number = e[7], t.last_section_number = e[8], i.pmtPid = (31 & e[10]) << 8 | e[11], t.pmtPid = i.pmtPid
                        }, n = function (e, t) {
                            var n, o;
                            if (1 & e[5]) {
                                for (i.programMapTable = {
                                    video: null,
                                    audio: null,
                                    "timed-metadata": {}
                                }, n = 3 + ((15 & e[1]) << 8 | e[2]) - 4, o = 12 + ((15 & e[10]) << 8 | e[11]); o < n;) {
                                    var r = e[o],
                                        a = (31 & e[o + 1]) << 8 | e[o + 2];
                                    r === Pe.H264_STREAM_TYPE && null === i.programMapTable.video ? i.programMapTable.video = a : r === Pe.ADTS_STREAM_TYPE && null === i.programMapTable.audio ? i.programMapTable.audio = a : r === Pe.METADATA_STREAM_TYPE && (i.programMapTable["timed-metadata"][a] = r), o += 5 + ((15 & e[o + 3]) << 8 | e[o + 4])
                                }
                                t.programMapTable = i.programMapTable
                            }
                        }, this.push = function (t) {
                            var n = {},
                                i = 4;
                            if (n.payloadUnitStartIndicator = !!(64 & t[1]), n.pid = 31 & t[1], n.pid <<= 8, n.pid |= t[2], 1 < (48 & t[3]) >>> 4 && (i += t[i] + 1), 0 === n.pid) n.type = "pat", e(t.subarray(i), n), this.trigger("data", n);
                            else if (n.pid === this.pmtPid)
                                for (n.type = "pmt", e(t.subarray(i), n), this.trigger("data", n); this.packetsWaitingForPmt.length;) this.processPes_.apply(this, this.packetsWaitingForPmt.shift());
                            else void 0 === this.programMapTable ? this.packetsWaitingForPmt.push([t, i, n]) : this.processPes_(t, i, n)
                        }, this.processPes_ = function (e, t, n) {
                            n.pid === this.programMapTable.video ? n.streamType = Pe.H264_STREAM_TYPE : n.pid === this.programMapTable.audio ? n.streamType = Pe.ADTS_STREAM_TYPE : n.streamType = this.programMapTable["timed-metadata"][n.pid], n.type = "pes", n.data = e.subarray(t), this.trigger("data", n)
                        }
                    }).prototype = new ae, dt.STREAM_TYPES = {
                        h264: 27,
                        adts: 15
                    }, (ht = function (e) {
                        var t = this,
                            n = {
                                data: [],
                                size: 0
                            },
                            i = {
                                data: [],
                                size: 0
                            },
                            o = {
                                data: [],
                                size: 0
                            },
                            r = !1,
                            a = function (n, i, o) {
                                var a, s, l = new Uint8Array(n.size),
                                    u = {
                                        type: i
                                    },
                                    c = 0,
                                    d = 0;
                                if (n.data.length && !(n.size < 9)) {
                                    for (u.trackId = n.data[0].pid, c = 0; c < n.data.length; c++) s = n.data[c], l.set(s.data, d), d += s.data.byteLength;
                                    var h, p, f;
                                    h = l, (p = u).packetLength = 6 + (h[4] << 8 | h[5]), p.dataAlignmentIndicator = 0 != (4 & h[6]), 192 & (f = h[7]) && (p.pts = (14 & h[9]) << 27 | (255 & h[10]) << 20 | (254 & h[11]) << 12 | (255 & h[12]) << 5 | (254 & h[13]) >>> 3, p.pts *= 4, p.pts += (6 & h[13]) >>> 1, p.dts = p.pts, 64 & f && (p.dts = (14 & h[14]) << 27 | (255 & h[15]) << 20 | (254 & h[16]) << 12 | (255 & h[17]) << 5 | (254 & h[18]) >>> 3, p.dts *= 4, p.dts += (6 & h[18]) >>> 1)), p.data = h.subarray(9 + h[8]), e.decodeKey && r && (p.data = tt(p.data, e.decodeKey)), a = "video" === i || u.packetLength <= n.size, (o || a) && (n.size = 0, n.data.length = 0), a && t.trigger("data", u)
                                }
                            };
                        ht.prototype.init.call(this), this.setEncrypted = function (e) {
                            r = e
                        }, this.push = function (e) {
                            ({
                                pat: function () {}, pes: function () {
                                    var t, r;
                                    switch (e.streamType) {
                                    case Pe.H264_STREAM_TYPE:
                                    case Pe.H264_STREAM_TYPE:
                                        t = n, r = "video";
                                        break;
                                    case Pe.ADTS_STREAM_TYPE:
                                        t = i, r = "audio";
                                        break;
                                    case Pe.METADATA_STREAM_TYPE:
                                        t = o, r = "timed-metadata";
                                        break;
                                    default:
                                        return
                                    }
                                    e.payloadUnitStartIndicator && a(t, r, !0), t.data.push(e), t.size += e.data.byteLength
                                }, pmt: function () {
                                    var n = {
                                            type: "metadata",
                                            tracks: []
                                        },
                                        i = e.programMapTable;
                                    i && null !== i.video && n.tracks.push({
                                        timelineStartInfo: {
                                            baseMediaDecodeTime: 0
                                        },
                                        id: +i.video,
                                        codec: "avc",
                                        type: "video"
                                    }), i && null !== i.audio && n.tracks.push({
                                        timelineStartInfo: {
                                            baseMediaDecodeTime: 0
                                        },
                                        id: +i.audio,
                                        codec: "adts",
                                        type: "audio"
                                    }), t.trigger("data", n)
                                }
                            })[e.type]()
                        }, this.flush = function () {
                            a(i, "audio"), a(n, "video"), a(o, "timed-metadata"), this.trigger("done")
                        }
                    }).prototype = new ae;
                    var gt = {
                        PAT_PID: 0,
                        MP2T_PACKET_LENGTH: 188,
                        TransportPacketStream: ct,
                        TransportParseStream: dt,
                        ElementaryStream: ht,
                        TimestampRolloverStream: ft,
                        CaptionStream: Re.CaptionStream,
                        Cea608Stream: Re.Cea608Stream,
                        MetadataStream: pt
                    };
                    for (var mt in Pe) Pe.hasOwnProperty(mt) && (gt[mt] = Pe[mt]);
                    var yt, vt = gt,
                        _t = [96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025, 8e3, 7350];
                    (yt = function () {
                        var e;
                        yt.prototype.init.call(this), this.push = function (t) {
                            var n, i, o, r, a, s, l = 0,
                                u = 0;
                            if ("audio" === t.type)
                                for (e ? (r = e, (e = new Uint8Array(r.byteLength + t.data.byteLength)).set(r), e.set(t.data, r.byteLength)) : e = t.data; l + 5 < e.length;)
                                    if (255 === e[l] && 240 == (246 & e[l + 1])) {
                                        if (i = 2 * (1 & ~e[l + 1]), n = (3 & e[l + 3]) << 11 | e[l + 4] << 3 | (224 & e[l + 5]) >> 5, s = 9e4 * (a = 1024 * (1 + (3 & e[l + 6]))) / _t[(60 & e[l + 2]) >>> 2], o = l + n, e.byteLength < o) return;
                                        if (this.trigger("data", {
                                            pts: t.pts + u * s,
                                            dts: t.dts + u * s,
                                            sampleCount: a,
                                            audioobjecttype: 1 + (e[l + 2] >>> 6 & 3),
                                            channelcount: (1 & e[l + 2]) << 2 | (192 & e[l + 3]) >>> 6,
                                            samplerate: _t[(60 & e[l + 2]) >>> 2],
                                            samplingfrequencyindex: (60 & e[l + 2]) >>> 2,
                                            samplesize: 16,
                                            data: e.subarray(l + 7 + i, o)
                                        }), e.byteLength === o) return void(e = void 0);
                                        u++, e = e.subarray(o)
                                    } else l++
                        }, this.flush = function () {
                            this.trigger("done")
                        }
                    }).prototype = new ae;
                    var bt, Et, kt, wt, St = yt,
                        Tt = function (e) {
                            var t = e.byteLength,
                                n = 0,
                                i = 0;
                            this.length = function () {
                                return 8 * t
                            }, this.bitsAvailable = function () {
                                return 8 * t + i
                            }, this.loadWord = function () {
                                var o = e.byteLength - t,
                                    r = new Uint8Array(4),
                                    a = Math.min(4, t);
                                if (0 === a) throw new Error("no bytes available");
                                r.set(e.subarray(o, o + a)), n = new DataView(r.buffer).getUint32(0), i = 8 * a, t -= a
                            }, this.skipBits = function (e) {
                                var o;
                                e < i || (e -= i, e -= 8 * (o = Math.floor(e / 8)), t -= o, this.loadWord()), n <<= e, i -= e
                            }, this.readBits = function (e) {
                                var o = Math.min(i, e),
                                    r = n >>> 32 - o;
                                return 0 < (i -= o) ? n <<= o : 0 < t && this.loadWord(), 0 < (o = e - o) ? r << o | this.readBits(o) : r
                            }, this.skipLeadingZeros = function () {
                                var e;
                                for (e = 0; e < i; ++e)
                                    if (0 != (n & 2147483648 >>> e)) return n <<= e, i -= e, e;
                                return this.loadWord(), e + this.skipLeadingZeros()
                            }, this.skipUnsignedExpGolomb = function () {
                                this.skipBits(1 + this.skipLeadingZeros())
                            }, this.skipExpGolomb = function () {
                                this.skipBits(1 + this.skipLeadingZeros())
                            }, this.readUnsignedExpGolomb = function () {
                                var e = this.skipLeadingZeros();
                                return this.readBits(e + 1) - 1
                            }, this.readExpGolomb = function () {
                                var e = this.readUnsignedExpGolomb();
                                return 1 & e ? 1 + e >>> 1 : -1 * (e >>> 1)
                            }, this.readBoolean = function () {
                                return 1 === this.readBits(1)
                            }, this.readUnsignedByte = function () {
                                return this.readBits(8)
                            }, this.loadWord()
                        };
                    (Et = function () {
                        var e, t, n = 0;
                        Et.prototype.init.call(this), this.push = function (i) {
                            var o;
                            for (t = t ? ((o = new Uint8Array(t.byteLength + i.data.byteLength)).set(t), o.set(i.data, t.byteLength), o) : i.data; n < t.byteLength - 3; n++)
                                if (1 === t[n + 2]) {
                                    e = n + 5;
                                    break
                                }
                            for (; e < t.byteLength;) switch (t[e]) {
                            case 0:
                                if (0 !== t[e - 1]) {
                                    e += 2;
                                    break
                                }
                                if (0 !== t[e - 2]) {
                                    e++;
                                    break
                                }
                                for (n + 3 !== e - 2 && this.trigger("data", t.subarray(n + 3, e - 2)); 1 !== t[++e] && e < t.length;);
                                n = e - 2, e += 3;
                                break;
                            case 1:
                                if (0 !== t[e - 1] || 0 !== t[e - 2]) {
                                    e += 3;
                                    break
                                }
                                n + 3 !== e - 2 && this.trigger("data", t.subarray(n + 3, e - 2)), n = e - 2, e += 3;
                                break;
                            default:
                                e += 3
                            }
                            t = t.subarray(n), e -= n, n = 0
                        }, this.flush = function () {
                            t && 3 < t.byteLength && this.trigger("data", t.subarray(n + 3)), t = null, n = 0, this.trigger("done")
                        }
                    }).prototype = new ae, kt = {
                        100: !0,
                        110: !0,
                        122: !0,
                        244: !0,
                        44: !0,
                        83: !0,
                        86: !0,
                        118: !0,
                        128: !0,
                        138: !0,
                        139: !0,
                        134: !0
                    }, (bt = function () {
                        var e, t, n, i, o, r, a, s = new Et;
                        bt.prototype.init.call(this), (e = this).push = function (e) {
                            "video" === e.type && (t = e.trackId, n = e.pts, i = e.dts, s.push(e))
                        }, s.on("data", function (a) {
                            var s = {
                                trackId: t,
                                pts: n,
                                dts: i,
                                data: a
                            };
                            switch (31 & a[0]) {
                            case 1:
                                s.nalUnitType = "NDR";
                                break;
                            case 5:
                                s.nalUnitType = "slice_layer_without_partitioning_rbsp_idr";
                                break;
                            case 6:
                                s.nalUnitType = "sei_rbsp", s.escapedRBSP = o(a.subarray(1));
                                break;
                            case 7:
                                s.nalUnitType = "seq_parameter_set_rbsp", s.escapedRBSP = o(a.subarray(1)), s.config = r(s.escapedRBSP);
                                break;
                            case 8:
                                s.nalUnitType = "pic_parameter_set_rbsp";
                                break;
                            case 9:
                                s.nalUnitType = "access_unit_delimiter_rbsp";
                                break;
                            default:
                                return
                            }
                            e.trigger("data", s)
                        }), s.on("done", function () {
                            e.trigger("done")
                        }), this.flush = function () {
                            s.flush()
                        }, a = function (e, t) {
                            var n, i = 8,
                                o = 8;
                            for (n = 0; n < e; n++) 0 !== o && (o = (i + t.readExpGolomb() + 256) % 256), i = 0 === o ? i : o
                        }, o = function (e) {
                            for (var t, n, i = e.byteLength, o = [], r = 1; r < i - 2;) 0 === e[r] && 0 === e[r + 1] && 3 === e[r + 2] ? (o.push(r + 2), r += 2) : r++;
                            if (0 === o.length) return e;
                            t = i - o.length, n = new Uint8Array(t);
                            var a = 0;
                            for (r = 0; r < t; a++, r++) a === o[0] && (a++, o.shift()), n[r] = e[a];
                            return n
                        }, r = function (e) {
                            var t, n, i, o, r, s, l, u, c, d, h, p, f = 0,
                                g = 0,
                                m = 0,
                                y = 0,
                                v = [1, 1];
                            try {
                                if (n = (t = new Tt(e)).readUnsignedByte(), o = t.readUnsignedByte(), i = t.readUnsignedByte(), t.skipUnsignedExpGolomb(), kt[n] && (3 === (r = t.readUnsignedExpGolomb()) && t.skipBits(1), t.skipUnsignedExpGolomb(), t.skipUnsignedExpGolomb(), t.skipBits(1), t.readBoolean()))
                                    for (h = 3 !== r ? 8 : 12, p = 0; p < h; p++) t.readBoolean() && a(p < 6 ? 16 : 64, t);
                                if (t.skipUnsignedExpGolomb(), 0 === (s = t.readUnsignedExpGolomb())) t.readUnsignedExpGolomb();
                                else if (1 === s)
                                    for (t.skipBits(1), t.skipExpGolomb(), t.skipExpGolomb(), l = t.readUnsignedExpGolomb(), p = 0; p < l; p++) t.skipExpGolomb();
                                if (t.skipUnsignedExpGolomb(), t.skipBits(1), u = t.readUnsignedExpGolomb(), c = t.readUnsignedExpGolomb(), 0 === (d = t.readBits(1)) && t.skipBits(1), t.skipBits(1), t.readBoolean() && (f = t.readUnsignedExpGolomb(), g = t.readUnsignedExpGolomb(), m = t.readUnsignedExpGolomb(), y = t.readUnsignedExpGolomb()), t.readBoolean() && t.readBoolean()) {
                                    switch (t.readUnsignedByte()) {
                                    case 1:
                                        v = [1, 1];
                                        break;
                                    case 2:
                                        v = [12, 11];
                                        break;
                                    case 3:
                                        v = [10, 11];
                                        break;
                                    case 4:
                                        v = [16, 11];
                                        break;
                                    case 5:
                                        v = [40, 33];
                                        break;
                                    case 6:
                                        v = [24, 11];
                                        break;
                                    case 7:
                                        v = [20, 11];
                                        break;
                                    case 8:
                                        v = [32, 11];
                                        break;
                                    case 9:
                                        v = [80, 33];
                                        break;
                                    case 10:
                                        v = [18, 11];
                                        break;
                                    case 11:
                                        v = [15, 11];
                                        break;
                                    case 12:
                                        v = [64, 33];
                                        break;
                                    case 13:
                                        v = [160, 99];
                                        break;
                                    case 14:
                                        v = [4, 3];
                                        break;
                                    case 15:
                                        v = [3, 2];
                                        break;
                                    case 16:
                                        v = [2, 1];
                                        break;
                                    case 255:
                                        v = [t.readUnsignedByte() << 8 | t.readUnsignedByte(), t.readUnsignedByte() << 8 | t.readUnsignedByte()]
                                    }
                                    v && (v[0], v[1])
                                }
                            } catch (e) {
                                if (wt) return wt;
                                throw e
                            }
                            return wt = {
                                profileIdc: n,
                                levelIdc: i,
                                sarRatio: v,
                                profileCompatibility: o,
                                width: Math.ceil(16 * (u + 1) - 2 * f - 2 * g),
                                height: (2 - d) * (c + 1) * 16 - 2 * m - 2 * y
                            }
                        }
                    }).prototype = new ae;
                    var xt, At = {
                            H264Stream: bt,
                            NalByteStream: Et
                        },
                        Dt = function (e) {
                            return e[0] === "I".charCodeAt(0) && e[1] === "D".charCodeAt(0) && e[2] === "3".charCodeAt(0)
                        },
                        Lt = function (e, t) {
                            var n = e[t + 6] << 21 | e[t + 7] << 14 | e[t + 8] << 7 | e[t + 9];
                            return (16 & e[t + 5]) >> 4 ? n + 20 : n + 10
                        },
                        Ct = function (e, t) {
                            var n = (224 & e[t + 5]) >> 5,
                                i = e[t + 4] << 3;
                            return 6144 & e[t + 3] | i | n
                        };
                    (xt = function () {
                        var e = new Uint8Array,
                            t = 0;
                        xt.prototype.init.call(this), this.setTimestamp = function (e) {
                            t = e
                        }, this.push = function (n) {
                            var i, o, r, a, s = 0,
                                l = 0;
                            for (e.length ? (a = e.length, (e = new Uint8Array(n.byteLength + a)).set(e.subarray(0, a)), e.set(n, a)) : e = n; 3 <= e.length - l;)
                                if (e[l] !== "I".charCodeAt(0) || e[l + 1] !== "D".charCodeAt(0) || e[l + 2] !== "3".charCodeAt(0))
                                    if (255 != (255 & e[l]) || 240 != (240 & e[l + 1])) l++;
                                    else {
                                        if (e.length - l < 7) break;
                                        if (l + (s = Ct(e, l)) > e.length) break;
                                        r = {
                                            type: "audio",
                                            data: e.subarray(l, l + s),
                                            pts: t,
                                            dts: t
                                        }, this.trigger("data", r), l += s
                                    } else {
                                if (e.length - l < 10) break;
                                if (l + (s = Lt(e, l)) > e.length) break;
                                o = {
                                    type: "timed-metadata",
                                    data: e.subarray(l, l + s)
                                }, this.trigger("data", o), l += s
                            }
                            i = e.length - l, e = 0 < i ? e.subarray(l) : new Uint8Array
                        }
                    }).prototype = new ae;
                    var Mt, It, Rt, Pt, Nt = xt,
                        Ot = At.H264Stream,
                        jt = Dt,
                        Ut = /Version\/[\d.]+\s*Safari\/[\d.]+/.test(navigator.userAgent),
                        Bt = ["audioobjecttype", "channelcount", "samplerate", "samplingfrequencyindex", "samplesize"],
                        Ft = ["width", "height", "profileIdc", "levelIdc", "sarRatio", "profileCompatibility"],
                        zt = {},
                        Ht = function (e, t) {
                            var n;
                            if (e.length !== t.length) return !1;
                            for (n = 0; n < e.length; n++)
                                if (e[n] !== t[n]) return !1;
                            return !0
                        };
                    (It = function (e, t) {
                        var n = [],
                            i = 0;
                        t = t || {}, It.prototype.init.call(this), this.push = function (t) {
                            be(e, t, zt), e && Bt.forEach(function (n) {
                                e[n] = t[n]
                            }), n.push(t)
                        }, this.setEarliestDts = function (t) {
                            e.timelineStartInfo.baseMediaDecodeTime
                        }, this.setVideoBaseMediaDecodeTime = function (e) {}, this.setAudioAppendStart = function (t) {
                            e.samplerate
                        }, this.flush = function () {
                            var o, r, a, s;
                            if (0 !== n.length) {
                                o = n;
                                var l = 9e4 / e.samplerate;
                                Ee(zt), e.rawPts = [o[0].pts, o[o.length - 1].pts + o[o.length - 1].sampleCount * l], e.baseMediaDecodeTime = _e(e, t.keepOriginalTimestamps), o.forEach(function (e) {
                                    e.pts = e.dts = Math.max(0, e.pts - zt.pts)
                                }), o = o.filter(function (e) {
                                    return 0 <= e.pts
                                });
                                var u = zt.nextAudioPts;
                                if (e.ref = u, e.disc = zt.continuous, zt.continuous || (u = zt.accurateTimeOffset ? 9e4 * zt.timeOffset + Math.max(0, zt.audioVideoShift) : o[0].pts), me.fixAudioFrames(e, o, u), 0 < o.length) {
                                    e.baseMediaDecodeTime = o[0].pts / l;
                                    var c = o[o.length - 1].sampleCount * l;
                                    e.pts = [o[0].pts, o[o.length - 1].pts + c], e.start = o[0].pts / 9e4;
                                    var d = o[o.length - 1];
                                    zt.nextAudioPts = d.pts + c, e.samples = me.generateSampleTable(o), a = ne.mdat(me.concatenateFrameData(o)), e.end = zt.nextAudioPts / 9e4, n = [], r = ne.moof(i, [e]), s = new Uint8Array(r.byteLength + a.byteLength), i++, s.set(r), s.set(a, r.byteLength)
                                } else e.start = zt.nextAudioPts / 9e4, e.end = e.start;
                                this.trigger("baseMediaDecodeTime", e.baseMediaDecodeTime), this.trigger("timelineStartInfo", e.timelineStartInfo), this.trigger("data", {
                                    track: e,
                                    boxes: s
                                }), this.trigger("done", "AudioSegmentStream")
                            } else this.trigger("done", "AudioSegmentStream")
                        }
                    }).prototype = new ae, (Mt = function (e, t) {
                        var n, i, o = 0,
                            r = [],
                            a = [];
                        t = t || {}, Mt.prototype.init.call(this), delete e.minPTS, this.gopCache_ = [], this.setVideoAppendStart = function (e) {}, this.push = function (t) {
                            be(e, t, zt), "seq_parameter_set_rbsp" !== t.nalUnitType || n || (n = t.config, e.sps = [t.data], Ft.forEach(function (t) {
                                e[t] = n[t]
                            }, this)), "pic_parameter_set_rbsp" !== t.nalUnitType || i || (i = t.data, e.pps = [t.data]), t.id = r.length, r.push(t)
                        }, this.flush = function () {
                            for (var n, i, s, l, u; r.length && "access_unit_delimiter_rbsp" !== r[0].nalUnitType;) r.shift();
                            if (0 === r.length) return this.resetStream_(), void this.trigger("done", "VideoSegmentStream");
                            n = ue(r), Ee(zt), e.rawPts = [n[0].pts, n[n.length - 1].pts + n[n.length - 1].duration], e.rawDts = [n[0].dts, n[n.length - 1].dts + n[n.length - 1].duration];
                            var c = zt.nextVideoDts;
                            e.ref = c, e.disc = zt.continuous, zt.continuous || (c = 9e4 * zt.timeOffset + Math.max(0, zt.audioVideoShift)), n.sort(function (e, t) {
                                return e.dts - t.dts || e.pts - t.pts || e.id - t.id
                            });
                            var d = 0,
                                h = zt.pts;
                            Ut && (h = zt.dts), n.forEach(function (e, t) {
                                e.dts = Math.max(0, e.dts - h), e.pts = Math.max(0, e.pts - h), e.pts + e.duration > d && (d = e.pts + e.duration)
                            });
                            var p = Math.max(0, n[0].dts),
                                f = Math.max(0, n[0].pts),
                                g = Math.round((p - c) / 90);
                            if (zt.continuous && 1 < Math.abs(g)) {
                                1 < g ? console.warn("AVC ".concat(g, "ms hole find! pts gap:").concat((f - zt.nextVideoPts) / 90)) : g < -1 && console.warn("AVC ".concat(-g, "ms overlap find")), p = c, f = Math.max(p, Math.max(f - g, zt.nextVideoPts)), n[0].pts = f, n[0].dts = p;
                                for (var m = 1; m < n.length; m++) {
                                    if (!(n[m].dts < p || n[m].pts < f)) {
                                        if (n[m].dts === p && n[m].keyFrame) {
                                            n = n.slice(m);
                                            break
                                        }
                                        break
                                    }
                                    n[m].dts = Math.max(p, n[m].dts), n[m].pts = Math.max(f, n[m].pts)
                                }
                            }
                            f + n[0].duration > d && (d = f + n[0].duration), zt.nextVideoPts = d;
                            var y = n[0],
                                v = n[n.length - 1];
                            if (zt.nextVideoDts = v.dts + v.duration, (i = ce(n))[0][0].keyFrame || e.timelineStartInfo.discontinuity && (i = de(i)), a.length) {
                                var _;
                                if (!(_ = t.alignGopsAtEnd ? this.alignGopsAtEnd_(i) : this.alignGopsAtStart_(i))) return this.gopCache_.unshift({
                                    gop: i.pop(),
                                    pps: e.pps,
                                    sps: e.sps
                                }), this.gopCache_.length = Math.min(6, this.gopCache_.length), r = [], this.resetStream_(), void this.trigger("done", "VideoSegmentStream");
                                ve(e, zt), i = _
                            }
                            e.samples = he(i), e.dts = [y.dts, v.dts + v.duration], e.pts = [y.pts, d], e.duration = v.dts - y.dts + e.samples[e.samples.length - 1].duration, e.fps = Math.round(n.length / (e.duration / 9e4)) || 24, l = ne.mdat(pe(i)), e.baseMediaDecodeTime = p, this.trigger("processedGopsInfo", i.map(function (e) {
                                return {
                                    pts: e.pts,
                                    dts: e.dts,
                                    byteLength: e.byteLength
                                }
                            })), this.gopCache_.length = Math.min(6, this.gopCache_.length), r = [], this.trigger("baseMediaDecodeTime", e.baseMediaDecodeTime), this.trigger("timelineStartInfo", e.timelineStartInfo), e.start = f / 9e4, e.end = d / 9e4, s = ne.moof(o, [e]), u = new Uint8Array(s.byteLength + l.byteLength), o++, u.set(s), u.set(l, s.byteLength), this.trigger("data", {
                                track: e,
                                boxes: u
                            }), this.resetStream_(), this.trigger("done", "VideoSegmentStream")
                        }, this.resetStream_ = function () {
                            i = n = void 0
                        }, this.getGopForFusion_ = function (t) {
                            var n, i, o, r, a, s = 1 / 0;
                            for (a = 0; a < this.gopCache_.length; a++) o = (r = this.gopCache_[a]).gop, e.pps && Ht(e.pps[0], r.pps[0]) && e.sps && Ht(e.sps[0], r.sps[0]) && (o.dts < e.timelineStartInfo.dts || -1e4 <= (n = t.dts - o.dts - o.duration) && n <= 45e3 && (!i || n < s) && (i = r, s = n));
                            return i ? i.gop : null
                        }, this.alignGopsAtStart_ = function (e) {
                            var t, n, i, o, r, s, l, u;
                            for (r = e.byteLength, s = e.nalCount, l = e.duration, t = n = 0; t < a.length && n < e.length && (i = a[t], o = e[n], i.pts !== o.pts);) o.pts > i.pts ? t++ : (n++, r -= o.byteLength, s -= o.nalCount, l -= o.duration);
                            return 0 === n ? e : n === e.length ? null : ((u = e.slice(n)).byteLength = r, u.duration = l, u.nalCount = s, u.pts = u[0].pts, u.dts = u[0].dts, u)
                        }, this.alignGopsAtEnd_ = function (e) {
                            var t, n, i, o, r, s, l;
                            for (t = a.length - 1, n = e.length - 1, r = null, s = !1; 0 <= t && 0 <= n;) {
                                if (i = a[t], o = e[n], i.pts === o.pts) {
                                    s = !0;
                                    break
                                }
                                i.pts > o.pts ? t-- : (t === a.length - 1 && (r = n), n--)
                            }
                            if (!s && null === r) return null;
                            if (0 === (l = s ? n : r)) return e;
                            var u = e.slice(l),
                                c = u.reduce(function (e, t) {
                                    return e.byteLength += t.byteLength, e.duration += t.duration, e.nalCount += t.nalCount, e
                                }, {
                                    byteLength: 0,
                                    duration: 0,
                                    nalCount: 0
                                });
                            return u.byteLength = c.byteLength, u.duration = c.duration, u.nalCount = c.nalCount, u.pts = u[0].pts, u.dts = u[0].dts, u
                        }, this.alignGopsWith = function (e) {
                            a = e
                        }
                    }).prototype = new ae, (Pt = function (e, t) {
                        this.numberOfTracks = 0, this.metadataStream = t, void 0 !== (e = e || {}).remux ? this.remuxTracks = !!e.remux : this.remuxTracks = !0, "boolean" == typeof e.keepOriginalTimestamps && (this.keepOriginalTimestamps = e.keepOriginalTimestamps), this.pendingTracks = [], this.videoTrack = null, this.pendingBoxes = [], this.pendingCaptions = [], this.pendingMetadata = [], this.pendingBytes = 0, this.emittedTracks = 0, Pt.prototype.init.call(this), this.push = function (e) {
                            return e.text ? this.pendingCaptions.push(e) : e.frames ? this.pendingMetadata.push(e) : (this.pendingTracks.push(e.track), e.boxes && (this.pendingBoxes.push(e.boxes), this.pendingBytes += e.boxes.byteLength), "video" === e.track.type && (this.videoTrack = e.track), void("audio" === e.track.type && (this.audioTrack = e.track)))
                        }
                    }).prototype = new ae, Pt.prototype.flush = function (e) {
                        var t, n, i, o, r = 0,
                            a = {
                                captions: [],
                                captionStreams: {},
                                metadata: [],
                                info: {}
                            },
                            s = 0;
                        if (this.pendingTracks.length < this.numberOfTracks) {
                            if ("VideoSegmentStream" !== e && "AudioSegmentStream" !== e) return;
                            if (this.remuxTracks) return;
                            if (0 === this.pendingTracks.length) return void(++this.emittedTracks >= this.numberOfTracks && (this.trigger("done"), this.emittedTracks = 0))
                        }
                        for (this.videoTrack ? (s = this.videoTrack.timelineStartInfo.pts, Ft.forEach(function (e) {
                            a.info[e] = this.videoTrack[e]
                        }, this), a.info.fps = this.videoTrack.fps, a.info.timeline = {
                            base: this.videoTrack.baseMediaDecodeTime,
                            ref: this.videoTrack.ref,
                            disc: this.videoTrack.disc,
                            rawDts: this.videoTrack.rawDts,
                            rawPts: this.videoTrack.rawPts,
                            dts: this.videoTrack.dts,
                            pts: this.videoTrack.pts,
                            start: this.videoTrack.start,
                            end: this.videoTrack.end
                        }, ve(this.videoTrack, zt)) : this.audioTrack && (s = this.audioTrack.timelineStartInfo.pts, Bt.forEach(function (e) {
                            a.info[e] = this.audioTrack[e]
                        }, this), a.info.alignInfo = this.audioTrack.alignInfo, a.info.timeline = {
                            base: zt.pts,
                            ref: this.audioTrack.ref,
                            disc: this.audioTrack.disc,
                            rawPts: this.audioTrack.rawPts,
                            pts: this.audioTrack.pts,
                            start: this.audioTrack.start,
                            end: this.audioTrack.end
                        }, ve(this.audioTrack, zt)), 1 === this.pendingTracks.length ? a.type = this.pendingTracks[0].type : a.type = "combined", this.emittedTracks += this.pendingTracks.length, i = ne.initSegment(this.pendingTracks), a.initSegment = new Uint8Array(i.byteLength), a.initSegment.set(i), a.data = new Uint8Array(this.pendingBytes), o = 0; o < this.pendingBoxes.length; o++) a.data.set(this.pendingBoxes[o], r), r += this.pendingBoxes[o].byteLength;
                        for (o = 0; o < this.pendingCaptions.length; o++)(t = this.pendingCaptions[o]).startTime = t.startPts, this.keepOriginalTimestamps || (t.startTime -= s), t.startTime /= 9e4, t.endTime = t.endPts, this.keepOriginalTimestamps || (t.endTime -= s), t.endTime /= 9e4, a.captionStreams[t.stream] = !0, a.captions.push(t);
                        for (o = 0; o < this.pendingMetadata.length; o++)(n = this.pendingMetadata[o]).cueTime = n.pts, this.keepOriginalTimestamps || (n.cueTime -= s), n.cueTime /= 9e4, a.metadata.push(n);
                        a.metadata.dispatchType = this.metadataStream.dispatchType, this.pendingTracks.length = 0, this.videoTrack = null, this.pendingBoxes.length = 0, this.pendingCaptions.length = 0, this.pendingBytes = 0, this.pendingMetadata.length = 0, this.trigger("data", a), this.emittedTracks >= this.numberOfTracks && (this.trigger("done"), this.emittedTracks = 0)
                    }, (Rt = function (e) {
                        var t, n, i = this,
                            o = !0;
                        Rt.prototype.init.call(this), e = e || {}, this.baseMediaDecodeTime = e.baseMediaDecodeTime || 0, this.transmuxPipeline_ = {}, this.setupAacPipeline = function () {
                            var t = {};
                            (this.transmuxPipeline_ = t).type = "aac", t.metadataStream = new vt.MetadataStream, t.aacStream = new Nt, t.audioTimestampRolloverStream = new vt.TimestampRolloverStream("audio"), t.timedMetadataTimestampRolloverStream = new vt.TimestampRolloverStream("timed-metadata"), t.adtsStream = new St, t.coalesceStream = new Pt(e, t.metadataStream), t.headOfPipeline = t.aacStream, t.aacStream.pipe(t.audioTimestampRolloverStream).pipe(t.adtsStream), t.aacStream.pipe(t.timedMetadataTimestampRolloverStream).pipe(t.metadataStream).pipe(t.coalesceStream), t.metadataStream.on("timestamp", function (e) {
                                t.aacStream.setTimestamp(e.timeStamp)
                            }), t.aacStream.on("data", function (o) {
                                "timed-metadata" !== o.type || t.audioSegmentStream || (n = n || {
                                    timelineStartInfo: {
                                        baseMediaDecodeTime: i.baseMediaDecodeTime
                                    },
                                    codec: "adts",
                                    type: "audio"
                                }, t.coalesceStream.numberOfTracks++, t.audioSegmentStream = new It(n, e), t.adtsStream.pipe(t.audioSegmentStream).pipe(t.coalesceStream))
                            }), t.coalesceStream.on("data", this.trigger.bind(this, "data")), t.coalesceStream.on("done", this.trigger.bind(this, "done"))
                        }, this.setupTsPipeline = function () {
                            var o = {};
                            (this.transmuxPipeline_ = o).type = "ts", o.metadataStream = new vt.MetadataStream, o.packetStream = new vt.TransportPacketStream, o.parseStream = new vt.TransportParseStream, o.elementaryStream = new vt.ElementaryStream(e), o.videoTimestampRolloverStream = new vt.TimestampRolloverStream("video"), o.audioTimestampRolloverStream = new vt.TimestampRolloverStream("audio"), o.timedMetadataTimestampRolloverStream = new vt.TimestampRolloverStream("timed-metadata"), o.adtsStream = new St, o.h264Stream = new Ot, o.captionStream = new vt.CaptionStream, o.coalesceStream = new Pt(e, o.metadataStream), o.headOfPipeline = o.packetStream, o.packetStream.pipe(o.parseStream).pipe(o.elementaryStream), o.elementaryStream.pipe(o.audioTimestampRolloverStream).pipe(o.adtsStream), o.elementaryStream.pipe(o.videoTimestampRolloverStream).pipe(o.h264Stream), o.elementaryStream.pipe(o.timedMetadataTimestampRolloverStream).pipe(o.metadataStream).pipe(o.coalesceStream), o.h264Stream.pipe(o.captionStream).pipe(o.coalesceStream), o.elementaryStream.on("data", function (r) {
                                var a;
                                if ("metadata" === r.type) {
                                    for (a = r.tracks.length; a--;) t || "video" !== r.tracks[a].type ? n || "audio" !== r.tracks[a].type || ((n = r.tracks[a]).timelineStartInfo.baseMediaDecodeTime = i.baseMediaDecodeTime) : (t = r.tracks[a]).timelineStartInfo.baseMediaDecodeTime = i.baseMediaDecodeTime;
                                    t && !o.videoSegmentStream && (o.coalesceStream.numberOfTracks++, o.videoSegmentStream = new Mt(t, e), o.videoSegmentStream.on("timelineStartInfo", function (e) {
                                        n && (n.timelineStartInfo = e, o.audioSegmentStream.setEarliestDts(e.dts))
                                    }), o.videoSegmentStream.on("processedGopsInfo", i.trigger.bind(i, "gopInfo")), o.videoSegmentStream.on("baseMediaDecodeTime", function (e) {
                                        n && o.audioSegmentStream.setVideoBaseMediaDecodeTime(e)
                                    }), o.h264Stream.pipe(o.videoSegmentStream).pipe(o.coalesceStream)), n && !o.audioSegmentStream && (o.coalesceStream.numberOfTracks++, o.audioSegmentStream = new It(n, e), o.audioSegmentStream.on("timelineStartInfo", function (e) {
                                        t && (t.timelineStartInfo = e)
                                    }), o.adtsStream.pipe(o.audioSegmentStream).pipe(o.coalesceStream))
                                }
                            }), o.coalesceStream.on("data", this.trigger.bind(this, "data")), o.coalesceStream.on("done", this.trigger.bind(this, "done"))
                        }, this.discontinuity = function (i) {
                            var o = this.transmuxPipeline_;
                            e.keepOriginalTimestamps, n && (n.discontinuity = !0, n.timelineStartInfo.dts = void 0, n.timelineStartInfo.pts = void 0, n.timelineStartInfo.offset = 9e4 * i, ve(n, zt), o.audioTimestampRolloverStream && o.audioTimestampRolloverStream.discontinuity()), t && (t.discontinuity = !0, o.videoSegmentStream && (o.videoSegmentStream.gopCache_ = [], o.videoTimestampRolloverStream.discontinuity()), t.timelineStartInfo.discontinuity = !0, t.timelineStartInfo.offset = 9e4 * i, t.timelineStartInfo.dts = void 0, t.timelineStartInfo.pts = void 0, ve(t, zt), o.captionStream.reset()), o.timedMetadataTimestampRolloverStream && o.timedMetadataTimestampRolloverStream.discontinuity()
                        }, this.setBaseMediaDecodeTime = function (e) {
                            this.setAppendStart(e), t && (t.contiguous = !1), n && (n.contiguous = !1)
                        }, this.setAppendStart = function (e) {
                            n && this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e), t && this.transmuxPipeline_.videoSegmentStream.setVideoAppendStart(e)
                        }, this.alignGopsWith = function (e) {
                            t && this.transmuxPipeline_.videoSegmentStream && this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)
                        }, this.push = function (e, t, n, i, r, a) {
                            if (i && ke(zt), zt.continuous = n, zt.timeOffset = r, zt.accurateTimeOffset = a, o) {
                                var s = jt(e);
                                s && "aac" !== this.transmuxPipeline_.type ? this.setupAacPipeline() : s || "ts" === this.transmuxPipeline_.type || this.setupTsPipeline(), o = !1
                            }
                            var l = this.transmuxPipeline_.elementaryStream;
                            l && l.setEncrypted(t), this.transmuxPipeline_.headOfPipeline.push(e)
                        }, this.flush = function () {
                            o = !0, this.transmuxPipeline_.headOfPipeline.flush()
                        }, this.resetCaptions = function () {
                            this.transmuxPipeline_.captionStream && this.transmuxPipeline_.captionStream.reset()
                        }
                    }).prototype = new ae;
                    var Yt, Vt, qt, Gt = {
                            Transmuxer: Rt,
                            VideoSegmentStream: Mt,
                            AudioSegmentStream: It,
                            AUDIO_PROPERTIES: Bt,
                            VIDEO_PROPERTIES: Ft
                        },
                        Qt = (function (e) {
                            function t(e) {
                                return (t = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                                    return typeof e
                                } : function (e) {
                                    return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                                })(e)
                            }

                            function n(i) {
                                return "function" == typeof Symbol && "symbol" === t(Symbol.iterator) ? e.exports = n = function (e) {
                                    return t(e)
                                } : e.exports = n = function (e) {
                                    return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : t(e)
                                }, n(i)
                            }
                            e.exports = n
                        }(Yt = {
                            exports: {}
                        }, Yt.exports), Yt.exports),
                        Wt = oe.parseType,
                        Kt = function (e) {
                            return new Date(1e3 * e - 20828448e5)
                        },
                        Xt = function (e) {
                            return {
                                isLeading: (12 & e[0]) >>> 2,
                                dependsOn: 3 & e[0],
                                isDependedOn: (192 & e[1]) >>> 6,
                                hasRedundancy: (48 & e[1]) >>> 4,
                                paddingValue: (14 & e[1]) >>> 1,
                                isNonSyncSample: 1 & e[1],
                                degradationPriority: e[2] << 8 | e[3]
                            }
                        },
                        Jt = {
                            avc1: function (e) {
                                var t = new DataView(e.buffer, e.byteOffset, e.byteLength);
                                return {
                                    dataReferenceIndex: t.getUint16(6),
                                    width: t.getUint16(24),
                                    height: t.getUint16(26),
                                    horizresolution: t.getUint16(28) + t.getUint16(30) / 16,
                                    vertresolution: t.getUint16(32) + t.getUint16(34) / 16,
                                    frameCount: t.getUint16(40),
                                    depth: t.getUint16(74),
                                    config: Vt(e.subarray(78, e.byteLength))
                                }
                            }, avcC: function (e) {
                                var t, n, i, o, r = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                    a = {
                                        configurationVersion: e[0],
                                        avcProfileIndication: e[1],
                                        profileCompatibility: e[2],
                                        avcLevelIndication: e[3],
                                        lengthSizeMinusOne: 3 & e[4],
                                        sps: [],
                                        pps: []
                                    },
                                    s = 31 & e[5];
                                for (i = 6, o = 0; o < s; o++) n = r.getUint16(i), i += 2, a.sps.push(new Uint8Array(e.subarray(i, i + n))), i += n;
                                for (t = e[i], i++, o = 0; o < t; o++) n = r.getUint16(i), i += 2, a.pps.push(new Uint8Array(e.subarray(i, i + n))), i += n;
                                return a
                            }, btrt: function (e) {
                                var t = new DataView(e.buffer, e.byteOffset, e.byteLength);
                                return {
                                    bufferSizeDB: t.getUint32(0),
                                    maxBitrate: t.getUint32(4),
                                    avgBitrate: t.getUint32(8)
                                }
                            }, esds: function (e) {
                                return {
                                    version: e[0],
                                    flags: new Uint8Array(e.subarray(1, 4)),
                                    esId: e[6] << 8 | e[7],
                                    streamPriority: 31 & e[8],
                                    decoderConfig: {
                                        objectProfileIndication: e[11],
                                        streamType: e[12] >>> 2 & 63,
                                        bufferSize: e[13] << 16 | e[14] << 8 | e[15],
                                        maxBitrate: e[16] << 24 | e[17] << 16 | e[18] << 8 | e[19],
                                        avgBitrate: e[20] << 24 | e[21] << 16 | e[22] << 8 | e[23],
                                        decoderConfigDescriptor: {
                                            tag: e[24],
                                            length: e[25],
                                            audioObjectType: e[26] >>> 3 & 31,
                                            samplingFrequencyIndex: (7 & e[26]) << 1 | e[27] >>> 7 & 1,
                                            channelConfiguration: e[27] >>> 3 & 15
                                        }
                                    }
                                }
                            }, ftyp: function (e) {
                                for (var t = new DataView(e.buffer, e.byteOffset, e.byteLength), n = {
                                    majorBrand: Wt(e.subarray(0, 4)),
                                    minorVersion: t.getUint32(4),
                                    compatibleBrands: []
                                }, i = 8; i < e.byteLength;) n.compatibleBrands.push(Wt(e.subarray(i, i + 4))), i += 4;
                                return n
                            }, dinf: function (e) {
                                return {
                                    boxes: Vt(e)
                                }
                            }, dref: function (e) {
                                return {
                                    version: e[0],
                                    flags: new Uint8Array(e.subarray(1, 4)),
                                    dataReferences: Vt(e.subarray(8))
                                }
                            }, hdlr: function (e) {
                                var t = {
                                        version: new DataView(e.buffer, e.byteOffset, e.byteLength).getUint8(0),
                                        flags: new Uint8Array(e.subarray(1, 4)),
                                        handlerType: Wt(e.subarray(8, 12)),
                                        name: ""
                                    },
                                    n = 8;
                                for (n = 24; n < e.byteLength; n++) {
                                    if (0 === e[n]) {
                                        n++;
                                        break
                                    }
                                    t.name += String.fromCharCode(e[n])
                                }
                                return t.name = decodeURIComponent(escape(t.name)), t
                            }, mdat: function (e) {
                                return {
                                    byteLength: e.byteLength,
                                    nals: function (e) {
                                        var t, n, i = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                            o = [];
                                        for (t = 0; t + 4 < e.length; t += n)
                                            if (n = i.getUint32(t), t += 4, n <= 0) o.push("<span style='color:red;'>MALFORMED DATA</span>");
                                            else switch (31 & e[t]) {
                                            case 1:
                                                o.push("slice_layer_without_partitioning_rbsp");
                                                break;
                                            case 5:
                                                o.push("slice_layer_without_partitioning_rbsp_idr");
                                                break;
                                            case 6:
                                                o.push("sei_rbsp");
                                                break;
                                            case 7:
                                                o.push("seq_parameter_set_rbsp");
                                                break;
                                            case 8:
                                                o.push("pic_parameter_set_rbsp");
                                                break;
                                            case 9:
                                                o.push("access_unit_delimiter_rbsp");
                                                break;
                                            default:
                                                o.push("UNKNOWN NAL - " + e[t] & 31)
                                            }
                                            return o
                                    }(e)
                                }
                            }, mdhd: function (e) {
                                var t, n = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                    i = 4,
                                    o = {
                                        version: n.getUint8(0),
                                        flags: new Uint8Array(e.subarray(1, 4)),
                                        language: ""
                                    };
                                return 1 === o.version ? (i += 4, o.creationTime = Kt(n.getUint32(i)), i += 8, o.modificationTime = Kt(n.getUint32(i)), i += 4, o.timescale = n.getUint32(i), i += 8) : (o.creationTime = Kt(n.getUint32(i)), i += 4, o.modificationTime = Kt(n.getUint32(i)), i += 4, o.timescale = n.getUint32(i), i += 4), o.duration = n.getUint32(i), i += 4, t = n.getUint16(i), o.language += String.fromCharCode(96 + (t >> 10)), o.language += String.fromCharCode(96 + ((992 & t) >> 5)), o.language += String.fromCharCode(96 + (31 & t)), o
                            }, mdia: function (e) {
                                return {
                                    boxes: Vt(e)
                                }
                            }, mfhd: function (e) {
                                return {
                                    version: e[0],
                                    flags: new Uint8Array(e.subarray(1, 4)),
                                    sequenceNumber: e[4] << 24 | e[5] << 16 | e[6] << 8 | e[7]
                                }
                            }, minf: function (e) {
                                return {
                                    boxes: Vt(e)
                                }
                            }, mp4a: function (e) {
                                var t = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                    n = {
                                        dataReferenceIndex: t.getUint16(6),
                                        channelcount: t.getUint16(16),
                                        samplesize: t.getUint16(18),
                                        samplerate: t.getUint16(24) + t.getUint16(26) / 65536
                                    };
                                return 28 < e.byteLength && (n.streamDescriptor = Vt(e.subarray(28))[0]), n
                            }, moof: function (e) {
                                return {
                                    boxes: Vt(e)
                                }
                            }, moov: function (e) {
                                return {
                                    boxes: Vt(e)
                                }
                            }, mvex: function (e) {
                                return {
                                    boxes: Vt(e)
                                }
                            }, mvhd: function (e) {
                                var t = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                    n = 4,
                                    i = {
                                        version: t.getUint8(0),
                                        flags: new Uint8Array(e.subarray(1, 4))
                                    };
                                return 1 === i.version ? (n += 4, i.creationTime = Kt(t.getUint32(n)), n += 8, i.modificationTime = Kt(t.getUint32(n)), n += 4, i.timescale = t.getUint32(n), n += 8) : (i.creationTime = Kt(t.getUint32(n)), n += 4, i.modificationTime = Kt(t.getUint32(n)), n += 4, i.timescale = t.getUint32(n), n += 4), i.duration = t.getUint32(n), n += 4, i.rate = t.getUint16(n) + t.getUint16(n + 2) / 16, n += 4, i.volume = t.getUint8(n) + t.getUint8(n + 1) / 8, n += 2, n += 2, n += 8, i.matrix = new Uint32Array(e.subarray(n, n + 36)), n += 36, n += 24, i.nextTrackId = t.getUint32(n), i
                            }, pdin: function (e) {
                                var t = new DataView(e.buffer, e.byteOffset, e.byteLength);
                                return {
                                    version: t.getUint8(0),
                                    flags: new Uint8Array(e.subarray(1, 4)),
                                    rate: t.getUint32(4),
                                    initialDelay: t.getUint32(8)
                                }
                            }, sdtp: function (e) {
                                var t, n = {
                                    version: e[0],
                                    flags: new Uint8Array(e.subarray(1, 4)),
                                    samples: []
                                };
                                for (t = 4; t < e.byteLength; t++) n.samples.push({
                                    dependsOn: (48 & e[t]) >> 4,
                                    isDependedOn: (12 & e[t]) >> 2,
                                    hasRedundancy: 3 & e[t]
                                });
                                return n
                            }, sidx: function (e) {
                                var t, n = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                    i = {
                                        version: e[0],
                                        flags: new Uint8Array(e.subarray(1, 4)),
                                        references: [],
                                        referenceId: n.getUint32(4),
                                        timescale: n.getUint32(8),
                                        earliestPresentationTime: n.getUint32(12),
                                        firstOffset: n.getUint32(16)
                                    },
                                    o = n.getUint16(22);
                                for (t = 24; o; t += 12, o--) i.references.push({
                                    referenceType: (128 & e[t]) >>> 7,
                                    referencedSize: 2147483647 & n.getUint32(t),
                                    subsegmentDuration: n.getUint32(t + 4),
                                    startsWithSap: !!(128 & e[t + 8]),
                                    sapType: (112 & e[t + 8]) >>> 4,
                                    sapDeltaTime: 268435455 & n.getUint32(t + 8)
                                });
                                return i
                            }, smhd: function (e) {
                                return {
                                    version: e[0],
                                    flags: new Uint8Array(e.subarray(1, 4)),
                                    balance: e[4] + e[5] / 256
                                }
                            }, stbl: function (e) {
                                return {
                                    boxes: Vt(e)
                                }
                            }, stco: function (e) {
                                var t, n = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                    i = {
                                        version: e[0],
                                        flags: new Uint8Array(e.subarray(1, 4)),
                                        chunkOffsets: []
                                    },
                                    o = n.getUint32(4);
                                for (t = 8; o; t += 4, o--) i.chunkOffsets.push(n.getUint32(t));
                                return i
                            }, stsc: function (e) {
                                var t, n = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                    i = n.getUint32(4),
                                    o = {
                                        version: e[0],
                                        flags: new Uint8Array(e.subarray(1, 4)),
                                        sampleToChunks: []
                                    };
                                for (t = 8; i; t += 12, i--) o.sampleToChunks.push({
                                    firstChunk: n.getUint32(t),
                                    samplesPerChunk: n.getUint32(t + 4),
                                    sampleDescriptionIndex: n.getUint32(t + 8)
                                });
                                return o
                            }, stsd: function (e) {
                                return {
                                    version: e[0],
                                    flags: new Uint8Array(e.subarray(1, 4)),
                                    sampleDescriptions: Vt(e.subarray(8))
                                }
                            }, stsz: function (e) {
                                var t, n = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                    i = {
                                        version: e[0],
                                        flags: new Uint8Array(e.subarray(1, 4)),
                                        sampleSize: n.getUint32(4),
                                        entries: []
                                    };
                                for (t = 12; t < e.byteLength; t += 4) i.entries.push(n.getUint32(t));
                                return i
                            }, stts: function (e) {
                                var t, n = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                    i = {
                                        version: e[0],
                                        flags: new Uint8Array(e.subarray(1, 4)),
                                        timeToSamples: []
                                    },
                                    o = n.getUint32(4);
                                for (t = 8; o; t += 8, o--) i.timeToSamples.push({
                                    sampleCount: n.getUint32(t),
                                    sampleDelta: n.getUint32(t + 4)
                                });
                                return i
                            }, styp: function (e) {
                                return Jt.ftyp(e)
                            }, tfdt: function (e) {
                                var t = {
                                    version: e[0],
                                    flags: new Uint8Array(e.subarray(1, 4)),
                                    baseMediaDecodeTime: e[4] << 24 | e[5] << 16 | e[6] << 8 | e[7]
                                };
                                return 1 === t.version && (t.baseMediaDecodeTime *= Math.pow(2, 32), t.baseMediaDecodeTime += e[8] << 24 | e[9] << 16 | e[10] << 8 | e[11]), t
                            }, tfhd: function (e) {
                                var t, n = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                    i = {
                                        version: e[0],
                                        flags: new Uint8Array(e.subarray(1, 4)),
                                        trackId: n.getUint32(4)
                                    },
                                    o = 1 & i.flags[2],
                                    r = 2 & i.flags[2],
                                    a = 8 & i.flags[2],
                                    s = 16 & i.flags[2],
                                    l = 32 & i.flags[2],
                                    u = 65536 & i.flags[0],
                                    c = 131072 & i.flags[0];
                                return t = 8, o && (t += 4, i.baseDataOffset = n.getUint32(12), t += 4), r && (i.sampleDescriptionIndex = n.getUint32(t), t += 4), a && (i.defaultSampleDuration = n.getUint32(t), t += 4), s && (i.defaultSampleSize = n.getUint32(t), t += 4), l && (i.defaultSampleFlags = n.getUint32(t)), u && (i.durationIsEmpty = !0), !o && c && (i.baseDataOffsetIsMoof = !0), i
                            }, tkhd: function (e) {
                                var t = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                    n = 4,
                                    i = {
                                        version: t.getUint8(0),
                                        flags: new Uint8Array(e.subarray(1, 4))
                                    };
                                return 1 === i.version ? (n += 4, i.creationTime = Kt(t.getUint32(n)), n += 8, i.modificationTime = Kt(t.getUint32(n)), n += 4, i.trackId = t.getUint32(n), n += 4, n += 8) : (i.creationTime = Kt(t.getUint32(n)), n += 4, i.modificationTime = Kt(t.getUint32(n)), n += 4, i.trackId = t.getUint32(n), n += 4, n += 4), i.duration = t.getUint32(n), n += 4, n += 8, i.layer = t.getUint16(n), n += 2, i.alternateGroup = t.getUint16(n), n += 2, i.volume = t.getUint8(n) + t.getUint8(n + 1) / 8, n += 2, n += 2, i.matrix = new Uint32Array(e.subarray(n, n + 36)), n += 36, i.width = t.getUint16(n) + t.getUint16(n + 2) / 16, n += 4, i.height = t.getUint16(n) + t.getUint16(n + 2) / 16, i
                            }, traf: function (e) {
                                return {
                                    boxes: Vt(e)
                                }
                            }, trak: function (e) {
                                return {
                                    boxes: Vt(e)
                                }
                            }, trex: function (e) {
                                var t = new DataView(e.buffer, e.byteOffset, e.byteLength);
                                return {
                                    version: e[0],
                                    flags: new Uint8Array(e.subarray(1, 4)),
                                    trackId: t.getUint32(4),
                                    defaultSampleDescriptionIndex: t.getUint32(8),
                                    defaultSampleDuration: t.getUint32(12),
                                    defaultSampleSize: t.getUint32(16),
                                    sampleDependsOn: 3 & e[20],
                                    sampleIsDependedOn: (192 & e[21]) >> 6,
                                    sampleHasRedundancy: (48 & e[21]) >> 4,
                                    samplePaddingValue: (14 & e[21]) >> 1,
                                    sampleIsDifferenceSample: !!(1 & e[21]),
                                    sampleDegradationPriority: t.getUint16(22)
                                }
                            }, trun: function (e) {
                                var t, n = {
                                        version: e[0],
                                        flags: new Uint8Array(e.subarray(1, 4)),
                                        samples: []
                                    },
                                    i = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                    o = 1 & n.flags[2],
                                    r = 4 & n.flags[2],
                                    a = 1 & n.flags[1],
                                    s = 2 & n.flags[1],
                                    l = 4 & n.flags[1],
                                    u = 8 & n.flags[1],
                                    c = i.getUint32(4),
                                    d = 8;
                                for (o && (n.dataOffset = i.getInt32(d), d += 4), r && c && (t = {
                                    flags: Xt(e.subarray(d, d + 4))
                                }, d += 4, a && (t.duration = i.getUint32(d), d += 4), s && (t.size = i.getUint32(d), d += 4), u && (t.compositionTimeOffset = i.getUint32(d), d += 4), n.samples.push(t), c--); c--;) t = {}, a && (t.duration = i.getUint32(d), d += 4), s && (t.size = i.getUint32(d), d += 4), l && (t.flags = Xt(e.subarray(d, d + 4)), d += 4), u && (t.compositionTimeOffset = i.getUint32(d), d += 4), n.samples.push(t);
                                return n
                            }, "url ": function (e) {
                                return {
                                    version: e[0],
                                    flags: new Uint8Array(e.subarray(1, 4))
                                }
                            }, vmhd: function (e) {
                                var t = new DataView(e.buffer, e.byteOffset, e.byteLength);
                                return {
                                    version: e[0],
                                    flags: new Uint8Array(e.subarray(1, 4)),
                                    graphicsmode: t.getUint16(4),
                                    opcolor: new Uint16Array([t.getUint16(6), t.getUint16(8), t.getUint16(10)])
                                }
                            }
                        },
                        Zt = {
                            inspect: Vt = function (e) {
                                for (var t, n, i, o, r, a = 0, s = [], l = new ArrayBuffer(e.length), u = new Uint8Array(l), c = 0; c < e.length; ++c) u[c] = e[c];
                                for (t = new DataView(l); a < e.byteLength;) n = t.getUint32(a), i = Wt(e.subarray(a + 4, a + 8)), o = 1 < n ? a + n : e.byteLength, (r = (Jt[i] || function (e) {
                                    return {
                                        data: e
                                    }
                                })(e.subarray(a + 8, o))).size = n, r.type = i, s.push(r), a = o;
                                return s
                            }, textify: qt = function (e, t) {
                                var n;
                                return t = t || 0, n = new Array(2 * t + 1).join(" "), e.map(function (e, i) {
                                    return n + e.type + "\\n" + Object.keys(e).filter(function (e) {
                                        return "type" !== e && "boxes" !== e
                                    }).map(function (t) {
                                        var i = n + "  " + t + ": ",
                                            o = e[t];
                                        if (o instanceof Uint8Array || o instanceof Uint32Array) {
                                            var r = Array.prototype.slice.call(new Uint8Array(o.buffer, o.byteOffset, o.byteLength)).map(function (e) {
                                                return " " + ("00" + e.toString(16)).slice(-2)
                                            }).join("").match(/.{1,24}/g);
                                            return r ? 1 === r.length ? i + "<" + r.join("").slice(1) + ">" : i + "<\\n" + r.map(function (e) {
                                                return n + "  " + e
                                            }).join("\\n") + "\\n" + n + "  >" : i + "<>"
                                        }
                                        return i + JSON.stringify(o, null, 2).split("\\n").map(function (e, t) {
                                            return 0 === t ? e : n + "  " + e
                                        }).join("\\n")
                                    }).join("\\n") + (e.boxes ? "\\n" + qt(e.boxes, t + 1) : "")
                                }).join("\\n")
                            }, parseTfdt: Jt.tfdt,
                            parseHdlr: Jt.hdlr,
                            parseTfhd: Jt.tfhd,
                            parseTrun: Jt.trun,
                            parseSidx: Jt.sidx
                        },
                        $t = xe,
                        en = Re.CaptionStream,
                        tn = function (e, t) {
                            for (var n = e, i = 0; i < t.length; i++) {
                                var o = t[i];
                                if (n < o.size) return o;
                                n -= o.size
                            }
                            return null
                        },
                        nn = function (e, t) {
                            var n = oe.findBox(e, ["moof", "traf"]),
                                i = oe.findBox(e, ["mdat"]),
                                o = {},
                                r = [];
                            return i.forEach(function (e, t) {
                                var i = n[t];
                                r.push({
                                    mdat: e,
                                    traf: i
                                })
                            }), r.forEach(function (e) {
                                var n, i, r, a, s, l, u, c, d = e.mdat,
                                    h = e.traf,
                                    p = oe.findBox(h, ["tfhd"]),
                                    f = Zt.parseTfhd(p[0]),
                                    g = f.trackId,
                                    m = oe.findBox(h, ["tfdt"]),
                                    y = 0 < m.length ? Zt.parseTfdt(m[0]).baseMediaDecodeTime : 0,
                                    v = oe.findBox(h, ["trun"]);
                                t === g && 0 < v.length && (i = v, a = y, s = (r = f).defaultSampleDuration || 0, l = r.defaultSampleSize || 0, u = r.trackId, c = [], i.forEach(function (e) {
                                    var t = Zt.parseTrun(e).samples;
                                    t.forEach(function (e) {
                                        void 0 === e.duration && (e.duration = s), void 0 === e.size && (e.size = l), e.trackId = u, e.dts = a, void 0 === e.compositionTimeOffset && (e.compositionTimeOffset = 0), e.pts = a + e.compositionTimeOffset, a += e.duration
                                    }), c = c.concat(t)
                                }), n = function (e, t, n) {
                                    var i, o, r, a, s = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                        l = [];
                                    for (o = 0; o + 4 < e.length; o += r)
                                        if (r = s.getUint32(o), o += 4, !(r <= 0)) switch (31 & e[o]) {
                                        case 6:
                                            var u = e.subarray(o + 1, o + 1 + r),
                                                c = tn(o, t);
                                            i = {
                                                nalUnitType: "sei_rbsp",
                                                size: r,
                                                data: u,
                                                escapedRBSP: $t(u),
                                                trackId: n
                                            }, c ? (i.pts = c.pts, i.dts = c.dts, a = c) : (i.pts = a.pts, i.dts = a.dts), l.push(i)
                                        }
                                        return l
                                }(d, c, g), o[g] || (o[g] = []), o[g] = o[g].concat(n))
                            }), o
                        },
                        on = {
                            mp4: {
                                generator: ne,
                                probe: oe,
                                Transmuxer: Gt.Transmuxer,
                                AudioSegmentStream: Gt.AudioSegmentStream,
                                VideoSegmentStream: Gt.VideoSegmentStream,
                                CaptionParser: function () {
                                    var e, t, n, i, o, r = !1;
                                    this.isInitialized = function () {
                                        return r
                                    }, this.init = function () {
                                        e = new en, r = !0, e.on("data", function (e) {
                                            e.startTime = e.startPts / i, e.endTime = e.endPts / i, o.captions.push(e), o.captionStreams[e.stream] = !0
                                        })
                                    }, this.isNewInit = function (e, t) {
                                        return !(e && 0 === e.length || t && "object" === Qt(t) && 0 === Object.keys(t).length || n === e[0] && i === t[n])
                                    }, this.parse = function (e, r, a) {
                                        var s, l, u, c;
                                        if (!this.isInitialized()) return null;
                                        if (!r || !a) return null;
                                        if (this.isNewInit(r, a)) n = r[0], i = a[n];
                                        else if (!n || !i) return t.push(e), null;
                                        for (; 0 < t.length;) {
                                            var d = t.shift();
                                            this.parse(d, r, a)
                                        }
                                        return l = e, c = i, null !== (s = (u = n) ? {
                                            seiNals: nn(l, u)[u],
                                            timescale: c
                                        } : null) && s.seiNals ? (this.pushNals(s.seiNals), this.flushStream(), o) : null
                                    }, this.pushNals = function (t) {
                                        if (!this.isInitialized() || !t || 0 === t.length) return null;
                                        t.forEach(function (t) {
                                            e.push(t)
                                        })
                                    }, this.flushStream = function () {
                                        if (!this.isInitialized()) return null;
                                        e.flush()
                                    }, this.clearParsedCaptions = function () {
                                        o.captions = [], o.captionStreams = {}
                                    }, this.resetCaptionStream = function () {
                                        if (!this.isInitialized()) return null;
                                        e.reset()
                                    }, this.clearAllCaptions = function () {
                                        this.clearParsedCaptions(), this.resetCaptionStream()
                                    }, this.reset = function () {
                                        t = [], i = n = null, o ? this.clearParsedCaptions() : o = {
                                            captions: [],
                                            captionStreams: {}
                                        }, this.resetCaptionStream()
                                    }, this.reset()
                                }
                            }
                        };
                    return function () {
                        function e(t) {
                            W(this, e), this.transmuxer = null, this.bytes = null, this.onDoneCb = t, this.initTracks()
                        }
                        return K(e, [{
                            key: "initTracks",
                            value: function () {
                                this.tracks = {
                                    combined: this.getRemuxTempVars(),
                                    audio: this.getRemuxTempVars(),
                                    video: this.getRemuxTempVars()
                                }
                            }
                        }, {
                            key: "getRemuxTempVars",
                            value: function () {
                                return {
                                    remuxedSegments: [],
                                    remuxedInitSegment: null,
                                    remuxedBytesLength: 0,
                                    createInitSegment: !0
                                }
                            }
                        }, {
                            key: "setDiscontinuity",
                            value: function (e) {
                                this.transmuxer && this.transmuxer.discontinuity(e)
                            }
                        }, {
                            key: "resetInitSegment",
                            value: function () {
                                var e = this;
                                Object.keys(this.tracks).forEach(function (t) {
                                    e.tracks[t].createInitSegment = !0, e.tracks[t].remuxedInitSegment = []
                                })
                            }
                        }, {
                            key: "initTransmuxer",
                            value: function (e) {
                                this.options = e, this.transmuxer = new on.mp4.Transmuxer(e), this.bindTransmuxerEvent()
                            }
                        }, {
                            key: "changeDecodeKey",
                            value: function (e) {
                                this.options.decodeKey = e
                            }
                        }, {
                            key: "bindTransmuxerEvent",
                            value: function () {
                                var e = this;
                                this.transmuxer.on("error", function (e) {
                                    console.error(e)
                                }), this.transmuxer.on("data", function (t) {
                                    e.handleTrackMuxData(t)
                                }), this.transmuxer.on("done", function () {
                                    var t = e.handleTrackMuxDone("video"),
                                        n = e.handleTrackMuxDone("audio"),
                                        i = 2 === e.onDoneCb.length,
                                        o = [],
                                        r = [];
                                    t && (o.push({
                                        type: "video",
                                        data: t[0].buffer,
                                        info: t[1]
                                    }), i && r.push(t[0].buffer)), n && (o.push({
                                        type: "audio",
                                        data: n[0].buffer,
                                        info: n[1]
                                    }), i && r.push(n[0].buffer)), e.onDoneCb(o, r)
                                })
                            }
                        }, {
                            key: "handleTrackMuxData",
                            value: function () {
                                var e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {},
                                    t = e.type,
                                    n = this.tracks[t];
                                n && (n.have = !0, n.info = e.info, n.remuxedSegments.push(e), n.remuxedBytesLength += e.data.byteLength, n.remuxedInitSegment = e.initSegment)
                            }
                        }, {
                            key: "setBaseMediaDecodeTime",
                            value: function (e) {
                                this.transmuxer && this.transmuxer.setBaseMediaDecodeTime(e)
                            }
                        }, {
                            key: "handleTrackMuxDone",
                            value: function (e) {
                                var t = this.tracks[e];
                                if (t.have) {
                                    var n = 0;
                                    t.createInitSegment ? (this.bytes = new Uint8Array(t.remuxedInitSegment.byteLength + t.remuxedBytesLength), this.bytes.set(t.remuxedInitSegment, n), n += t.remuxedInitSegment.byteLength, t.createInitSegment = !1, t.remuxedInitSegment = []) : this.bytes = new Uint8Array(t.remuxedBytesLength);
                                    for (var i = 0, o = n; i < t.remuxedSegments.length; i += 1) this.bytes.set(t.remuxedSegments[i].data, o), o += t.remuxedSegments[i].byteLength;
                                    return t.remuxedSegments = [], t.remuxedBytesLength = 0, [this.bytes, t.info]
                                }
                            }
                        }, {
                            key: "push",
                            value: function (e) {
                                var t = e.buffer,
                                    n = e.encrypted,
                                    i = e.continuous,
                                    o = e.discontinuity,
                                    r = e.timeOffset,
                                    a = e.accurateTimeOffset;
                                o && this.resetInitSegment(), this.transmuxer ? (this.transmuxer.push(new Uint8Array(t), n, i, o, r, a), this.transmuxer.flush()) : this.onDoneCb([])
                            }
                        }, {
                            key: "cleanWhenError",
                            value: function () {
                                var e = this;
                                this.bytes = null, Object.keys(this.tracks).forEach(function (t) {
                                    e.tracks[t].remuxedBytesLength = 0, e.tracks[t].remuxedSegments = []
                                })
                            }
                        }, {
                            key: "clean",
                            value: function () {
                                this.transmuxer = null, this.initTracks()
                            }
                        }]), e
                    }()
                }();
                e.TsMuxer = t
            }! function (e, t) {
                module.exports = t()
            }(0, function () {
                "use strict";

                function _classCallCheck(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }

                function createCommonjsModule(e, t) {
                    return t = {
                        exports: {}
                    }, e(t, t.exports), t.exports
                }

                function _assertThisInitialized(e) {
                    if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }

                function _possibleConstructorReturn(e, t) {
                    return !t || "object" !== _typeof_1(t) && "function" != typeof t ? assertThisInitialized(e) : t
                }

                function _defineProperties(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var i = t[n];
                        i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
                    }
                }

                function _createClass(e, t, n) {
                    return t && _defineProperties(e.prototype, t), n && _defineProperties(e, n), e
                }

                function _inherits(e, t) {
                    if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }), t && setPrototypeOf(e, t)
                }

                function createCommonjsModule$1(e, t) {
                    return t = {
                        exports: {}
                    }, e(t, t.exports), t.exports
                }

                function browserDetect(e) {
                    return new Detector(e, injectableNavigator, injectableProcess).detect()
                }

                function fastApply(e, t, n) {
                    return e.apply(t, n)
                }

                function spliceOne(e, t) {
                    for (; t + 1 < e.length; t++) e[t] = e[t + 1];
                    e.pop()
                }

                function upperFirstCase(e) {
                    return e.charAt(0).toUpperCase() + e.slice(1)
                }

                function arrayRemove(e, t, n) {
                    for (var i = 0; i < e.length; i++)
                        if (e[i] === t) {
                            if (spliceOne(e, i), n) break;
                            i--
                        }
                }

                function formatTime(e) {
                    return "".concat(padZero(e.getHours()), ":").concat(padZero(e.getMinutes()), ":").concat(padZero(e.getSeconds()), ".").concat(e.getMilliseconds())
                }

                function padZero(e) {
                    return e > 9 ? "".concat(e) : "0".concat(e)
                }

                function formatBitRate(e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
                    if (e < 1e3) {
                        var n = String(e).split(".")[0].length;
                        return "".concat(e.toFixed(4 - n), " ").concat(_unit[t] || "")
                    }
                    return formatBitRate(e / 1024, t + 1)
                }

                function formatNum(e, t) {
                    var n = Number(e).toFixed(t).split(".");
                    return 1 == n.length ? Number(n[0]) : 2 == n.length ? (n[1] = n[1].replace(rTrimRearZero, ""), n[1] ? Number(n.join(".")) : Number(n[0])) : Number(e)
                }

                function base64ForUrl(e) {
                    return btoa(e).replace(/[+/=]/g, function (e) {
                        return _base64Map[e]
                    })
                }

                function resolveSamples(e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : .2,
                        n = e[0],
                        i = [e[0]],
                        o = [];
                    return e.forEach(function (e) {
                        Math.abs(e - n) / n < t || Math.abs(e - n) < 5 ? (n = (n * i.length + e) / (i.length + 1), i.push(e)) : (o.push(Math.round(n)), i = [e], n = e)
                    }), i.length > 0 && o.push(Math.round(n)), o
                }

                function dumpError(e) {
                    console.error("".concat(e.name, "--details:").concat(e.details, "--fatal:").concat(e.fatal, "--code:").concat(e.code, "----").concat(e.message, "----\n").concat(e.response && JSON.stringify(e.response), "-----\n").concat(e.frag && JSON.stringify(e.frag)))
                }

                function getDomain(e) {
                    var t = /^https?:\/\/([^/]+)/.exec(e);
                    return t && t[1]
                }

                function replaceDomain(e, t) {
                    return e.replace(/^(https?:\/\/)([^/]+)/, "$1".concat(t))
                }

                function isSupported() {
                    var e;
                    "undefined" != typeof window && (e = window.MediaSource || window.WebKitMediaSource);
                    var t = window.SourceBuffer || window.WebKitSourceBuffer,
                        n = e && "function" == typeof e.isTypeSupported && e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),
                        i = !t || t.prototype && "function" == typeof t.prototype.appendBuffer && "function" == typeof t.prototype.remove;
                    return !!n && !!i
                }

                function _defineProperty(e, t, n) {
                    return t in e ? Object.defineProperty(e, t, {
                        value: n,
                        enumerable: !0,
                        configurable: !0,
                        writable: !0
                    }) : e[t] = n, e
                }

                function _objectSpread(e) {
                    for (var t = 1; t < arguments.length; t++) {
                        var n = null != arguments[t] ? arguments[t] : {},
                            i = Object.keys(n);
                        "function" == typeof Object.getOwnPropertySymbols && (i = i.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                            return Object.getOwnPropertyDescriptor(n, e).enumerable
                        }))), i.forEach(function (t) {
                            defineProperty(e, t, n[t])
                        })
                    }
                    return e
                }

                function _arrayWithoutHoles(e) {
                    if (Array.isArray(e)) {
                        for (var t = 0, n = new Array(e.length); t < e.length; t++) n[t] = e[t];
                        return n
                    }
                }

                function _iterableToArray(e) {
                    if (Symbol.iterator in Object(e) || "[object Arguments]" === Object.prototype.toString.call(e)) return Array.from(e)
                }

                function _nonIterableSpread() {
                    throw new TypeError("Invalid attempt to spread non-iterable instance")
                }

                function _toConsumableArray(e) {
                    return arrayWithoutHoles(e) || iterableToArray(e) || nonIterableSpread()
                }

                function _isNativeFunction(e) {
                    return -1 !== Function.toString.call(e).indexOf("[native code]")
                }

                function _arrayWithHoles(e) {
                    if (Array.isArray(e)) return e
                }

                function _iterableToArrayLimit(e, t) {
                    var n = [],
                        i = !0,
                        o = !1,
                        r = void 0;
                    try {
                        for (var a, s = e[Symbol.iterator](); !(i = (a = s.next()).done) && (n.push(a.value), !t || n.length !== t); i = !0);
                    } catch (e) {
                        o = !0, r = e
                    } finally {
                        try {
                            i || null == s.return || s.return()
                        } finally {
                            if (o) throw r
                        }
                    }
                    return n
                }

                function _nonIterableRest() {
                    throw new TypeError("Invalid attempt to destructure non-iterable instance")
                }

                function _slicedToArray(e, t) {
                    return arrayWithHoles(e) || iterableToArrayLimit(e, t) || nonIterableRest()
                }

                function isIe() {
                    var e = navigator.userAgent;
                    if (/Edge/.test(e)) return !1;
                    if (/(Trident|MSIE)/.test(e)) {
                        var t = /MSIE\s(\d+)/.exec(e);
                        return t ? parseInt(t[1]) : 11
                    }
                    return !1
                }

                function isCodecType(e, t) {
                    var n = sampleEntryCodesISO[t];
                    return e && !!n && !0 === n[e.slice(0, 4)]
                }

                function generateVideoCodec(e) {
                    if (!e) return "avc1.42E01E";
                    var t = "avc1.";
                    switch (e.profileIdc) {
                    case 66:
                        t += "42E0";
                        break;
                    case 77:
                        t += "4D40";
                        break;
                    default:
                        t += "6400"
                    }
                    return t + Number(e.levelIdc).toString(16).padStart(2, "0")
                }

                function generateAudioCodec(e) {
                    if (!e) return "mp4a.40.2";
                    var t = e.samplingfrequencyindex,
                        n = e.audioobjecttype;
                    return t >= 6 && (n = 5), "mp4a.40." + n
                }

                function getAVCodecFromTracks(e) {
                    var t, n, i, o;
                    return i = e.filter(function (e) {
                        return e.type === TrackType.MIXED
                    }), o = i.length ? i[0] : e.reduce(function (e, t) {
                        return t.type === TrackType.AUDIO && (e.audioCodec = t.codec), t.type === TrackType.VIDEO && (e.videoCodec = t.codec), e
                    }, {}), t = o.audioCodec || "mp4a.40.2", n = o.videoCodec || "avc1.42E01E", {
                        audioCodec: t,
                        videoCodec: n
                    }
                }

                function extractAbsoluteDtsFromUrl(e) {
                    var t = URL_DTS_PATTERN.exec(e);
                    if (t) {
                        var n = slicedToArray(t, 3),
                            i = (n[0], n[1]),
                            o = n[2];
                        if (i && o) return {
                            seqNo: +i,
                            absDts: +o
                        }
                    }
                }

                function setCodecs(e, t) {
                    ["video", "audio"].forEach(function (n) {
                        var i = e.filter(function (e) {
                            return "mp4a" !== e && "avc1" !== e && isCodecType(e, n)
                        });
                        if (i.length) {
                            var o = i.filter(function (e) {
                                return 0 === e.lastIndexOf("avc1", 0) || 0 === e.lastIndexOf("mp4a", 0)
                            });
                            t["".concat(n, "Codec")] = o.length > 0 ? o[0] : i[0], e = e.filter(function (e) {
                                return -1 === i.indexOf(e)
                            })
                        }
                    }), t.unknownCodecs = e
                }

                function execTag(e) {
                    if (DISCONTINUITY_PATTERN.test(e)) return ["", "xDiscontinuity", ""];
                    var t = EXTRACT_PATTERN.exec(e);
                    return t && t.length && (t[1] = convertUpperNameToCamel(t[1])), t
                }

                function convertUpperNameToCamel(e) {
                    if (-1 !== e.indexOf("-")) {
                        return e.split("-").map(function (e, t) {
                            return 0 === t ? e.toLowerCase() : e[0] + e.slice(1).toLowerCase()
                        }).join("")
                    }
                    return e.toLowerCase()
                }

                function execAttrs(e, t) {
                    return -1 === e.indexOf("=") ? e.split(",").filter(Boolean).map(function (e) {
                        return isNaN(Number(e)) ? convertUpperNameToCamel(e) : Number(e)
                    }) : e.trim().match(SPLIT_ATTR_PATTERN).map(function (e) {
                        return "," === e.charAt(0) && (e = e.slice(1)), '"' === e.charAt(0) && "," === e.charAt(1) && (e = e.slice(2)), e.replace(/"/, "")
                    }).reduce(function (e, n) {
                        var i = ATTR_PATTERN.exec(n);
                        if (i && i.length) {
                            var o = slicedToArray(i, 3),
                                r = o[1],
                                a = o[2];
                            "URI" === r && (r = "URL"), e[convertUpperNameToCamel(r)] = isNaN(Number(a)) ? setAttrUrlToAbsolute(r, a.replace(/"/g, ""), t) : Number(a)
                        }
                        return e
                    }, {})
                }

                function setAttrUrlToAbsolute(e, t, n) {
                    return "URL" === e ? setUrlToAbsolute(t, n) : t
                }

                function getPwdOfPlayListUrl(e) {
                    if (!e) return "";
                    /^\/\//.test(e) && (e = location.protocol + e);
                    var t = e.split("/");
                    return t.slice(0, t.length - 1).join("/")
                }

                function setUrlToAbsolute(e, t) {
                    var n;
                    if (!1 === /^(http|https|\/\/)/.test(e)) {
                        for (var i, o = t.split("/"), r = e.split("/"); r.length;) i = r.shift(), -1 == o.indexOf(i) && o.push(i);
                        n = o.join("/")
                    } else n = e;
                    n = "https:" === location.protocol ? n.replace(/^(https|http)/, "https") : n;
                    var a = /m3u8host=([^&$]+)/.exec(location.search);
                    return a && a.length && (n = n.replace("pl-ali.youku.com", a[1])), n
                }

                function resolveTagAndAttr(e, t, n, i) {
                    parserResolve.dispatch(e, t, n, i) || (1 === t.length && (t = t[0]), n[e] instanceof Array ? n[e].push(t) : "object" === _typeof_1(n[e]) ? n[e] = [n[e], t] : n[e] = t)
                }

                function addExtraProps(e, t) {
                    "LEVEL" === t && (e.live = void 0 === e.live || e.live), parserResolve.dispatch("extraProps", null, e, t)
                }

                function checkDataIntegrity(e) {
                    return e.segments.length || e.levels.length ? e.segments.length ? void(e.segments = e.segments.filter(function (e) {
                        return e.duration && e.url
                    })) : void(e.levels.length && (e.levels = e.levels.filter(function (e) {
                        return e.bandwidth && e.url
                    }))) : void(e.error = M3U8_PARSE_ERROR)
                }

                function findGroup(e, t) {
                    if (!e) return null;
                    for (var n = null, i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.id === t && (n = o)
                    }
                    return n
                }

                function addCodecToAudioTrack(e, t) {
                    var n = e.map(function (e) {
                        return !!e.audio && {
                            id: e.audio,
                            codec: e.audioCodec
                        }
                    }).filter(Boolean);
                    n.length && (Array.isArray(t.xMedia) || (t.xMedia = [t.xMedia]), t.xMedia.forEach(function (e) {
                        if ("AUDIO" === e.type) {
                            var t = findGroup(n, e.groupId);
                            e.audioCodec = t ? t.codec : n[0].codec
                        }
                    }))
                }

                function filterResolution(e, t) {
                    if (e.levels.length && t.length) {
                        e.levels = e.levels.filter(function (e) {
                            return -1 === t.indexOf(e.streamtype)
                        });
                        var n = e.levels.length;
                        e.levels.forEach(function (e, t) {
                            e.levelId = n - t
                        })
                    }
                }

                function m3u8Parser(e, t, n) {
                    var i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : [],
                        o = {
                            error: 0,
                            startSN: 0,
                            segments: [],
                            levels: [],
                            xMedia: []
                        };
                    try {
                        parserResolve.reset();
                        var r = getPwdOfPlayListUrl(n);
                        return e.split("\n").filter(Boolean).map(function (e) {
                            return e.trim()
                        }).forEach(function (e) {
                            var n, i, a;
                            if ("#" !== e.charAt(0)) n = "url", a = setUrlToAbsolute(e, r);
                            else {
                                var s = execTag(e);
                                if (!s || !s.length) return;
                                var l = slicedToArray(s, 3);
                                n = l[1], i = l[2], a = execAttrs(i, r)
                            }
                            resolveTagAndAttr(n, a, o, t)
                        }), addExtraProps(o, t), checkDataIntegrity(o), addCodecToAudioTrack(o.levels, o), filterResolution(o, i.concat(["3gphd"])), o
                    } catch (e) {
                        return console.log(e), o.error = M3U8_PARSE_ERROR, o
                    }
                }

                function fix(e) {
                    var t = "".concat(e).split(".");
                    return "".concat(t[0], ".").concat((t[1] || "").padEnd(4, "0").slice(0, 4)).replace(".0000", "")
                }

                function updateRestSegmentsOffset(e, t, n) {
                    var i = t.find(function (t) {
                            return t.levelId === e.levelId
                        }),
                        o = i && i.details && i.details.segments || [];
                    if (o.length) {
                        o = o.filter(function (t) {
                            return t.id >= e.id
                        });
                        for (var r = 0; r < o.length; r++) o[r].id === e.id ? (o[r].start = e.start, o[r].end = e.end, o[r].duration = e.duration) : (o[r].start = o[r - 1] ? o[r - 1].end : o[r].start, o[r].end = o[r].start + o[r].duration)
                    }
                    if (n) {
                        o = o.filter(function (t) {
                            return t.id <= e.id
                        });
                        for (var a = o.length, s = a - 1; s > 0; s--) {
                            var l = o[s - 1];
                            l.end = o[s].start, l.start = l.end - l.duration
                        }
                    }
                }

                function locateSegment(e, t) {
                    if (t && t.details)
                        for (var n = t.details.segments, i = 0; i < n.length; i++)
                            if (e >= n[i].start && e <= n[i].end) return n[i];
                    return null
                }

                function getSegmentById(e, t, n) {
                    var i = t.details && t.details.segments.find(function (t) {
                        return t.id === e
                    });
                    if (i && n && n.details.segments.length > 0) {
                        var o = n.details.segments.find(function (t) {
                            return t.id === e
                        });
                        i.audioUrl = o.url
                    }
                    return i
                }

                function resetSegmentsByRange(e, t, n) {
                    if (n && n.details && n.details.segments)
                        for (var i = 0; i < n.details.segments.length; i++) {
                            var o = n.details.segments[i];
                            if ((o.start >= e && o.start <= t || o.end >= e && o.end <= t && o.state === SegmentState.APPENDED) && (o.setState(SegmentState.INIT), o.reloadCount = 0, o.off()), o.start > t) break
                        }
                }

                function clearSegmentsStatus(e) {
                    e && e.details && e.details.segments.forEach(function (e) {
                        e.setState(SegmentState.INIT), e.data = null, e.audioData = null, e.videoData = null
                    })
                }

                function _binarySearch(e, t, n, i) {
                    if (e > t) return -1;
                    var o = e + Math.floor((t - e) / 2);
                    return n < i[o].start ? (t = o - 1, _binarySearch(e, t, n, i)) : n > i[o].end ? (e = o + 1, _binarySearch(e, t, n, i)) : o
                }

                function getLevelIdOfUsedSegment(e, t, n) {
                    var i = _binarySearch(0, t.length - 1, e, t);
                    if (-1 !== i) {
                        var o = t[i].id;
                        if (void 0 !== t[i].videoData && t[i].state !== SegmentState.INIT) return t[i].levelId;
                        var r = !0,
                            a = !1,
                            s = void 0;
                        try {
                            for (var l, u = n.levels[Symbol.iterator](); !(r = (l = u.next()).done); r = !0) {
                                var c = l.value;
                                if ((t = c.details && c.details.segments) && t[i] && t[i].id >= o && void 0 !== t[i].videoData && t[i].state !== SegmentState.INIT) return t[i].levelId
                            }
                        } catch (e) {
                            a = !0, s = e
                        } finally {
                            try {
                                r || null == u.return || u.return()
                            } finally {
                                if (a) throw s
                            }
                        }
                    }
                }

                function getSegment(e, t, n, i, o, r) {
                    var a = null;
                    if (i && i.details) {
                        var s = i.details && i.details.segments,
                            l = i.details.startSN;
                        if (s) {
                            if (t && (a = s[t.id - l + 1]) && a.start <= e + n && a.end > e + n) return o && o.details.segments.length > 0 && (a.audioUrl = o.details.segments.find(function (e) {
                                return e.id === a.id
                            }).url), a;
                            for (var u = n, c = 0, d = s.length; c < d; c++) {
                                if (s[c].isLast) {
                                    e + u > s[c].start && (e <= s[c].end || Math.abs(s[c].end - e) <= .15) && (a = s[c]);
                                    break
                                }
                                if (!(s[c].start > e + u) && (e + u >= s[c].start && e + u < s[c].end)) {
                                    a = s[c];
                                    break
                                }
                            }
                            return !a && !r && s.length && e >= s[s.length - 1].end && (a = s[s.length - 1]), o && o.details.segments.length > 0 && a && (a.audioUrl = o.details.segments.find(function (e) {
                                return e.id === a.id
                            }).url), a
                        }
                    }
                }

                function _structuredBuffer(e) {
                    if (e instanceof Array) return e;
                    var t = [];
                    if (e instanceof TimeRanges) {
                        for (var n = 0; n < e.length; n++) t.push([e.start(n), e.end(n)]);
                        return t
                    }
                    return []
                }

                function getBufferInfo() {
                    var e = new BufferInfo;
                    return function (t) {
                        return e.setRanges(_structuredBuffer(t))
                    }
                }

                function formatTimestamp(e, t) {
                    return e ? e.timeline[t].map(function (e) {
                        return (e / 9e4).toFixed(3)
                    }).join(",") : ""
                }

                function convertStrToBuffer(e) {
                    for (var t = new Uint8Array(e.length), n = 0; n < e.length; n += 1) t[n] = e.charCodeAt(n);
                    return t.buffer
                }

                function convertBufferToStr(e) {
                    for (var t = e instanceof ArrayBuffer ? new Uint8Array(e) : e, n = "", i = 0; i < t.length; i += 1) n += String.fromCharCode(t[i]);
                    return n
                }

                function stringToArray(e) {
                    for (var t = new ArrayBuffer(2 * e.length), n = new Uint16Array(t), i = 0, o = e.length; i < o; i++) n[i] = e.charCodeAt(i);
                    return n
                }

                function arrayToString(e) {
                    var t = new Uint16Array(e.buffer);
                    return String.fromCharCode.apply(null, t)
                }

                function base64DecodeUint8Array(e) {
                    for (var t = window.atob(e), n = t.length, i = new Uint8Array(new ArrayBuffer(n)), o = 0; o < n; o++) i[o] = t.charCodeAt(o);
                    return i
                }

                function isSupportPerformance() {
                    return performance && performance.getEntries
                }

                function getMatchedEntry(e, t) {
                    var n;
                    if (n = PATH_PATTERN.exec(e), n = n && n.length && n[1], isSupportPerformance()) {
                        var i = performance.getEntries().filter(function (e) {
                            return e.initiatorType === t
                        }).filter(function (e) {
                            var t = PATH_PATTERN.exec(e.name);
                            if (t && t.length) return t[1] === n || void 0
                        })[0];
                        if (i) return i
                    }
                    return null
                }

                function caclDefaultSpeed() {
                    var e = function (e) {
                        return "resource" === e.entryType && e.transferSize && e.duration && ("xmlhttprequest" === e.initiatorType || "script" === e.initiatorType)
                    };
                    if (isSupportPerformance()) {
                        var t = performance.getEntries().filter(e).map(function (e) {
                            return {
                                size: e.transferSize || 0,
                                duration: e.responseEnd ? e.responseEnd - e.responseStart : e.duration
                            }
                        });
                        if (!t.length) return 0;
                        var n = t.map(function (e) {
                            return e.size / e.duration
                        }).filter(function (e) {
                            return e > 50
                        }).reduce(function (e, t) {
                            return e += t
                        }, 0);
                        return parseInt(n / t.length * 1e3 * 8)
                    }
                    return 0
                }

                function getWorker() {
                    var worker = null;
                    if (window.Worker && !isIe()) {
                        var wrapper = "".concat(TS_MUXER_SOURCE.toString(), ';\n      const global={};\n      TS_MUXER_SOURCE(global);\n      const context = self;\n      const tsMuxer= new global.TsMuxer(function(dataSet,transferable){\n        context.postMessage(dataSet,transferable)\n      });\n      context.addEventListener(\'message\', function(e){\n        const type = e.data.type\n        const data = e.data.data\n        switch(type){\n          case "INIT":\n              tsMuxer.initTransmuxer(data);\n              break;\n          case "BUFFER_DATA":\n              tsMuxer.push(data);\n              break;\n          case "SET_BASEMEDIA_DECODE_TIME":\n              tsMuxer.setBaseMediaDecodeTime(data);\n              break;\n          case "RESET_INIT_SEGMENT":\n              tsMuxer.resetInitSegment();\n              break;\n          case "SET_DISCONTINUITY":\n              tsMuxer.setDiscontinuity(data);\n              break;\n          case "CHANGE_DECODE_KEY":\n              tsMuxer.changeDecodeKey(data)\n              break;\n          case  "CLEAN_WHEN_ERROR":\n              tsMuxer.cleanWhenError();\n              break;\n          case "CLEAN":\n              tsMuxer.clean()\n              break;\n        }\n      });\n    '),
                            blob = new Blob([wrapper], {
                                type: "text/javascript"
                            }),
                            URL = window.URL || window.webkitURL || window.mozURL || window.msURL,
                            workerUrl = URL.createObjectURL(blob);
                        worker = new Worker(workerUrl), worker.clean = function () {
                            worker.postMessage({
                                type: "CLEAN"
                            })
                        }, worker.onerror = function () {
                            console.log("worker error")
                        }
                    } else {
                        var proxy = {
                            addEventListener: function () {}, postMessage: function () {}
                        };
                        if (11 === isIe()) {
                            var tsMuxer;
                            eval("".concat(TS_MUXER_SOURCE.toString(), ";const global={};TS_MUXER_SOURCE(global);window.TsMuxer = global.TsMuxer")), tsMuxer = new TsMuxer(function (e) {
                                proxy.events.message({
                                    data: e
                                })
                            }), proxy = {
                                events: {},
                                clean: function () {
                                    tsMuxer.clean()
                                }, addEventListener: function (e, t) {
                                    proxy.events[e] = t
                                }, removeEventListener: function (e) {
                                    delete proxy.events[e]
                                }, postMessage: function (e) {
                                    var t = e.type,
                                        n = e.data;
                                    switch (t) {
                                    case "INIT":
                                        tsMuxer.initTransmuxer(n);
                                        break;
                                    case "BUFFER_DATA":
                                        tsMuxer.push(n);
                                        break;
                                    case "SET_BASEMEDIA_DECODE_TIME":
                                        tsMuxer.setBaseMediaDecodeTime(n);
                                        break;
                                    case "RESET_INIT_SEGMENT":
                                        tsMuxer.resetInitSegment();
                                        break;
                                    case "CHANGE_DECODE_KEY":
                                        tsMuxer.changeDecodeKey(n);
                                        break;
                                    case "CLEAN_WHEN_ERROR":
                                        tsMuxer.cleanWhenError();
                                        break;
                                    case "CLEAN":
                                        tsMuxer.clean()
                                    }
                                }
                            }
                        }
                        worker = proxy
                    }
                    return worker
                }

                function array2string(e) {
                    for (var t = [], n = 0; n < e.length; n++) t.push(Number(e[n]).toString(16));
                    return "[".concat(t.join(","), "]")
                }

                function paramsSerialize(e) {
                    if ("object" !== _typeof_1(e)) return "";
                    var t = Object.keys(e).reduce(function (t, n) {
                        return "object" === _typeof_1(e[n]) ? t += "".concat(n, "=").concat(JSON.stringify(e[n]), "&") : t += "".concat(n, "=").concat(e[n], "&"), t
                    }, "");
                    return t.slice(0, t.length - 1)
                }

                function formatSpeed(e) {
                    return isNaN(e) ? "0KB/s" : (e <= 0 && (e = 0), e >= .8 ? "".concat(e.toFixed(2), "MB/s") : "".concat((1024 * e).toFixed(2), "KB/s"))
                }
                var classCallCheck = _classCallCheck,
                    _typeof_1 = createCommonjsModule(function (e) {
                        function t(e) {
                            return (t = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                                return typeof e
                            } : function (e) {
                                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                            })(e)
                        }

                        function n(i) {
                            return "function" == typeof Symbol && "symbol" === t(Symbol.iterator) ? e.exports = n = function (e) {
                                return t(e)
                            } : e.exports = n = function (e) {
                                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : t(e)
                            }, n(i)
                        }
                        e.exports = n
                    }),
                    assertThisInitialized = _assertThisInitialized,
                    possibleConstructorReturn = _possibleConstructorReturn,
                    getPrototypeOf = createCommonjsModule(function (e) {
                        function t(n) {
                            return e.exports = t = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                                return e.__proto__ || Object.getPrototypeOf(e)
                            }, t(n)
                        }
                        e.exports = t
                    }),
                    createClass = _createClass,
                    setPrototypeOf = createCommonjsModule(function (e) {
                        function t(n, i) {
                            return e.exports = t = Object.setPrototypeOf || function (e, t) {
                                return e.__proto__ = t, e
                            }, t(n, i)
                        }
                        e.exports = t
                    }),
                    inherits = _inherits,
                    __assign = Object.assign || function (e) {
                        for (var t, n = 1, i = arguments.length; n < i; n++) {
                            t = arguments[n];
                            for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o])
                        }
                        return e
                    },
                    browsers = [
                        ["firefox", /Firefox\/([0-9\.]+)(?:\s|$)/],
                        ["opera", /Opera\/([0-9\.]+)(?:\s|$)/],
                        ["opera", /OPR\/([0-9\.]+)(:?\s|$)$/],
                        ["edge", /Edge\/([0-9\._]+)/],
                        ["ie", /Trident\/7\.0.*rv\:([0-9\.]+)\).*Gecko$/],
                        ["ie", /MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],
                        ["ie", /MSIE\s(7\.0)/],
                        ["safari", /Version\/([0-9\._]+).*Safari/],
                        ["chrome", /(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],
                        ["bb10", /BB10;\sTouch.*Version\/([0-9\.]+)/],
                        ["android", /Android\s([0-9\.]+)/],
                        ["ios", /Version\/([0-9\._]+).*Mobile.*Safari.*/],
                        ["yandexbrowser", /YaBrowser\/([0-9\._]+)/],
                        ["crios", /CriOS\/([0-9\.]+)(:?\s|$)/]
                    ],
                    os = ["Windows Phone", "Android", "CentOS", {
                        name: "Chrome OS",
                        pattern: "CrOS"
                    }, "Debian", "Fedora", "FreeBSD", "Gentoo", "Haiku", "Kubuntu", "Linux Mint", "OpenBSD", "Red Hat", "SuSE", "Ubuntu", "Xubuntu", "Cygwin", "Symbian OS", "hpwOS", "webOS ", "webOS", "Tablet OS", "Tizen", "Linux", "Mac OS X", "Macintosh", "Mac", "Windows 98;", "Windows "],
                    osVersions = {
                        "10.0": "10",
                        6.4: "10 Technical Preview",
                        6.3: "8.1",
                        6.2: "8",
                        6.1: "Server 2008 R2 / 7",
                        "6.0": "Server 2008 / Vista",
                        5.2: "Server 2003 / XP 64-bit",
                        5.1: "XP",
                        5.01: "2000 SP1",
                        "5.0": "2000",
                        "4.0": "NT",
                        "4.90": "ME"
                    },
                    mobileRegExp = new RegExp(["(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|", "compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|", "midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)", "\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|", "wap|windows ce|xda|xiino"].join(""), "i"),
                    mobilePrefixRegExp = new RegExp(["1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|", "ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|", "avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|", "cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|", "ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|", "g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|", "hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|", "i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|", "kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])", "|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|", "mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|", "n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|", "op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|", "po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|", "raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|", "se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|k\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|", "so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|", "tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|", "veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|", "w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-"].join(""), "i"),
                    Detector = function () {
                        function e(e, t, n) {
                            this.navigator = t, this.process = n, this.userAgent = e || (this.navigator ? t.userAgent || t.vendor : "")
                        }
                        return e.prototype.detect = function () {
                            if (this.process && !this.userAgent) {
                                var e = this.process.version.slice(1).split(".").slice(0, 3),
                                    t = Array.prototype.slice.call(e, 1).join("") || "0";
                                return {
                                    name: "node",
                                    version: e.join("."),
                                    versionNumber: parseFloat(e[0] + "." + t),
                                    mobile: !1,
                                    os: this.process.platform
                                }
                            }
                            return this.userAgent || this.handleMissingError(), __assign({}, this.checkBrowser(), this.checkMobile(), this.checkOs())
                        }, e.prototype.checkBrowser = function () {
                            var e = this;
                            return browsers.filter(function (t) {
                                return t[1].test(e.userAgent)
                            }).map(function (t) {
                                var n = t[1].exec(e.userAgent),
                                    i = n && n[1].split(/[._]/).slice(0, 3),
                                    o = Array.prototype.slice.call(i, 1).join("") || "0";
                                return i && i.length < 3 && Array.prototype.push.apply(i, 1 === i.length ? [0, 0] : [0]), {
                                    name: String(t[0]),
                                    version: i.join("."),
                                    versionNumber: Number(i[0] + "." + o)
                                }
                            }).shift()
                        }, e.prototype.checkMobile = function () {
                            var e = this.userAgent.substr(0, 4);
                            return {
                                mobile: mobileRegExp.test(this.userAgent) || mobilePrefixRegExp.test(e)
                            }
                        }, e.prototype.checkOs = function () {
                            var e = this;
                            return os.map(function (t) {
                                var n = t.name || t,
                                    i = e.getOsPattern(t);
                                return {
                                    name: n,
                                    pattern: i,
                                    value: RegExp("\\b" + i.replace(/([ -])(?!$)/g, "$1?") + "(?:x?[\\d._]+|[ \\w.]*)", "i").exec(e.userAgent)
                                }
                            }).filter(function (e) {
                                return e.value
                            }).map(function (e) {
                                var t, n = e.value[0] || "";
                                return e.pattern && e.name && /^Win/i.test(n) && !/^Windows Phone /i.test(n) && (t = osVersions[n.replace(/[^\d.]/g, "")]) && (n = "Windows " + t), e.pattern && e.name && (n = n.replace(RegExp(e.pattern, "i"), e.name)), n = n.replace(/ ce$/i, " CE").replace(/\bhpw/i, "web").replace(/\bMacintosh\b/, "Mac OS").replace(/_PowerPC\b/i, " OS").replace(/\b(OS X) [^ \d]+/i, "$1").replace(/\bMac (OS X)\b/, "$1").replace(/\/(\d)/, " $1").replace(/_/g, ".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i, "").replace(/\bx86\.64\b/gi, "x86_64").replace(/\b(Windows Phone) OS\b/, "$1").replace(/\b(Chrome OS \w+) [\d.]+\b/, "$1").split(" on ")[0].trim(), n = /^(?:webOS|i(?:OS|P))/.test(n) ? n : n.charAt(0).toUpperCase() + n.slice(1), {
                                    os: n
                                }
                            }).shift()
                        }, e.prototype.getOsPattern = function (e) {
                            var t = e;
                            return ("string" == typeof e ? e : void 0) || t.pattern || t.name
                        }, e.prototype.handleMissingError = function () {
                            throw new Error("Please give user-agent.\n> browser(navigator.userAgent or res.headers['user-agent']).")
                        }, e
                    }(),
                    _global = createCommonjsModule$1(function (e) {
                        var t = e.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")();
                        "number" == typeof __g && (__g = t)
                    }),
                    _core = createCommonjsModule$1(function (e) {
                        var t = e.exports = {
                            version: "2.5.7"
                        };
                        "number" == typeof __e && (__e = t)
                    }),
                    _core_1 = _core.version,
                    _isObject = function (e) {
                        return "object" == typeof e ? null !== e : "function" == typeof e
                    },
                    _anObject = function (e) {
                        if (!_isObject(e)) throw TypeError(e + " is not an object!");
                        return e
                    },
                    _fails = function (e) {
                        try {
                            return !!e()
                        } catch (e) {
                            return !0
                        }
                    },
                    _descriptors = !_fails(function () {
                        return 7 != Object.defineProperty({}, "a", {
                            get: function () {
                                return 7
                            }
                        }).a
                    }),
                    document$1 = _global.document,
                    is = _isObject(document$1) && _isObject(document$1.createElement),
                    _domCreate = function (e) {
                        return is ? document$1.createElement(e) : {}
                    },
                    _ie8DomDefine = !_descriptors && !_fails(function () {
                        return 7 != Object.defineProperty(_domCreate("div"), "a", {
                            get: function () {
                                return 7
                            }
                        }).a
                    }),
                    _toPrimitive = function (e, t) {
                        if (!_isObject(e)) return e;
                        var n, i;
                        if (t && "function" == typeof (n = e.toString) && !_isObject(i = n.call(e))) return i;
                        if ("function" == typeof (n = e.valueOf) && !_isObject(i = n.call(e))) return i;
                        if (!t && "function" == typeof (n = e.toString) && !_isObject(i = n.call(e))) return i;
                        throw TypeError("Can't convert object to primitive value")
                    },
                    dP = Object.defineProperty,
                    f = _descriptors ? Object.defineProperty : function (e, t, n) {
                        if (_anObject(e), t = _toPrimitive(t, !0), _anObject(n), _ie8DomDefine) try {
                            return dP(e, t, n)
                        } catch (e) {}
                        if ("get" in n || "set" in n) throw TypeError("Accessors not supported!");
                        return "value" in n && (e[t] = n.value), e
                    },
                    _objectDp = {
                        f: f
                    },
                    _propertyDesc = function (e, t) {
                        return {
                            enumerable: !(1 & e),
                            configurable: !(2 & e),
                            writable: !(4 & e),
                            value: t
                        }
                    },
                    _hide = _descriptors ? function (e, t, n) {
                        return _objectDp.f(e, t, _propertyDesc(1, n))
                    } : function (e, t, n) {
                        return e[t] = n, e
                    },
                    hasOwnProperty = {}.hasOwnProperty,
                    _has = function (e, t) {
                        return hasOwnProperty.call(e, t)
                    },
                    id = 0,
                    px = Math.random(),
                    _uid = function (e) {
                        return "Symbol(".concat(void 0 === e ? "" : e, ")_", (++id + px).toString(36))
                    },
                    _redefine = createCommonjsModule$1(function (e) {
                        var t = _uid("src"),
                            n = Function.toString,
                            i = ("" + n).split("toString");
                        _core.inspectSource = function (e) {
                            return n.call(e)
                        }, (e.exports = function (e, n, o, r) {
                            var a = "function" == typeof o;
                            a && (_has(o, "name") || _hide(o, "name", n)), e[n] !== o && (a && (_has(o, t) || _hide(o, t, e[n] ? "" + e[n] : i.join(String(n)))), e === _global ? e[n] = o : r ? e[n] ? e[n] = o : _hide(e, n, o) : (delete e[n], _hide(e, n, o)))
                        })(Function.prototype, "toString", function () {
                            return "function" == typeof this && this[t] || n.call(this)
                        })
                    }),
                    _aFunction = function (e) {
                        if ("function" != typeof e) throw TypeError(e + " is not a function!");
                        return e
                    },
                    _ctx = function (e, t, n) {
                        if (_aFunction(e), void 0 === t) return e;
                        switch (n) {
                        case 1:
                            return function (n) {
                                return e.call(t, n)
                            };
                        case 2:
                            return function (n, i) {
                                return e.call(t, n, i)
                            };
                        case 3:
                            return function (n, i, o) {
                                return e.call(t, n, i, o)
                            }
                        }
                        return function () {
                            return e.apply(t, arguments)
                        }
                    },
                    PROTOTYPE = "prototype",
                    $export = function (e, t, n) {
                        var i, o, r, a, s = e & $export.F,
                            l = e & $export.G,
                            u = e & $export.S,
                            c = e & $export.P,
                            d = e & $export.B,
                            h = l ? _global : u ? _global[t] || (_global[t] = {}) : (_global[t] || {})[PROTOTYPE],
                            p = l ? _core : _core[t] || (_core[t] = {}),
                            f = p[PROTOTYPE] || (p[PROTOTYPE] = {});
                        l && (n = t);
                        for (i in n) o = !s && h && void 0 !== h[i], r = (o ? h : n)[i], a = d && o ? _ctx(r, _global) : c && "function" == typeof r ? _ctx(Function.call, r) : r, h && _redefine(h, i, r, e & $export.U), p[i] != r && _hide(p, i, a), c && f[i] != r && (f[i] = r)
                    };
                _global.core = _core, $export.F = 1, $export.G = 2, $export.S = 4, $export.P = 8, $export.B = 16, $export.W = 32, $export.U = 64, $export.R = 128;
                var _export = $export,
                    toString = {}.toString,
                    _cof = function (e) {
                        return toString.call(e).slice(8, -1)
                    },
                    _iobject = Object("z").propertyIsEnumerable(0) ? Object : function (e) {
                        return "String" == _cof(e) ? e.split("") : Object(e)
                    },
                    _defined = function (e) {
                        if (void 0 == e) throw TypeError("Can't call method on  " + e);
                        return e
                    },
                    _toObject = function (e) {
                        return Object(_defined(e))
                    },
                    ceil = Math.ceil,
                    floor = Math.floor,
                    _toInteger = function (e) {
                        return isNaN(e = +e) ? 0 : (e > 0 ? floor : ceil)(e)
                    },
                    min = Math.min,
                    _toLength = function (e) {
                        return e > 0 ? min(_toInteger(e), 9007199254740991) : 0
                    },
                    _isArray = Array.isArray || function (e) {
                        return "Array" == _cof(e)
                    },
                    _shared = createCommonjsModule$1(function (e) {
                        var t = _global["__core-js_shared__"] || (_global["__core-js_shared__"] = {});
                        (e.exports = function (e, n) {
                            return t[e] || (t[e] = void 0 !== n ? n : {})
                        })("versions", []).push({
                            version: _core.version,
                            mode: "global",
                            copyright: "© 2018 Denis Pushkarev (zloirock.ru)"
                        })
                    }),
                    _wks = createCommonjsModule$1(function (e) {
                        var t = _shared("wks"),
                            n = _global.Symbol,
                            i = "function" == typeof n;
                        (e.exports = function (e) {
                            return t[e] || (t[e] = i && n[e] || (i ? n : _uid)("Symbol." + e))
                        }).store = t
                    }),
                    SPECIES = _wks("species"),
                    _arraySpeciesConstructor = function (e) {
                        var t;
                        return _isArray(e) && (t = e.constructor, "function" != typeof t || t !== Array && !_isArray(t.prototype) || (t = void 0), _isObject(t) && null === (t = t[SPECIES]) && (t = void 0)), void 0 === t ? Array : t
                    },
                    _arraySpeciesCreate = function (e, t) {
                        return new(_arraySpeciesConstructor(e))(t)
                    },
                    _arrayMethods = function (e, t) {
                        var n = 1 == e,
                            i = 2 == e,
                            o = 3 == e,
                            r = 4 == e,
                            a = 6 == e,
                            s = 5 == e || a,
                            l = t || _arraySpeciesCreate;
                        return function (t, u, c) {
                            for (var d, h, p = _toObject(t), f = _iobject(p), g = _ctx(u, c, 3), m = _toLength(f.length), y = 0, v = n ? l(t, m) : i ? l(t, 0) : void 0; m > y; y++)
                                if ((s || y in f) && (d = f[y], h = g(d, y, p), e))
                                    if (n) v[y] = h;
                                    else if (h) switch (e) {
                            case 3:
                                return !0;
                            case 5:
                                return d;
                            case 6:
                                return y;
                            case 2:
                                v.push(d)
                            } else if (r) return !1;
                            return a ? -1 : o || r ? r : v
                        }
                    },
                    _strictMethod = function (e, t) {
                        return !!e && _fails(function () {
                            t ? e.call(null, function () {}, 1) : e.call(null)
                        })
                    },
                    $filter = _arrayMethods(2);
                _export(_export.P + _export.F * !_strictMethod([].filter, !0), "Array", {
                    filter: function (e) {
                        return $filter(this, e, arguments[1])
                    }
                });
                var filter = _core.Array.filter,
                    $map = _arrayMethods(1);
                _export(_export.P + _export.F * !_strictMethod([].map, !0), "Array", {
                    map: function (e) {
                        return $map(this, e, arguments[1])
                    }
                });
                var map = _core.Array.map,
                    _stringWs = "\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",
                    space = "[" + _stringWs + "]",
                    non = "​",
                    ltrim = RegExp("^" + space + space + "*"),
                    rtrim = RegExp(space + space + "*$"),
                    exporter = function (e, t, n) {
                        var i = {},
                            o = _fails(function () {
                                return !!_stringWs[e]() || non[e]() != non
                            }),
                            r = i[e] = o ? t(trim) : _stringWs[e];
                        n && (i[n] = r), _export(_export.P + _export.F * o, "String", i)
                    },
                    trim = exporter.trim = function (e, t) {
                        return e = String(_defined(e)), 1 & t && (e = e.replace(ltrim, "")), 2 & t && (e = e.replace(rtrim, "")), e
                    },
                    _stringTrim = exporter;
                _stringTrim("trim", function (e) {
                    return function () {
                        return e(this, 3)
                    }
                });
                var trim$1 = _core.String.trim,
                    injectableNavigator = "undefined" != typeof window ? window.navigator : void 0,
                    injectableProcess = void 0 !== process ? process : void 0;
                Array.prototype.find || Object.defineProperty(Array.prototype, "find", {
                    value: function (e) {
                        if (null == this) throw new TypeError('"this" is null or not defined');
                        var t = Object(this),
                            n = t.length >>> 0;
                        if ("function" != typeof e) throw new TypeError("predicate must be a function");
                        for (var i = arguments[1], o = 0; o < n;) {
                            var r = t[o];
                            if (e.call(i, r, o, t)) return r;
                            o++
                        }
                    }, configurable: !0,
                    writable: !0
                }), "function" != typeof String.prototype.padEnd && (String.prototype.padEnd = function (e) {
                    for (var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : " ", n = e - this.length, i = ""; n-- > 0;) i += t;
                    return this + i
                }), "function" != typeof String.prototype.padStart && (String.prototype.padStart = function (e) {
                    for (var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : " ", n = e - this.length, i = ""; n-- > 0;) i += t;
                    return i + this
                });
                var _unit = ["bps", "kbps", "mbps", "gbps", "tbps", "ppbs"],
                    rTrimRearZero = /0+$/g,
                    _base64Map = {
                        "+": "-",
                        "/": "_",
                        "=": ""
                    },
                    EventBus = function () {
                        function e() {
                            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                            classCallCheck(this, e), this._handlers = {}, this._config = t, this._emitCaches = {}
                        }
                        return createClass(e, [{
                            key: "off",
                            value: function (e, t) {
                                if (t) {
                                    for (var n = 0; n < this._handlers[e].length; n++)
                                        if (this._handlers[e][n] === t) {
                                            spliceOne(this._handlers[e], n);
                                            break
                                        }
                                } else e ? this._handlers[e] = [] : this._handlers = {}
                            }
                        }, {
                            key: "once",
                            value: function (e, t) {
                                function n() {
                                    if (i.off(e, n), !o) {
                                        o = !0;
                                        for (var r = arguments.length, a = new Array(r), s = 0; s < r; s++) a[s] = arguments[s];
                                        fastApply(t, this, Array.prototype.slice.call(a))
                                    }
                                }
                                var i = this,
                                    o = !1;
                                this.on(e, n)
                            }
                        }, {
                            key: "addEventListener",
                            value: function (e, t) {
                                this.on(e, t)
                            }
                        }, {
                            key: "removeEventListener",
                            value: function (e, t) {
                                this.off(e, t)
                            }
                        }, {
                            key: "on",
                            value: function (e, t, n) {
                                var i = this;
                                this._handlers[e] ? isFinite(n) ? this._handlers.splice(n, 0, t) : this._handlers[e].push(t) : this._handlers[e] = [t], this._emitCaches[e] && this._emitCaches[e].length > 0 && setTimeout(function () {
                                    for (var t;
                                        (t = i._emitCaches[e].shift()) && i._emit(e, t););
                                })
                            }
                        }, {
                            key: "_emit",
                            value: function (e, t) {
                                var n = this,
                                    i = this._handlers[e];
                                if (i && i.length > 0) {
                                    return i.concat().forEach(function (e) {
                                        fastApply(e, n, t)
                                    }), !0
                                }
                                return !1
                            }
                        }, {
                            key: "emit",
                            value: function (e) {
                                if (!e) return !1;
                                for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), i = 1; i < t; i++) n[i - 1] = arguments[i];
                                var o = this._emit(e, n);
                                if (this._config.wildcard) {
                                    var r = e.split(".");
                                    o || (r[r.length - 1] = "*", o = this._emit(r.join("."), n)), r[r.length - 1] = "#", o = this._emit(r.join("."), n)
                                }
                                return !o && this._config.cache && (this._emitCaches[e] || (this._emitCaches[e] = [])).push(n), o
                            }
                        }]), e
                    }(),
                    defineProperty = _defineProperty,
                    objectSpread = _objectSpread,
                    arrayWithoutHoles = _arrayWithoutHoles,
                    iterableToArray = _iterableToArray,
                    nonIterableSpread = _nonIterableSpread,
                    toConsumableArray = _toConsumableArray,
                    _enable = "daily.v.youku.com" === location.hostname || "pre-v.youku.com" === location.hostname,
                    match = /\bcorex_log=(\d)/.exec(document.cookie);
                match && (_enable = "1" == match[1]);
                var logger = {};
                logger.log = function () {
                    if (_enable) {
                        var e;
                        (e = console).log.apply(e, arguments)
                    }
                }, logger.group = function () {
                    if (_enable) {
                        var e;
                        (e = console).group.apply(e, arguments)
                    }
                }, logger.groupEnd = function () {
                    _enable && console.groupEnd()
                }, logger.warn = function () {
                    if (_enable) {
                        var e;
                        (e = console).warn.apply(e, arguments)
                    }
                }, logger.info = function () {
                    if (_enable) {
                        var e;
                        (e = console).info.apply(e, arguments)
                    }
                }, logger.error = function () {
                    if (_enable) {
                        var e;
                        (e = console).error.apply(e, arguments)
                    }
                };
                var INIT_STATE = "_init",
                    _stateMachines = [];
                window.$StateMachines$ = {};
                var StateMachine = function (e) {
                        function t(e, n) {
                            var i;
                            return classCallCheck(this, t), i = possibleConstructorReturn(this, getPrototypeOf(t).call(this)), i._id = _stateMachines.id, _stateMachines.push(assertThisInitialized(assertThisInitialized(i))), i._stateMachineName = e, window.$StateMachines$[e] = assertThisInitialized(assertThisInitialized(i)), i.currentState = INIT_STATE, i.stateStack = "", i._breakPoint = [], i._parentStateMachine = n, i._timeoutMonitor = [], i._tickerStamp = Date.now(), i._destroyed = !1, i._dependents = [], i._fireMap = {}, n && n.syncMap && n.syncMap[e] && (n.syncMap[e].children.push(assertThisInitialized(assertThisInitialized(i))), n.syncMap[e].handlers.forEach(function (e) {
                                i.on("__sync__.".concat(e.state), e.handler)
                            })), i
                        }
                        return inherits(t, e), createClass(t, [{
                            key: "nextStateByOnce",
                            value: function (e, t, n) {
                                for (var i = this, o = arguments.length, r = new Array(o > 3 ? o - 3 : 0), a = 3; a < o; a++) r[a - 3] = arguments[a];
                                var s = !1,
                                    l = null,
                                    u = this.currentState,
                                    c = function o(a) {
                                        e.removeEventListener(t, o), s || (s = !0, r.unshift(a), l && !i.isInState(l) || i.nextState.apply(i, [n].concat(r)))
                                    };
                                return e.addEventListener(t, c), {
                                    check: function (e) {
                                        return l = void 0 === e ? u : e, this
                                    }
                                }
                            }
                        }, {
                            key: "nextStateBy",
                            value: function (e, t, n) {
                                for (var i = this, o = arguments.length, r = new Array(o > 3 ? o - 3 : 0), a = 3; a < o; a++) r[a - 3] = arguments[a];
                                var s = null,
                                    l = this.currentState,
                                    u = function (e) {
                                        var t = [e].concat(r);
                                        s && !i.isInState(s) || i.nextState.apply(i, [n].concat(toConsumableArray(t)))
                                    };
                                return e.addEventListener(t, u), {
                                    check: function (e) {
                                        return s = void 0 === e ? l : e, this
                                    }, off: function () {
                                        e.removeEventListener(t, u)
                                    }
                                }
                            }
                        }, {
                            key: "nextStateWhen",
                            value: function (e, t) {
                                for (var n = this, i = arguments.length, o = new Array(i > 2 ? i - 2 : 0), r = 2; r < i; r++) o[r - 2] = arguments[r];
                                var a = null,
                                    s = this.currentState;
                                return e.then && e.catch ? e.then(function (e) {
                                    o.unshift(e), a && !n.isInState(a) || ("function" == typeof t ? t.apply(void 0, o) : n.nextState.apply(n, [t].concat(o)))
                                }, function (e) {
                                    n.nextState("error", e)
                                }) : e >= 0 && (clearTimeout(this._delayTimer), this._delayTimer = setTimeout(function () {
                                    a && !n.isInState(a) || ("function" == typeof t ? t.apply(void 0, o) : n.nextState.apply(n, [t].concat(o)))
                                }, e)), {
                                    check: function (e) {
                                        return a = void 0 === e ? s : e, this
                                    }
                                }
                            }
                        }, {
                            key: "nextStateAfter",
                            value: function (e, t) {
                                for (var n = arguments.length, i = new Array(n > 2 ? n - 2 : 0), o = 2; o < n; o++) i[o - 2] = arguments[o];
                                var r = e.indexOf("|") >= 0,
                                    a = e.indexOf("+") >= 0;
                                if (r || a) {
                                    if (r && a) throw new SyntaxError("StateMachine.nextStateAfter不支持|+同时出现")
                                } else r = !0;
                                var s;
                                r ? s = new RegExp("^(".concat(e.split("|").filter(function (e) {
                                    return e
                                }).join("|"), ")$")) : a && (s = e.split("+").map(function (e) {
                                    return new RegExp("\\b".concat(e, "\\b"))
                                })), this._dependents.push({
                                    criteria: s,
                                    state: t,
                                    args: i
                                }), this._resolveDependents()
                            }
                        }, {
                            key: "nextStateAfterAll",
                            value: function (e, t, n) {
                                for (var i = this, o = arguments.length, r = new Array(o > 3 ? o - 3 : 0), a = 3; a < o; a++) r[a - 3] = arguments[a];
                                var s = e.concat();
                                s.forEach(function (o) {
                                    o.once(t, function () {
                                        arrayRemove(e, o), 0 == e.length && i.nextState.apply(i, [n].concat(r))
                                    })
                                }), s = null
                            }
                        }, {
                            key: "nextStateDelayed",
                            value: function (e, t) {
                                for (var n = this, i = arguments.length, o = new Array(i > 2 ? i - 2 : 0), r = 2; r < i; r++) o[r - 2] = arguments[r];
                                setTimeout(function () {
                                    n.nextState.apply(n, [e].concat(o))
                                }, t)
                            }
                        }, {
                            key: "nextState",
                            value: function (e) {
                                for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), i = 1; i < t; i++) n[i - 1] = arguments[i];
                                if (this.currentState != e && "destroy" !== this.currentState && (clearTimeout(this._delayTimer), !window.$stopAllStateMachine)) {
                                    var o = Date.now();
                                    this.stateStack += "".concat(this.currentState, "@").concat(o - this._tickerStamp, ";");
                                    var r = this.currentState;
                                    this._fireMap[r] && !this._fireMap[r].fired && (this._emit.call(this, r, this._fireMap[r].args), this._emit.call(this, "__sync__.".concat(r), this._fireMap[r].args), this._fireMap[r].fired = !0), this.currentState = e, this.log(r, e, n), this._checkTimeout(r, e), this._tickerStamp = o;
                                    for (var a = 0; a < this._breakPoint.length; a++) {
                                        var s = this._breakPoint[a];
                                        if (!("*" != s.currentState && s.currentState !== r || "*" != s && s.nextState !== e)) {
                                            window._debug && window._debug();
                                            break
                                        }
                                    }
                                    var l = "on".concat(upperFirstCase(e)),
                                        u = "after".concat(upperFirstCase(e));
                                    this._fireMap[e] = {
                                        args: n,
                                        fired: !1
                                    }, this[l] && fastApply(this[l], this, n), this._fireMap[e].fired || (this._emit.call(this, e, n), this._emit.call(this, "__sync__.".concat(e), n)), delete this._fireMap[e], this[u] && fastApply(this[u], this, n), this._destroyed ? this._destroy() : this._resolveDependents()
                                }
                            }
                        }, {
                            key: "hasState",
                            value: function (e) {
                                return new RegExp("\\b".concat(e, "\\b")).test(this.stateStack)
                            }
                        }, {
                            key: "after",
                            value: function (e) {
                                var t = this;
                                if (!e) throw new SyntaxError("StateMachine.after参数为空");
                                var n = e.split("->");
                                if (1 == n.length && this.currentState === n[0]) return Promise.resolve();
                                var i = function e(i) {
                                    var o = n.shift();
                                    t.once(o, function () {
                                        n.length > 0 ? e(i) : i()
                                    })
                                };
                                return new Promise(i)
                            }
                        }, {
                            key: "elapse",
                            value: function (e, t) {
                                var n = {},
                                    i = +Date.now() - this._tickerStamp;
                                return e ? "".concat(this.stateStack + this.currentState, "@").concat(i).split(";").reverse().filter(function (i) {
                                    if (i) {
                                        var o = i.split("@")[0];
                                        if (new RegExp("\\b".concat(o, "\\b")).test(e) && (t || !n[o])) return n[o] = !0, !0
                                    }
                                    return !1
                                }).reduce(function (e, t) {
                                    return e + parseFloat(t.split("@")[1])
                                }, 0) : i
                            }
                        }, {
                            key: "_resolveDependents",
                            value: function () {
                                for (var e = this, t = 0; t < this._dependents.length; t++) {
                                    if ("break" === function (t) {
                                        var n = e._dependents[t],
                                            i = "".concat(e.stateStack, ";").concat(e.currentState),
                                            o = !1;
                                        if (n.criteria instanceof RegExp ? o = n.criteria.test(e.currentState) : n.criteria instanceof Array && (o = n.criteria.every(function (e) {
                                            return e.test(i)
                                        })), o) return setTimeout(function () {
                                            e.nextState.apply(e, [n.state].concat(toConsumableArray(n.args)))
                                        }), spliceOne(e._dependents, t), "break"
                                    }(t)) break
                                }
                            }
                        }, {
                            key: "syncState",
                            value: function (e, t) {
                                var n = this,
                                    i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : t;
                                e.on("__sync__.".concat(t), function () {
                                    for (var e = arguments.length, t = new Array(e), o = 0; o < e; o++) t[o] = arguments[o];
                                    n.nextState.apply(n, [i].concat(t))
                                })
                            }
                        }, {
                            key: "syncChildren",
                            value: function (e, t) {
                                var n = this,
                                    i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : t;
                                if (this.syncMap || (this.syncMap = {}), !this.syncMap[e]) {
                                    this.syncMap[e] = {
                                        children: [],
                                        handlers: []
                                    };
                                    var o = {
                                        state: t,
                                        handler: function () {
                                            0 == n.syncMap[e].children.filter(function (e) {
                                                return e.currentState != t
                                            }).length && n.nextState(i)
                                        }
                                    };
                                    this.syncMap[e].handlers.push(o)
                                }
                            }
                        }, {
                            key: "destroy",
                            value: function () {
                                this._destroyed = !0
                            }
                        }, {
                            key: "_destroy",
                            value: function () {
                                this.currentState = "destroy";
                                for (var e = _stateMachines.length; e-- > 0;)
                                    if (_stateMachines[e] === this) {
                                        spliceOne(_stateMachines, e);
                                        break
                                    }
                                this.off()
                            }
                        }, {
                            key: "log",
                            value: function (e, t, n) {
                                for (var i = this, o = "", r = Date.now(); i = i._parentStateMachine;) o = "".concat(i._stateMachineName, "[").concat(i.currentState, "] | ").concat(o);
                                var a = r - this._tickerStamp,
                                    s = "ms";
                                a > 1e3 && (a /= 1e3, s = "s"), o += "".concat(this._stateMachineName, ":[").concat(e, "(").concat(a).concat(s, ")]->[").concat(t, "]"), 1 == n.length && (n = n[0]);
                                var l;
                                l = !n || n instanceof Array && 0 == n.length ? [o] : [o, "with:", n];
                                var u = this.getLogTags ? this.getLogTags() : [];
                                fastApply(logger.log, logger, u.concat(l))
                            }
                        }, {
                            key: "timeout",
                            value: function (e, t, n) {
                                this._timeoutMonitor = this._timeoutMonitor.concat(e.split(",").map(function (e) {
                                    return {
                                        states: e.split("+"),
                                        reg: new RegExp("^(".concat(e.replace(/\+/g, "|"), ")$")),
                                        timeout: t,
                                        callback: n
                                    }
                                }))
                            }
                        }, {
                            key: "_checkTimeout",
                            value: function (e, t) {
                                var n = this;
                                this._timeoutMonitor.forEach(function (i, o) {
                                    if (i.reg.test(e)) clearTimeout(i.timer);
                                    else if (i.reg.test(t)) {
                                        var r = i.states.reduce(function (e, t) {
                                            return e + n.elapse(t)
                                        }, 0);
                                        r >= i.timeout ? (i.callback(), setTimeout(function () {
                                            spliceOne(n._timeoutMonitor, o)
                                        })) : i.timer = setTimeout(function () {
                                            i.callback(), spliceOne(n._timeoutMonitor, o)
                                        }, i.timeout - r)
                                    }
                                })
                            }
                        }, {
                            key: "isInState",
                            value: function (e) {
                                return -1 == e.indexOf(",") ? this.currentState === e : new RegExp("^(".concat(e.replace(/,/g, "|"), ")$")).test(this.currentState)
                            }
                        }, {
                            key: "breakOn",
                            value: function (e) {
                                var t = e.split("->");
                                this._breakPoint.push({
                                    currentState: t[0],
                                    nextState: t[1]
                                })
                            }
                        }, {
                            key: "getLogTags",
                            value: function () {
                                return this._parentStateMachine ? this._parentStateMachine.getLogTags() : []
                            }
                        }]), t
                    }(EventBus),
                    isNativeFunction = _isNativeFunction,
                    construct = createCommonjsModule(function (e) {
                        function t() {
                            if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
                            if (Reflect.construct.sham) return !1;
                            if ("function" == typeof Proxy) return !0;
                            try {
                                return Date.prototype.toString.call(Reflect.construct(Date, [], function () {})), !0
                            } catch (e) {
                                return !1
                            }
                        }

                        function n(i, o, r) {
                            return t() ? e.exports = n = Reflect.construct : e.exports = n = function (e, t, n) {
                                var i = [null];
                                i.push.apply(i, t);
                                var o = Function.bind.apply(e, i),
                                    r = new o;
                                return n && setPrototypeOf(r, n.prototype), r
                            }, n.apply(null, arguments)
                        }
                        e.exports = n
                    }),
                    wrapNativeSuper = createCommonjsModule(function (e) {
                        function t(n) {
                            var i = "function" == typeof Map ? new Map : void 0;
                            return e.exports = t = function (e) {
                                function t() {
                                    return construct(e, arguments, getPrototypeOf(this).constructor)
                                }
                                if (null === e || !isNativeFunction(e)) return e;
                                if ("function" != typeof e) throw new TypeError("Super expression must either be null or a function");
                                if (void 0 !== i) {
                                    if (i.has(e)) return i.get(e);
                                    i.set(e, t)
                                }
                                return t.prototype = Object.create(e.prototype, {
                                    constructor: {
                                        value: t,
                                        enumerable: !1,
                                        writable: !0,
                                        configurable: !0
                                    }
                                }), setPrototypeOf(t, e)
                            }, t(n)
                        }
                        e.exports = t
                    }),
                    ErrorTypes = {
                        NETWORK_ERROR: "networkError",
                        MEDIA_ERROR: "mediaError",
                        KEY_SYSTEM_ERROR: "keySystemError",
                        MUX_ERROR: "muxError",
                        OTHER_ERROR: "otherError"
                    },
                    ErrorDetails = {
                        KEY_SYSTEM_NO_SUPPORT_DRM: "keySystemNoSupportDrm",
                        KEY_SYSTEM_NO_ACCESS: "keySystemNoAccess",
                        KEY_SYSTEM_GENE_REQUEST_ERROR: "keySystemGeneRequestError",
                        KEY_SYSTEM_LICENSE_REQUEST_FAILED: "keySystemLicenseRequestFailed",
                        KEY_SYSTEM_UPDATE_SESSION_ERROR: "keySystemUpdateSessionError",
                        DRM_FRAG_LOAD_ERROR: "drmFragLoadError",
                        YOUKU_DRM_DECODE_ERROR: "youkuDrmDecodeError",
                        KEY_SYSTEM_SET_MEDIA_KEY_ERROR: "keySystemSetMediaKeyError",
                        KEY_SYSTEM_WAITING_FOR_KEY_ERROR: "keySystemWaitingForKeyError",
                        MANIFEST_LOAD_ERROR: "manifestLoadError",
                        MANIFEST_LOAD_TIMEOUT: "manifestLoadTimeOut",
                        MANIFEST_PARSING_ERROR: "manifestParsingError",
                        MANIFEST_INCOMPATIBLE_CODECS_ERROR: "manifestIncompatibleCodecsError",
                        LEVEL_LOAD_ERROR: "levelLoadError",
                        LEVEL_PARSING_ERROR: "levelParsingError",
                        LEVEL_LOAD_TIMEOUT: "levelLoadTimeOut",
                        LEVEL_SWITCH_ERROR: "levelSwitchError",
                        AUDIO_TRACK_LOAD_ERROR: "audioTrackLoadError",
                        AUDIO_TRACK_PARSING_ERROR: "audioTrackParsingError",
                        AUDIO_TRACK_LOAD_TIMEOUT: "audioTrackLoadTimeOut",
                        FRAG_LOAD_ERROR: "fragLoadError",
                        FRAG_LOAD_TIMEOUT: "fragLoadTimeOut",
                        FRAG_DECRYPT_ERROR: "fragDecryptError",
                        FRAG_PARSING_ERROR: "fragParsingError",
                        WORKER_PARSING_ERROR: "workerParsingError",
                        REMUX_ALLOC_ERROR: "remuxAllocError",
                        KEY_LOAD_ERROR: "keyLoadError",
                        KEY_LOAD_TIMEOUT: "keyLoadTimeOut",
                        BUFFER_ADD_CODEC_ERROR: "bufferAddCodecError",
                        BUFFER_APPEND_ERROR: "bufferAppendError",
                        BUFFER_APPENDING_ERROR: "bufferAppendingError",
                        BUFFER_STALLED_ERROR: "bufferStalledError",
                        BUFFER_FULL_ERROR: "bufferFullError",
                        BUFFER_SEEK_OVER_HOLE: "bufferSeekOverHole",
                        BUFFER_NUDGE_ON_STALL: "bufferNudgeOnStall",
                        INTERNAL_EXCEPTION: "internalException",
                        PIPELINE_DECODE_ERROR: "pipelineDecodeError"
                    },
                    PlayerError = function (e) {
                        function t(e) {
                            for (var n, i = arguments.length, o = new Array(i > 1 ? i - 1 : 0), r = 1; r < i; r++) o[r - 1] = arguments[r];
                            return classCallCheck(this, t), n = possibleConstructorReturn(this, getPrototypeOf(t).call(this, e.message ? e.message.replace(/{%(\d+)}/g, function (e, t) {
                                return o[t - 1] || ""
                            }) : "")), n.name = n.constructor.name || "PlayerError", Object.keys(e).forEach(function (t) {
                                "message" !== t && (n[t] = e[t])
                            }), n.args = o, n
                        }
                        return inherits(t, e), createClass(t, [{
                            key: "is",
                            value: function (e) {
                                return "function" == typeof e ? this instanceof e : !("object" !== _typeof_1(e) || !Number.isFinite(e.code)) && this.code == e.code
                            }
                        }, {
                            key: "serialize",
                            value: function () {
                                return {
                                    code: this.code,
                                    message: this.message
                                }
                            }
                        }]), t
                    }(wrapNativeSuper(Error)),
                    ErrorSeverity = {
                        RECOVERABLE: 0,
                        CRITICAL: 1,
                        FATAL: 2
                    };
                PlayerError.RequestTypeNotSupported = {
                    code: 1e3,
                    message: "不支持的RequestType:{%1}",
                    severity: ErrorSeverity.FATAL
                };
                var AbortError = function (e) {
                    function t() {
                        return classCallCheck(this, t), possibleConstructorReturn(this, getPrototypeOf(t).apply(this, arguments))
                    }
                    return inherits(t, e), t
                }(PlayerError);
                AbortError.SegmentTimeout = new AbortError({
                    code: 10001,
                    message: "segment请求超时",
                    severity: ErrorSeverity.CRITICAL
                }), AbortError.Invalid = new AbortError({
                    code: 10002,
                    message: "无效请求终止",
                    severity: ErrorSeverity.RECOVERABLE
                }), AbortError.ForAbrLevelChange = new AbortError({
                    code: 10003,
                    message: "切档位",
                    severity: ErrorSeverity.RECOVERABLE
                });
                var P2PError = function (e) {
                        function t() {
                            return classCallCheck(this, t), possibleConstructorReturn(this, getPrototypeOf(t).apply(this, arguments))
                        }
                        return inherits(t, e), t
                    }(PlayerError),
                    NetworkError = function (e) {
                        function t() {
                            return classCallCheck(this, t), possibleConstructorReturn(this, getPrototypeOf(t).apply(this, arguments))
                        }
                        return inherits(t, e), t
                    }(PlayerError);
                NetworkError.Abort = {
                    code: 2e4,
                    message: "请求终止:{%1}",
                    severity: ErrorSeverity.RECOVERABLE
                }, NetworkError.HttpError = {
                    code: 20001,
                    message: "请求{%1}时发生网络故障",
                    severity: ErrorSeverity.RECOVERABLE,
                    response: {
                        code: 555
                    }
                }, NetworkError.Timeout = {
                    code: 20003,
                    message: "请求{%1}时超时",
                    severity: ErrorSeverity.RECOVERABLE
                };
                var PlayListError = function (e) {
                    function t() {
                        return classCallCheck(this, t), possibleConstructorReturn(this, getPrototypeOf(t).apply(this, arguments))
                    }
                    return inherits(t, e), t
                }(PlayerError);
                PlayListError.ManifestFetchError = {
                    type: ErrorTypes.NETWORK_ERROR,
                    details: ErrorDetails.MANIFEST_LOAD_ERROR,
                    code: 30001,
                    message: "manifest {%1} 获取失败",
                    severity: ErrorSeverity.FATAL,
                    fatal: !0
                }, PlayListError.ManifestParseError = {
                    type: ErrorTypes.NETWORK_ERROR,
                    details: ErrorDetails.MANIFEST_PARSING_ERROR,
                    code: 30002,
                    message: "manifest {%1} 解析失败",
                    severity: ErrorSeverity.FATAL,
                    fatal: !0
                }, PlayListError.ManifestLoadTimeout = {
                    type: ErrorTypes.NETWORK_ERROR,
                    details: ErrorDetails.MANIFEST_LOAD_TIMEOUT,
                    code: 30003,
                    message: "manifest {%1} 请求超时",
                    severity: ErrorSeverity.FATAL
                }, PlayListError.LevelFetchError = {
                    type: ErrorTypes.NETWORK_ERROR,
                    details: ErrorDetails.LEVEL_LOAD_ERROR,
                    code: 30004,
                    message: "level {%1} 获取失败",
                    severity: ErrorSeverity.FATAL
                }, PlayListError.LevelParseError = {
                    type: ErrorTypes.NETWORK_ERROR,
                    details: ErrorDetails.LevelParseError,
                    code: 30005,
                    message: "level {%1} 解析失败",
                    severity: ErrorSeverity.FATAL
                }, PlayListError.LevelLoadTimeout = {
                    type: ErrorTypes.NETWORK_ERROR,
                    details: ErrorDetails.LEVEL_LOAD_TIMEOUT,
                    code: 30006,
                    message: "level {%1} 请求超时",
                    severity: ErrorSeverity.FATAL
                }, PlayListError.AudioTrackFetchError = {
                    type: ErrorTypes.NETWORK_ERROR,
                    details: ErrorDetails.AUDIO_TRACK_LOAD_ERROR,
                    code: 30007,
                    message: "audio track {%1} 获取失败",
                    severity: ErrorSeverity.FATAL
                }, PlayListError.AudioTrackParseError = {
                    type: ErrorTypes.NETWORK_ERROR,
                    details: ErrorDetails.AUDIO_TRACK_PARSING_ERROR,
                    code: 30008,
                    message: "audio track {%1} 解析失败",
                    severity: ErrorSeverity.FATAL
                }, PlayListError.AudioTrackLoadTimeout = {
                    type: ErrorTypes.NETWORK_ERROR,
                    details: ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT,
                    code: 30009,
                    message: "audio track {%1} 请求超时",
                    severity: ErrorSeverity.FATAL
                }, PlayListError.LevelNotFound = {
                    type: ErrorTypes.NETWORK_ERROR,
                    details: ErrorDetails.LEVEL_NOT_FOUND,
                    code: 30010,
                    message: "没有key = {%1} ,value= {%2} 的流",
                    severity: ErrorSeverity.RECOVERABLE
                }, PlayListError.StreamCanNotUseForFetchError = {
                    code: 300011,
                    message: "当前流 {%1} 不可用,playlist获取失败",
                    severity: ErrorSeverity.RECOVERABLE
                }, PlayListError.StreamCanNotUseForParseError = {
                    code: 300012,
                    message: "当前流 {%1} 不可用，playlist解析失败",
                    severity: ErrorSeverity.RECOVERABLE
                };
                var SegmentError = function (e) {
                    function t() {
                        return classCallCheck(this, t), possibleConstructorReturn(this, getPrototypeOf(t).apply(this, arguments))
                    }
                    return inherits(t, e), createClass(t, [{
                        key: "bindSegment",
                        value: function (e) {
                            return this.frag = {
                                relurl: e.url,
                                baseurl: e.baseUrl,
                                start: e.start,
                                end: e.end
                            }, this
                        }
                    }]), t
                }(PlayerError);
                SegmentError.AbortForLevelChange = {
                    code: 4e4,
                    message: "分片请求终止,切level",
                    severity: ErrorSeverity.RECOVERABLE
                }, SegmentError.FRAG_LOAD_ERROR = {
                    type: ErrorTypes.NETWORK_ERROR,
                    details: ErrorDetails.FRAG_LOAD_ERROR,
                    code: 41e3,
                    message: "[{%2}]分片 {%1} 获取失败",
                    severity: ErrorSeverity.CRITICAL
                }, SegmentError.Abort = {
                    code: 42e3,
                    message: "分片请求终止",
                    severity: ErrorSeverity.RECOVERABLE
                }, SegmentError.FRAG_LOAD_TIMEOUT = {
                    type: ErrorTypes.NETWORK_ERROR,
                    details: ErrorDetails.FRAG_LOAD_TIMEOUT,
                    code: 43e3,
                    message: "分片 {%1} 请求超时",
                    severity: ErrorSeverity.CRITICAL
                }, SegmentError.FRAG_DECRYPT_ERROR = {
                    type: ErrorTypes.MEDIA_ERROR,
                    details: ErrorDetails.FRAG_DECRYPT_ERROR,
                    code: 44e3,
                    message: "分片 {%1} 解码失败",
                    severity: ErrorSeverity.CRITICAL
                }, SegmentError.FRAG_PARSING_ERROR = {
                    type: ErrorTypes.MEDIA_ERROR,
                    details: ErrorDetails.FRAG_PARSING_ERROR,
                    code: 45e3,
                    message: "分片解析失败:{%1}",
                    severity: ErrorSeverity.CRITICAL
                }, SegmentError.WORKER_PARSING_ERROR = {
                    type: ErrorTypes.MEDIA_ERROR,
                    details: ErrorDetails.WORKER_PARSING_ERROR,
                    code: 46e3,
                    message: "分片解析失败,worker出错:{%1}",
                    severity: ErrorSeverity.CRITICAL
                };
                var BufferError = function (e) {
                    function t() {
                        return classCallCheck(this, t), possibleConstructorReturn(this, getPrototypeOf(t).apply(this, arguments))
                    }
                    return inherits(t, e), t
                }(PlayerError);
                BufferError.BufferAppendError = {
                    type: ErrorTypes.MEDIA_ERROR,
                    details: ErrorDetails.BUFFER_APPEND_ERROR,
                    code: 50001,
                    message: "buffer append 出错:{%1}:{%2}",
                    severity: ErrorSeverity.CRITICAL
                }, BufferError.AddSourceBufferError = {
                    type: ErrorTypes.MEDIA_ERROR,
                    details: ErrorDetails.BUFFER_ADD_CODEC_ERROR,
                    code: 50002,
                    message: "addSourceBuffer 出错:{%1}:{%2}",
                    severity: ErrorSeverity.FATAL
                };
                var DrmError = function (e) {
                    function t() {
                        return classCallCheck(this, t), possibleConstructorReturn(this, getPrototypeOf(t).apply(this, arguments))
                    }
                    return inherits(t, e), t
                }(PlayListError);
                DrmError.LicenseRequestError = {
                    type: ErrorTypes.KEY_SYSTEM_ERROR,
                    details: ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,
                    code: 6e4,
                    message: "[{%1}] 请求证书服务 {%2} 失败,msg:{%3}",
                    severity: ErrorSeverity.FATAL
                }, DrmError.NotSupportDrmError = {
                    type: ErrorTypes.KEY_SYSTEM_ERROR,
                    details: ErrorDetails.KEY_SYSTEM_NO_SUPPORT_DRM,
                    code: 60001,
                    message: "浏览器不支持DRM",
                    severity: ErrorSeverity.FATAL
                }, DrmError.RequestKeySysError = {
                    type: ErrorTypes.KEY_SYSTEM_ERROR,
                    details: ErrorDetails.KEY_SYSTEM_NO_ACCESS,
                    code: 60002,
                    message: "请求访问MediaKeySystem出错: {%1}",
                    severity: ErrorSeverity.FATAL
                }, DrmError.GeneLicenseRequestError = {
                    type: ErrorTypes.KEY_SYSTEM_ERROR,
                    details: ErrorDetails.KEY_SYSTEM_GENE_REQUEST_ERROR,
                    code: 60003,
                    message: "生成证书请求失败:{%1}",
                    severity: ErrorSeverity.FATAL
                }, DrmError.UpdateSessionError = {
                    type: ErrorTypes.KEY_SYSTEM_ERROR,
                    details: ErrorDetails.KEY_SYSTEM_UPDATE_SESSION_ERROR,
                    code: 60004,
                    message: "更新session失败:{%1},{%2}",
                    severity: ErrorSeverity.FATAL
                }, DrmError.setMediaKeyError = {
                    type: ErrorTypes.KEY_SYSTEM_ERROR,
                    details: ErrorDetails.KEY_SYSTEM_SET_MEDIA_KEY_ERROR,
                    code: 60005,
                    message: "setMediaKey出错:{%1}",
                    severity: ErrorSeverity.FATAL
                }, DrmError.YouKuDrmDecodeError = {
                    type: ErrorTypes.KEY_SYSTEM_ERROR,
                    details: ErrorDetails.YOUKU_DRM_DECODE_ERROR,
                    code: 60006,
                    message: "优酷DRM解密失败: drmKey:{%1}",
                    severity: ErrorSeverity.FATAL
                }, DrmError.WaitingForKeyError = {
                    type: ErrorTypes.KEY_SYSTEM_ERROR,
                    details: ErrorDetails.KEY_SYSTEM_WAITING_FOR_KEY_ERROR,
                    code: 60007,
                    message: "没有解密key,播放停止",
                    severity: ErrorSeverity.FATAL
                }, DrmError.FragLoadError = {
                    type: ErrorTypes.KEY_SYSTEM_ERROR,
                    details: ErrorDetails.DRM_FRAG_LOAD_ERROR,
                    code: 60008,
                    message: "drm视频 load error",
                    severity: ErrorSeverity.FATAL
                };
                var DBManageError = function (e) {
                    function t() {
                        return classCallCheck(this, t), possibleConstructorReturn(this, getPrototypeOf(t).apply(this, arguments))
                    }
                    return inherits(t, e), t
                }(PlayerError);
                DBManageError.DBRequestError = {
                    code: 70001,
                    message: "与db {%1} 连接出错",
                    severity: ErrorSeverity.CRITICAL
                }, DBManageError.DBTransactionError = {
                    code: 70002,
                    message: "db {%1} 事务操作失败",
                    severity: ErrorSeverity.CRITICAL
                };
                var MediaElementError = function (e) {
                        function t(e) {
                            classCallCheck(this, t);
                            var n = e.msExtendedCode;
                            return n ? (n < 0 && (n += Math.pow(2, 32)), n = Number(n).toString(16)) : n = e.message, possibleConstructorReturn(this, getPrototypeOf(t).call(this, {
                                type: ErrorTypes.MEDIA_ERROR,
                                details: ErrorDetails.PIPELINE_DECODE_ERROR,
                                code: 8e4 + (+e && e.code || 0),
                                message: "Video解码失败:".concat(n),
                                severity: ErrorSeverity.FATAL
                            }))
                        }
                        return inherits(t, e), t
                    }(PlayerError),
                    _uuid = 0,
                    IPromise = function () {
                        function e(t, n) {
                            var i = this;
                            classCallCheck(this, e), this.id = _uuid++, 1 == arguments.length && ("function" == typeof t ? (n = t, t = null) : t instanceof Promise || (t = Promise.resolve(t))), t ? this._promise = t : (this.deferred = {}, this._promise = new Promise(function (e, t) {
                                i.deferred.resolve = e, i.deferred.reject = t
                            })), this.abortFunction = n
                        }
                        return createClass(e, [{
                            key: "abort",
                            value: function (e) {
                                this.abortFunction && this.abortFunction(), this.reject(e)
                            }
                        }, {
                            key: "catch",
                            value: function (t) {
                                return new e(this._promise.catch(t))
                            }
                        }, {
                            key: "then",
                            value: function (t, n) {
                                return new e(this._promise.then(t, n))
                            }
                        }, {
                            key: "resolve",
                            value: function (e) {
                                this.deferred.resolve && this.deferred.resolve(e)
                            }
                        }, {
                            key: "reject",
                            value: function (e) {
                                this.deferred.reject && this.deferred.reject(e)
                            }
                        }]), e
                    }(),
                    arrayWithHoles = _arrayWithHoles,
                    iterableToArrayLimit = _iterableToArrayLimit,
                    nonIterableRest = _nonIterableRest,
                    slicedToArray = _slicedToArray,
                    TrackType = {
                        AUDIO: 0,
                        VIDEO: 1,
                        SUBTITLE: 2,
                        MIXED: 3
                    },
                    sampleEntryCodesISO = {
                        audio: {
                            a3ds: !0,
                            "ac-3": !0,
                            "ac-4": !0,
                            alac: !0,
                            alaw: !0,
                            dra1: !0,
                            "dts+": !0,
                            "dts-": !0,
                            dtsc: !0,
                            dtse: !0,
                            dtsh: !0,
                            "ec-3": !0,
                            enca: !0,
                            g719: !0,
                            g726: !0,
                            m4ae: !0,
                            mha1: !0,
                            mha2: !0,
                            mhm1: !0,
                            mhm2: !0,
                            mlpa: !0,
                            mp4a: !0,
                            "raw ": !0,
                            Opus: !0,
                            samr: !0,
                            sawb: !0,
                            sawp: !0,
                            sevc: !0,
                            sqcp: !0,
                            ssmv: !0,
                            twos: !0,
                            ulaw: !0
                        },
                        video: {
                            avc1: !0,
                            avc2: !0,
                            avc3: !0,
                            avc4: !0,
                            avcp: !0,
                            drac: !0,
                            dvav: !0,
                            dvhe: !0,
                            encv: !0,
                            hev1: !0,
                            hvc1: !0,
                            mjp2: !0,
                            mp4v: !0,
                            mvc1: !0,
                            mvc2: !0,
                            mvc3: !0,
                            mvc4: !0,
                            resv: !0,
                            rv60: !0,
                            s263: !0,
                            svc1: !0,
                            svc2: !0,
                            "vc-1": !0,
                            vp08: !0,
                            vp09: !0
                        }
                    },
                    KEY_METHOD = {
                        NONE: "NONE",
                        AES128: "AES-128"
                    },
                    URL_DTS_PATTERN = /ats_(\d+)_dts(\d+)\.ts/,
                    parserResolve = {
                        cc: 0,
                        offset: 0,
                        keyMethod: "",
                        resetKeyMethod: function () {
                            parserResolve.keyMethod = ""
                        }, setKeyMethod: function (e) {
                            if (e && e === KEY_METHOD.AES128) return parserResolve.cc += 1, void parserResolve.resetKeyMethod();
                            parserResolve.keyMethod = e
                        }, dispatch: function (e, t, n, i) {
                            var o = e.toUpperCase();
                            return !!this[o] && (this[o](e, t, n, i), !0)
                        }, on: function (e, t) {
                            var n = e.toUpperCase();
                            parserResolve[n] = t
                        }, reset: function () {
                            parserResolve.cc = 0, parserResolve.offset = 0, parserResolve.resetKeyMethod()
                        }
                    };
                parserResolve.on("INF", function (e, t, n) {
                    var i = slicedToArray(t, 2),
                        o = i[0],
                        r = i[1];
                    if (!(o < .1)) {
                        var a = n.segments[n.segments.length - 1],
                            s = a ? a.end : 0,
                            l = n.segments.length,
                            u = {
                                duration: parseFloat(o),
                                id: n.startSN + l,
                                start: s,
                                end: s + parseFloat(o),
                                cc: parserResolve.cc,
                                offset: parserResolve.offset || 0
                            };
                        r && (u.title = r), n.segments.push(u)
                    }
                }), parserResolve.on("XPRIVINF", function (e, t, n, i) {
                    Array.isArray(t) && (t = t.reduce(function (e, t) {
                        return e[t] = 0, e
                    }, {}));
                    var o = "MASTER" === i ? n.levels : n.segments;
                    Object.assign(o[o.length - 1], t)
                }), parserResolve.on("XKEY", function (e, t, n) {
                    parserResolve.setKeyMethod(t.method)
                }), parserResolve.on("XSTREAMINF", function (e, t, n) {
                    t.codecs && setCodecs([].concat((t.codecs || "").split(/[ ,]+/)), t), n.levels.push(t), n.levels = n.levels.sort(function (e, t) {
                        return e.bandwidth > t.bandwidth ? -1 : 1
                    });
                    var i = n.levels.length;
                    n.levels.forEach(function (e, t) {
                        e.levelId = i - t
                    })
                }), parserResolve.on("XMEDIASEQUENCE", function (e, t, n) {
                    n.startSN = t[0]
                }), parserResolve.on("XDISCONTINUITY", function (e, t, n) {
                    parserResolve.cc += 1
                }), parserResolve.on("URL", function (e, t, n, i) {
                    for (var o = t.url || t, r = "MASTER" === i ? n.levels : n.segments, a = 0; a < r.length; a++)
                        if (!r[a].url) {
                            var s = extractAbsoluteDtsFromUrl(o);
                            return s && (r[a].absoluteDts = s.absDts), r[a].url = o, void(parserResolve.keyMethod && parserResolve.keyMethod === KEY_METHOD.NONE && (r[a].drm_notencrypt = 0))
                        }
                }), parserResolve.on("XENDLIST", function (e, t, n) {
                    n.live = !1
                }), parserResolve.on("EXTRAPROPS", function (e, t, n, i) {
                    if ("LEVEL" === i) {
                        var o = n.segments;
                        n.totalDuration = o.map(function (e) {
                            return e.duration
                        }).reduce(function (e, t) {
                            return e += t
                        }, 0), n.totalDuration = +n.totalDuration.toFixed(3), n.endSN = o[o.length - 1].id
                    }
                });
                var EXTRACT_PATTERN = /^#EXT(?:-?)([^:]*):?(.*)$/,
                    DISCONTINUITY_PATTERN = /^#EXT-(X-DISCONTINUITY)$/,
                    SPLIT_ATTR_PATTERN = /([^=]+)((="[^"]+)|(=?[^,]+))/g,
                    ATTR_PATTERN = /^([^=]+)=?(.*)$/,
                    M3U8_PARSE_ERROR = 2,
                    SegmentState = {
                        INIT: 0,
                        LOADING: 1,
                        LOADED: 2,
                        APPENDING: 3,
                        APPENDED: 4
                    },
                    StateName = Object.keys(SegmentState).sort(function (e, t) {
                        return SegmentState[e] - SegmentState[t]
                    }),
                    Segment = function (e) {
                        function t(e) {
                            var n;
                            return classCallCheck(this, t), n = possibleConstructorReturn(this, getPrototypeOf(t).call(this, {
                                cache: !0
                            })), Object.keys(e).forEach(function (t) {
                                n[t] = e[t]
                            }), n.origStart = n.start, n.origEnd = n.end, n.shift = 0, n.origDuration = n.duration, n.reloadCount = 0, n.maxReload = 5, n.data = null, n.promises = null, n._errorCount = 0, n.state = SegmentState.INIT, n.loadTimeoutTimer = null, n.dot = 0, n.prevState = SegmentState.INIT, n
                        }
                        return inherits(t, e), createClass(t, [{
                            key: "_load",
                            value: function (e, t, n, i) {
                                var o = this;
                                if (this.state !== SegmentState.LOADING) {
                                    this.setState(SegmentState.LOADING);
                                    var r = this.url,
                                        a = this.audioUrl;
                                    this.clearTimeout(), i.abrEnable && !n.isCurrentLowestLevel() || (this.loadTimeoutTimer = setTimeout(function () {
                                        o.setState(SegmentState.INIT), o.abort(AbortError.SegmentTimeout, t)
                                    }, n.isLive ? i.liveSegmentLoadTimeout : i.maxSegmentLoadTimeout)), this.promises = [r, a].filter(Boolean).map(function (e) {
                                        return t.requestSegment(e, o)
                                    }), Promise.all(this.promises).then(function (t) {
                                        o.clearTimeout(), o.promises = null, e(t)
                                    }).catch(function (e) {
                                        o.clearTimeout(), o.promises = null;
                                        var t;
                                        t = e.is && e.is(AbortError.Invalid) ? SegmentError.Abort : e.is && e.is(AbortError.SegmentTimeout) ? SegmentError.FRAG_LOAD_TIMEOUT : e.is && e.is(AbortError.ForAbrLevelChange) ? SegmentError.AbortForLevelChange : SegmentError.FRAG_LOAD_ERROR;
                                        var n = new SegmentError(objectSpread({}, t, {
                                            response: e.response
                                        }), r, e.response && e.response.code || 0);
                                        n.bindSegment(o), o.setState(SegmentState.INIT), o.emit("error", n)
                                    })
                                }
                            }
                        }, {
                            key: "clearTimeout",
                            value: function (e) {
                                function t() {
                                    return e.apply(this, arguments)
                                }
                                return t.toString = function () {
                                    return e.toString()
                                }, t
                            }(function () {
                                clearTimeout(this.loadTimeoutTimer)
                            })
                        }, {
                            key: "setState",
                            value: function (e) {
                                this.prevState = this.state, this.state = e, this.dot = Date.now()
                            }
                        }, {
                            key: "load",
                            value: function (e, t, n) {
                                var i = this;
                                this.networkAgent = n.networkAgent, this.ts = Date.now(), this._load(function (e) {
                                    i.setState(SegmentState.LOADED), i.data = e[0], n.bitRate = i.data.byteLength / i.duration, i.audioData = e[1], i.elapsed = Date.now() - i.ts, i.size = i.data.byteLength, i.emit("loaded", i), i.clearError()
                                }, e, t, n)
                            }
                        }, {
                            key: "abort",
                            value: function () {
                                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : AbortError.SegmentTimeout,
                                    t = arguments.length > 1 ? arguments[1] : void 0;
                                this.promises && (this._errorCount++, this.promises.forEach(function (n) {
                                    t.abortSegment(n.abortId, e)
                                }))
                            }
                        }, {
                            key: "loadInitMp4",
                            value: function (e, t, n) {
                                var i = this;
                                this._load(function (e) {
                                    i.setState(SegmentState.LOADED), i.videoData = e[0], i.audioData = e[1], i.emit("loaded", i)
                                }, e, t, n)
                            }
                        }, {
                            key: "adjustTimeline",
                            value: function (e, t) {
                                logger.log("[", this.videoInfo ? this.videoInfo.timeline.start : "N/A", "~", this.videoInfo ? this.videoInfo.timeline.end : "N/A", "]", "[", this.audioInfo ? this.audioInfo.timeline.start : "N/A", "~", this.audioInfo ? this.audioInfo.timeline.end : "N/A", "]");
                                var n = Math.min(this.videoInfo ? this.videoInfo.timeline.start : 1 / 0, this.audioInfo ? this.audioInfo.timeline.start : 1 / 0),
                                    i = Math.min(this.videoInfo ? this.videoInfo.timeline.end : 1 / 0, this.audioInfo ? this.audioInfo.timeline.end : 1 / 0);
                                return this.updateSegBound(n, i, !1, e)
                            }
                        }, {
                            key: "updateSegBound",
                            value: function (e, t, n, i) {
                                var o = e != this.start || t != this.end;
                                if (!n && (Math.abs(this.start - e) >= i.maxShiftTolerance || Math.abs(this.end - t) >= i.maxShiftTolerance) && logger.warn("分片实际插入buffer后时间线偏移过大"), Math.abs(e - t) > .5) return this.start = e, this.end = t, this.duration = t - e, o
                            }
                        }, {
                            key: "brief",
                            value: function () {
                                return "[".concat(fix(this.start), " ~ ").concat(fix(this.end), "] [").concat(this.duration, "|").concat(this.cc, "] ")
                            }
                        }, {
                            key: "clearError",
                            value: function () {
                                this._errorCount = 0, delete this._lastError
                            }
                        }, {
                            key: "serialize",
                            value: function () {
                                var e = {
                                    origStart: Math.abs(formatNum(this.origStart, 6)),
                                    origEnd: formatNum(this.origEnd, 6),
                                    start: Math.abs(formatNum(this.start, 6)),
                                    end: formatNum(this.end, 6),
                                    error: ""
                                };
                                return this._lastError && (e.error = this._lastError.code + (this._lastError.response && this._lastError.response.code || 0)), this.elapsed || (this.elapsed = Date.now() - this.ts), "".concat(e.origStart, "~").concat(e.origEnd, "!").concat(e.start, "~").concat(e.end, "!").concat(this.elapsed || 0, "!").concat(this._errorCount, "!").concat(StateName[this.state], "!").concat(e.error, "!").concat(StateName[this.prevState], "!").concat(Number(this.dot).toString(36), "!").concat(this.networkAgent)
                            }
                        }, {
                            key: "errorCount",
                            get: function () {
                                return this._errorCount
                            }
                        }]), t
                    }(EventBus),
                    AudioTrack = function () {
                        function e(t, n) {
                            classCallCheck(this, e), this.playList = t, this.levelsInfo = n, this.currentAudioTrack = null
                        }
                        return createClass(e, [{
                            key: "selectAudioTrack",
                            value: function (e, t) {
                                var n = this,
                                    i = this.levelsInfo.xMedia;
                                return i && i.length && (this.currentAudioTrack = {
                                    error: 1
                                }, i.forEach(function (i) {
                                    i.type == e && i.groupId == t && "YES" === i.default && (n.currentAudioTrack = i)
                                }), this.currentAudioTrack.details || i.length && (this.currentAudioTrack = i.filter(function (n) {
                                    return n.type == e && n.groupId == t
                                })[0])), this.currentAudioTrack
                            }
                        }]), e
                    }(),
                    ABR_INIT_BANDWIDTH_FACTOR = .45,
                    Level = function () {
                        function e(t, n) {
                            classCallCheck(this, e), this.playList = t, this.manualLevelId = 0, this.levelsInfo = n, this._lastLiveFlushHaveNoNews = !1
                        }
                        return createClass(e, [{
                            key: "selectLevel",
                            value: function (e) {
                                var t = e.key,
                                    n = e.value,
                                    i = e.type;
                                if (this.levelsInfo) {
                                    var o = this.levelsInfo.levels,
                                        r = null,
                                        a = o[o.length - 1];
                                    if ("bandwidth" === t) {
                                        for (var s = 0; s < o.length; s++)
                                            if (!(o[s].bandwidth >= n * ABR_INIT_BANDWIDTH_FACTOR)) {
                                                r = o[s];
                                                break
                                            }
                                    } else if (t) {
                                        var l = o.filter(function (e) {
                                            return e[t] == n
                                        });
                                        l.length ? r = l[0] : logger.warn("不存在 key,value 对," [n])
                                    }
                                    return r || (r = a), this.manualLevelId = "MANUAL" === i ? r.levelId : 0, r
                                }
                            }
                        }, {
                            key: "selectLevelById",
                            value: function (e) {
                                return this._getLevelById(e)
                            }
                        }, {
                            key: "getLoadLevelUrl",
                            value: function (e) {
                                var t = this._getLevelById(e);
                                return t && t.url
                            }
                        }, {
                            key: "getStreamTypeByLevelId",
                            value: function (e) {
                                var t = this._getLevelById(e);
                                if (t) return t.streamtype
                            }
                        }, {
                            key: "getLevelIdByStreamType",
                            value: function (e) {
                                if (!this.levelsInfo) return 0;
                                var t = this.levelsInfo.levels,
                                    n = t.filter(function (t) {
                                        return -1 !== e.indexOf(t.streamtype)
                                    }).map(function (e) {
                                        return e.levelId
                                    });
                                return n.length ? n[0] : 0
                            }
                        }, {
                            key: "_getLevelById",
                            value: function (e) {
                                return this._getLevelByKeyword("levelId", e)
                            }
                        }, {
                            key: "_getLevelByKeyword",
                            value: function (e, t) {
                                if (this.levelsInfo) {
                                    var n = this.levelsInfo.levels,
                                        i = n.filter(function (n) {
                                            return n[e] === t
                                        });
                                    return i.length ? i[0] : void 0
                                }
                            }
                        }, {
                            key: "_traverseLevelsFindSNMatched",
                            value: function (e) {
                                var t = !0,
                                    n = !1,
                                    i = void 0;
                                try {
                                    for (var o, r = this.playList.levelsInfo.levels[Symbol.iterator](); !(t = (o = r.next()).done); t = !0) {
                                        var a = o.value,
                                            s = a.details && a.details.segments.find(function (t) {
                                                return t.id === e
                                            });
                                        if (s) return s
                                    }
                                } catch (e) {
                                    n = !0, i = e
                                } finally {
                                    try {
                                        t || null == r.return || r.return()
                                    } finally {
                                        if (n) throw i
                                    }
                                }
                            }
                        }, {
                            key: "_convertCC",
                            value: function (e) {
                                if (!e.length) return e;
                                for (var t = e[0].cc, n = 1; n < e.length; n++) e[n].cc !== t ? t = e[n].cc : e[n].cc = 0;
                                return e
                            }
                        }, {
                            key: "mergeDetails",
                            value: function (e, t, n) {
                                var i = e.levelIns._getLevelById(n);
                                if (t.currentLevel && !t.currentLevel.error && i.details) {
                                    var o, r = t.currentLevel.details,
                                        a = i.details,
                                        s = r.startSN,
                                        l = r.endSN,
                                        u = a.startSN,
                                        c = a.endSN,
                                        d = s - a.startSN,
                                        h = a.segments.slice(),
                                        p = r.segments,
                                        f = 0;
                                    logger.log("update level details with levelId ".concat(n, " : old details sn[").concat(a.startSN, ",").concat(a.endSN, "],new details sn[").concat(r.startSN, ",").concat(r.endSN, "],cc: [").concat(r.segments.map(function (e) {
                                        return e.cc
                                    }), "]")), this._convertCC(p), this._lastLiveFlushHaveNoNews = s === u && l === c;
                                    for (var g = !1, m = 0; m <= l - s; m++)
                                        if (a.segments[m + d]) g = !0, o = a.segments[m + d];
                                        else if (o) {
                                        var y = p[m];
                                        y.start = y.origStart = o.end, f || (f = o.cc), y.cc && f++, y.end = y.origEnd = y.start + y.duration, y.cc = f, y.levelId = n, y.lowestLevel = 1 === n, h.push(y), o = y
                                    }
                                    if (!g) {
                                        var v = this.playList.lastLevel ? this.playList.lastLevel.details.segments : a.segments;
                                        v.length && (f = v[v.length - 1].cc, logger.log("no overlap,use lastLevel id=".concat(v[0].levelId, " startSN=").concat(v[0].id)));
                                        var _ = this._positionSegmentByAbsolutePtsOrSameId(v, p);
                                        logger.warn("new levels index=".concat(_.newIndex, " match old levels index=").concat(_.oldIndex));
                                        for (var b = 0; b < p.length; b++) {
                                            var E = p[b];
                                            E.cc && f++, E.cc = f, E.levelId = n, E.lowestLevel = 1 === n, b > _.newIndex && (E.start = E.origStart = p[b - 1].end, E.end = E.origEnd = E.start + E.duration), h.push(E)
                                        }
                                    }
                                    a.segments = h.filter(function (e) {
                                        return e.id >= s
                                    });
                                    var k = a.segments.find(function (e) {
                                        return e.id === l
                                    });
                                    k && (a.totalDuration = k.end), a.xTargetduration = r.xTargetduration, a.startSN = s, a.endSN = l, a.live = r.live, e.config.maxBufferLength = r.totalDuration, e.config.maxFlyBufferLength = r.totalDuration, logger.log("slide position:".concat(e.slidePosition), "segments rangs: [".concat(a.segments[0].start, ",").concat(a.totalDuration, "]"))
                                }
                            }
                        }, {
                            key: "_positionSegmentByAbsolutePtsOrSameId",
                            value: function (e, t) {
                                var n, i, o = t.length,
                                    r = o && t[0].absoluteDts;
                                if (r) {
                                    var a = t[0],
                                        s = e.map(function (e) {
                                            return e.absoluteDts
                                        }),
                                        l = t.map(function (e) {
                                            return e.absoluteDts
                                        });
                                    logger.log(s, l);
                                    var u = l.map(function (e, t) {
                                        return s.map(function (n, i) {
                                            return {
                                                newIndex: t,
                                                oldIndex: i,
                                                delta: (e - n) / 1e3
                                            }
                                        }).filter(function (e) {
                                            return Math.abs(e.delta) < a.duration
                                        })
                                    }).filter(function (e) {
                                        return e.length
                                    });
                                    if (u.length && u[0].length) return n = u[0][0], logger.log("there has absolute dts info,and the two levels exist segment.absoluteDts close,[newIndex= ".concat(n.newIndex, ",oldIndex=").concat(n.oldIndex, "],delta = ").concat(n.delta, " s")), i = t[n.newIndex], i.start = e[n.oldIndex].start + (n.delta > 0 ? n.delta - 0 : n.delta < 0 ? n.delta + 0 : 0), i.end = i.start + i.duration, n
                                }
                                var c = !1,
                                    d = e.map(function (e) {
                                        return e.id
                                    }),
                                    h = t.map(function (e) {
                                        return e.id
                                    }),
                                    p = h.map(function (e, t) {
                                        return d.map(function (n, i) {
                                            return {
                                                newIndex: t,
                                                oldIndex: i,
                                                delta: e - n
                                            }
                                        }).filter(function (e) {
                                            return 0 === e.delta
                                        })
                                    }).filter(function (e) {
                                        return e.length
                                    });
                                if (p.length && p[0].length) return c = !0, n = p[0][0], i = t[n.newIndex], i.start = e[n.oldIndex].start, i.end = i.start + i.duration, logger.log("lastLevelId =  ".concat(e[0].levelId, ", level overlap with lastLevel,[newIndex= ").concat(n.newIndex, ",oldIndex=").concat(n.oldIndex, "]")), n;
                                if (!c) {
                                    var f = e.length - 1;
                                    return i = t[0], i.start = e[f].end, i.end = i.start + i.duration, logger.warn("no overlap between the two levels, use current total duration as  segment.id = ".concat(i.id, " start")), {
                                        newIndex: 0,
                                        oldIndex: -1
                                    }
                                }
                            }
                        }, {
                            key: "syncTwoLevelDetails",
                            value: function (e, t) {
                                try {
                                    logger.log("sync two level details,currentLevel ".concat(e.levelId, ":[").concat(e.details.startSN, ",").concat(e.details.endSN, "] , newLevel ").concat(t.levelId, ":[").concat(t.details.startSN, ",").concat(t.details.endSN, "]"));
                                    var n = t.details.segments,
                                        i = e.details.segments;
                                    if (!i.length) return;
                                    for (var o = this._positionSegmentByAbsolutePtsOrSameId(i, n), r = 0; r < n.length; r++)
                                        if (r > o.newIndex) {
                                            var a = n[r];
                                            a.start = a.origStart = n[r - 1].end, a.end = a.origEnd = a.start + a.duration
                                        }
                                    t.details.totalDuration = n[n.length - 1].end, logger.log("slide position:".concat(n[0].start, " segments ranges:[").concat(n[0].start, " , ").concat(n[n.length - 1].end, "]"))
                                } catch (e) {
                                    console.log(e)
                                }
                            }
                        }, {
                            key: "lastLiveFlushHaveNoNews",
                            get: function () {
                                return this._lastLiveFlushHaveNoNews
                            }
                        }, {
                            key: "currentLevel",
                            get: function () {
                                return this.playList.currentLevel
                            }
                        }]), e
                    }(),
                    TRACK_FETCH_ERROR = 1,
                    M3U8_PARSE_ERROR$1 = 2,
                    PLAYLIST_TYPE = {
                        MANIFEST: "manifest",
                        LEVEL: "level"
                    },
                    PlayList = function (e) {
                        function t(e, n, i) {
                            var o, r = e.url,
                                a = e.source;
                            return classCallCheck(this, t), o = possibleConstructorReturn(this, getPrototypeOf(t).call(this)), o.url = "", o.dataService = n, o.config = i, o.playListType = "MASTER", o.levelsInfo = null, o.levelIns = null, o.audioTrackIns = null, o.currentAudioTrack = null, o.currentLevel = null, o.lastLevel = null, o.lastAudioTrack = null, o.waitAudioVideoLoaded = [], o._initPlayAutoLevelStream = null, o._minAutoLevelId = -1, o._maxAutoLevelId = -1, o.initLoad(r, a), o
                        }
                        return inherits(t, e), createClass(t, [{
                            key: "_getAutoLevel",
                            value: function (e) {
                                return Math.min(Math.max(e, this._minAutoLevelId), this._maxAutoLevelId)
                            }
                        }, {
                            key: "_setAutoLevelIdBound",
                            value: function (e) {
                                var t = e.levels;
                                if (t.length) {
                                    var n = t[t.length - 1],
                                        i = t[0];
                                    this._minAutoLevelId = -1 === this._minAutoLevelId ? n.levelId : this._minAutoLevelId, this._maxAutoLevelId = -1 === this._maxAutoLevelId ? i.levelId : this._maxAutoLevelId
                                }
                            }
                        }, {
                            key: "isCurrentLowestLevel",
                            value: function (e) {
                                return (e = e || this.currentLevel.levelId) === this._minAutoLevelId
                            }
                        }, {
                            key: "getStreamTypeByLevelId",
                            value: function (e) {
                                return this.levelIns && this.levelIns.getStreamTypeByLevelId(e)
                            }
                        }, {
                            key: "getLevelIdByStreamType",
                            value: function (e) {
                                return this.levelIns && this.levelIns.getLevelIdByStreamType(e)
                            }
                        }, {
                            key: "liveFlushInterval",
                            value: function (e) {
                                var t = this.segmentDuration;
                                return this.levelIns && this.levelIns.lastLiveFlushHaveNoNews ? t / 2 : e ? Math.max(t / 2, t - e) * this.config.liveFlushIntervalFactor : t * this.config.liveFlushIntervalFactor
                            }
                        }, {
                            key: "syncTwoLevelDetails",
                            value: function (e, t) {
                                this.levelIns && this.levelIns.syncTwoLevelDetails(e, t)
                            }
                        }, {
                            key: "setLevelNotUsableForExpired",
                            value: function () {
                                this.currentLevel.error = 2
                            }
                        }, {
                            key: "isFmp4",
                            value: function () {
                                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "currentLevel";
                                return !(!this[e] || !this[e].details) && (this[e].details.xMap && this[e].details.xMap.url)
                            }
                        }, {
                            key: "defaultLevelsInfo",
                            value: function (e, t) {
                                return {
                                    error: 0,
                                    levels: [{
                                        error: 0,
                                        levelId: 1,
                                        url: e,
                                        details: t
                                    }]
                                }
                            }
                        }, {
                            key: "emitError",
                            value: function (e) {
                                this.emit("error", e)
                            }
                        }, {
                            key: "addErrorAndEmit",
                            value: function (e, t, n, i) {
                                logger.error(n);
                                var o, r = n && 20003 === n.code;
                                "MASTER" === e || this.levels && 1 === this.levels.length ? o = r ? PlayListError.ManifestLoadTimeout : "FETCH" === t ? PlayListError.ManifestFetchError : PlayListError.ManifestParseError : "LEVEL" === e && (o = r ? PlayListError.ManifestLoadTimeout : "FETCH" === t ? PlayListError.ManifestFetchError : PlayListError.ManifestParseError), "AUDIOTRACK" === e && (o = r ? PlayListError.AudioTrackLoadTimeout : "FETCH" === t ? PlayListError.AudioTrackFetchError : PlayListError.AudioTrackParseError);
                                var a = new PlayListError(objectSpread({}, o, {
                                    response: n.response,
                                    context: {
                                        url: i
                                    }
                                }), i);
                                return this.emitError(a), a
                            }
                        }, {
                            key: "checkIsMasterPlayList",
                            value: function (e) {
                                return !(e.indexOf("#EXTINF") > 0 || e.indexOf("#EXT-X-TARGETDURATION:") > 0)
                            }
                        }, {
                            key: "appendPlayList",
                            value: function (e) {
                                var n = this,
                                    i = e.url,
                                    o = e.source,
                                    r = new t({
                                        url: i,
                                        source: o
                                    }, this.dataService, this.config);
                                r.on("error", function () {
                                    n.emit("nextPlaylistLoaded"), r = null
                                }), r.on("loaded", function (e) {
                                    if (r.currentLevel && 0 === r.currentLevel.details.error) {
                                        var t = n.currentLevel.details.segments,
                                            i = r.currentLevel.details.segments,
                                            o = n.getTotalDuration(),
                                            a = t[t.length - 1].id,
                                            s = t[a].cc;
                                        t[a].isLast = !1, i[0].discontinuity = !0, i.forEach(function (e, t) {
                                            e.cc = s + 1 + (e.cc || 0), e.start = e.origStart = o + e.start, e.end = e.origEnd = o + e.end, e.id += a + 1
                                        }), n.currentLevel.details.segments = t.concat(i), n.currentLevel.details.totalDuration += r.currentLevel.details.totalDuration, r = null, n.emit("nextPlaylistLoaded")
                                    }
                                })
                            }
                        }, {
                            key: "initLoad",
                            value: function (e, t) {
                                var n = this;
                                this.url = e;
                                var i;
                                e && (i = this.dataService.requestPlayList(e, "MANIFEST", function (e) {
                                    n.url = e
                                })), t && (i = Promise.resolve(t)), i.then(function (e) {
                                    var t = n.checkIsMasterPlayList(e) ? "MASTER" : "LEVEL";
                                    n.playListType = t;
                                    var i = m3u8Parser(e, t, n.url, n.config.resolutionToFilter);
                                    if (i.error) return void n.addErrorAndEmit(t, "PARSE", i.error, n.url);
                                    "MASTER" === t ? (n.levelsInfo = i, n._setAutoLevelIdBound(n.levelsInfo)) : (n.levelsInfo = n.defaultLevelsInfo(n.url, i), n.convertSegmentsToCls(i, 1, n.url)), n.initLoaded(t)
                                }).catch(function (e) {
                                    n.addErrorAndEmit(n.playListType, "FETCH", e, n.url)
                                })
                            }
                        }, {
                            key: "flushM3u8",
                            value: function (e) {
                                var n = this,
                                    i = this.levelIns.getLoadLevelUrl(e);
                                if (i) {
                                    var o = new t({
                                        url: i
                                    }, this.dataService, this.config);
                                    o.once("loaded", function () {
                                        n.levelIns.mergeDetails(n, o, e), o = null, n.emit("m3u8Flushed", !0)
                                    }), o.once("error", function (e) {
                                        e.severity = ErrorSeverity.CRITICAL, n.emit("error", e)
                                    })
                                } else this.emitError(new PlayListError(PlayListError.LevelNotFound, "levelId", e))
                            }
                        }, {
                            key: "checkLiveCanplay",
                            value: function (e, t) {
                                var n = this,
                                    i = this.getSegments().length;
                                i >= this.config.liveCanPlayMinSegmentsCount ? (e === PLAYLIST_TYPE.MANIFEST && this.emit("loaded", t), e === PLAYLIST_TYPE.LEVEL && this.emit("levelLoaded", t)) : (logger.log("live playlist,segments count = ".concat(i, " < ").concat(this.config.liveCanPlayMinSegmentsCount, ",continue wait to flush playlist")), setTimeout(function () {
                                    n.flushM3u8(n.currentLevel.levelId), n.once("m3u8Flushed", function () {
                                        n.checkLiveCanplay(e, t)
                                    })
                                }, 500))
                            }
                        }, {
                            key: "initLoaded",
                            value: function (e) {
                                var t = this;
                                if (this.levelIns = new Level(this, this.levelsInfo), this.audioTrackIns = new AudioTrack(this, this.levelsInfo), "LEVEL" === e) return this.currentLevel = this.levelsInfo.levels[0], void this.emit("loaded", this);
                                var n;
                                if (this.config.abrEnable) n = this.selectStream("bandwidth", this.config.abrEwmaDefaultEstimate), logger.warn("智能档 初始level: ".concat(this.currentLevel.levelId, ", 评估带宽:").concat(this.config.abrEwmaDefaultEstimate, " bps"));
                                else if (this.initPlayAutoLevelStream) {
                                    var i = this.getLevelIdByStreamType(this.initPlayAutoLevelStream) || 1;
                                    logger.warn("存在起播档位设置, ", i), n = this.selectStream("levelId", i)
                                } else n = this.selectStream(!1, !1);
                                n.then(function () {
                                    t.isLive && "MASTER" === t.playListType && (t.config.abrEnable = !0), t.emit("loaded", t)
                                }).catch(function (e) {
                                    t.emitError(e)
                                })
                            }
                        }, {
                            key: "preloadLevel",
                            value: function () {
                                var e = this,
                                    t = this.levels,
                                    n = t.filter(function (e) {
                                        return !e.details
                                    });
                                if (n.length) {
                                    var i = n[0];
                                    logger.log("preload level", i.levelId);
                                    var o = this.levelIns.selectLevel({
                                            key: "levelId",
                                            value: i.levelId,
                                            type: "AUTO"
                                        }),
                                        r = this.audioTrackIns.selectAudioTrack("AUDIO", o.audio);
                                    this.loadLevelDetail(o), this.loadAudioTrackDetail(r), this.once("levelLoaded", function () {
                                        logger.log("preload complete"), e.isLive && e.syncTwoLevelDetails(e.currentLevel, o)
                                    })
                                }
                            }
                        }, {
                            key: "loadNextLevelStream",
                            value: function (e) {
                                var t = this._getAutoLevel(e),
                                    n = this.levelIns.selectLevelById(t);
                                return !n || n.error && 0 !== n.error ? (this.lastLevel && (this.currentLevel = this.lastLevel), Promise.resolve()) : n.details && 0 === n.details.error ? (this.lastLevel = this.currentLevel, this.lastAudioTrack = this.currentAudioTrack, this.currentLevel = n, this.currentAudioTrack = this.audioTrackIns.selectAudioTrack("AUDIO", this.currentLevel.audio), this.isLive && this.lastLevel.levelId !== this.currentLevel.levelId && this.flushM3u8(this.currentLevel.levelId, !0), logger.warn("".concat(this.lastLevel && this.lastLevel.levelId, " , switch to level: ").concat(this.currentLevel.levelId, " , [").concat(this.currentLevel.details.startSN, " , ").concat(this.currentLevel.details.endSN, " ]")), Promise.resolve()) : this.selectStream("levelId", t)
                            }
                        }, {
                            key: "selectStream",
                            value: function (e, t, n) {
                                var i = this;
                                this.lastLevel = this.currentLevel, this.lastAudioTrack = this.currentAudioTrack, this.currentLevel = this.levelIns.selectLevel({
                                    key: e,
                                    value: t,
                                    type: n
                                }), this.currentAudioTrack = this.audioTrackIns.selectAudioTrack("AUDIO", this.currentLevel.audio);
                                var o = new IPromise,
                                    r = this.loadLevelDetail(this.currentLevel);
                                r && (this.currentLevel = this.lastLevel, o.reject(r));
                                var a = this.loadAudioTrackDetail(this.currentAudioTrack);
                                return a && (this.currentAudioTrack = this.lastAudioTrack, o.reject(a)), this.once("levelLoaded", function (e) {
                                    0 === e.error ? (i.isLive && i.lastLevel && i.currentLevel.levelId !== i.lastLevel.levelId && i.syncTwoLevelDetails(i.lastLevel, i.currentLevel), logger.warn("the first time load the level , ".concat(i.lastLevel && i.lastLevel.levelId, " switch to level: ").concat(i.currentLevel.levelId, ", [").concat(e.startSN, " , ").concat(e.endSN, " ]")), o.resolve(i)) : (i.currentLevel = i.lastLevel, i.currentAudioTrack = i.lastAudioTrack, o.reject(e.errIns))
                                }), o
                            }
                        }, {
                            key: "loadLevelDetail",
                            value: function (e) {
                                var t;
                                if (1 === e.error) return t = new PlayListError(PlayListError.LevelNotFound, e.key, e.value), this.emitError(t), t;
                                if (e.details && 0 !== e.details.error) {
                                    var n = e.details.error === TRACK_FETCH_ERROR ? PlayListError.StreamCanNotUseForFetchError : PlayListError.StreamCanNotUseForParseError;
                                    return t = new PlayListError(n, e.url), this.emitError(t), t
                                }
                                this.waitAudioVideoLoaded.push({
                                    type: "LEVEL",
                                    state: !1
                                }), this.loadTrackOrLevelPlayList("LEVEL", e)
                            }
                        }, {
                            key: "loadAudioTrackDetail",
                            value: function (e) {
                                var t;
                                if (e) {
                                    if (1 === e.error) return t = new PlayListError(PlayListError.AudioTrackFetchError), this.emitError(t), t;
                                    this.waitAudioVideoLoaded.push({
                                        type: "AUDIOTRACK",
                                        state: !1
                                    }), this.loadTrackOrLevelPlayList("AUDIOTRACK", e)
                                }
                            }
                        }, {
                            key: "loadTrackOrLevelPlayList",
                            value: function (e, t) {
                                var n = this,
                                    i = t.url,
                                    o = t.details,
                                    r = t.levelId;
                                if (o) return this.waitAudioVideoLoaded.forEach(function (t) {
                                    t.type === e && (t.state = !0)
                                }), void setTimeout(function () {
                                    n.levelLoaded(e, t)
                                });
                                this.dataService.requestPlayList(i, "LEVEL", function (e) {
                                    t.url = e
                                }).then(function (i) {
                                    var a = m3u8Parser(i, "LEVEL", t.url);
                                    0 === a.error ? (o = a, n.convertSegmentsToCls(o, r, t.url)) : (o = {
                                        error: M3U8_PARSE_ERROR$1
                                    }, o.errIns = n.addErrorAndEmit(e, "PARSE", null, t.url))
                                }).catch(function (i) {
                                    o = {
                                        error: TRACK_FETCH_ERROR
                                    }, o.errIns = n.addErrorAndEmit(e, "FETCH", i, t.url)
                                }).then(function () {
                                    t.details = o, n.waitAudioVideoLoaded.forEach(function (t) {
                                        t.type === e && (t.state = !0)
                                    }), n.levelLoaded(e, t)
                                })
                            }
                        }, {
                            key: "levelLoaded",
                            value: function (e, t) {
                                var n = t.details;
                                this.waitAudioVideoLoaded.every(function (e) {
                                    return e.state
                                }) && (this.waitAudioVideoLoaded = [], this.emit("levelLoaded", n))
                            }
                        }, {
                            key: "convertSegmentsToCls",
                            value: function (e, t, n) {
                                var i = this.isCurrentLowestLevel(t),
                                    o = e.segments.map(function (e) {
                                        e.id;
                                        return new Segment(objectSpread({}, e, {
                                            levelId: t,
                                            baseUrl: n,
                                            lowestLevel: i
                                        }))
                                    });
                                e.segments = o, e.live || (o[o.length - 1].isLast = !0)
                            }
                        }, {
                            key: "getTracks",
                            value: function () {
                                var e = [],
                                    t = this.currentLevel || {},
                                    n = t.videoCodec,
                                    i = t.audioCodec;
                                return this.currentAudioTrack ? (e.push({
                                    type: TrackType.VIDEO,
                                    codec: n
                                }), e.push({
                                    type: TrackType.AUDIO,
                                    codec: i
                                })) : e.push({
                                    type: TrackType.MIXED,
                                    audioCodec: i,
                                    videoCodec: n
                                }), e
                            }
                        }, {
                            key: "updateTotalDuration",
                            value: function () {
                                if (this.currentLevel.details) {
                                    var e = this.currentLevel.details.segments;
                                    this.currentLevel.details.totalDuration = e[e.length - 1].end
                                }
                            }
                        }, {
                            key: "getTotalDuration",
                            value: function () {
                                if (this.currentLevel) {
                                    if (!this.currentLevel.details) return this.lastLevel && 0 == this.lastLevel.details.error ? this.lastLevel.details.totalDuration : 0;
                                    if (0 === this.currentLevel.details.error) return this.currentLevel.details.totalDuration
                                }
                                return 0
                            }
                        }, {
                            key: "getInitSegment",
                            value: function () {
                                return new Segment({
                                    url: this.videoInitUrl,
                                    audioUrl: this.audioInitUrl
                                })
                            }
                        }, {
                            key: "getSegments",
                            value: function () {
                                return this.currentLevel && this.currentLevel.details && this.currentLevel.details.segments || []
                            }
                        }, {
                            key: "updateRestSegmentsOffset",
                            value: function (e) {
                                updateRestSegmentsOffset(e, this.levels, this.isLive)
                            }
                        }, {
                            key: "locateSegment",
                            value: function (e) {
                                return locateSegment(e, this.currentLevel)
                            }
                        }, {
                            key: "getSegmentById",
                            value: function (e) {
                                return getSegmentById(e, this.currentLevel, this.currentAudioTrack)
                            }
                        }, {
                            key: "resetSegmentsByRange",
                            value: function (e, t) {
                                resetSegmentsByRange(e, t, this.currentLevel)
                            }
                        }, {
                            key: "clearSegmentsStatus",
                            value: function () {
                                clearSegmentsStatus(this.currentLevel)
                            }
                        }, {
                            key: "getLevelIdOfUsedSegment",
                            value: function (e) {
                                return getLevelIdOfUsedSegment(e, this.getSegments(), this.levelsInfo)
                            }
                        }, {
                            key: "getSegment",
                            value: function (e, t, n) {
                                return getSegment(e, t, n, this.currentLevel, this.currentAudioTrack, this.isLive)
                            }
                        }, {
                            key: "maxAutoLevel",
                            get: function () {
                                return this._maxAutoLevelId
                            }, set: function (e) {
                                this._maxAutoLevelId = e
                            }
                        }, {
                            key: "minAutoLevel",
                            get: function () {
                                return this._minAutoLevelId
                            }, set: function (e) {
                                this._minAutoLevelId = e
                            }
                        }, {
                            key: "initPlayAutoLevelStream",
                            get: function () {
                                return this._initPlayAutoLevelStream
                            }, set: function (e) {
                                this._initPlayAutoLevelStream = e
                            }
                        }, {
                            key: "isLive",
                            get: function () {
                                return this.currentLevel && this.currentLevel.details ? this.currentLevel.details.live : this.lastLevel && this.lastLevel.details ? this.lastLevel.details.live : void 0
                            }
                        }, {
                            key: "slidePosition",
                            get: function () {
                                var e = this.getSegments();
                                if (e.length) return e[0].start
                            }
                        }, {
                            key: "liveSyncPostion",
                            get: function () {
                                var e = this.getSegments().map(function (e) {
                                    return e.duration
                                }).reduce(function (e, t) {
                                    return e += t
                                }, 0);
                                return this.getTotalDuration() - e * this.config.liveMaxLatencyFactor
                            }
                        }, {
                            key: "levels",
                            get: function () {
                                return this.levelsInfo ? this.levelsInfo.levels : null
                            }
                        }, {
                            key: "isMultiTrack",
                            get: function () {
                                return this.currentLevel && this.currentAudioTrack
                            }
                        }, {
                            key: "videoInitUrl",
                            get: function () {
                                return this.isFmp4()
                            }
                        }, {
                            key: "audioInitUrl",
                            get: function () {
                                return this.isFmp4("currentAudioTrack")
                            }
                        }, {
                            key: "plType",
                            get: function () {
                                return this.playListType
                            }
                        }, {
                            key: "currentLevelId",
                            get: function () {
                                return this.currentLevel && this.currentLevel.levelId || 1
                            }
                        }, {
                            key: "segmentDuration",
                            get: function () {
                                return this.currentLevel && this.currentLevel.details ? this.currentLevel.details.xTargetduration : 10
                            }
                        }]), t
                    }(EventBus),
                    START = 0,
                    END = 1;
                TimeRanges.prototype.dump = function (e) {
                    for (var t = [], n = 0; n < this.length; n++) t.push("".concat(this.start(n), "~").concat(this.end(n)));
                    if (e) return t.join(" , ");
                    logger.log(t.join(" , "))
                };
                var BufferInfo = function () {
                    function e(t) {
                        classCallCheck(this, e), this.ranges = _structuredBuffer(t)
                    }
                    return createClass(e, [{
                        key: "setRanges",
                        value: function (e) {
                            return this.ranges = e, this
                        }
                    }, {
                        key: "isVerySmallGap",
                        value: function (e) {
                            if (!this.ranges.length) return !1;
                            var t = !0,
                                n = !1,
                                i = void 0;
                            try {
                                for (var o, r = this.ranges[Symbol.iterator](); !(t = (o = r.next()).done); t = !0) {
                                    var a = o.value;
                                    if (a[0] >= e) return a[1] - a[0] <= .005
                                }
                            } catch (e) {
                                n = !0, i = e
                            } finally {
                                try {
                                    t || null == r.return || r.return()
                                } finally {
                                    if (n) throw i
                                }
                            }
                            return !1
                        }
                    }, {
                        key: "toGap",
                        value: function () {
                            var e = [];
                            if (this.ranges.length > 0 && this.ranges[0][0] > 0 && e.push([0, this.ranges[0][0]]), this.ranges.length > 1)
                                for (var t = 1; t < this.ranges.length; t++) e.push([this.ranges[t - 1][END], this.ranges[t][START]]);
                            return this.setRanges(e)
                        }
                    }, {
                        key: "isOverlap",
                        value: function (e, t) {
                            var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                                i = 0;
                            if (0 == this.ranges.length) return !1;
                            for (; i < this.ranges.length; i++) {
                                if (0 == i && e <= this.ranges[i][START] + n && t <= this.ranges[i][START] + n) return !1;
                                if (i > 0 && e >= this.ranges[i - 1][END] - n && t <= this.ranges[i][START] + n) return !1
                            }
                            return e < this.ranges[i - 1][END] - n
                        }
                    }, {
                        key: "fillGap",
                        value: function (e) {
                            if (this.ranges.length > 1) {
                                for (var t = [
                                    [this.ranges[0][START], this.ranges[0][END]]
                                ], n = 1; n < this.ranges.length; n++) this.ranges[n][START] <= t[t.length - 1][END] + e ? t[t.length - 1][END] = this.ranges[n][END] : t.push([this.ranges[n][START], this.ranges[n][END]]);
                                this.ranges = t.filter(function (e) {
                                    return e[0] !== e[1]
                                })
                            }
                            return this
                        }
                    }, {
                        key: "getUsedRange",
                        value: function (e) {
                            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 10,
                                n = this.indexOf(e);
                            if (0 != n) {
                                if (n > 0) {
                                    var i = [
                                        [this.ranges[0][START], this.ranges[n - 1][END]]
                                    ];
                                    return i.push([this.ranges[n][START], e - this.ranges[n][START] >= t ? e - t : this.ranges[n][START]]), i
                                }
                                return null
                            }
                            return e - this.ranges[n][START] > t ? [
                                [this.ranges[n][START], e - t]
                            ] : this.ranges.length > n + 2 && this.Last[START] - this.ranges[n][END] > Math.max(300, t) ? [
                                [this.Last[START], this.Last[END]],
                                [0, 0]
                            ] : void 0
                        }
                    }, {
                        key: "getIndicator",
                        value: function (e, t) {
                            for (var n = 0; n < this.ranges.length; n++) {
                                if (e < this.ranges[n][START] - t) return {
                                    bufferLength: 0,
                                    bufferEnd: e
                                };
                                if (e >= this.ranges[n][START] - t && e <= this.ranges[n][END]) return {
                                    bufferLength: this.ranges[n][END] - e,
                                    bufferEnd: this.ranges[n][END],
                                    bufferStart: this.ranges[n][START]
                                }
                            }
                            return {
                                bufferLength: 0,
                                bufferEnd: e,
                                bufferStart: e
                            }
                        }
                    }, {
                        key: "concat",
                        value: function (t, n) {
                            return new e(this.ranges.concat(t).sort(function (e, t) {
                                return e[0] < t[0] && e[1] < t[1] ? -1 : 1
                            })).fillGap(n)
                        }
                    }, {
                        key: "clone",
                        value: function () {}
                    }, {
                        key: "snapshot",
                        value: function (e) {
                            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 10,
                                n = this.position(e);
                            return this.ranges.slice(Math.max(0, Math.abs(n) - t), Math.abs(n) + t)
                        }
                    }, {
                        key: "position",
                        value: function (e) {
                            var t = 0;
                            for (t = 0; t < this.ranges.length; t++) {
                                if (e < this.ranges[t][0]) return -t - 1;
                                if (e >= this.ranges[t][0] && e <= this.ranges[t][1]) return t
                            }
                            return -t - 1
                        }
                    }, {
                        key: "indexOf",
                        value: function (e) {
                            for (var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0, n = 0; n < this.ranges.length; n++)
                                if (e >= this.ranges[n][0] - t && e <= this.ranges[n][1]) return n;
                            return -1
                        }
                    }, {
                        key: "findRange",
                        value: function (e, t) {
                            return this.ranges[this.indexOf(e, t)]
                        }
                    }, {
                        key: "zip",
                        value: function (e) {
                            return this.ranges.reduce(function (t, n) {
                                return t.push({
                                    n: n[0],
                                    flag: START,
                                    dye: e
                                }), t.push({
                                    n: n[1],
                                    flag: END,
                                    dye: e
                                }), t
                            }, [])
                        }
                    }, {
                        key: "reduce",
                        value: function (t) {
                            for (var n, i, o, r = this.zip("a").concat(t.zip("b")).sort(function (e, t) {
                                return 10 * e.n + e.flag - (10 * t.n + t.flag)
                            }), a = {
                                a: [],
                                b: []
                            }; n = r.shift();) i ? i.dye != n.dye ? i.coincide ? (i.start = n.n, o = null, i.coincide = !1) : (i.end = n.n, i.start != i.end && a[i.dye].push([i.start, i.end]), o = {
                                dye: i.dye,
                                start: n.n
                            }, i = {
                                dye: n.dye,
                                start: n.n,
                                coincide: !0
                            }) : i.coincide ? (o.start = n.n, i = o, i.coincide = !1, o = null) : (i.end = n.n, i.end != i.start && a[i.dye].push([i.start, i.end]), i = null) : i = {
                                dye: n.dye,
                                start: n.n,
                                coincide: !1
                            };
                            return a.a = new e(a.a), a.b = new e(a.b), a
                        }
                    }, {
                        key: "toString",
                        value: function () {
                            return "[".concat(this.ranges.map(function (e) {
                                return e.join(" ~ ")
                            }).join(" , "), "]")
                        }
                    }, {
                        key: "contain",
                        value: function () {}
                    }, {
                        key: "Length",
                        get: function () {
                            return this.ranges.reduce(function (e, t) {
                                return e + t[END] - t[START]
                            }, 0)
                        }
                    }, {
                        key: "Last",
                        get: function () {
                            return this.ranges[this.ranges.length - 1]
                        }
                    }, {
                        key: "Start",
                        get: function () {
                            return this.ranges[0]
                        }
                    }]), e
                }();
                window.BufferInfo = BufferInfo;
                var templateBufferInfo = getBufferInfo(),
                    FlySourceBuffer = function () {
                        function e(t) {
                            classCallCheck(this, e), this._flyBufferStore = [], this.core = t.core, this.mediaBuffer = t.mediaBuffer
                        }
                        return createClass(e, [{
                            key: "drain",
                            value: function (e) {
                                var t = this._flyBufferStore.filter(function (e) {
                                    return e.data
                                }).find(function (t) {
                                    return t.id === e
                                });
                                if (t && !t.isLast && this.core.config.queueLoad && this.core.queueLoad.usage) {
                                    return this._flyBufferStore.find(function (t) {
                                        return t.id === e + 1
                                    }) ? t : void logger.log("waiting next..........")
                                }
                                if (t) return t
                            }
                        }, {
                            key: "findFistSegmentLargerThanCurrentTime",
                            value: function (e) {
                                return this._flyBufferStore.find(function (t) {
                                    return t.data && (t.start <= e + .1 && t.end > e || t.start >= e)
                                })
                            }
                        }, {
                            key: "subStore",
                            value: function (e) {
                                this._flyBufferStore = this._flyBufferStore.filter(function (t) {
                                    return t.id >= e
                                })
                            }
                        }, {
                            key: "removeSegment",
                            value: function (e) {
                                this._flyBufferStore = this._flyBufferStore.filter(function (t) {
                                    return t.id !== e
                                })
                            }
                        }, {
                            key: "storeSegment",
                            value: function (e) {
                                e.data && (logger.log("do store segment: ", e), this._flyBufferStore.push(e))
                            }
                        }, {
                            key: "reset",
                            value: function () {
                                logger.log("flySourceBuffer reset"), this.destroy()
                            }
                        }, {
                            key: "destroy",
                            value: function () {
                                this._flyBufferStore = []
                            }
                        }, {
                            key: "flyBuffered",
                            get: function () {
                                return new BufferInfo(this._flyBufferStore.filter(function (e) {
                                    return e.data
                                }).map(function (e) {
                                    return [e.start, e.end]
                                }).sort(function (e, t) {
                                    return e[0] < t[0] && e[1] < t[1] ? -1 : 1
                                })).fillGap(this.core.config.maxBufferHole)
                            }
                        }]), e
                    }(),
                    match$1 = /\bcorex_debug=(\d)/.exec(document.cookie),
                    _debug = !1;
                match$1 && (_debug = "1" == match$1[1]);
                var debug = _debug,
                    MediaBuffer = function (e) {
                        function t(e, n) {
                            var i;
                            return classCallCheck(this, t), i = possibleConstructorReturn(this, getPrototypeOf(t).call(this, "MediaBuffer", n)), i.mediaSource = e, i.parent = n, i.mediaElement = n.mediaElement, i.config = n.core.config, i.pendingSegments = [], i.lastAudioCodec = "", i.combine = !0, i.audioSourceBuffer = null, i.videoSourceBuffer = null, i.lastABuffer = new BufferInfo([]), i.lastVBuffer = new BufferInfo([]), i
                        }
                        return inherits(t, e), createClass(t, [{
                            key: "onEnd",
                            value: function () {
                                this.audioSourceBuffer = null, this.videoSourceBuffer = null, this.mediaSource = null, this.destroy()
                            }
                        }, {
                            key: "appendSegment",
                            value: function (e) {
                                this.pendingSegments.find(function (t) {
                                    return t.id == e.id
                                }) || this.pendingSegments.push(e), this.isInState("idle,error,_init,initMp4Appended") && this.nextState("appending")
                            }
                        }, {
                            key: "onAppending",
                            value: function () {
                                var e = this.pendingSegments[0];
                                if (!e || !e.videoData && !e.audioData) return void this.pendingSegments.shift();
                                this.combine = e.audioData && e.videoData;
                                try {
                                    this._handleAppending(e)
                                } catch (e) {
                                    this.nextState("error", new BufferError(BufferError.BufferAppendError, e.name, e.message))
                                }
                            }
                        }, {
                            key: "_handleAppending",
                            value: function (e) {
                                var t = this._geneCodec(e),
                                    n = t.audioCodec,
                                    i = t.videoCodec;
                                if (this.lastAudioCodec && this.lastAudioCodec !== n) return logger.warn("audio codecs changed : ", "".concat(this.lastAudioCodec, " -> ").concat(n)), this.nextState("createMs", e.id), !1;
                                this.lastAudioCodec = n, e.audioData && (this.audioSourceBuffer || this._createSourceBuffer("audio", n), this.combine || this.audioSourceBuffer.appendBuffer(e.audioData)), e.videoData && (this.videoSourceBuffer || this._createSourceBuffer("video", i), e.appendWindowEnd ? (this.videoSourceBuffer.appendWindowEnd = 1 / 0, this.videoSourceBuffer.appendWindowEnd = e.appendWindowEnd) : this.videoSourceBuffer.appendWindowEnd = 1 / 0, this.combine || this.videoSourceBuffer.appendBuffer(e.videoData)), this.combine && (this.audioSourceBuffer.appendBuffer(e.audioData), this.videoSourceBuffer.appendBuffer(e.videoData))
                            }
                        }, {
                            key: "_geneCodec",
                            value: function (e) {
                                var t, n, i = e.audioInfo,
                                    o = e.videoInfo;
                                if (this.parent.isFmp4) {
                                    var r = getAVCodecFromTracks(this.parent.tracks);
                                    t = r.videoCodec, n = r.audioCodec
                                } else t = generateVideoCodec(o), n = generateAudioCodec(i);
                                return {
                                    videoCodec: t,
                                    audioCodec: n
                                }
                            }
                        }, {
                            key: "_createSourceBuffer",
                            value: function (e, t) {
                                logger.log("create sourcebuffer with codec :", t);
                                var n = this.mediaSource.addSourceBuffer('video/mp4;codecs="'.concat(t, '"'));
                                this._bindSourceBufferEvent(n, e), this["".concat(e, "SourceBuffer")] = n
                            }
                        }, {
                            key: "_bindSourceBufferEvent",
                            value: function (e, t) {
                                var n = this,
                                    i = this.combine;
                                e.addEventListener("updateend", function () {
                                    if (!n.isInState("appened")) {
                                        var e = n.pendingSegments[0];
                                        if (e) {
                                            if (i) {
                                                if (e["".concat(t, "Data")] = null, e.videoData || e.audioData) return
                                            } else e["".concat(t, "Data")] = null;
                                            n._printBufferLog(e), e.id > 0 && !debug && (e.videoInfo = null, e.audioInfo = null), e.setState(SegmentState.APPENDED), n.pendingSegments.shift(), n.nextState("appended", e), e.emit("appended")
                                        }
                                    }
                                }), e.addEventListener("error", function () {
                                    n.nextState("error", new BufferError(BufferError.BufferAppendError, "".concat(t, "  error")))
                                })
                            }
                        }, {
                            key: "_printBufferLog",
                            value: function () {
                                logger.log("video dump:"), logger.log(this.videoSourceBuffer && this.videoSourceBuffer.buffered.dump(!0)), logger.log("audio dump:"), logger.log(this.audioSourceBuffer && this.audioSourceBuffer.buffered.dump(!0))
                            }
                        }, {
                            key: "onAppended",
                            value: function (e) {
                                var t = this;
                                if (debug && this.audioSourceBuffer && this.videoSourceBuffer) {
                                    var n = new BufferInfo(this.audioSourceBuffer.buffered),
                                        i = new BufferInfo(this.videoSourceBuffer.buffered),
                                        o = n.reduce(i),
                                        r = n.reduce(this.lastABuffer),
                                        a = i.reduce(this.lastVBuffer);
                                    console.group("#".concat(e.id, "@").concat(e.levelId, " [").concat(e.start, "~").concat(e.end, "]")), console.log("audio change:", r.a.toString(), o.a.Length), console.log("video change:", a.a.toString(), o.b.Length), console.log("base:", e.audioInfo.timeline.base / 9e4, "ref:", e.audioInfo.timeline.ref / 9e4, e.audioInfo.timeline.disc), console.log("video raw Dts/Pts:[".concat(formatTimestamp(e.videoInfo, "rawDts"), "] [").concat(formatTimestamp(e.videoInfo, "rawPts"), "]")), console.log("video adt Dts/Pts:[".concat(formatTimestamp(e.videoInfo, "dts"), "] [").concat(formatTimestamp(e.videoInfo, "pts"), "]")), console.log("audio raw Pts:[".concat(formatTimestamp(e.audioInfo, "rawPts"), "]")), console.log("audio adt Pts:[".concat(formatTimestamp(e.audioInfo, "pts"), "]"));
                                    var s = Math.round((e.audioInfo.timeline.pts[0] - e.videoInfo.timeline.pts[0]) / 90);
                                    console.log("shift:".concat(s, "ms")), Math.abs(s) > 200 && console.warn("big shift", e.id, s), console.groupEnd(), this.lastABuffer = n, this.lastVBuffer = i, this.vIncreased = a.a, this.aIncreased = r.a
                                }
                                if (this.pendingSegments.length) return void this.nextState("appending");
                                this._checkFlushBuffer().then(function () {
                                    t.parent.isFmp4 && t.parent.isInState("loadInitMp4") ? t.nextState("initMp4Appended") : (t.nextState("idle"), logger.log("<=============="))
                                })
                            }
                        }, {
                            key: "_checkFlushBuffer",
                            value: function () {
                                var e = this.mediaElement.currentTime,
                                    t = this.config.maxBufferLength,
                                    n = Math.max(0, e - t),
                                    i = new BufferInfo(this.mediaElement.buffered).getIndicator(n, this.config.gapTolerance);
                                return n && n - i.bufferStart >= t / 2 ? this.removeBuffer(0, n) : Promise.resolve()
                            }
                        }, {
                            key: "removeBuffer",
                            value: function (e, t) {
                                var n = this,
                                    i = this.videoSourceBuffer,
                                    o = this.audioSourceBuffer;
                                return logger.log("remove buffer", [e, t]), new Promise(function (r) {
                                    var a;
                                    try {
                                        i && !i.updating && i.remove(e, t), o && !o.updting && o.remove(e, t)
                                    } catch (e) {
                                        r()
                                    }
                                    a = setInterval(function () {
                                        n.updating || (clearInterval(a), n.emit("bufferFlushed", t), r())
                                    }, 20)
                                })
                            }
                        }, {
                            key: "changeDuration",
                            value: function (e, t) {
                                this.updating || "open" !== this.mediaSource.readyState || this.mediaSource.duration == e || (t || this.mediaSource.duration < e) && (this.mediaSource.duration = e, logger.log("media source duration changed to: ", e))
                            }
                        }, {
                            key: "onError",
                            value: function (e) {
                                var t = this.pendingSegments.shift();
                                t && (t.setState(SegmentState.INIT), t.emit("error", e), this.parent.removeSegmentFromStore(t.id))
                            }
                        }, {
                            key: "updating",
                            get: function () {
                                return !(!this.audioSourceBuffer || !this.audioSourceBuffer.updating) || this.videoSourceBuffer && this.videoSourceBuffer.updating
                            }
                        }]), t
                    }(StateMachine),
                    CoreXEvents = {
                        LOADED: "loaded",
                        READY: "ready",
                        ERROR: "hlsError",
                        FRAG_BUFFERED: "fragBuffered",
                        MANIFEST_LOADED: "playListLoaded",
                        MANIFEST_PARSED: "paylistParsed",
                        FRAG_PARSING_DATA: "fragParsingData",
                        VIDEO_INFO: "videoInfo",
                        PLAY_LAG: "playLag",
                        WAITING_TIMEOUT: "waitingTimeout",
                        M3U8_ENDED: "m3u8Ended",
                        LEVEL_CHANGED: "levelChanged"
                    },
                    DrmController = function (e) {
                        function t(e, n) {
                            var i;
                            return classCallCheck(this, t), i = possibleConstructorReturn(this, getPrototypeOf(t).call(this, "DrmController", n)), i.sessionUpdateFinish = !1, i.config = n.core.config, i.dataService = n.core.dataService, i.mediaElement = e, i.msConfiguration = {
                                initDataTypes: [],
                                videoCapabilities: [],
                                audioCapabilities: []
                            }, i.onSessionMessage = i.onSessionMessage.bind(assertThisInitialized(assertThisInitialized(i))), i.onWaitingForKey = i.onWaitingForKey.bind(assertThisInitialized(assertThisInitialized(i))), i
                        }
                        return inherits(t, e), createClass(t, [{
                            key: "onError",
                            value: function () {
                                this.nextState("sessionUpdated")
                            }
                        }, {
                            key: "onEnd",
                            value: function () {
                                this.session && this.session.removeEventListener("message", this.onSessionMessage), this.mediaElement.removeEventListener("waitingforkey", this.onWaitingForKey), this.destroy()
                            }
                        }, {
                            key: "init",
                            value: function (e) {
                                this._geneMsConfig(e), this.bindEncryptedOnce(), this.mediaElement.addEventListener("waitingforkey", this.onWaitingForKey)
                            }
                        }, {
                            key: "bindEncryptedOnce",
                            value: function () {
                                this.nextStateByOnce(this.mediaElement, "encrypted", "createMediaKey")
                            }
                        }, {
                            key: "_geneMsConfig",
                            value: function (e) {
                                var t = getAVCodecFromTracks(e),
                                    n = t.audioCodec,
                                    i = t.videoCodec;
                                this.msConfiguration.videoCapabilities.push({
                                    contentType: 'video/mp4; codecs="'.concat(i, '"'),
                                    robustness: "SW_SECURE_CRYPTO"
                                }), this.msConfiguration.audioCapabilities = [], this.msConfiguration.audioCapabilities.push({
                                    contentType: 'audio/mp4; codecs="'.concat(n, '"'),
                                    robustness: "SW_SECURE_CRYPTO"
                                })
                            }
                        }, {
                            key: "onWaitingForKey",
                            value: function () {}
                        }, {
                            key: "onCreateMediaKey",
                            value: function (e) {
                                var t = this;
                                if (logger.log("encrypted...."), navigator.requestMediaKeySystemAccess)
                                    if (this.mediaKey) this.onSessionConnect(e), this.currentState = "_init";
                                    else {
                                        var n = navigator.requestMediaKeySystemAccess(this.config.keySystem, [this.msConfiguration]).catch(function (e) {
                                            t.nextState("error", new DrmError(DrmError.RequestKeySysError, e.message))
                                        });
                                        this.nextStateWhen(n, "mediaKeySysAccess", e)
                                    } else this.nextState("error", new DrmError(DrmError.NotSupportDrmError))
                            }
                        }, {
                            key: "onMediaKeySysAccess",
                            value: function (e, t) {
                                var n = this;
                                if (!e) return void this.nextState("error", new DrmError(DrmError.RequestKeySysError));
                                e.createMediaKeys().then(function (e) {
                                    return n.mediaKey = e, n.mediaElement.setMediaKeys(e)
                                }).then(function () {
                                    n.nextState("sessionConnect", t)
                                }).catch(function (e) {
                                    n.nextState("error", new DrmError(DrmError.setMediaKeyError, e.message))
                                })
                            }
                        }, {
                            key: "onSessionConnect",
                            value: function (e) {
                                var t = this,
                                    n = this.mediaElement.mediaKeys.createSession();
                                n.addEventListener("message", this.onSessionMessage), this.session ? (this.session.removeEventListener("message", this.onSessionMessage), this.session.close().then(function () {
                                    t.session = n, t.sessionGeneRequest(n, e)
                                }).catch(function (e) {
                                    t.nextState("error", new DrmError(DrmError.UpdateSessionError, "重建session失败".concat(e && e.message)))
                                })) : (this.session = n, this.sessionGeneRequest(n, e))
                            }
                        }, {
                            key: "sessionGeneRequest",
                            value: function (e, t) {
                                var n = this;
                                console.log(t.initDataType, t.initData), e.generateRequest(t.initDataType, t.initData).catch(function (e) {
                                    console.log(e), console.log("".concat(e.code, "    ").concat(e.message)), n.nextState("error", new DrmError(DrmError.GeneLicenseRequestError, e.message))
                                })
                            }
                        }, {
                            key: "onSessionMessage",
                            value: function (e) {
                                var t = this;
                                logger.log("eme session message..."), logger.log("请求证书服务获取秘钥key", e.message), this._generateLicense(e.message).then(function (n) {
                                    e.target.update(convertStrToBuffer(window.atob(n.data))).then(function () {
                                        logger.log("session更新成功"), t.sessionUpdateFinish = !0, 2 !== e.message.byteLength && t.nextState("sessionUpdated")
                                    }).catch(function (n) {
                                        t.nextState("error", new DrmError(DrmError.UpdateSessionError, n.message, e.message.byteLength))
                                    })
                                }).catch(function (e) {
                                    t.sessionUpdateFinish = !0;
                                    var n = 6e4 + (e.states || 0);
                                    DrmError.LicenseRequestError.code = n, t.nextState("error", new DrmError(objectSpread({}, DrmError.LicenseRequestError, {
                                        response: e && e.response
                                    }), n, t.config.licenseServer, e.msg))
                                })
                            }
                        }, {
                            key: "_generateLicense",
                            value: function (e) {
                                var t = this.config,
                                    n = t.licenseServer,
                                    i = this._parseUrl(n),
                                    o = window.btoa(convertBufferToStr(e)),
                                    r = Object.assign({}, i.params, {
                                        licenseRequest: encodeURIComponent(o),
                                        utdid: t.uid,
                                        drmType: "widevine"
                                    }),
                                    a = "";
                                Object.keys(r).forEach(function (e) {
                                    a += "".concat(e, "=").concat(r[e], "&")
                                });
                                var s = a.slice(0, a.length - 1);
                                return this.dataService.requestLicence(i.host, s)
                            }
                        }, {
                            key: "_parseUrl",
                            value: function (e) {
                                var t = {},
                                    n = e.split("?")[0],
                                    i = e.split("?")[1];
                                return i ? (i.split("&").forEach(function (e) {
                                    var n = e.replace("=", "|").split("|"),
                                        i = slicedToArray(n, 2),
                                        o = i[0],
                                        r = i[1];
                                    t[o] = r
                                }), {
                                    host: n,
                                    params: t
                                }) : {
                                    host: n,
                                    params: {}
                                }
                            }
                        }, {
                            key: "sessionUpdateStatus",
                            get: function () {
                                return this.sessionUpdateFinish
                            }
                        }]), t
                    }(StateMachine),
                    EWMA = function () {
                        function e(t) {
                            classCallCheck(this, e), this.alpha_ = t ? Math.exp(Math.log(.5) / t) : 0, this.estimate_ = 0, this.totalWeight_ = 0
                        }
                        return createClass(e, [{
                            key: "sample",
                            value: function (e, t) {
                                var n = Math.pow(this.alpha_, e);
                                this.estimate_ = t * (1 - n) + n * this.estimate_, this.totalWeight_ += e
                            }
                        }, {
                            key: "getTotalWeight",
                            value: function () {
                                return this.totalWeight_
                            }
                        }, {
                            key: "getEstimate",
                            value: function () {
                                if (this.alpha_) {
                                    var e = 1 - Math.pow(this.alpha_, this.totalWeight_);
                                    return this.estimate_ / e
                                }
                                return this.estimate_
                            }
                        }]), e
                    }(),
                    EwmaBandWidthEstimator = function () {
                        function e(t, n, i) {
                            classCallCheck(this, e), this.defaultEstimate_ = i, this.minWeight_ = .001, this.minDelayMs_ = 50, this.slow_ = new EWMA(t), this.fast_ = new EWMA(n)
                        }
                        return createClass(e, [{
                            key: "sample",
                            value: function (e, t) {
                                e = Math.max(e, this.minDelayMs_);
                                var n = 8e3 * t / e,
                                    i = e / 1e3;
                                this.fast_.sample(i, n), this.slow_.sample(i, n)
                            }
                        }, {
                            key: "canEstimate",
                            value: function () {
                                var e = this.fast_;
                                return e && e.getTotalWeight() >= this.minWeight_
                            }
                        }, {
                            key: "getEstimate",
                            value: function () {
                                return this.canEstimate() ? Math.min(this.fast_.getEstimate(), this.slow_.getEstimate()) : this.defaultEstimate_
                            }
                        }, {
                            key: "destroy",
                            value: function () {}
                        }]), e
                    }(),
                    PATH_PATTERN = /https?:\/\/(?:[^\/]+)([^?]+)/,
                    CpuPeak = function () {
                        function e(t, n) {
                            var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 3e4,
                                o = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 3;
                            classCallCheck(this, e), Object.assign(this, {
                                mediaMonitor: t,
                                media: n,
                                duration: i,
                                threshold: o
                            }), this._timer = null, this._waitingCount = 0, this._accumulate = this._accumulate.bind(this), this._setUp()
                        }
                        return createClass(e, [{
                            key: "incThreshold",
                            value: function (e) {
                                this.threshold += e
                            }
                        }, {
                            key: "reset",
                            value: function () {
                                this._waitingCount = 0, clearInterval(this._timer), this._startTimer()
                            }
                        }, {
                            key: "_setUp",
                            value: function () {
                                this._bindEvent(), this._startTimer()
                            }
                        }, {
                            key: "_bindEvent",
                            value: function () {
                                this.media.addEventListener("waiting", this._accumulate)
                            }
                        }, {
                            key: "_accumulate",
                            value: function () {
                                !this.media.seeking && this.mediaMonitor.restBuffered() > 1 && (this._waitingCount += 1, clearInterval(this._timer), this._startTimer())
                            }
                        }, {
                            key: "_startTimer",
                            value: function () {
                                var e = this;
                                this._timer = setInterval(function () {
                                    e._waitingCount < e.threshold && (e._waitingCount = 0)
                                }, this.duration)
                            }
                        }, {
                            key: "destroy",
                            value: function () {
                                this.media.removeEventListener("waiting", this._accumulate), clearInterval(this._timer)
                            }
                        }, {
                            key: "peak",
                            get: function () {
                                return this._waitingCount >= this.threshold
                            }
                        }]), e
                    }(),
                    LOAD_CONTINUE_THRESHOLD = 95,
                    REQUEST_DELAY_THRESHOLD = 100,
                    CHECK_LEVEL_FREQ = 100,
                    ABRController = function (e) {
                        function t(e, n) {
                            var i;
                            return classCallCheck(this, t), i = possibleConstructorReturn(this, getPrototypeOf(t).call(this, "ABRController", n)), i.media = e, i.parent = n, i.config = n.core.config, i.downMonitor = n.core.downMonitor, i.dataService = n.core.dataService, i._nextForceLevel = -1, i.timer = null, i.bwEstimator = null, i.currentSegment = null, i.cpuPeak = null, i.droppedStateList = [], i.trequest = 0, i.lastLoadedFragLevel = 1, i.doCheck = i.doCheck.bind(assertThisInitialized(assertThisInitialized(i))), i.cpuPeak = new CpuPeak(n.core.mediaMonitor, e), i.config.on("abrEnable", function () {
                                i._nextForceLevel = -1, i.clearTimer(), i.cpuPeak.reset()
                            }), i
                        }
                        return inherits(t, e), createClass(t, [{
                            key: "destroy",
                            value: function () {
                                this.cpuPeak.destroy(), this.clearTimer()
                            }
                        }, {
                            key: "clearTimer",
                            value: function () {
                                clearInterval(this.timer), this.timer = null
                            }
                        }, {
                            key: "onSegmentLoading",
                            value: function (e) {
                                var t = this,
                                    n = this.config;
                                if (this.currentSegment = e, this.clearTimer(), this.timer || (this.trequest = performance.now(), this.timer = setInterval(this.doCheck, CHECK_LEVEL_FREQ)), !this.bwEstimator) {
                                    var i = this.parent.isLive ? n.abrEwmaFastLive : n.abrEwmaFastVoD,
                                        o = this.parent.isLive ? n.abrEwmaSlowLive : n.abrEwmaSlowVoD;
                                    this.bwEstimator = new EwmaBandWidthEstimator(o, i, n.abrEwmaDefaultEstimate)
                                }
                                e.once("loaded", function () {
                                    var n = getMatchedEntry(e.url, "xmlhttprequest");
                                    t._nextForceLevel = -1;
                                    var i;
                                    i = n && n.transferSize ? {
                                        total: n.transferSize,
                                        duration: n.duration
                                    } : {
                                        total: e.size,
                                        duration: e.elapsed
                                    }, t.nextState("segmentLoaded", e, i)
                                }), e.once("error", function () {
                                    t.nextState("segmentLoaded", e, {
                                        total: t.downMonitor.loaded,
                                        duration: performance.now() - t.trequest
                                    })
                                })
                            }
                        }, {
                            key: "onSegmentLoaded",
                            value: function (e, t) {
                                this.clearTimer(), this.lastLoadedFragLevel = e.levelId, t && this.bwEstimator && (logger.warn("字节数: ".concat(t.total / 1e3, "KB  \n        耗时:").concat(t.duration, " ms \n        速度: ").concat(t.total / t.duration * 1e3 / 1e6, " MB/s")), this.bwEstimator.sample(t.duration, t.total))
                            }
                        }, {
                            key: "doCheck",
                            value: function () {
                                var e = this.parent,
                                    t = this.media,
                                    n = this.currentSegment;
                                if (n && t && t.currentTime && !t.seeking && 0 !== t.playbackRate && !n.lowestLevel && n.levelId !== e.minAutoLevel) {
                                    var i = performance.now() - this.trequest,
                                        o = Math.abs(this.media.playbackRate);
                                    if (i > n.duration * REQUEST_DELAY_THRESHOLD / o) {
                                        var r = this.downMonitor,
                                            a = r.total,
                                            s = r.loaded,
                                            l = Math.max(1, 1e3 * s / i),
                                            u = (a - s) / l,
                                            c = templateBufferInfo(t.buffered).fillGap(.5),
                                            d = c.getIndicator(t.currentTime, this.config.gapTolerance).bufferLength / o,
                                            h = (s / a * 100).toFixed(2);
                                        logger.log("当前分片下载进度", "".concat(h, "%"));
                                        var p = d < this.config.maxBufferLength / 2 / o;
                                        if (u >= d || p && u / d > .3) {
                                            if (logger.warn("loadRate: ".concat(l, "B/s, 当前分片下载完还需的时间: ").concat(u, ",还能播放的buffer时长: ").concat(d)), this.bwEstimator.sample(i, s), this.nextAutoLevel = this.getMatchedLevel(n, e, u, d, l), h > LOAD_CONTINUE_THRESHOLD) return void logger.log("继续下载,下个分片切level");
                                            (this.parent.isLive || n.errorCount >= 2) && (logger.log("当前level abort次数过多"), this.nextAutoLevel = Math.max(this.nextAutoLevel - 1, 1)), logger.log("abort 当前请求,强制切换level", this.nextAutoLevel), n.abort(AbortError.ForAbrLevelChange, this.dataService), this.clearTimer()
                                        }
                                    } else this.cpuPeak.peak && (logger.log("cpu负载过重, abort 当前请求,强制切换level"), n.abort(AbortError.ForAbrLevelChange, this.dataService), this.clearTimer())
                                }
                            }
                        }, {
                            key: "getMatchedLevel",
                            value: function (e, t, n, i, o) {
                                var r, a, s = t.minAutoLevel,
                                    l = t.maxAutoLevel,
                                    u = t.levels,
                                    c = this.parent.isLive;
                                for (a = e.levelId; a >= 1; a--) {
                                    var d = Math.min(Math.max(l - a, 0), l - 1),
                                        h = u[d].realBitrate ? Math.max(u[d].realBitrate, u[d].bandwidth) : u[d].bandwidth;
                                    if (r = e.duration * h / (8 * (c ? .6 : .8) * o), r / i <= c ? .5 : .8) break
                                }
                                return r < n ? a || s : s
                            }
                        }, {
                            key: "_findBestLevel",
                            value: function (e, t, n, i, o, r, a, s, l, u) {
                                for (var c = o; c >= i; c--) {
                                    var d = l[c - 1];
                                    if (d) {
                                        var h = (d.details, t),
                                            p = void 0;
                                        if (c <= e) p = a * n;
                                        else {
                                            p = (!this.parent.isLive && r > u / 3 ? 1 : .8) * s * n
                                        }
                                        var f = o - c,
                                            g = l[f].realBitrate ? Math.max(l[f].realBitrate, l[f].bandwidth) : l[f].bandwidth,
                                            m = g * h / p;
                                        if (p > g && (!d.error || 0 !== d.error) && m < (r || h)) return c
                                    }
                                }
                                return -1
                            }
                        }, {
                            key: "nextAutoLevel",
                            set: function (e) {
                                this._nextForceLevel = e
                            }, get: function () {
                                var e = this._nextForceLevel;
                                this.bwEstimator;
                                if (-1 !== this._nextForceLevel) return this.cpuPeak.reset(), e;
                                var t = this._nextABRAutoLevel;
                                return this.cpuPeak.peak && (t = Math.max(1, t - 1), this.parent.maxAutoLevel = this.parent.getStreamTypeByLevelId(t), logger.warn("cpu负载过高,强制降级到:", t), this.cpuPeak.reset(), this.cpuPeak.incThreshold(1)), t
                            }
                        }, {
                            key: "_nextABRAutoLevel",
                            get: function () {
                                var e = this.config,
                                    t = this.parent,
                                    n = t.maxAutoLevel,
                                    i = t.levels,
                                    o = t.minAutoLevel,
                                    r = this.media,
                                    a = this.lastLoadedFragLevel,
                                    s = t.playList.segmentDuration || 0,
                                    l = r && 0 !== r.playbackRate ? Math.abs(r.playbackRate) : 1,
                                    u = this.bwEstimator ? this.bwEstimator.getEstimate() : e.abrEwmaDefaultEstimate,
                                    c = templateBufferInfo(r.buffered).fillGap(.5),
                                    d = c.getIndicator(r.currentTime, e.gapTolerance).bufferLength / l,
                                    h = this.config.maxBufferLength / l,
                                    p = this._findBestLevel(a, s, u, o, n, d, e.abrBandWidthFactor, e.abrBandWidthUpFactor, i, h);
                                return p >= 0 ? p : 1
                            }
                        }]), t
                    }(StateMachine),
                    MediaSource = window && (window.MediaSource || window.WebKitMediaSource),
                    MediaController = function (e) {
                        function t(e, n) {
                            var i;
                            return classCallCheck(this, t), i = possibleConstructorReturn(this, getPrototypeOf(t).call(this, "MediaController")), i.mediaElement = e, i.core = n, i.dataPipeLine = n.dataPipeLine, i.drmController = new DrmController(e, assertThisInitialized(assertThisInitialized(i))), i.abrController = new ABRController(e, assertThisInitialized(assertThisInitialized(i))), i._errorCount = 0, i._multiM3u8 = !1, i.lastBufferd = new BufferInfo([]), i.lastLevel = null, i._setup(), i
                        }
                        return inherits(t, e), createClass(t, [{
                            key: "_setup",
                            value: function () {
                                this.mediaSource = new MediaSource, this.objectUrl = null, this.objectUrl = window.URL.createObjectURL(this.mediaSource), this.mediaElement.src = this.objectUrl, this.nextStateBy(this.drmController, "error", "error"), this.nextStateByOnce(this.mediaSource, "sourceopen", "sourceReady"), this.nextStateBy(this.mediaSource, "error", "error"), this.nextStateAfter("sourceReady+playListLoaded", "mediaReady")
                            }
                        }, {
                            key: "onReCreateMediaSource",
                            value: function (e) {
                                var t = this;
                                this.currentLoadSegment && this.currentLoadSegment.abort(AbortError.Invalid, this.core.dataService), this.reCreateMsTimer = setInterval(function () {
                                    if (t._getRestBuffer() <= .5) {
                                        clearInterval(t.reCreateMsTimer), URL.revokeObjectURL(t.objectUrl), t.objectUrl = null, t.mediaElement.removeAttribute("src"), t.mediaElement.load(), t.mediaBuffer && (t.mediaBuffer.nextState("end"), t.mediaBuffer = null), t.mediaSource = new MediaSource, t.objectUrl = window.URL.createObjectURL(t.mediaSource), t.mediaElement.src = t.objectUrl, t.dataPipeLine.resetInitSegment(), t.dataPipeLine.resetLastSegment(), t.nextStateByOnce(t.mediaSource, "sourceopen", "mediaReady"), t.nextStateBy(t.mediaSource, "error", "error");
                                        var n = t.playList.getSegmentById(e);
                                        n && n.setState(SegmentState.INIT), n.emit("appended"), t.flySourceBuffer.reset(), t.mediaElement.currentTime = n && n.start || 0, logger.log("recreate seek to :".concat(t.mediaElement.currentTime))
                                    }
                                }, 50)
                            }
                        }, {
                            key: "onLoadPlayList",
                            value: function (e) {
                                var t = this;
                                this.playList && (this.core.dataService.abortAllPlaylistRequest(), this.playList.off()), this.playList = new PlayList(e, this.core.dataService, this.core.config), this.nextStateBy(this.playList, "loaded", "playListLoaded"), this.playList.on("error", function (e) {
                                    t.isLive && t.emit("m3u8Flushed", !1), t.nextState("error", e)
                                })
                            }
                        }, {
                            key: "onMediaReady",
                            value: function () {
                                var e = this;
                                this.mediaSource.duration = this.playList.getTotalDuration(), this.mediaBuffer = new MediaBuffer(this.mediaSource, this), this.flySourceBuffer = new FlySourceBuffer(this), this.core.mediaMonitor.mountFlyBuffer(this.flySourceBuffer), this.syncState(this.mediaBuffer, "initMp4Appended", "initMp4Appended"), this.syncState(this.mediaBuffer, "error", "error"), this.nextStateByOnce(this.mediaBuffer, "createMs", "reCreateMediaSource"), this.core.emit(CoreXEvents.LOADED, CoreXEvents.LOADED), this.mediaBuffer.on("appended", function (t) {
                                    e.removeSegmentFromStore(t.id), e.core.emit(CoreXEvents.FRAG_BUFFERED, CoreXEvents.FRAG_BUFFERED, t), e.lastSegment || e.core.emit(CoreXEvents.READY, CoreXEvents.READY, t), e.lastSegment = t, e._errorCount = 0;
                                    var n = new BufferInfo(e.mediaElement.buffered),
                                        i = n.reduce(e.lastBufferd).a;
                                    logger.log("buffer新增:", i.toString(), "segment[", t.start, t.end, "]"), (!i.Length || i.Length < .1) && (t.reloadCount = 0), e.lastBufferd = n, 0 == t.id && 0 == e.mediaElement.currentTime && i.Start && i.Start[0] > .08 && (e.mediaElement.currentTime = i.Start[0] + .01)
                                }), this.mediaBuffer.on("idle", function () {
                                    e.checkEos()
                                }), this.mediaBuffer.on("bufferFlushed", function (t) {
                                    e.lastBufferd = new BufferInfo(e.mediaElement.buffered), e.playList.resetSegmentsByRange(0, t + 1)
                                }), this.playList.isFmp4() ? this.nextState("loadInitMp4") : this.nextState("idle")
                            }
                        }, {
                            key: "onPlayListLoaded",
                            value: function (e) {
                                var t = this.core,
                                    n = t.config,
                                    i = t.dataService,
                                    o = t.mediaMonitor,
                                    r = e.levelsInfo,
                                    a = e.url,
                                    s = e.currentLevel;
                                n.bitRate = -1, this.drmController.init(this.tracks), this.core.emit(CoreXEvents.MANIFEST_LOADED, {
                                    levels: r.levels,
                                    currentLevel: s,
                                    url: a
                                }), this.core.emit(CoreXEvents.MANIFEST_PARSED, {
                                    levels: r.levels,
                                    currentLevel: s,
                                    url: a
                                }), o.mountPlayList(e), n.p2p && e.url && i.initP2P(e.currentLevel.details.segments, e.url)
                            }
                        }, {
                            key: "onSegmentLoading",
                            value: function (e) {
                                var t = this,
                                    n = this.core,
                                    i = n.config,
                                    o = n.dataService;
                                this.currentLoadSegment = e, e.load(o, this.playList, i), e.once("loaded", function (e) {
                                    t.flySourceBuffer && t.flySourceBuffer.storeSegment(e), t.currentLoadSegment = null, t.nextState("segmentLoaded")
                                }), e.once("error", function (n) {
                                    e.off("loaded"), e.setState(SegmentState.INIT), t.nextState("error", n), n.is && !n.is(SegmentError) && t.removeSegmentFromStore(e.id)
                                })
                            }
                        }, {
                            key: "onUpdateFmp4SegBound",
                            value: function (e) {
                                var t = this.mediaBuffer.videoIncreased;
                                if (t) {
                                    var n = t.ranges[0] && t.ranges[0][0],
                                        i = t.ranges[0] && t.ranges[0][1];
                                    Number.isFinite(n) && Number.isFinite(i) && e.updateSegBound(n, i, !0) && this.playList.updateRestSegmentsOffset(e)
                                }
                            }
                        }, {
                            key: "onLoadInitMp4",
                            value: function () {
                                var e = this,
                                    t = this.playList.getInitSegment();
                                t.loadInitMp4(this.core.dataService, this.playList, this.core.config), t.on("loaded", function (t) {
                                    e.mediaBuffer && e.mediaBuffer.appendSegment(t)
                                }), this.nextStateByOnce(t, "error", "error").check()
                            }
                        }, {
                            key: "onInitMp4Appended",
                            value: function () {
                                this.core.config.isDrm ? this.nextStateBy(this.drmController, "sessionUpdated", "idle") : this.nextState("idle")
                            }
                        }, {
                            key: "onSegmentLoaded",
                            value: function () {
                                this.core.config.abrEnable ? this.nextState("levelReadyCheck") : this.nextState("idle")
                            }
                        }, {
                            key: "onIdle",
                            value: function () {
                                logger.groupEnd()
                            }
                        }, {
                            key: "onEnd",
                            value: function () {
                                this._errorCount = 0, this.core.dataService.abortAllSegmentRequest(AbortError.Invalid), "open" === this.mediaSource.readyState && this.closeStream(), URL.revokeObjectURL(this.objectUrl), this.objectUrl = null, this.mediaElement.removeAttribute("src"), this.mediaElement.load(), this.drmController && (this.drmController.nextState("end"), this.drmController = null), this.mediaBuffer && (this.mediaBuffer.nextState("end"), this.mediaBuffer = null), this.flySourceBuffer && this.flySourceBuffer.destroy(), this.dataPipeLine.nextState("end"), this.abrController.destroy(), this.destroy(), this.lastSegment = null
                            }
                        }, {
                            key: "onSelectStream",
                            value: function (e, t) {
                                var n = this.core.dataService,
                                    i = this.mediaElement.currentTime,
                                    o = this.playList.locateSegment(i);
                                logger.log("currentSegment:", o.id, o.state), o.state <= SegmentState.LOADED ? (n.abortAllSegmentRequest(AbortError.Invalid), this._switchStream(e, t)) : o.state == SegmentState.APPENDING ? this._switchStream(e, t, o) : i + 1 <= o.end ? (n.abortAllSegmentRequest(AbortError.Invalid), this._switchStream(e, t, o)) : (o = this.playList.getSegmentById(o.id + 1), o.state == SegmentState.INIT ? (n.abortAllSegmentRequest(AbortError.Invalid), this.nextState("segmentLoading", o), this._switchStream(e, t, o)) : (o.state, SegmentState.APPENDED, this._switchStream(e, t, o)))
                            }
                        }, {
                            key: "onReloadPlayList",
                            value: function (e) {
                                var t = this,
                                    n = this.core.dataService;
                                this.lastSegment = null, n.abortAllSegmentRequest(AbortError.Invalid), n.abortAllPlaylistRequest(), this.dataPipeLine.resetInitSegment(), this.dataPipeLine.resetLastSegment(), this.dataPipeLine.abortAllProcessingSegment(), this.currentLoadSegment && this.currentLoadSegment.abort(AbortError.Invalid, n), this.playList.currentLevel && this.playList.currentLevel.details && (this.lastLevel = this.playList.currentLevel), this.playList.off(), this.playList = new PlayList(e, n, this.core.config), this.nextStateBy(this.playList, "loaded", "playListReloaded"), this.playList.on("error", function (e) {
                                    t.isLive && t.emit("m3u8Flushed", !1), t.nextState("error", e)
                                })
                            }
                        }, {
                            key: "onPlayListReloaded",
                            value: function (e, t) {
                                var n = this,
                                    i = this.core,
                                    o = i.config,
                                    r = i.dataService;
                                o.p2p && e.url ? r.initP2P(e.currentLevel.details.segments, e.url) : e.url || (o.networkAgent = "degrade", r.p2pAgent && r.p2pAgent.destroy()), o.bitRate = -1;
                                var a, s;
                                if (this.lastLevel && this.lastLevel.details && (a = this.lastLevel.details.live), s = e.isLive, a && s && e.levels.filter(function (e) {
                                    return e.details
                                }).forEach(function (e) {
                                    n.playList.syncTwoLevelDetails(n.lastLevel, e)
                                }), this.playList.clearSegmentsStatus(), this.core.mediaMonitor.mountPlayList(this.playList), t) {
                                    this.mediaBuffer.flushBuffer(t.end, Number.POSITIVE_INFINITY);
                                    var l = this.playList.getSegment(t.end, null, o.maxFragLookupTolerance);
                                    this.nextState("segmentLoading", l)
                                } else {
                                    var u = e.url,
                                        c = e.currentLevel,
                                        d = e.levelsInfo;
                                    this.mediaBuffer.once("idle", function () {
                                        n.mediaBuffer.changeDuration(e.getTotalDuration(), !0)
                                    }), this.core.emit(CoreXEvents.MANIFEST_LOADED, {
                                        levels: d.levels,
                                        currentLevel: c,
                                        url: u
                                    }), this.core.emit(CoreXEvents.MANIFEST_PARSED, {
                                        levels: d.levels,
                                        currentLevel: c,
                                        url: u
                                    }), this.mediaBuffer.removeBuffer(0, Number.POSITIVE_INFINITY).then(function () {
                                        n.playList.isFmp4() ? (n.drmController.bindEncryptedOnce(), n.nextState("loadInitMp4")) : (n.nextState("idle"), !a && s && (n.mediaElement.currentTime = 0, n.emit("startFlushM3u8Task")), a && !s && (n.mediaElement.currentTime = 0))
                                    }), logger.log("current time:", this.mediaElement.currentTime), this.flySourceBuffer.reset(), this.once("segmentLoaded", function () {
                                        n.mediaElement.currentTime += .2
                                    })
                                }
                            }
                        }, {
                            key: "onLevelReadyCheck",
                            value: function () {
                                var e = this;
                                this.nextStateWhen(this.playList.loadNextLevelStream(this.nextAutoLevel), function () {
                                    e.nextState("idle"), e.playList.isLive || e.playList.preloadLevel()
                                })
                            }
                        }, {
                            key: "_getRestBuffer",
                            value: function () {
                                return new BufferInfo(this.mediaElement.buffered).getIndicator(this.mediaElement.currentTime, this.core.config.gapTolerance).bufferLength
                            }
                        }, {
                            key: "_errorMatchCode",
                            value: function (e, t) {
                                return e.is && e.is(SegmentError) && e.response && e.response.code === t
                            }
                        }, {
                            key: "onError",
                            value: function (e) {
                                var t = this.core.config;
                                if (this.appendPlayListStatus = !1, this._getRestBuffer() <= 1 && (this._errorMatchCode(e, 555) && (t.isDrm ? e = new DrmError(objectSpread({}, DrmError.FragLoadError, {
                                    response: e.response
                                })) : e.severity = ErrorSeverity.FATAL), this._errorMatchCode(e, 403) && (e.severity = ErrorSeverity.FATAL)), e.is && e.is(BufferError.BufferAppendError) && (t.maxBufferSize = Math.max(10485760, t.maxBufferSize - 10485760)), e.severity === ErrorSeverity.FATAL) return void(this._multiM3u8 && e.is && e.is(PlayListError) ? this.nextState("firstPlayloadLoadError") : (e.fatal = !0, this.core.fatalError(e), dumpError(e)));
                                if (e.severity === ErrorSeverity.CRITICAL) {
                                    if (this._errorCount >= t.maxErrorRetryCount && this._getRestBuffer() <= 1) return e.fatal = !0, this._errorCount = 0, this.core.fatalError(e), void dumpError(e);
                                    this._errorCount++, 0 == this.mediaElement.currentTime && this._errorCount++
                                }
                                var n = t.mediaRetryDelay;
                                0 == this.mediaElement.currentTime && 0 == this.mediaElement.buffered.length ? n = 0 : n *= this.mediaElement.paused ? 3 : 1, e.is && e.is(SegmentError.AbortForLevelChange) ? this.nextState("levelReadyCheck") : this.nextStateDelayed("idle", n)
                            }
                        }, {
                            key: "checkEos",
                            value: function () {
                                "open" == this.mediaSource.readyState && this.lastSegment.isLast && this.mediaSource.endOfStream()
                            }
                        }, {
                            key: "closeStream",
                            value: function () {
                                if ("open" == this.mediaSource.readyState) try {
                                    this.mediaSource.endOfStream()
                                } catch (e) {
                                    console.error(e)
                                }
                            }
                        }, {
                            key: "appendPlayList",
                            value: function (e) {
                                var t = this;
                                this.playList.on("nextPlaylistLoaded", function () {
                                    t.appendPlayListStatus = !1, t.mediaBuffer.once("idle", function () {
                                        t.mediaBuffer.changeDuration(t.playList.getTotalDuration())
                                    })
                                }), this.appendPlayListStatus = !0, this.playList.appendPlayList(e)
                            }
                        }, {
                            key: "_resolveSegmentAppendWindow",
                            value: function (e) {
                                var t = this.playList.getSegmentById(e.id + 1);
                                t && t.state == SegmentState.APPENDED && e.videoInfo.timeline.end > t.start && (e.appendWindowEnd = t.start)
                            }
                        }, {
                            key: "_switchStream",
                            value: function (e, t, n) {
                                logger.log("_switchStream"), this.dataPipeLine.abortAllProcessingSegment(), this.dataPipeLine.resetInitSegment(), this.dataPipeLine.resetLastSegment(), this.nextStateWhen(this.playList.selectStream(e, t, "MANUAL"), "playListReloaded", n)
                            }
                        }, {
                            key: "drainSegment",
                            value: function (e) {
                                var t = this;
                                if (this.flySourceBuffer && (!this.core.config.isDrm || this.drmController.isInState("sessionUpdated"))) {
                                    var n = this.flySourceBuffer.drain(e);
                                    if (n) return logger.log("============> do Mux and Append", n), this.dataPipeLine.push(n) ? (logger.log("mux -> id: ".concat(n.id, " , levelId: ").concat(n.levelId, " , [").concat(n.start, " , ").concat(n.end, "]")), n.once("muxed", function (e) {
                                        if (t.core.emit(CoreXEvents.FRAG_PARSING_DATA, CoreXEvents.FRAG_PARSING_DATA, {
                                            fps: e.videoInfo && e.videoInfo.fps,
                                            info: e.videoInfo
                                        }), t.core.mediaMonitor.mountSegment(e), !t.playList.isFmp4()) {
                                            var i = e.adjustTimeline(t.core.config);
                                            t._resolveSegmentAppendWindow(e), i && (t.playList.updateRestSegmentsOffset(e), t.playList.isLive && t.playList.updateTotalDuration())
                                        }
                                        t.mediaBuffer.appendSegment(n)
                                    }), n) : void 0
                                }
                            }
                        }, {
                            key: "findFistSegmentLargerThanCurrentTime",
                            value: function (e) {
                                return this.flySourceBuffer.findFistSegmentLargerThanCurrentTime(e)
                            }
                        }, {
                            key: "removeSegmentFromStore",
                            value: function (e) {
                                this.flySourceBuffer.removeSegment(e)
                            }
                        }, {
                            key: "flushM3u8",
                            value: function () {
                                var e = this;
                                this.playList.flushM3u8(this.playList.currentLevelId), this.playList.once("m3u8Flushed", function (t) {
                                    e.emit("m3u8Flushed", t), e.liveCanPlay ? e.mediaBuffer.changeDuration(e.playList.getTotalDuration()) : setTimeout(function () {
                                        e.flushM3u8()
                                    }, 500)
                                })
                            }
                        }, {
                            key: "setMultiM3u8",
                            value: function (e) {
                                this._multiM3u8 = e
                            }
                        }, {
                            key: "getLevelIdByStreamType",
                            value: function (e) {
                                return this.playList.getLevelIdByStreamType(e)
                            }
                        }, {
                            key: "getStreamTypeByLevelId",
                            value: function (e) {
                                return this.playList.getStreamTypeByLevelId(e)
                            }
                        }, {
                            key: "getLiveFlushInteval",
                            value: function (e) {
                                return this.playList.liveFlushInterval(e)
                            }
                        }, {
                            key: "reset",
                            value: function () {
                                this.currentState = "init"
                            }
                        }, {
                            key: "flyBuffered",
                            get: function () {
                                return this.flySourceBuffer && this.flySourceBuffer.flyBuffered
                            }
                        }, {
                            key: "appendPlStatus",
                            get: function () {
                                return this.appendPlayListStatus
                            }
                        }, {
                            key: "nextAutoLevel",
                            get: function () {
                                return this.core.config.abrEnable ? this.abrController.nextAutoLevel : this.playList.currentLevelId
                            }
                        }, {
                            key: "tracks",
                            get: function () {
                                return this.playList.getTracks()
                            }
                        }, {
                            key: "levels",
                            get: function () {
                                return this.playList.levels
                            }
                        }, {
                            key: "isOpen",
                            get: function () {
                                return "open" === this.mediaSource.readyState
                            }
                        }, {
                            key: "maxAutoLevel",
                            get: function () {
                                return this.playList.maxAutoLevel
                            }, set: function (e) {
                                this.playList.maxAutoLevel = this.getLevelIdByStreamType(e) || this.maxAutoLevel
                            }
                        }, {
                            key: "minAutoLevel",
                            get: function () {
                                return this.playList.minAutoLevel
                            }, set: function (e) {
                                this.playList.minAutoLevel = this.getLevelIdByStreamType(e) || this.minAutoLevel
                            }
                        }, {
                            key: "initPlayAutoLevel",
                            set: function (e) {
                                this.playList.initPlayAutoLevelStream = e
                            }
                        }, {
                            key: "isFmp4AndSingle",
                            get: function () {
                                return this.playList.isFmp4() && !this.playList.isMultiTrack
                            }
                        }, {
                            key: "isFmp4",
                            get: function () {
                                return this.playList.isFmp4()
                            }
                        }, {
                            key: "segmentDuration",
                            get: function () {
                                return this.playList.segmentDuration
                            }
                        }, {
                            key: "sourceBuffers",
                            get: function () {
                                return {
                                    video: this.mediaBuffer.videoSourceBuffer,
                                    audio: this.mediaBuffer.audioSourceBuffer
                                }
                            }
                        }, {
                            key: "isLive",
                            get: function () {
                                return this.playList.isLive
                            }
                        }, {
                            key: "liveCanPlay",
                            get: function () {
                                return this.playList.getSegments().length >= this.core.config.liveCanPlayMinSegmentsCount
                            }
                        }, {
                            key: "slidePosition",
                            get: function () {
                                return this.playList.slidePosition
                            }
                        }, {
                            key: "liveSyncPostion",
                            get: function () {
                                return Math.max(this.slidePosition, this.playList.liveSyncPostion)
                            }
                        }]), t
                    }(StateMachine),
                    FpDrmController = function (e) {
                        function t(e, n, i) {
                            var o;
                            return classCallCheck(this, t), o = possibleConstructorReturn(this, getPrototypeOf(t).call(this, "FpDrmController")), o.mediaElement = e, o.dataService = n, o.config = i, o.extractContentId = o.extractContentId.bind(assertThisInitialized(assertThisInitialized(o))), o.onCreateMediaKey = o.onCreateMediaKey.bind(assertThisInitialized(assertThisInitialized(o))), o
                        }
                        return inherits(t, e), createClass(t, [{
                            key: "init",
                            value: function () {
                                this.mediaElement.addEventListener("webkitneedkey", this.onCreateMediaKey)
                            }
                        }, {
                            key: "onCreateMediaKey",
                            value: function (e) {
                                var t = this;
                                window.WebKitMediaKeys ? this._loadCertificate().then(function (n) {
                                    t.onMediaKeySysAccess(n, e)
                                }).catch(function (e) {
                                    var n = 6e4 + (e.states || 0);
                                    DrmError.LicenseRequestError.code = n, t.emit("error", new DrmError(objectSpread({}, DrmError.LicenseRequestError, {
                                        response: e && e.response
                                    }), n, t.config.licenseServer, e.msg), t)
                                }) : this.emit("error", new DrmError(DrmError.NotSupportDrmError), this)
                            }
                        }, {
                            key: "onMediaKeySysAccess",
                            value: function (e, t) {
                                var n = t.target,
                                    i = t.initData,
                                    o = this.extractContentId(i);
                                if (this.certificate = new Uint8Array(convertStrToBuffer(window.atob(e.data))), i = this._concatInitDataIdAndCertificate(i, o, this.certificate), this.mediaKey) this.nextState("sessionConnect", i, o);
                                else if (WebKitMediaKeys.isTypeSupported("com.apple.fps.1_0", "video/mp4")) {
                                    n.webkitSetMediaKeys(new WebKitMediaKeys("com.apple.fps.1_0")), this.mediaKey = n.webkitKeys, this.nextState("sessionConnect", i, o)
                                } else this.emit("error", new DrmError(DrmError.RequestKeySysError), this)
                            }
                        }, {
                            key: "onSessionConnect",
                            value: function (e, t) {
                                var n = this.mediaKey.createSession("video/mp4", e);
                                n ? (n.contentId = t, this.nextStateBy(n, "webkitkeymessage", "licenseRequest"), this.nextStateBy(n, "webkitkeyadded", "keyadded"), this.nextStateBy(n, "webkitkeyerror", "keyerror")) : this.emit("error", new DrmError(DrmError.setMediaKeyError, "create session error"), this)
                            }
                        }, {
                            key: "onLicenseRequest",
                            value: function (e) {
                                var t = this,
                                    n = e.target,
                                    i = e.message,
                                    o = this.config.licenseServer,
                                    r = {
                                        utdid: this.config.uid,
                                        licenseRequest: encodeURIComponent(window.btoa(convertBufferToStr(i))),
                                        drmType: "fairplay"
                                    },
                                    a = this._requestparam(o, r);
                                this.dataService.requestLicence(a.host, a.body).then(function (e) {
                                    n.update(base64DecodeUint8Array(e.data))
                                }).catch(function (e) {
                                    if (e.states) {
                                        var n = 6e4 + (e.states || 0);
                                        DrmError.LicenseRequestError.code = n, t.emit("error", new DrmError(objectSpread({}, DrmError.LicenseRequestError, {
                                            response: e && e.response
                                        }), n, t.config.licenseServer, e.msg), t)
                                    } else t.emit("error", new DrmError(DrmError.UpdateSessionError), t)
                                })
                            }
                        }, {
                            key: "onKeyadded",
                            value: function () {
                                logger.log("Decryption key was added to session."), this.mediaElement.play()
                            }
                        }, {
                            key: "onKeyerror",
                            value: function () {
                                this.emit("error", new DrmError(DrmError.UpdateSessionError, "webkitkeyerror"), this)
                            }
                        }, {
                            key: "_loadCertificate",
                            value: function () {
                                var e = this.config.licenseServer,
                                    t = {
                                        licenseRequest: encodeURIComponent("CAQ="),
                                        utdid: this.config.uid,
                                        drmType: "fairplay"
                                    },
                                    n = this._requestparam(e, t);
                                return this.dataService.requestLicence(n.host, n.body)
                            }
                        }, {
                            key: "extractContentId",
                            value: function (e) {
                                var t = arrayToString(e.slice(4, e.length)),
                                    n = document.createElement("a");
                                return n.href = t, n.hostname
                            }
                        }, {
                            key: "_concatInitDataIdAndCertificate",
                            value: function (e, t, n) {
                                if ("string" == typeof t) {
                                    t = stringToArray(t);
                                    var i = 0,
                                        o = new ArrayBuffer(e.byteLength + 4 + t.byteLength + 4 + n.byteLength),
                                        r = new DataView(o);
                                    new Uint8Array(o, i, e.byteLength).set(e), i += e.byteLength, r.setUint32(i, t.byteLength, !0), i += 4;
                                    var a = new Uint16Array(o, i, t.length);
                                    a.set(t), i += a.byteLength, r.setUint32(i, n.byteLength, !0), i += 4;
                                    return new Uint8Array(o, i, n.byteLength).set(n), new Uint8Array(o, 0, o.byteLength)
                                }
                            }
                        }, {
                            key: "_parseUrl",
                            value: function (e) {
                                var t = {},
                                    n = e.split("?")[0],
                                    i = e.split("?")[1];
                                return i ? (i.split("&").forEach(function (e) {
                                    var n = e.replace("=", "|").split("|"),
                                        i = slicedToArray(n, 2),
                                        o = i[0],
                                        r = i[1];
                                    t[o] = r
                                }), {
                                    host: n,
                                    params: t
                                }) : {
                                    host: n,
                                    params: {}
                                }
                            }
                        }, {
                            key: "_requestparam",
                            value: function (e, t) {
                                var n = this._parseUrl(e),
                                    i = Object.assign({}, n.params, t),
                                    o = "";
                                Object.keys(i).forEach(function (e) {
                                    o += "".concat(e, "=").concat(i[e], "&")
                                });
                                var r = o.slice(0, o.length - 1);
                                return {
                                    host: n.host,
                                    body: r
                                }
                            }
                        }]), t
                    }(StateMachine),
                    Driver = function () {
                        function e(t) {
                            classCallCheck(this, e), this._interval = t, this._tasks = [], this._stoped = !1, this._disabled = !1
                        }
                        return createClass(e, [{
                            key: "disableTask",
                            value: function (e) {
                                var t = this._tasks.find(function (t) {
                                    return t.method == e
                                });
                                t && (t.disabled = !0)
                            }
                        }, {
                            key: "disable",
                            value: function () {
                                this._disabled = !0
                            }
                        }, {
                            key: "enable",
                            value: function () {
                                this._disabled = !1
                            }
                        }, {
                            key: "enableTask",
                            value: function (e, t) {
                                var n = this._tasks.find(function (t) {
                                    return t.method == e
                                });
                                n && (delete n.disabled, t && this._doTask(n))
                            }
                        }, {
                            key: "addTask",
                            value: function (e, t) {
                                var n = 0 == this._tasks.length,
                                    i = this._tasks.filter(function (t) {
                                        return t.method === e
                                    })[0];
                                i ? i._nextTickCalled || (i.needTick = !0) : (i = {
                                    method: e,
                                    needTick: !0,
                                    ts: 0
                                }, this._tasks.push(i)), n ? this.start(t) : t && this._doTask(i)
                            }
                        }, {
                            key: "_pause",
                            value: function () {
                                clearInterval(this._intervalTimer), this._intervalTimer = null
                            }
                        }, {
                            key: "pause",
                            value: function () {
                                this._paused = !0
                            }
                        }, {
                            key: "stop",
                            value: function () {
                                clearInterval(this._intervalTimer), this._intervalTimer = null, this._tasks = [], this._stoped = !0
                            }
                        }, {
                            key: "start",
                            value: function (e) {
                                this._paused = !1, this._stoped = !1, this._intervalTimer || (this._intervalTimer = setInterval(this._doTick.bind(this), this._interval)), e && this._doTick()
                            }
                        }, {
                            key: "_doTick",
                            value: function () {
                                var e = this;
                                this._tasks.filter(function (t) {
                                    return t.needTick && Date.now() - t.ts > .8 * e._interval && !t.disabled
                                }).forEach(function (t) {
                                    e._doTask(t)
                                }), this._paused && this.pause()
                            }
                        }, {
                            key: "removeTask",
                            value: function (e) {
                                this._tasks = this._tasks.filter(function (t) {
                                    return t.method != e
                                })
                            }
                        }, {
                            key: "_doTask",
                            value: function (e) {
                                var t = this;
                                this._disabled || e.disabled || (e.needTick = !1, this[e.method] && this[e.method].call(this, function (n) {
                                    n && n.then ? (e._nextTickCalled = !0, n.then(function () {
                                        delete e._nextTickCalled, e.needTick = !0, e.ts = 0, setTimeout(function () {
                                            t._stoped || t._doTask(e)
                                        })
                                    })) : e._nextTickCalled || (e.needTick = !0, e.ts = Date.now(), "number" == typeof n && (e.ts += n - t._interval))
                                }))
                            }
                        }, {
                            key: "doTask",
                            value: function (e) {
                                var t = this._tasks.find(function (t) {
                                    return t.method == e
                                });
                                t || (t = {
                                    method: e,
                                    needTick: !0,
                                    ts: 0
                                }, this._tasks.push(t)), this._doTask(t)
                            }
                        }]), e
                    }(),
                    LOG_BLUE_TAG = "padding:0 5px;color:#fff;font-weight:bold;line-height:1.5;border-radius:3px;background:#00cbff;",
                    LOG_ORANGE_TAG = "padding:0 5px;color:#fff;font-weight:bold;line-height:1.5;border-radius:3px;background:rgb(251,176,54);",
                    LOG_RED_TAG = "padding:0 5px;color:#fff;font-weight:bold;line-height:1.5;border-radius:3px;background:#f92672;",
                    Action = {
                        PLAY: 0,
                        PAUSE: 1,
                        SEEK: 2,
                        WAITING: 3,
                        PLAYING: 4,
                        ENDED: 5,
                        ERROR: 6
                    },
                    State = {
                        INIT: 0,
                        RISE: 1,
                        DECLINE: 2,
                        NC: 3
                    },
                    BufferHealth = function (e) {
                        function t(e, n) {
                            var i;
                            return classCallCheck(this, t), i = possibleConstructorReturn(this, getPrototypeOf(t).call(this)), i.warningValue = e, i.dangerValue = n, i.reset(), i
                        }
                        return inherits(t, e), createClass(t, [{
                            key: "reset",
                            value: function () {
                                this.highWatermark = 0, this.watermark = 0, this.lastBufferLength = 0, this.state = State.INIT, this.watermarkState = State.INIT, this.lastTime = -1, this.alreadyWarning = !1
                            }
                        }, {
                            key: "setBufferLength",
                            value: function (e, t) {
                                if (this.lastTime > 0 && (this.elapsed = Date.now() - this.lastTime), this.lastTime = Date.now(), e > this.lastBufferLength) this.state = State.RISE, this.alreadyWarning = !1;
                                else if (e < this.lastBufferLength) {
                                    if (this.state === State.RISE) {
                                        var n = this.lastBufferLength - this.watermark;
                                        this.watermarkState = n > 0 ? State.RISE : State.DECLINE, this.watermark = this.lastBufferLength, this.watermark > this.highWatermark && (this.highWatermark = this.watermark)
                                    }
                                    this.state = State.DECLINE
                                }
                                this.state === State.DECLINE && !this.alreadyWarning && (Math.min(t, this.watermark) - e > this.warningValue && e <= 30 || e < this.dangerValue) && (this.emit("warning"), this.alreadyWarning = !0), this.lastBufferLength = e
                            }
                        }, {
                            key: "reportScore",
                            value: function () {
                                this.emit("score", this.increased.reduce(function (e, t) {
                                    return e + t
                                }, 0) / this.increased.length), this.increased = []
                            }
                        }]), t
                    }(EventBus),
                    MediaDriver = function (e) {
                        function t(e, n, i) {
                            var o;
                            return classCallCheck(this, t), o = possibleConstructorReturn(this, getPrototypeOf(t).call(this, i.config.interval)), o.mediaElement = e, o.mediaController = n, o.multiPlaylist = [], o.core = i, o.seekingTimer = null, o.lagTimer = null, o.videoBufferInfo = getBufferInfo(), o.audioBufferInfo = getBufferInfo(), o.seekFlag = 0, o.switched = 0, o.lastDiscontinuity = !1, o.lastLevelId = -1, o.bufferHealth = new BufferHealth(15, 5), o.bufferHealth.on("warning", function () {
                                var e = o.core,
                                    t = e.config,
                                    n = e.detector;
                                o.switched < 4 && t.domainSet.length > 0 && (t.switchDomain = !t.switchDomain, o.switched++, n.switched = o.switched, console.warn("change domain"), t.once("speedMap", function (e) {
                                    var i = t.domainSet[(t.domainSet.indexOf(e.current) + 1) % 2];
                                    n.record("switch", {
                                        target: e.current,
                                        from: i,
                                        targetSpeed: e[e.current],
                                        fromSpeed: e[i]
                                    })
                                }))
                            }), o.mediaController.on("startFlushM3u8Task", function () {
                                o.addTask("flushLiveM3u8", !1)
                            }), o
                        }
                        return inherits(t, e), createClass(t, [{
                            key: "loadPlayList",
                            value: function (e) {
                                var t = this,
                                    n = Array.isArray && Array.isArray(e);
                                n && (this.multiPlaylist = e.slice(1), e = e.shift(), 0 !== this.multiPlaylist.length ? this.mediaController.setMultiM3u8(!0) : this.mediaController.setMultiM3u8(!1)), this.enable(), this.mediaController.hasState("playListLoaded") ? (this.addTask("checkBuffer", !1), this.addTask("checkRealBuffer", !1), this.addTask("doGapJumping", !1), this.addTask("monitorVInfo", !1), this.addTask("emitLevelChange", !1), this.addTask("flushLiveM3u8", !1), this.disableTask("checkBuffer"), this.disableTask("checkRealBuffer"), this.disableTask("monitorVInfo"), this.disableTask("flushLiveM3u8"), this.lastFind = null, this.bufferHealth.reset(), this.mediaController.reset(), this.mediaController.nextState("reloadPlayList", e), this.seekFlag = 2, this.core.detector.dotChangeSource(), this.mediaController.after("playListReloaded->idle").then(function () {
                                    t.enableTask("checkBuffer", !0), t.enableTask("checkRealBuffer", !0), t.enableTask("monitorVInfo", !0), t.enableTask("flushLiveM3u8", !0), t.core.config.abrEnable && (t.lastLevelId = -1, t.addTask("emitLevelChange", !0)), n && t.addTask("checkM3u8PlayEnd", !1)
                                })) : (this._startTime = Date.now(), this.mediaController.nextState("loadPlayList", e), this.core.config.on("networkAgent", function (e) {
                                    "p2p" == e ? t.addTask("notifyP2P", !0) : t.removeTask("notifyP2P")
                                }), this.mediaController.after("idle").then(function () {
                                    t.addTask("checkBuffer", !0), t.addTask("checkRealBuffer", !0), t.addTask("flushLiveM3u8", !1), t.addTask("doGapJumping", !0), t.addTask("monitorVInfo", !0), n && t.addTask("checkM3u8PlayEnd", !1), t.core.config.abrEnable && t.addTask("emitLevelChange", !0), t._unmountVideoEvents(), t._mountVideoEvents()
                                }), this.mediaController.once("firstPlayloadLoadError", function () {
                                    t.loadPlayList(t.multiPlaylist)
                                }))
                            }
                        }, {
                            key: "selectUsedBuffered",
                            value: function () {
                                if (this.mediaController.isFmp4) try {
                                    var e = this.mediaController.sourceBuffers,
                                        t = e.video,
                                        n = e.audio,
                                        i = this.videoBufferInfo(t.buffered),
                                        o = this.audioBufferInfo(n.buffered),
                                        r = i.findRange(this.mediaElement.currentTime),
                                        a = o.findRange(this.mediaElement.currentTime);
                                    return r && a ? r[1] > a[1] ? i : o : i
                                } catch (e) {
                                    return templateBufferInfo(this.mediaElement.buffered)
                                }
                                return templateBufferInfo(this.mediaElement.buffered)
                            }
                        }, {
                            key: "checkRealBuffer",
                            value: function (e) {
                                var t = this;
                                if (this.mediaController.isLive && !this.mediaController.liveCanPlay) return void e(50);
                                var n = this.core.config,
                                    i = this.mediaElement.currentTime,
                                    o = this.selectUsedBuffered().fillGap(n.maxBufferHole),
                                    r = o.getIndicator(i, n.gapTolerance);
                                if (r.bufferLength <= n.maxBufferLength) {
                                    var a = this.mediaController.playList.getSegment(r.bufferEnd, this.mediaElement.seeking ? null : this.mediaController.mediaBuffer && this.mediaController.mediaBuffer.lastSegment, this.core.config.maxFragLookupTolerance);
                                    if (!a && this.mediaController.isLive && (a = this.mediaController.findFistSegmentLargerThanCurrentTime(r.bufferEnd)), a) {
                                        var s = this.mediaController.drainSegment(a.id);
                                        if (s) return s.once("appended", function () {
                                            logger.log("checkRealBuffer");
                                            var n = t.mediaController.slidePosition;
                                            t.mediaController.isLive && r.bufferEnd < n && (t.mediaElement.currentTime = Math.max(n, t.mediaElement.currentTime), logger.log("bufferEnd: ".concat(r.bufferEnd, " ,slidePosition: ").concat(n, " ,media seeking to "), t.mediaElement.currentTime)), e(100)
                                        }), void s.once("error", function () {
                                            return e(100)
                                        })
                                    }
                                }
                                if (this.mediaController.isInState("idle") && this.multiPlaylist.length && !this.mediaController.appendPlStatus) {
                                    var l = this.multiPlaylist.shift();
                                    this.mediaController.appendPlayList(l)
                                }
                                e(200)
                            }
                        }, {
                            key: "emitLevelChange",
                            value: function (e) {
                                var t = this.mediaController.playList.getLevelIdOfUsedSegment(this.mediaElement.currentTime);
                                if (t && this.lastLevelId !== t) {
                                    var n = this.mediaController.getStreamTypeByLevelId(t);
                                    logger.log("emit current level", n), this.core.emit(CoreXEvents.LEVEL_CHANGED, n), this.lastLevelId = t
                                }
                                e(1e3)
                            }
                        }, {
                            key: "checkBuffer",
                            value: function (e) {
                                var t = this.mediaController.isLive,
                                    n = this.core.config,
                                    i = this.mediaController.flyBuffered;
                                if (!i || this.mediaController.isLive && this.lastFind && this.lastFind.state === SegmentState.LOADING) return void e(300);
                                var o = this.selectUsedBuffered().fillGap(n.maxBufferHole).getIndicator(this.mediaElement.currentTime, n.gapTolerance),
                                    r = i.getIndicator(o.bufferEnd, n.gapTolerance);
                                t && o.bufferLength < n.maxBufferLength && o.bufferEnd < this.mediaController.slidePosition && (logger.log("bufferEnd:", o.bufferEnd, "slidePosition:", this.mediaController.slidePosition), r = this.selectUsedBuffered().fillGap(n.maxBufferHole).getIndicator(this.mediaController.liveSyncPostion, n.gapTolerance), logger.log("脱离直播点,sync position", this.mediaController.liveSyncPostion));
                                var a = t ? n.maxBufferLength : n.maxFlyBufferLength;
                                if (r.bufferLength < a) {
                                    var s = this._findSegment(r, i);
                                    if (s) return logger.groupEnd(), logger.group("%c".concat(formatTime(new Date)), LOG_BLUE_TAG, "segment:#", s.id, " with levelId ", s.levelId, " cc ", s.cc, s.brief(), "->", "".concat(r.bufferEnd, "[").concat(r.bufferLength, "]")), n.abrEnable && this.mediaController.abrController.nextState("segmentLoading", s), this.mediaController.nextState("segmentLoading", s), this.lastFind = s, s.once("loaded", function () {
                                        e(50)
                                    }), void s.once("error", function () {
                                        e(50)
                                    })
                                } else if (this.mediaElement.ended || this.mediaElement.paused) return;
                                e(300)
                            }
                        }, {
                            key: "flushLiveM3u8",
                            value: function (e) {
                                var t = this;
                                if (!this.mediaController.isLive) return void this.disableTask("flushLiveM3u8");
                                logger.log("start flush m3u8");
                                var n = performance.now();
                                this.mediaController.flushM3u8(), this.mediaController.once("m3u8Flushed", function (i) {
                                    n = (performance.now() - n) / 1e3;
                                    var o = 1e3 * t.mediaController.getLiveFlushInteval(n) / (i ? 1 : 2);
                                    logger.log("live playlist, reload in ".concat(Math.round(o), " ms")), e(o)
                                })
                            }
                        }, {
                            key: "notifyP2P",
                            value: function (e) {
                                var t = this.core.config,
                                    n = templateBufferInfo(this.mediaElement.buffered).fillGap(t.maxBufferHole),
                                    i = n.getIndicator(this.mediaElement.currentTime, t.gapTolerance);
                                this.core.dataService.setRemainTime(i.bufferLength), e(400)
                            }
                        }, {
                            key: "doGapJumping",
                            value: function (e) {
                                var t = this.core.config.maxFragLookupTolerance,
                                    n = templateBufferInfo(this.mediaElement.buffered).toGap().findRange(this.mediaElement.currentTime, .35);
                                n && n[1] - this.mediaElement.currentTime < t + .1 && (0 != n[0] || n[1] - n[0] > .08) && (this.mediaElement.currentTime = n[1] + .05, logger.log("jumping", this.mediaElement.currentTime)), e(500)
                            }
                        }, {
                            key: "_transparentGapJumping",
                            value: function () {
                                var e = templateBufferInfo(this.mediaElement.buffered).findRange(this.mediaElement.currentTime);
                                e && this.mediaElement.currentTime < e[1] - 1 && (1 !== this.mediaElement.playbackRate ? this.playbackRateCount && this.playbackRateCount > 20 ? (this.mediaElement.playbackRate = 1, this.playbackRateCount = 0) : (this.playbackRateCount || (this.playbackRateCount = 0), this.playbackRateCount++, this.mediaElement.currentTime += .01) : this.mediaElement.currentTime += .01, logger.log("jumping transparent hole", this.mediaElement.currentTime))
                            }
                        }, {
                            key: "monitorVInfo",
                            value: function (e) {
                                var t = this.core.mediaMonitor.getInfo();
                                this.core.emit(CoreXEvents.VIDEO_INFO, t), this.bufferHealth.setBufferLength(t.restBuffered, this.core.config.maxBufferLength), e(500)
                            }
                        }, {
                            key: "checkM3u8PlayEnd",
                            value: function (e) {
                                var t = this.mediaController.playList.locateSegment(this.mediaElement.currentTime);
                                if (!t) return void e(200);
                                this._emitM3u8PlayState(t, !1), e(200)
                            }
                        }, {
                            key: "_emitM3u8PlayState",
                            value: function (e, t) {
                                e = e || this.mediaController.playList.locateSegment(this.mediaElement.currentTime - .5) || {};
                                var n = e,
                                    i = n.discontinuity,
                                    o = n.id;
                                if (t || i && !this.lastDiscontinuity) {
                                    var r = t ? e : this.mediaController.playList.getSegmentById(o - 1);
                                    this.core.emit(CoreXEvents.M3U8_ENDED, {
                                        url: r && r.baseUrl
                                    })
                                }
                                this.lastDiscontinuity = e.discontinuity
                            }
                        }, {
                            key: "_findSegment",
                            value: function (e, t) {
                                var n = this.mediaController.playList.getSegment(e.bufferEnd, this.mediaElement.seeking ? null : this.mediaController.mediaBuffer && this.mediaController.mediaBuffer.lastSegment, this.core.config.maxFragLookupTolerance);
                                return n && n.state === SegmentState.INIT ? n : n ? n.state == SegmentState.INIT && n : void 0
                            }
                        }, {
                            key: "_checkEos",
                            value: function () {
                                var e = this.mediaElement.currentTime,
                                    t = this.mediaController.playList.locateSegment(e);
                                t && t.state === SegmentState.APPENDED && t.isLast && this.mediaController.closeStream()
                            }
                        }, {
                            key: "_mountVideoEvents",
                            value: function () {
                                var e = this,
                                    t = this.core,
                                    n = t.config,
                                    i = t.detector;
                                this.onPlaying = function () {
                                    clearTimeout(e.seekingTimer), clearTimeout(e.lagTimer), e._startTime > 0 && (i.setStartPlayTime(Date.now() - e._startTime), delete e._startTime), i.logChangeSource(), logger.log("%c".concat(formatTime(new Date), "|").concat(e.mediaElement.currentTime), LOG_ORANGE_TAG, "playing"), e.addTask("checkBuffer", !1), e.addTask("checkRealBuffer", !1), e.core.config.abrEnable && e.addTask("emitLevelChange", !1), "p2p" == n.networkAgent && e.addTask("notifyP2P", !0), i.collectActions(Action.PLAYING, e.mediaElement.currentTime)
                                }, this.onSeeking = function () {
                                    clearTimeout(e.lagTimer), clearTimeout(e.seekingTimer), e.bufferHealth.reset(), e.seekFlag = 2, logger.log("%c".concat(formatTime(new Date), "|").concat(e.mediaElement.currentTime), LOG_ORANGE_TAG, "seeking"), i.collectActions(Action.SEEK, e.mediaElement.currentTime), i.dotSeek(e.mediaElement.buffered, e.mediaElement.currentTime), e.disableTask("checkBuffer"), e.disableTask("checkRealBuffer"), e.seekingTimer = setTimeout(function () {
                                        e.enableTask("checkBuffer"), e.enableTask("checkRealBuffer"), e.addTask("checkBuffer", !0), e.addTask("checkRealBuffer", !0)
                                    }, 100)
                                }, this.onSeeked = function () {
                                    clearTimeout(e.seekingTimer), clearTimeout(e.lagTimer), e.enableTask("checkBuffer"), e.enableTask("checkRealBuffer"), i.logSeek(), logger.log("%c".concat(formatTime(new Date), "|").concat(e.mediaElement.currentTime), LOG_ORANGE_TAG, "seeked"), e.addTask("checkBuffer", !1), e.addTask("checkRealBuffer", !1), e.addTask("doGapJumping", !1), "p2p" == n.networkAgent && e.doTask("notifyP2P")
                                }, this.onWaiting = function () {
                                    clearTimeout(e.seekingTimer), e.enableTask("checkBuffer"), e.enableTask("checkRealBuffer"), e.addTask("doGapJumping", !0), e.t1 = Date.now(), logger.log("%c".concat(formatTime(new Date), "|").concat(e.mediaElement.currentTime), LOG_ORANGE_TAG, "waiting", e.mediaElement.seeking, e.mediaElement.readyState), e._checkEos();
                                    var t = e.mediaElement.readyState;
                                    clearTimeout(e.lagTimer), e.lagTimer = setTimeout(function () {
                                        i.collect(e.mediaElement, e.mediaController.playList);
                                        var n = i.summarize();
                                        logger.groupEnd(), logger.warn("%c检测到卡顿", LOG_RED_TAG, n), logger.group("-----------------------------"), i.sendGoldLog(n, "lag", {
                                            state: t
                                        }), e.core.emit(CoreXEvents.WAITING_TIMEOUT, n)
                                    }, 2 * n.maxSegmentLoadTimeout), e.mediaElement.seeking || e._transparentGapJumping(), e.addTask("checkBuffer", !0), e.addTask("checkRealBuffer", !0), i.collectActions(Action.WAITING, e.mediaElement.currentTime)
                                }, this.onPlay = function () {
                                    logger.log("do play"), e.addTask("checkBuffer", !1), e.addTask("checkRealBuffer", !1), e.addTask("checkM3u8PlayEnd", !1), i.collectActions(Action.PLAY, e.mediaElement.currentTime)
                                }, this.onPause = function () {
                                    logger.log("do pause"), e.lastTimeUpdate = 0, e.removeTask("notifyP2P"), e.removeTask("checkM3u8PlayEnd"), i.collectActions(Action.PAUSE, e.mediaElement.currentTime)
                                }, this.onEnded = function () {
                                    clearTimeout(e.lagTimer), clearTimeout(e.seekingTimer), e.lastTimeUpdate = 0, e.seekFlag = 0, e.removeTask("doGapJumping"), e.removeTask("checkBuffer"), e.removeTask("checkRealBuffer"), e.removeTask("notifyP2P"), e.removeTask("monitorVInfo"), e.removeTask("flushLiveM3u8"), e.removeTask("checkM3u8PlayEnd"), e.removeTask("emitLevelChange"), e._emitM3u8PlayState(null, !0), i.collectActions(Action.ENDED, e.mediaElement.currentTime)
                                }, this.onError = function (t) {
                                    logger.error(t), clearTimeout(e.lagTimer), e.mediaElement.error && 1 != e.mediaElement.error.code && e.core.fatalError(new MediaElementError(e.mediaElement.error))
                                }, this.mediaElement.addEventListener("playing", this.onPlaying), this.mediaElement.addEventListener("seeking", this.onSeeking), this.mediaElement.addEventListener("seeked", this.onSeeked), this.mediaElement.addEventListener("waiting", this.onWaiting), this.mediaElement.addEventListener("ended", this.onEnded), this.mediaElement.addEventListener("error", this.onError), this.mediaElement.addEventListener("pause", this.onPause), this.mediaElement.addEventListener("play", this.onPlay)
                            }
                        }, {
                            key: "_unmountVideoEvents",
                            value: function () {
                                this.mediaElement && (this.onPlaying && this.mediaElement.removeEventListener("playing", this.onPlaying), this.onSeeking && this.mediaElement.removeEventListener("seeking", this.onSeeking), this.onSeeked && this.mediaElement.removeEventListener("seeked", this.onSeeked), this.onWaiting && this.mediaElement.removeEventListener("waiting", this.onWaiting), this.onEnded && this.mediaElement.removeEventListener("ended", this.onEnded), this.onError && this.mediaElement.removeEventListener("error", this.onError), this.onPause && this.mediaElement.removeEventListener("pause", this.onPause), this.onPlay && this.mediaElement.removeEventListener("play", this.onPlay))
                            }
                        }, {
                            key: "_reportLag",
                            value: function (e) {
                                var t = this.core.detector;
                                t.collect(this.mediaElement, this.mediaController && this.mediaController.playList);
                                var n = t.summarize();
                                t.sendGoldLog(n, "lag2", {
                                    elapsed: e,
                                    seekFlag: this.seekFlag,
                                    interval: "".concat(this.lastTimeUpdate, "~").concat(this.lastTimeUpdate + e)
                                })
                            }
                        }, {
                            key: "_needToAwaitPrevSegment",
                            value: function (e, t, n) {
                                if (e && e.state > SegmentState.INIT && e.state <= SegmentState.LOADED) {
                                    if (e.id === t.id && e.levelId === t.levelId) return n(500), !0;
                                    if (!this.core.config.queueLoad || !this.core.queueLoad.usage) return e.state < SegmentState.LOADED && e.abort(AbortError.Invalid, this.core.dataService), n(500), !0
                                }
                            }
                        }, {
                            key: "_flushBuffer",
                            value: function (e) {
                                var t = this.core.config.maxFlushThreshold;
                                if (e) {
                                    if (e.length > 1) {
                                        var n = e[e.length - 1];
                                        e = n[1] - n[0] > .5 * t ? [e[0][0], n[1]] : [e[0][0], e[e.length - 2][1]]
                                    } else {
                                        if (!(e[0][1] - e[0][0] > .5 * t)) return;
                                        e = [e[0][0], e[0][1]]
                                    }
                                    this.mediaController.isOpen && e[1] - e[0] > 5 && this.mediaController.nextState("flushBuffer", e)
                                }
                            }
                        }, {
                            key: "changeStream",
                            value: function (e, t, n) {
                                var i = this;
                                this.bufferHealth.reset(), this.currentCondition && this.currentCondition[0] == e && this.currentCondition[1] == t || (this.currentCondition = [e, t], this.disableTask("checkBuffer"), this.disableTask("checkRealBuffer"), this.lastFind = null, this.mediaController.nextState("selectStream", e, t, n), this.mediaController.after("playListReloaded->idle").then(function () {
                                    i.enableTask("checkBuffer", !0), i.enableTask("checkRealBuffer", !0)
                                }))
                            }
                        }, {
                            key: "destroy",
                            value: function () {
                                this._unmountVideoEvents(), this.bufferHealth.reset(), clearTimeout(this.seekingTimer), clearTimeout(this.lagTimer), this.stop(), this.switched = 0, this.core.detector.switched = 0, this.core.config.off("networkAgent"), this.seekFlag = 0, this.lastTimeUpdate = 0, this.mediaElement = null, this.mediaController = null, this.core.detector.reset(), this.core = null
                            }
                        }, {
                            key: "online",
                            value: function () {
                                this.enable(), this.start()
                            }
                        }, {
                            key: "offline",
                            value: function () {
                                clearTimeout(this.seekingTimer), clearTimeout(this.lagTimer), this.disable(), this.stop()
                            }
                        }, {
                            key: "abrCurrentStreamType",
                            get: function () {
                                return this.mediaController.getStreamTypeByLevelId(this.lastLevelId)
                            }
                        }]), t
                    }(Driver),
                    RENDER_LIST_MAP = [{
                        prop: "playlist",
                        cls: "vinfopl-master-slave"
                    }, {
                        prop: "videoFormat",
                        cls: "vinfopl-video-format"
                    }, {
                        prop: "videoCodec",
                        cls: "vinfopl-video-codec"
                    }, {
                        prop: "audioCodec",
                        cls: "vinfopl-audio-codec"
                    }, {
                        prop: "networkAgent",
                        cls: "vinfopl-networkAgent"
                    }, {
                        prop: "cdn",
                        cls: "vinfopl-cdn"
                    }, {
                        prop: "schedule",
                        cls: "vinfopl-schedule"
                    }, {
                        prop: "volume",
                        cls: "vinfopl-volume"
                    }, {
                        prop: "resolution",
                        cls: "vinfopl-resolution"
                    }, {
                        prop: "videoWidth",
                        cls: "vinfopl-width-height"
                    }, {
                        prop: "speedFormatted",
                        cls: "vinfopl-downloadspeed"
                    }, {
                        prop: "maxSpeedFormatted",
                        cls: "vinfopl-maxSpeed"
                    }, {
                        prop: "restBuffered",
                        cls: "vinfopl-bufferQuality"
                    }, {
                        prop: "restFlyBuffered",
                        cls: "vinfopl-flyBufferQuality"
                    }, {
                        prop: "decodedFrames",
                        cls: "vinfopl-fps"
                    }],
                    AVC_PROFILES = {
                        100: "High",
                        77: "Main",
                        66: "Base"
                    },
                    SPEED_LEVELS = {.8: 100, .6: 60, .4: 40, .2: 30, .1: 10
                    },
                    dpr = window.devicePixelRatio || 1,
                    DOWNLOAD_VISUAL_BLOCK_WIDTH = 10,
                    DOWNLOAD_VISUAL_CTX_WIDTH = 150 * dpr,
                    DOWNLOAD_VISUAL_CTX_HEIGHT = 14 * dpr,
                    VideoInfoPlugin = function () {
                        function e() {
                            classCallCheck(this, e), this.lastVinfo = null, this.graph = null, this.ul = null, this.clean()
                        }
                        return createClass(e, [{
                            key: "mountCore",
                            value: function (e, t) {
                                this.core = e, this.container = t, this.init()
                            }
                        }, {
                            key: "init",
                            value: function () {
                                this.listenVInfo(), this.bindEvent()
                            }
                        }, {
                            key: "listenVInfo",
                            value: function () {
                                var e = this;
                                this.core.on("videoInfo", function (t) {
                                    e.graph && "none" === e.graph.style.display || e.lastVinfo && JSON.stringify(t) === JSON.stringify(e.lastVinfo) || (e.lastVinfo = t, e.renderVinfo())
                                })
                            }
                        }, {
                            key: "bindEvent",
                            value: function () {
                                var e = this;
                                this.container.onclick = function () {
                                    e.ul && (e.ul.style.display = "none")
                                }, this.core.config.contextMenu && (this.container.oncontextmenu = function (t) {
                                    var n = t.offsetX,
                                        i = t.offsetY;
                                    e.genCustomContextMenu(n, i), t.preventDefault()
                                })
                            }
                        }, {
                            key: "showGraph",
                            value: function () {
                                this.renderVideoInfoGraph()
                            }
                        }, {
                            key: "genCustomContextMenu",
                            value: function (e, t) {
                                var n = this,
                                    i = this.geneContextMenuHtml();
                                i.style.left = "".concat(e, "px"), i.style.top = "".concat(t, "px"), i.style.display = "block", i.style.paddingLeft = "10px", this.container.appendChild(i), document.querySelector("body #vinfopl-menu-ul li").onclick = function (e) {
                                    n.renderVideoInfoGraph(), n.ul && (n.ul.style.display = "none"), e.stopPropagation()
                                }
                            }
                        }, {
                            key: "geneContextMenuHtml",
                            value: function () {
                                if (!this.ul) {
                                    var e = document.createElement("ul");
                                    e.id = "vinfopl-menu-ul", e.style.width = "180px", e.style.height = "100px", e.style.background = "#000", e.style.listStyle = "none", e.style.padding = "10px", e.style.position = "absolute", e.style.display = "block", e.style.cursor = "pointer", e.style.opacity = "0.6", e.innerHTML = '<li style="color:#eee;font-size:12px;">视频信息</li>', this.ul = e
                                }
                                return this.ul
                            }
                        }, {
                            key: "renderVideoInfoGraph",
                            value: function () {
                                var e, t = this;
                                if (e = document.querySelector("#vinfopl-vinfo-graph")) e.style.display = "block";
                                else {
                                    e = this.geneGraphWrapperHtml();
                                    var n = this.container,
                                        i = n.offsetLeft,
                                        o = n.offsetTop;
                                    e.style.top = "".concat(o + 10, "px"), e.style.left = "".concat(i + 10, "px"), e.style.display = "block", this.container.appendChild(e), e.addEventListener("click", function (n) {
                                        "vinfopl-vinfo-graph-close" === n.target.className && (e.style.display = "none", t.resetCvs()), n.stopPropagation()
                                    })
                                }
                                this.graph = e;
                                var r = document.querySelector(".vinfopl-vinfo-graph-detail");
                                r || (r = document.createElement("div"), r.className = "vinfopl-vinfo-graph-detail", e.appendChild(r)), this.renderVinfo()
                            }
                        }, {
                            key: "geneGraphWrapperHtml",
                            value: function () {
                                var e = document.createElement("div");
                                return e.id = "vinfopl-vinfo-graph", e.style.position = "absolute", e.style.width = "350px", e.style.background = "rgba(0,0,0,0.7)", e.style.color = "#FFF", e.style.fontSize = "12px", e.style.fontWeight = "lighter", e.style.padding = "10px 0", e.style.zIndex = 9999, e.innerHTML = '<div class="vinfopl-vinfo-graph-close" style="position:absolute;right:20px;font-size: 20px;cursor:pointer;">x</div>', e
                            }
                        }, {
                            key: "renderVinfo",
                            value: function () {
                                if (this.graph) {
                                    var e = document.querySelector(".vinfopl-vinfo-graph-detail");
                                    if (e) {
                                        if (this.lastVinfo && this.lastVinfo.videoCodec) {
                                            var t = this.lastVinfo,
                                                n = t.playlist,
                                                i = t.videoFormat,
                                                o = t.networkAgent,
                                                r = t.cdn,
                                                a = t.schedule,
                                                s = t.audioCodec,
                                                l = t.audioSampleRate,
                                                u = t.videoCodec,
                                                c = t.profileIdc,
                                                d = t.levelIdc,
                                                h = t.volume,
                                                p = t.videoHeight,
                                                f = t.videoWidth,
                                                g = t.speedForamtted,
                                                m = t.maxSpeedFormatted,
                                                y = t.restBuffered,
                                                v = t.restFlyBuffered,
                                                _ = t.maxBufferLength,
                                                b = t.maxFlyBufferLength,
                                                E = t.droppedFPS,
                                                k = t.droppedFrames,
                                                w = t.decodedFrames,
                                                S = "display: inline-block;text-align: right;width: 100px;";
                                            return e.innerHTML && "无信息" !== e.innerHTML ? this.renderInfoLeastModified(this.lastVinfo, e) : e.innerHTML = '\n            <ul style="list-style:none;line-height:20px;padding:0">\n            <li><span style="'.concat(S, '">主从模式： </span><span class="vinfopl-master-slave">').concat(n, " [").concat(this.core.config.version, ']</span></li>\n            <li><span style="').concat(S, '">视频格式： </span><span class="vinfopl-video-format">').concat(i, '</span></li>\n            <li><span style="').concat(S, '">视频编码： </span><span class="vinfopl-video-codec">').concat(u, " (H.264 ").concat(AVC_PROFILES[c], " @L").concat((d / 10).toFixed(1), ')</span></li>\n            <li><span style="').concat(S, '">音频编码： </span><span class="vinfopl-audio-codec">').concat(this.aacFormate(s, l), '</span></li>\n            <li><span style="').concat(S, '">网络类型： </span><span class="vinfopl-networkAgent">').concat(o, '</span></li>\n            <li><span style="').concat(S, '">cdn： </span><span class="vinfopl-cdn">').concat(r, '</span></li>\n            <li style="display:').concat(a ? "block" : "none", '"><span style="').concat(S, '">302调度： </span><span class="vinfopl-schedule">').concat(a, '</span></li>\n            <li><span style="').concat(S, '">音量：</span><span class="vinfopl-volume">').concat(h, '</span></li>\n            <li>\n              <span style="').concat(S, '">分辨率： </span><span class="vinfopl-resolution">').concat(window.outerWidth, " x ").concat(window.outerHeight, '</span>\n            </li>\n            <li style="display:').concat(f ? "block" : "none", '"><span style="').concat(S, '">视频宽高： </span><span class="vinfopl-width-height">').concat(f, " x ").concat(p, " @ ").concat(formatBitRate(8 * this.core.config.bitRate), '</span></li>\n            <li>\n              <span style="').concat(S, '">下载速度： </span>\n              <canvas  class="vinfopl-vinfo-graph-detail-visual" style="display: inline-block;\n                width: 150px;\n                height: 14px;\n                vertical-align: middle;\n                margin-right: 5px;\n                background: #FFF;">\n              </canvas>\n              <span class="vinfopl-downloadspeed">').concat(g, '</span>\n            </li>\n            <li><span style="').concat(S, '">最大速度： </span><span class="vinfopl-maxSpeed">').concat(m, '</span></li>\n            <li><span style="').concat(S, '">缓冲质量： </span><span class="vinfopl-bufferQuality">').concat(y, "s / ").concat(_.toFixed(2), 's</span></li>\n            <li><span style="').concat(S, '">fly缓冲质量： </span><span class="vinfopl-flyBufferQuality">').concat(v, "s / ").concat(b.toFixed(2), 's</span></li>\n            <li><span style="').concat(S, '">   帧数： </span><span class="vinfopl-fps">').concat(k, "/").concat(w, " (drop ").concat(E, ')</span></li>\n            <li><span style="').concat(S, '">   drm： </span><span class="vinfopl-fps">').concat(this.isDrm(), "</span></li>\n            </ul>\n            "), void this.speedVisual(this.lastVinfo)
                                        }
                                        e.innerHTML = "无信息"
                                    }
                                }
                            }
                        }, {
                            key: "isDrm",
                            value: function () {
                                return !this.core.config || "default" !== this.core.config.drmType
                            }
                        }, {
                            key: "aacFormate",
                            value: function (e, t) {
                                var n = e && 2 == e.split(".")[2] ? "LC" : "SBR",
                                    i = "".concat(e, " (AAC-").concat(n);
                                return t ? "".concat(i, " @").concat(t / 1e3, "Khz)") : "".concat(i, ")")
                            }
                        }, {
                            key: "renderInfoLeastModified",
                            value: function () {
                                var e = this,
                                    t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                                    n = arguments.length > 1 ? arguments[1] : void 0;
                                RENDER_LIST_MAP.forEach(function (i) {
                                    var o, r = ".".concat(i.cls);
                                    switch (i.prop) {
                                    case "playlist":
                                        o = "".concat(t.playlist, " [").concat(e.core.config.version, "]");
                                        break;
                                    case "videoCodec":
                                        o = "".concat(t.videoCodec, " (H.264 ").concat(AVC_PROFILES[t.profileIdc], " @L").concat((t.levelIdc / 10).toFixed(1), ")");
                                        break;
                                    case "audioCodec":
                                        o = e.aacFormate(t.audioCodec, t.audioSampleRate);
                                        break;
                                    case "resolution":
                                        o = "".concat(window.outerWidth, " x ").concat(window.outerHeight);
                                        break;
                                    case "videoWidth":
                                        o = "".concat(t.videoWidth, " x ").concat(t.videoHeight, " @ ").concat(formatBitRate(8 * e.core.config.bitRate)), t.videoWidth || (o = void 0);
                                        break;
                                    case "restBuffered":
                                        o = "".concat(t.restBuffered, "s / ").concat(t.maxBufferLength, "s");
                                        break;
                                    case "restFlyBuffered":
                                        o = "".concat(t.restFlyBuffered, "s / ").concat(t.maxFlyBufferLength, "s");
                                        break;
                                    case "decodedFrames":
                                        o = "".concat(t.droppedFrames, "/").concat(t.decodedFrames, " (drop ").concat(t.droppedFPS, ")");
                                        break;
                                    default:
                                        o = t[i.prop]
                                    }
                                    o ? (n.querySelector(r).innerHTML = o, n.querySelector(r).parentNode.style.display = "block") : n.querySelector(r).parentNode.style.display = "none"
                                })
                            }
                        }, {
                            key: "clean",
                            value: function () {
                                var e = document.querySelector("#vinfopl-menu-ul"),
                                    t = document.querySelector("#vinfopl-vinfo-graph");
                                e && document.body.removeChild(e), t && document.body.removeChild(t)
                            }
                        }, {
                            key: "getCvsCtx",
                            value: function () {
                                if (this.ctx) return this.ctx;
                                var e = document.querySelector(".vinfopl-vinfo-graph-detail-visual");
                                if (e) return e.width = DOWNLOAD_VISUAL_CTX_WIDTH, e.height = DOWNLOAD_VISUAL_CTX_HEIGHT, this.ctx = e.getContext("2d"), this.ctx
                            }
                        }, {
                            key: "speedVisual",
                            value: function () {
                                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                                    t = this.getCvsCtx();
                                if (t) {
                                    var n = e.speed,
                                        i = e.speedFormatted,
                                        o = e.maxSpeed,
                                        r = this.calcSpeedBlockXAxis();
                                    if (this.renderTipsLine(t, r), 0 == parseFloat(i)) this.renderBlackBlock(t, r);
                                    else {
                                        var a = this.calcSpeedBlockYAxis(n, o);
                                        this.renderSpeedBlock(t, r, a)
                                    }
                                }
                            }
                        }, {
                            key: "calcSpeedBlockXAxis",
                            value: function () {
                                return void 0 === this.xAxis ? this.xAxis = 0 : this.xAxis > DOWNLOAD_VISUAL_CTX_WIDTH - DOWNLOAD_VISUAL_BLOCK_WIDTH ? this.xAxis = 0 : this.xAxis += DOWNLOAD_VISUAL_BLOCK_WIDTH, this.xAxis
                            }
                        }, {
                            key: "calcSpeedBlockYAxis",
                            value: function (e, t) {
                                var n;
                                if (e > 0) {
                                    var i = this.getSpeedLevel(e);
                                    n = (t - e) / t * DOWNLOAD_VISUAL_CTX_HEIGHT, n < 0 && (n = 0), n += (100 - i) / 100 * DOWNLOAD_VISUAL_CTX_HEIGHT, n = n > 25 ? 25 : n
                                } else n = 0;
                                return n
                            }
                        }, {
                            key: "getSpeedLevel",
                            value: function (e) {
                                for (var t = Object.keys(SPEED_LEVELS), n = 0; n < t.length; n++) {
                                    var i = t[n];
                                    if (e >= parseFloat(i)) return SPEED_LEVELS[i]
                                }
                                return 5
                            }
                        }, {
                            key: "renderSpeedBlock",
                            value: function (e, t, n) {
                                e.fillStyle = "white", e.fillRect(t, 0, DOWNLOAD_VISUAL_BLOCK_WIDTH, DOWNLOAD_VISUAL_CTX_HEIGHT), e.fillStyle = "rgba(30, 160, 146, 0.8)", e.fillRect(t, n, DOWNLOAD_VISUAL_BLOCK_WIDTH, DOWNLOAD_VISUAL_CTX_HEIGHT)
                            }
                        }, {
                            key: "renderBlackBlock",
                            value: function (e, t) {
                                e.fillStyle = "white", e.fillRect(t, 0, DOWNLOAD_VISUAL_BLOCK_WIDTH, DOWNLOAD_VISUAL_CTX_HEIGHT)
                            }
                        }, {
                            key: "renderTipsLine",
                            value: function (e, t) {
                                e.fillStyle = "rgba(0,0,0,0.6)", e.fillRect(t + DOWNLOAD_VISUAL_BLOCK_WIDTH, 0, 3, DOWNLOAD_VISUAL_CTX_HEIGHT)
                            }
                        }, {
                            key: "resetCvs",
                            value: function () {
                                this.ctx && (this.ctx.clearRect(0, 0, DOWNLOAD_VISUAL_CTX_WIDTH, DOWNLOAD_VISUAL_CTX_HEIGHT), this.xAxis = 0)
                            }
                        }]), e
                    }(),
                    ContainerProbe = function () {
                        function e() {
                            classCallCheck(this, e)
                        }
                        return createClass(e, null, [{
                            key: "tsProbe",
                            value: function (t) {
                                return !(e._syncOffset(new Uint8Array(t)) < 0)
                            }
                        }, {
                            key: "fmp4Probe",
                            value: function (t) {
                                var n = new Uint8Array(t);
                                return e._findBox({
                                    data: n,
                                    start: 0,
                                    end: Math.min(n.length, 16384)
                                }, ["moof"]).length > 0
                            }
                        }, {
                            key: "_syncOffset",
                            value: function (e) {
                                for (var t = Math.min(1e3, e.length - 564), n = 0; n < t;) {
                                    if (71 === e[n] && 71 === e[n + 188] && 71 === e[n + 376]) return n;
                                    n++
                                }
                                return -1
                            }
                        }, {
                            key: "_findBox",
                            value: function (t, n) {
                                var i, o, r, a, s, l, u, c = [];
                                if (t.data ? (l = t.start, a = t.end, t = t.data) : (l = 0, a = t.byteLength), !n.length) return null;
                                for (i = l; i < a;) o = e._readUint32(t, i), r = e._bin2str(t.subarray(i + 4, i + 8)), u = o > 1 ? i + o : a, r === n[0] && (1 === n.length ? c.push({
                                    data: t,
                                    start: i + 8,
                                    end: u
                                }) : (s = e._findBox({
                                    data: t,
                                    start: i + 8,
                                    end: u
                                }, n.slice(1)), s.length && (c = c.concat(s)))), i = u;
                                return c
                            }
                        }, {
                            key: "_readUint32",
                            value: function (e, t) {
                                e.data && (t += e.start, e = e.data);
                                var n = e[t] << 24 | e[t + 1] << 16 | e[t + 2] << 8 | e[t + 3];
                                return n < 0 ? 4294967296 + n : n
                            }
                        }, {
                            key: "_bin2str",
                            value: function (e) {
                                return String.fromCharCode.apply(null, e)
                            }
                        }, {
                            key: "parseInitSegment",
                            value: function (t) {
                                var n = [];
                                return e._findBox(t, ["moov", "trak"]).forEach(function (t) {
                                    var i = e._findBox(t, ["tkhd"])[0];
                                    if (i) {
                                        var o = i.data[i.start],
                                            r = 0 === o ? 12 : 20,
                                            a = e._readUint32(i, r),
                                            s = e._findBox(t, ["mdia", "mdhd"])[0];
                                        if (s) {
                                            o = s.data[s.start], r = 0 === o ? 12 : 20;
                                            var l = e._readUint32(s, r),
                                                u = e._findBox(t, ["mdia", "hdlr"])[0];
                                            if (u) {
                                                var c = e._bin2str(u.data.subarray(u.start + 8, u.start + 12)),
                                                    d = {
                                                        soun: "audio",
                                                        vide: "video"
                                                    }[c];
                                                if (d) {
                                                    var h = e._findBox(t, ["mdia", "minf", "stbl", "stsd"]);
                                                    h.length && (h = h[0]), n[a] = {
                                                        timescale: l,
                                                        type: d
                                                    }, n[d] = {
                                                        timescale: l,
                                                        id: a
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }), n
                            }
                        }]), e
                    }(),
                    TsPipeLine = function (e) {
                        function t(e) {
                            var n;
                            return classCallCheck(this, t), n = possibleConstructorReturn(this, getPrototypeOf(t).call(this)), n.worker = getWorker(), n.bindTsWorkerEvent(), n.worker.postMessage({
                                type: "INIT",
                                data: e
                            }), n
                        }
                        return inherits(t, e), createClass(t, [{
                            key: "resetInitSegment",
                            value: function () {
                                this.worker.postMessage({
                                    type: "RESET_INIT_SEGMENT"
                                })
                            }
                        }, {
                            key: "setDiscontinuity",
                            value: function (e) {
                                this.worker.postMessage({
                                    type: "SET_DISCONTINUITY",
                                    data: e
                                })
                            }
                        }, {
                            key: "probe",
                            value: function (e) {
                                return ContainerProbe.tsProbe(e)
                            }
                        }, {
                            key: "changeDecodeKey",
                            value: function (e) {
                                this.worker.postMessage({
                                    type: "CHANGE_DECODE_KEY",
                                    data: e
                                })
                            }
                        }, {
                            key: "bindTsWorkerEvent",
                            value: function () {
                                var e = this;
                                this.onMessage = function (t) {
                                    e.emit("SEGMENT_READY", t.data)
                                }, this.worker.addEventListener("message", this.onMessage), this.worker.onerror = function (t) {
                                    e.worker.postMessage({
                                        type: "CLEAN_WHEN_ERROR"
                                    }), e.emit("SEGMENT_ERROR", t.message)
                                }
                            }
                        }, {
                            key: "setBaseMediaDecodeTime",
                            value: function (e) {
                                this.worker.postMessage({
                                    type: "SET_BASEMEDIA_DECODE_TIME",
                                    data: e
                                })
                            }
                        }, {
                            key: "push",
                            value: function (e, t, n, i, o, r, a) {
                                this.worker.postMessage({
                                    type: "BUFFER_DATA",
                                    data: {
                                        buffer: e,
                                        encrypted: n,
                                        continuous: i,
                                        discontinuity: o,
                                        timeOffset: r,
                                        accurateTimeOffset: a
                                    }
                                }, e instanceof ArrayBuffer ? [e] : [])
                            }
                        }, {
                            key: "destroy",
                            value: function () {
                                this.worker.removeEventListener("message", this.onMessage), this.worker.clean()
                            }
                        }]), t
                    }(EventBus),
                    Fmp4PipeLine = function (e) {
                        function t() {
                            return classCallCheck(this, t), possibleConstructorReturn(this, getPrototypeOf(t).apply(this, arguments))
                        }
                        return inherits(t, e), createClass(t, [{
                            key: "probe",
                            value: function (e) {
                                return ContainerProbe.fmp4Probe(e)
                            }
                        }, {
                            key: "setBaseMediaDecodeTime",
                            value: function () {}
                        }, {
                            key: "changeDecodeKey",
                            value: function () {}
                        }, {
                            key: "resetInitSegment",
                            value: function () {}
                        }, {
                            key: "setDiscontinuity",
                            value: function () {}
                        }, {
                            key: "push",
                            value: function (e, t) {
                                this.emit("SEGMENT_READY", [{
                                    type: "video",
                                    data: e
                                }, {
                                    type: "audio",
                                    data: t
                                }])
                            }
                        }, {
                            key: "destroy",
                            value: function () {}
                        }]), t
                    }(EventBus),
                    DataPipeLine = function (e) {
                        function t(e, n) {
                            var i;
                            classCallCheck(this, t), i = possibleConstructorReturn(this, getPrototypeOf(t).call(this, "DataPipeLine")), i.core = n;
                            var o = {
                                decodeKey: e.decodeKey,
                                keepOriginalTimestamps: !1,
                                remux: !1
                            };
                            return i.muxConfig = {
                                decodeKey: []
                            }, i.pipeLines = [new TsPipeLine(o), new Fmp4PipeLine({
                                decodeKey: [35, 226, 167, 163, 15, 152, 162, 234, 254, 53, 169, 158]
                            })], i.pipeLines.forEach(function (e) {
                                i.nextStateBy(e, "SEGMENT_READY", "ready").check("processing"), e.on("SEGMENT_ERROR", function (e) {
                                    var t = i.pendingSegment.shift(),
                                        n = new SegmentError(SegmentError.WORKER_PARSING_ERROR, e);
                                    n.bindSegment(t), i.nextState("error", n, t)
                                })
                            }), i.pendingSegment = [], i
                        }
                        return inherits(t, e), createClass(t, [{
                            key: "changeDecodeKey",
                            value: function (e) {
                                this.pipeLines.forEach(function (t) {
                                    return t.changeDecodeKey(e)
                                })
                            }
                        }, {
                            key: "resetLastSegment",
                            value: function () {
                                this.lastSegment = null
                            }
                        }, {
                            key: "resetInitSegment",
                            value: function () {
                                this.pipeLines.forEach(function (e) {
                                    return e.resetInitSegment()
                                })
                            }
                        }, {
                            key: "onReady",
                            value: function (e) {
                                var t = this.pendingSegment.shift();
                                if (!t) return void this.nextState("idle");
                                if (e.length > 0) {
                                    if (e.forEach(function (e) {
                                        t["".concat(e.type, "Data")] = e.data, t["".concat(e.type, "Info")] = e.info
                                    }), this.muxConfig.decodeKey && (!t.videoData || 0 == t.videoData.byteLength)) return this.nextState("error", new DrmError(DrmError.YouKuDrmDecodeError, array2string(this.muxConfig.decodeKey)), t);
                                    t.data = null, t.clearError(), t.emit("muxed", t), this.lastSegment = t
                                } else this.nextState("error", new SegmentError(SegmentError.FRAG_PARSING_ERROR, t.url).bindSegment(t), t);
                                this.pendingSegment.length > 0 ? this.nextState("processing") : this.nextState("idle")
                            }
                        }, {
                            key: "onProcessing",
                            value: function () {
                                var e = this.pendingSegment[0],
                                    t = this.pipeLines.filter(function (t) {
                                        return t.probe(e.data)
                                    })[0];
                                if (t) {
                                    var n = this.lastSegment && e.id === this.lastSegment.id + 1,
                                        i = !(this.lastSegment && e.cc === this.lastSegment.cc),
                                        o = !(this.core.videoElement && this.core.videoElement.seeking || this.core.mediaController.playList.isLive);
                                    (!this.lastSegment || this.lastSegment && this.lastSegment.levelId !== e.levelId) && t.resetInitSegment(), t.push(e.data, e.audioData, void 0 === e.drm_notencrypt, n, i, e.start, o)
                                } else this.nextState("error", new SegmentError(SegmentError.WORKER_PARSING_ERROR, "probe fail: 不支持的数据格式"), e)
                            }
                        }, {
                            key: "onError",
                            value: function (e, t) {
                                t.setState(SegmentState.INIT), t.emit("error", e)
                            }
                        }, {
                            key: "onEnd",
                            value: function () {
                                this.lastSegment = null, this.pendingSegment = [], this.destroy(), this.pipeLines.forEach(function (e) {
                                    return e.destroy()
                                })
                            }
                        }, {
                            key: "abortAllProcessingSegment",
                            value: function () {
                                this.pendingSegment = [], this.nextState("idle")
                            }
                        }, {
                            key: "getLogTags",
                            value: function () {
                                return ["%c".concat(formatTime(new Date)), LOG_BLUE_TAG]
                            }
                        }, {
                            key: "push",
                            value: function (e) {
                                if (!this.pendingSegment.find(function (t) {
                                    return t.id == e.id
                                })) return this.pendingSegment.push(e), this.nextState("processing"), !0
                            }
                        }]), t
                    }(StateMachine),
                    defaultConfig = {
                        version: "1.1.10",
                        maxBufferLength: 60,
                        maxFlyBufferLength: 130,
                        networkAgent: "xhr",
                        maxBufferSize: /(Edge\/|Trident\/|Tizen)/.test(navigator.userAgent) ? 31457280 : 62914560,
                        gapTolerance: .5,
                        maxFragLookupTolerance: .5,
                        maxBufferHole: .5,
                        domainSet: [],
                        resolutionToFilter: [],
                        speedMap: {},
                        switchedDomain: !1,
                        maxFlushThreshold: 50,
                        interval: 200,
                        maxErrorRetryCount: 3,
                        sessionId: Number("".concat(Math.random()).split(".")[1]).toString(20),
                        decodeKey: null,
                        p2p: !1,
                        queueLoad: !1,
                        manifestLoadingRetryDelay: 1e3,
                        levelLoadingRetryDelay: 1e3,
                        fragLoadingRetryDelay: 1e3,
                        maxNetworkRetryCount: 5,
                        maxSegmentLoadTimeout: 2e4,
                        liveSegmentLoadTimeout: 3e4,
                        maxM3u8LoadTimeout: 25e3,
                        mediaRetryDelay: 1e3,
                        liveCanPlayMinSegmentsCount: 1,
                        liveMaxLatencyFactor: .9,
                        liveFlushIntervalFactor: .7,
                        abrEwmaFastLive: 1,
                        abrEwmaSlowLive: 10,
                        maxShiftTolerance: 1,
                        p2pClientId: "",
                        lagThreshold: 500,
                        uid: "111",
                        vid: "",
                        keySystem: "com.widevine.alpha",
                        defaultAutoLevel: 3,
                        abrEnable: !1,
                        abrEwmaFastVoD: 3,
                        abrEwmaSlowVoD: 9,
                        abrEwmaDefaultEstimate: 5e5,
                        abrInitBandWidthFactor: .45,
                        abrBandWidthFactor: .95,
                        abrBandWidthUpFactor: .55,
                        licenseServer: "https://pre-license-server.youku.com/ups/drm.json?drmType=widevine&token=5yII1wFs6w5q1B_tOYIteBz1oTmzqM-t6ur4z-Qdw8bkdRdnd2VFojr07NTnKKC_p-gzIkD90AtnRhfG6QaSMCWcum572Okc&vid=XMzk3MDY0ODQyMA==&utdid=&psid=593ad5a432c3f6546656b8a872b2d76b&ccode=0502&mac=&network=&brand=&osVer=&appVer=&clientIp=192.168.1.1&clientTs=1554947211",
                        drmType: "default",
                        logServer: "https://pcapp-data-collect.youku.com/pclog",
                        contextMenu: !1
                    },
                    Config = function (e) {
                        function t() {
                            var e, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                            classCallCheck(this, t), e = possibleConstructorReturn(this, getPrototypeOf(t).call(this));
                            var i = n,
                                o = 0;
                            return Object.defineProperty(assertThisInitialized(assertThisInitialized(e)), "bitRate", {
                                get: function () {
                                    return i.bitRate || 0
                                }, set: function (e) {
                                    var t = i.bitRate;
                                    e < 0 ? (i.bitRate = 0, o = 0) : e > 0 && (i.bitRate = ((i.bitRate || 0) * o + e) / (o + 1), o++), this.emit("bitRate", i.bitRate, t)
                                }
                            }), Object.defineProperty(assertThisInitialized(assertThisInitialized(e)), "maxBufferLength", {
                                get: function () {
                                    var e = i.maxBufferLength || defaultConfig.maxBufferLength;
                                    if (this.bitRate > 0) {
                                        var t = this.maxBufferSize / this.bitRate;
                                        e = Math.max(10, Math.min(e, t))
                                    }
                                    return /(Edge\/|Trident\/|Tizen)/.test(navigator.userAgent) && (e = Math.min(e, 60)), e
                                }, set: function (e) {
                                    var t = i.maxBufferLength;
                                    i.maxBufferLength = e, this.emit("maxBufferLength", this.maxBufferLength, t)
                                }
                            }), Object.defineProperty(assertThisInitialized(assertThisInitialized(e)), "isDrm", {
                                get: function () {
                                    return "cenc" === i.drmType || "cbcs" === i.drmType
                                }
                            }), Object.keys(defaultConfig).forEach(function (t) {
                                e.hasOwnProperty(t) || Object.defineProperty(assertThisInitialized(assertThisInitialized(e)), t, {
                                    get: function () {
                                        return "decodeKey" === t ? [] : void 0 !== i[t] ? i[t] : defaultConfig[t]
                                    }, set: function (e) {
                                        var n = i[t];
                                        n !== e && (i[t] = e, this.emit(t, e, n))
                                    }
                                })
                            }), e
                        }
                        return inherits(t, e), t
                    }(EventBus),
                    setConfig = function (e) {
                        var t = Object.keys(e).filter(function (e) {
                            return !defaultConfig.hasOwnProperty(e)
                        });
                        return t.length > 0 && logger.warn("unknown config key:", t.join(",")), new Config(e)
                    },
                    XHRAgent = function () {
                        function e() {
                            classCallCheck(this, e)
                        }
                        return createClass(e, [{
                            key: "request",
                            value: function (e, t) {
                                var n = new XMLHttpRequest,
                                    i = new IPromise(function () {
                                        n.activeAbort = !0, n.abort()
                                    });
                                n.open(t.method || "GET", e, !0), t.responseType && (n.responseType = t.responseType), t.timeout && (n.timeout = t.timeout), n.withCredentials = t.withCredentials, n.onabort = function () {
                                    n.activeAbort ? n.activeAbort = !1 : i.reject(new NetworkError(NetworkError.Abort, e))
                                }, n.onload = function (o) {
                                    var r = o.target,
                                        a = r.response,
                                        s = r.status;
                                    s >= 200 && s <= 299 && 202 != s ? (n.responseURL && n.responseURL != e && t.urlChanged && t.urlChanged(n.responseURL), i.resolve(a)) : i.reject(new NetworkError({
                                        response: {
                                            code: s,
                                            url: e
                                        },
                                        code: 2e4 + s,
                                        message: "请求{%1}时服务器返回出错",
                                        severity: 401 == s || 403 == s ? ErrorSeverity.CRITICAL : ErrorSeverity.RECOVERABLE
                                    }))
                                }, n.onerror = function (t) {
                                    i.reject(new NetworkError(NetworkError.HttpError, e))
                                }, n.ontimeout = function () {
                                    i.reject(new NetworkError(NetworkError.Timeout, e))
                                }, n.onprogress = function (e) {
                                    t.onProgress && t.onProgress(e)
                                };
                                for (var o in t.headers)
                                    if (t.headers.hasOwnProperty(o)) {
                                        var r = "Authorization" === o ? o : o.toLowerCase();
                                        n.setRequestHeader(r, t.headers[o])
                                    }
                                return n.send(t.body), i
                            }
                        }]), e
                    }(),
                    XHRAgent$1 = new XHRAgent,
                    LogService = function () {
                        function e() {
                            classCallCheck(this, e)
                        }
                        return createClass(e, [{
                            key: "sendLog",
                            value: function (e, t) {
                                return XHRAgent$1.request(e, {
                                    method: "POST",
                                    body: "rbody=".concat(encodeURIComponent(JSON.stringify(t))),
                                    headers: {
                                        "Content-Type": "application/x-www-form-urlencoded"
                                    }
                                })
                            }
                        }, {
                            key: "sendGoldLog",
                            value: function (e) {
                                var t = "player-stat-".concat(Math.floor(1e4 * Math.random())),
                                    n = document.createElement("img");
                                n.src = "".concat(e), n.className = t
                            }
                        }]), e
                    }(),
                    LogService$1 = new LogService,
                    Detector$1 = function () {
                        function e(t, n) {
                            classCallCheck(this, e), this.config = t, this.mediaMonitor = n, this.actions = [], this.seekDot = null, this.changeSourceDot = null, this._recorded = {}, this._startPlayTime = 0
                        }
                        return createClass(e, [{
                            key: "setStartPlayTime",
                            value: function (e) {
                                this._startPlayTime || (this._startPlayTime = e)
                            }
                        }, {
                            key: "collectActions",
                            value: function (e, t) {
                                var n = Date.now();
                                this.baseTs || (this.baseTs = n);
                                var i = this.actions[this.actions.length - 1],
                                    o = (n - this.baseTs).toString(36);
                                t = formatNum(t, 3), i && e == i[0] && o == i[1] && t == i[2] ? i[3] = (i[3] || 0) + 1 : this.actions.push([e, o, t])
                            }
                        }, {
                            key: "summarize",
                            value: function () {
                                return {
                                    actions: this.actions,
                                    indicator: this.indicator,
                                    parties: this.parties
                                }
                            }
                        }, {
                            key: "collect",
                            value: function (e, t) {
                                if (this.collectIndicator(e), t) {
                                    var n = t.locateSegment(e.currentTime);
                                    this.collectSegments([n && t.getSegmentById(n.id - 1), n, n && t.getSegmentById(n.id + 1)])
                                }
                            }
                        }, {
                            key: "collectIndicator",
                            value: function (e) {
                                if (e) {
                                    var t = templateBufferInfo(e.buffered),
                                        n = t.getIndicator(e.currentTime, 0);
                                    this.indicator = {
                                        bufferInfo: t.snapshot(e.currentTime),
                                        currentTime: e.currentTime,
                                        bufferLength: Number(n.bufferLength).toFixed(4)
                                    }
                                }
                            }
                        }, {
                            key: "collectSegments",
                            value: function (e) {
                                this.parties = e.map(function (e) {
                                    return e && e.serialize()
                                })
                            }
                        }, {
                            key: "dotSeek",
                            value: function (e, t) {
                                templateBufferInfo(e).fillGap(this.config.maxBufferHole).indexOf(t) >= 0 || (this.changeSourceDot && (this.changeSourceDot.seek++, void 0 == this.changeSourceDot.firstSeekTs ? this.changeSourceDot.firstSeekTs = Date.now() : this.changeSourceDot.reduce = Date.now() - this.changeSourceDot.firstSeekTs), this.seekDot = {
                                    ts: Date.now()
                                })
                            }
                        }, {
                            key: "dotChangeSource",
                            value: function () {
                                delete this.seekDot, this.changeSourceDot = {
                                    ts: Date.now(),
                                    seek: 0
                                }
                            }
                        }, {
                            key: "logSeek",
                            value: function () {
                                this.seekDot && (this.loggedSeek || (this.loggedSeek = !0), delete this.seekDot)
                            }
                        }, {
                            key: "logChangeSource",
                            value: function () {
                                this.changeSourceDot && (this.loggedChangeSource || (this.loggedChangeSource = !0), delete this.changeSourceDot)
                            }
                        }, {
                            key: "getActionsByInterval",
                            value: function (e, t) {
                                this.actions.filter(function (n) {
                                    return n.ts >= e && n.ts <= t
                                })
                            }
                        }, {
                            key: "reset",
                            value: function () {
                                this._recorded = {}, this._startPlayTime = 0
                            }
                        }, {
                            key: "record",
                            value: function (e, t, n) {
                                var i = this.config;
                                if (n) {
                                    if (this._recorded[e]) return;
                                    this._recorded[e] = !0
                                }
                                t.t = Date.now(), t.sp = this._startPlayTime, t.playersid = i.sessionId, t.isP2P = i.networkAgent, t.version = i.version, t.cna = i.uid, t.vid = i.vid, t.drmType = i.drmType, t.type = e;
                                var o = Object.keys(t).map(function (e) {
                                    return "".concat(e, "=").concat(encodeURIComponent(t[e]))
                                }).join("&");
                                try {
                                    window.goldlog.record("/yt/youkuplayer.fdl.ykcore", "EXP", o, "GET")
                                } catch (e) {
                                    LogService$1.sendGoldLog("//gm.mmstat.com/yt/youkuplayer.fdl.ykcore?".concat(o))
                                }
                            }
                        }, {
                            key: "sendGoldLog",
                            value: function (e, t) {
                                var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},
                                    i = this.config,
                                    o = this.mediaMonitor,
                                    r = this.formatSummary(e);
                                r.t = Date.now(), r.playersid = i.sessionId, r.isP2P = i.networkAgent, r.version = i.version, r.cna = i.uid, r.vid = i.vid, r.drmType = i.drmType, r.type = t, r.videoHeight = o.segInfo && o.segInfo.height, r.speed = formatNum(1024 * (o.downMonitor.getSpeed().speed || 0), 2), r.maxSpeed = formatNum(1024 * (o.downMonitor.getMaxSpeed().maxSpeed || 0), 2), r = objectSpread({}, r, n);
                                var a = Object.keys(objectSpread({}, r, n)).map(function (e) {
                                    return "".concat(e, "=").concat(encodeURIComponent(r[e]))
                                }).join("&");
                                try {
                                    window.goldlog.record("/yt/youkuplayer.fdl.ykcore", "EXP", a, "GET")
                                } catch (e) {
                                    LogService$1.sendGoldLog("//gm.mmstat.com/yt/youkuplayer.fdl.ykcore?".concat(a))
                                }
                            }
                        }, {
                            key: "collectSpeed",
                            value: function (e, t) {
                                if (!e) return "";
                                for (var n = e.getSegments(), i = [], o = 0; o < n.length; o++) {
                                    var r = n[o];
                                    if (r.elapsed > 0 && r.size > 0) {
                                        var a = 1e3 * r.size / r.elapsed,
                                            s = Math.round(a / 102400);
                                        s !== i[i.length - 1] && i.push(s)
                                    } else if (r.start > t + 2 * r.duration) break
                                }
                                return base64ForUrl(resolveSamples(i).slice(-35).map(function (e) {
                                    return String.fromCharCode(Math.min(e + 32, 126))
                                }).join(""))
                            }
                        }, {
                            key: "formatSummary",
                            value: function (e) {
                                return {
                                    sp: this._startPlayTime,
                                    baseTs: this.baseTs,
                                    actions: e.actions.slice(-50).map(function (e) {
                                        return e.join("!")
                                    }).join("-"),
                                    bufferInfo: this.indicator.bufferInfo.map(function (e) {
                                        return e.join("~")
                                    }).join("!"),
                                    currentTime: this.indicator.currentTime,
                                    bufferLength: this.indicator.bufferLength,
                                    parties: this.parties ? this.parties.join("-") : "",
                                    cdn: this.mediaMonitor.cdn,
                                    schedule: this.mediaMonitor.schedule || "",
                                    switched: this.switched || this.config.switchDomain,
                                    drop: this.mediaMonitor.checkFPS().droppedFPS || 0
                                }
                            }
                        }, {
                            key: "sendLog",
                            value: function (e) {
                                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                                    n = arguments.length > 2 ? arguments[2] : void 0,
                                    i = this.config,
                                    o = this.mediaMonitor,
                                    r = this.formatSummary(t),
                                    a = browserDetect(),
                                    s = a.name,
                                    l = a.os,
                                    u = a.version,
                                    c = o.getInfo(),
                                    d = c.audioCodec,
                                    h = c.audioSampleRate,
                                    p = c.videoCodec,
                                    f = c.profileIdc,
                                    g = c.levelIdc,
                                    m = c.schedule,
                                    y = c.videoHeight,
                                    v = c.videoWidth,
                                    _ = c.networkAgent,
                                    b = c.restBuffered,
                                    E = c.cdn,
                                    k = "".concat(i.logServer, "?").concat(paramsSerialize({
                                        logtype: "error",
                                        cid: "corex",
                                        ver: i.version,
                                        mac: i.uid,
                                        pid: i.vid,
                                        drmType: i.drmType,
                                        rid: e,
                                        api: m,
                                        apikey: _,
                                        apitype: s,
                                        subtype: u,
                                        errcode: n,
                                        os: l
                                    }));
                                LogService$1.sendLog(k, objectSpread({}, r, {
                                    error: t.error,
                                    cdn: E,
                                    videoInfo: {
                                        audioCodec: d,
                                        audioSampleRate: h,
                                        videoCodec: p,
                                        profileIdc: f,
                                        levelIdc: g,
                                        restBuffered: b,
                                        video: {
                                            width: v,
                                            height: y
                                        },
                                        speed: o.downMonitor.getSpeed().speedFormatted,
                                        maxSpeed: o.downMonitor.getMaxSpeed().maxSpeedFormatted
                                    }
                                }))
                            }
                        }]), e
                    }(),
                    MediaMonitor = function (e) {
                        function t(e, n) {
                            var i;
                            return classCallCheck(this, t), i = possibleConstructorReturn(this, getPrototypeOf(t).call(this, "MediaMonitor")), i.config = e, i.core = n, i.isVideoPlaybackQualityAvailable = !1, i
                        }
                        return inherits(t, e), createClass(t, [{
                            key: "mountSegment",
                            value: function (e) {
                                if (e) {
                                    this.segInfo = e.videoInfo, this.videoCodec = generateVideoCodec(e.videoInfo), this.profileIdc = e.videoInfo ? e.videoInfo.profileIdc : 66, this.levelIdc = e.videoInfo && e.videoInfo.levelIdc;
                                    var t = e.url.match(/(?:http|https):\/\/([^/]+)/);
                                    this.cdn = t && t[1], this.schedule = this.extractScheduleInfo(e.url), this.audioCodec = generateAudioCodec(e.audioInfo), this.audioSampleRate = e.audioInfo ? e.audioInfo.samplerate : void 0
                                }
                            }
                        }, {
                            key: "extractScheduleInfo",
                            value: function (e) {
                                var t, n = /https?:\/\/([^/]+)/.exec(e),
                                    i = n && n.length && n[1],
                                    o = getMatchedEntry(e, "xmlhttprequest");
                                if (o && o.name && (t = /https?:\/\/([^/]+)/.exec(o.name)[1]), "function" == typeof performance.clearResourceTimings && performance.getEntries().length > 10 && performance.clearResourceTimings(), i !== t) return t
                            }
                        }, {
                            key: "mountDownload",
                            value: function (e) {
                                this.downMonitor = e
                            }
                        }, {
                            key: "mountBuffered",
                            value: function (e) {
                                this.bufferIndicator = e
                            }
                        }, {
                            key: "mountMedia",
                            value: function (e) {
                                this.media = e, "function" == typeof e.getVideoPlaybackQuality && (this.isVideoPlaybackQualityAvailable = !0)
                            }
                        }, {
                            key: "mountPlayList",
                            value: function (e) {
                                this.playList = e
                            }
                        }, {
                            key: "mountFlyBuffer",
                            value: function (e) {
                                this.flySourceBuffer = e
                            }
                        }, {
                            key: "checkFPS",
                            value: function () {
                                if (this.isVideoPlaybackQualityAvailable) {
                                    var e = this.media.getVideoPlaybackQuality();
                                    return this._checkFPS(e.totalVideoFrames, e.droppedVideoFrames)
                                }
                                return this._checkFPS(this.media ? this.media.webkitDecodedFrameCount : "", this.media ? this.media.webkitDroppedFrameCount : "")
                            }
                        }, {
                            key: "_checkFPS",
                            value: function (e, t) {
                                return e ? {
                                    droppedFrames: t,
                                    decodedFrames: e,
                                    droppedFPS: "".concat((100 * t / e).toFixed(2), "%")
                                } : {}
                            }
                        }, {
                            key: "getVolume",
                            value: function () {
                                return this.media ? this.media.volume : ""
                            }
                        }, {
                            key: "_getBuffered",
                            value: function (e, t) {
                                if (e) {
                                    var n = e.getIndicator(t, this.config.gapTolerance);
                                    return parseFloat(n.bufferLength.toFixed(2))
                                }
                                return 0
                            }
                        }, {
                            key: "_getVideoBuffered",
                            value: function () {
                                var e;
                                try {
                                    e = this.core.mediaController.mediaBuffer.videoSourceBuffer.buffered
                                } catch (t) {
                                    e = []
                                }
                                return e
                            }
                        }, {
                            key: "restBuffered",
                            value: function () {
                                return this._getBuffered(templateBufferInfo(this._getVideoBuffered()).fillGap(.5), this.media.currentTime)
                            }
                        }, {
                            key: "restFlyBuffered",
                            value: function () {
                                var e = this.restBuffered();
                                return this.flySourceBuffer ? this._getBuffered(this.flySourceBuffer.flyBuffered, this.media.currentTime + e) : 0
                            }
                        }, {
                            key: "getInfo",
                            value: function () {
                                var e = this.config;
                                return objectSpread({}, this.downMonitor.getSpeed(), this.downMonitor.getMaxSpeed(), {
                                    restBuffered: this.restBuffered(),
                                    restFlyBuffered: this.restFlyBuffered(),
                                    maxBufferLength: e.maxBufferLength,
                                    maxFlyBufferLength: e.maxFlyBufferLength,
                                    networkAgent: e.networkAgent
                                }, this.checkFPS(), {
                                    volume: "".concat(parseFloat((100 * this.getVolume()).toFixed(2)), "%"),
                                    playlist: this.playList && this.playList.plType,
                                    videoFormat: this.playList && this.playList.isFmp4() ? "fmp4" : "ts",
                                    videoWidth: this.segInfo && this.segInfo.width,
                                    videoHeight: this.segInfo && this.segInfo.height,
                                    cdn: this.cdn,
                                    schedule: this.schedule,
                                    audioCodec: this.audioCodec,
                                    audioSampleRate: this.audioSampleRate,
                                    videoCodec: this.videoCodec,
                                    profileIdc: this.profileIdc,
                                    levelIdc: this.levelIdc
                                })
                            }
                        }]), t
                    }(EventBus),
                    DownloadMonitor = function (e) {
                        function t() {
                            var e;
                            return classCallCheck(this, t), e = possibleConstructorReturn(this, getPrototypeOf(t).call(this)), e.lastTime = 0, e.lastLoaded = 0, e.lastAvSpeed = 0, e.checkRepeatSpeedTimes = 2, e.speedPointList = [], e.maxSpeedList = [], e._loaded = 0, e._total = 0, e
                        }
                        return inherits(t, e), createClass(t, [{
                            key: "onRequestProgress",
                            value: function (e) {
                                this.speed = 0;
                                var t = e.loaded,
                                    n = e.total;
                                this._loaded = t, this._total = n;
                                var i;
                                this.lastTime && (i = (t - this.lastLoaded) / (performance.now() - this.lastTime), i = isFinite(i) ? i : 0, this.speedPointList.push(1e3 * i / 1024 / 1024)), t === n ? (this.lastLoaded = 0, this.lastTime = 0, this.emit("segmentLoaded", {
                                    total: n,
                                    timestamp: performance.now()
                                })) : (this.lastLoaded = t, this.lastTime = performance.now())
                            }
                        }, {
                            key: "onLoadSpeed",
                            value: function (e) {
                                this.speedPointList.push(e / 1024 / 1024)
                            }
                        }, {
                            key: "calcAverageSpeed",
                            value: function (e) {
                                var t = this.calcAverage(e);
                                if (t) {
                                    var n = this.calcStandardDeviation(t, e);
                                    if (n > .28) return this.speedPointList = e.filter(function (e) {
                                        return Math.abs(e - t) < n
                                    }), this.calcAverageSpeed(this.speedPointList);
                                    var i = 0;
                                    this.speedPointList.forEach(function (e) {
                                        e > i && (i = e)
                                    }), i && (this.maxSpeedList.push(i), this.maxSpeedList.length > 30 && (this.maxSpeedList = this.maxSpeedList.splice(15)))
                                }
                                return t
                            }
                        }, {
                            key: "calcAverageMaxSpeed",
                            value: function (e) {
                                return this.calcAverage(e)
                            }
                        }, {
                            key: "calcAverage",
                            value: function (e) {
                                var t = e.length;
                                return t ? e.reduce(function (e, t) {
                                    return e += t
                                }, 0) / t : 0
                            }
                        }, {
                            key: "calcStandardDeviation",
                            value: function (e, t) {
                                var n = t.map(function (t) {
                                    return (t - e) * (t - e)
                                }).reduce(function (e, t) {
                                    return e += t
                                }, 0) / t.length;
                                return Math.sqrt(n)
                            }
                        }, {
                            key: "getSpeed",
                            value: function () {
                                var e = this.speedPointList.length,
                                    t = this.calcAverageSpeed(this.speedPointList);
                                return 0 !== this.lastAvSpeed && this.lastAvSpeed === t && (this.checkRepeatSpeedTimes -= 1), this.lastAvSpeed = t, 0 === this.checkRepeatSpeedTimes ? (this.checkRepeatSpeedTimes = 2, this.speedPointList = []) : this.speedPointList = this.speedPointList.slice(Math.floor(e / 2)), {
                                    speed: t,
                                    speedFormatted: formatSpeed(t)
                                }
                            }
                        }, {
                            key: "getMaxSpeed",
                            value: function () {
                                var e = this.calcAverageMaxSpeed(this.maxSpeedList);
                                return {
                                    maxSpeed: e,
                                    maxSpeedFormatted: formatSpeed(e)
                                }
                            }
                        }, {
                            key: "loaded",
                            get: function () {
                                return this._loaded
                            }
                        }, {
                            key: "total",
                            get: function () {
                                return this._total
                            }
                        }]), t
                    }(EventBus),
                    P2PAgent = function () {
                        function e(t) {
                            classCallCheck(this, e), this.pendingPromise = [], this.config = t
                        }
                        return createClass(e, [{
                            key: "destroy",
                            value: function () {
                                this.dataManager && (this.dataManager.close(), this.dataManager = null)
                            }
                        }, {
                            key: "init",
                            value: function (e, t) {
                                var n = this,
                                    i = this.config;
                                if ("function" == typeof window.PCDNDataManager && window.PCDNDataManager.isSupported()) {
                                    i.networkAgent = "xhr", this.destroy(), this.dataManager = new window.PCDNDataManager({
                                        clientId: i.p2pClientId,
                                        timeout: i.maxSegmentLoadTimeout,
                                        retryTimes: 0
                                    });
                                    var o = e.filter(function (e) {
                                        return !e.isWedge
                                    }).map(function (e) {
                                        return {
                                            url: e.url,
                                            duration: e.duration,
                                            filesize: e.filesize || 0
                                        }
                                    });
                                    this.dataManager.setUrlInfo({
                                        m3u8Url: t,
                                        tsUrl: o
                                    }), this.dataManager.on(window.PCDNDataManager.Events.DATA, function (e) {
                                        var t = e.fragdata.payload;
                                        if (n.pendingPromise.length > 0 && e.frag.url === n.pendingPromise[0].url) {
                                            n.pendingPromise.shift().resolve(t)
                                        }
                                        n.pendingPromise.length > 0 && n.dataManager.requestTSData({
                                            url: n.pendingPromise[0].url
                                        })
                                    }), this.dataManager.on(window.PCDNDataManager.Events.ERROR, function (e) {
                                        var t = new NetworkError(NetworkError.HttpError);
                                        if ("TimeoutError" === e.type ? t = new NetworkError(NetworkError.Timeout) : "ResponseError" === e.type && (t = new NetworkError({
                                            response: {
                                                code: e.code || 555,
                                                url: e.url
                                            },
                                            code: 21e3 + (e.code || 555),
                                            message: "请求{%1}时服务器返回出错"
                                        })), n.pendingPromise.length > 0 && e.url === n.pendingPromise[0].url) {
                                            n.pendingPromise.shift().reject(t)
                                        }
                                        n.pendingPromise.length > 0 && n.dataManager.requestTSData({
                                            url: n.pendingPromise[0].url
                                        })
                                    }), this.dataManager.on(window.PCDNDataManager.Events.READY, function (e) {
                                        e ? (i.networkAgent = "degrade", n.destroy()) : i.networkAgent = "p2p", i.emit("record", {
                                            type: "p2p",
                                            params: {
                                                enable: !e
                                            },
                                            justOnce: !0
                                        })
                                    })
                                } else i.emit("record", {
                                    type: "p2p",
                                    params: {
                                        enable: "function" != typeof window.PCDNDataManager ? -1 : -2
                                    },
                                    justOnce: !0
                                })
                            }
                        }, {
                            key: "setRemainTime",
                            value: function (e) {
                                this.dataManager && this.dataManager.setPlayDuration(e)
                            }
                        }, {
                            key: "request",
                            value: function (e, t) {
                                var n = this;
                                if (this.dataManager && "function" == typeof this.dataManager.switchDomain)
                                    if (e !== t.originUrl) {
                                        var i = e.match(/(?:https?:\/\/)([^/]+)/);
                                        this.dataManager.switchDomain(i && i[1])
                                    } else this.dataManager.switchDomain(null);
                                e = t.originUrl;
                                var o = new IPromise(function () {
                                    o.aborted = !0, n.pendingPromise = n.pendingPromise.filter(function (e) {
                                        return e !== o
                                    })
                                });
                                return o.url = e, o.ts = Date.now(), this.dataManager ? (this.pendingPromise.push(o), this.pendingPromise = this.pendingPromise.filter(function (e) {
                                    return Date.now() - e.ts < n.config.maxSegmentLoadTimeout
                                }), 1 == this.pendingPromise.length && this.dataManager.requestTSData({
                                    url: e
                                })) : o.reject(new Error("no p2p sdk")), o
                            }
                        }]), e
                    }(),
                    SWITCH_HOST_LIST = ["valipl.cp31.ott.cibntv.net", "v6-valipl.cp31.ott.cibntv.net", "valipl-vip.cp31.ott.cibntv.net", "v6-valipl-vip.cp31.ott.cibntv.net"],
                    DataService = function () {
                        function e(t, n) {
                            classCallCheck(this, e), this.config = t, this.onProgress = n, this.p2pAgent = new P2PAgent(t), this.maxRetryCount = this.config.maxNetworkRetryCount, this.pendingSegmentReqeusts = {}, this.pendingPlaylistRequests = {}, this.speedMap = {}
                        }
                        return createClass(e, [{
                            key: "_switchM3u8Host",
                            value: function (e, t) {
                                var n = getDomain(e);
                                return -1 !== SWITCH_HOST_LIST.indexOf(n) ? replaceDomain(e, "v4-".concat(n.replace("v6-", ""))) : t
                            }
                        }, {
                            key: "requestPlayList",
                            value: function (e, t, n) {
                                var i = this,
                                    o = new IPromise,
                                    r = e,
                                    a = this.config,
                                    s = a.manifestLoadingRetryDelay,
                                    l = a.levelLoadingRetryDelay,
                                    u = a.maxM3u8LoadTimeout,
                                    c = 0,
                                    d = "MANIFEST" === t ? s : l;
                                return this.pendingPlaylistRequests[r] = 0,
                                    function t(a) {
                                        if ((c = i.pendingPlaylistRequests[r] += 1) <= i.maxRetryCount) {
                                            XHRAgent$1.request(e, {
                                                responseType: "text",
                                                timeout: u,
                                                urlChanged: n
                                            }).then(function (e) {
                                                delete i.pendingPlaylistRequests[r], o.resolve(e)
                                            }, function (n) {
                                                setTimeout(function () {
                                                    e = i._switchM3u8Host(e, r), t(n)
                                                }, d)
                                            })
                                        } else delete i.pendingPlaylistRequests[r], o.reject(a)
                                    }(), o
                            }
                        }, {
                            key: "abortAllPlaylistRequest",
                            value: function () {
                                var e = this;
                                Object.keys(this.pendingPlaylistRequests).forEach(function (t) {
                                    e.pendingPlaylistRequests[t] = e.maxRetryCount
                                })
                            }
                        }, {
                            key: "abortAllSegmentRequest",
                            value: function (e) {
                                var t = this;
                                Object.keys(this.pendingSegmentReqeusts).forEach(function (n) {
                                    t.pendingSegmentReqeusts[n].abort(e), delete t.pendingSegmentReqeusts[n]
                                })
                            }
                        }, {
                            key: "abortSegment",
                            value: function (e, t) {
                                this.pendingSegmentReqeusts[e] && (this.pendingSegmentReqeusts[e].abort(t), delete this.pendingSegmentReqeusts[e])
                            }
                        }, {
                            key: "_switchDomain",
                            value: function (e, t) {
                                if (t.switchDomain && t.domainSet.length > 1) {
                                    var n = t.domainSet.indexOf(getDomain(e));
                                    if (-1 != n) {
                                        var i = t.domainSet[(n + 1) % 2];
                                        if (i) return replaceDomain(e, i)
                                    }
                                }
                                return e
                            }
                        }, {
                            key: "recordSpeed",
                            value: function (e, t) {
                                var n = this,
                                    i = getDomain(e);
                                this.speedMap[i] || (this.speedMap[i] = []), this.speedMap[i].push(t), this.speedMap[i].filter(function (e) {
                                    return e > 0
                                }).length >= 2 && 2 === Object.keys(this.speedMap).length && (this.config.speedMap = Object.keys(this.speedMap).reduce(function (e, t) {
                                    var i = n.speedMap[t].reduce(function (e, t) {
                                        return e + t
                                    }, 0) / n.speedMap[t].length;
                                    return e[t] = i || n.config.speedMap[t] / 2, n.speedMap[t] = [], e
                                }, {
                                    current: i
                                }))
                            }
                        }, {
                            key: "requestSegment",
                            value: function (e, t) {
                                var n = this,
                                    i = this.config,
                                    o = XHRAgent$1;
                                "p2p" !== i.networkAgent || t.isWedge || (o = this.p2pAgent);
                                var r = new IPromise,
                                    a = 0;
                                return function t() {
                                    var s = Date.now(),
                                        l = n._switchDomain(e, i),
                                        u = o.request(l, {
                                            responseType: "arraybuffer",
                                            onProgress: n.onProgress,
                                            originUrl: e
                                        });
                                    u.then(function (e) {
                                        delete n.pendingSegmentReqeusts[u.id], n.recordSpeed(l, 1e3 * e.byteLength / (Date.now() - s)), r.resolve(e)
                                    }, function (e) {
                                        delete n.pendingSegmentReqeusts[u.id], n.recordSpeed(l, 0), n.recordSpeed(l, 0), a < i.maxNetworkRetryCount && !e.is(AbortError) ? (a++, setTimeout(function () {
                                            return t()
                                        }, n.config.fragLoadingRetryDelay)) : (a >= i.maxNetworkRetryCount && "p2p" === i.networkAgent && navigator.onLine && (i.networkAgent = "degrade", n.p2pAgent.destroy(), i.emit("record", {
                                            type: "p2p_degrade",
                                            params: {
                                                error: e.code || 0
                                            },
                                            justOnce: !0
                                        })), r.reject(e))
                                    }), n.pendingSegmentReqeusts[u.id] = u, r.abortId = u.id
                                }(), r
                            }
                        }, {
                            key: "initP2P",
                            value: function (e, t) {
                                this.p2pAgent.init(e, t)
                            }
                        }, {
                            key: "setRemainTime",
                            value: function (e) {
                                this.p2pAgent.setRemainTime(e)
                            }
                        }, {
                            key: "requestLicence",
                            value: function (e, t) {
                                var n = this,
                                    i = new IPromise,
                                    o = 0;
                                return function r(a) {
                                    o <= n.maxRetryCount ? (o++, XHRAgent$1.request(e, {
                                        method: "POST",
                                        body: t,
                                        responseType: "json",
                                        headers: {
                                            "Content-Type": "application/x-www-form-urlencoded"
                                        }
                                    }).then(function (e) {
                                        0 === e.states ? i.resolve(e) : setTimeout(function () {
                                            r(e)
                                        }, 500)
                                    }, function (e) {
                                        setTimeout(function () {
                                            r(e)
                                        }, 500)
                                    })) : i.reject(a)
                                }(), i
                            }
                        }, {
                            key: "sendLog",
                            value: function (e, t) {
                                return XHRAgent$1.request(e, {
                                    method: "POST",
                                    body: "rbody=".concat(encodeURIComponent(JSON.stringify(t))),
                                    headers: {
                                        "Content-Type": "application/x-www-form-urlencoded"
                                    }
                                })
                            }
                        }]), e
                    }();
                DataService.RequestType = {
                    PLAY_LIST: 0,
                    SEGMENT: 1,
                    LICENSE: 2
                };
                var QueueLoad = function () {
                        function e(t, n, i) {
                            classCallCheck(this, e), this._usage = !1, this.config = n, this.mediaMonitor = i, this.startQueueLoad = this.startQueueLoad.bind(this), this.bindEvent(t)
                        }
                        return createClass(e, [{
                            key: "bindEvent",
                            value: function (e) {
                                var t = this;
                                e.addEventListener("waiting", this.startQueueLoad), e.addEventListener("seeked", function () {
                                    t._usage = !1
                                }), e.addEventListener("playing", function () {
                                    t._usage = !1
                                })
                            }
                        }, {
                            key: "startQueueLoad",
                            value: function (e) {
                                var t = this.mediaMonitor.restBuffered();
                                if (this.config.queueLoad && 0 !== t && t < 1 && e.target.currentTime >= 10) return void(this._usage = !0);
                                this._usage = !1
                            }
                        }, {
                            key: "usage",
                            get: function () {
                                return this._usage
                            }
                        }]), e
                    }(),
                    VideoManager = function (e) {
                        function t() {
                            var e, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                            return classCallCheck(this, t), e = possibleConstructorReturn(this, getPrototypeOf(t).call(this)), e.config = setConfig(n), e.dataPipeLine = new DataPipeLine(n, assertThisInitialized(assertThisInitialized(e))), e.mediaMonitor = new MediaMonitor(e.config, assertThisInitialized(assertThisInitialized(e))), e.detector = new Detector$1(e.config, e.mediaMonitor), e.downMonitor = new DownloadMonitor, e.mediaMonitor.mountDownload(e.downMonitor), e.dataService = new DataService(e.config, function () {
                                for (var t, n = arguments.length, i = new Array(n), o = 0; o < n; o++) i[o] = arguments[o];
                                (t = e.downMonitor.onRequestProgress).call.apply(t, [e.downMonitor].concat(i))
                            }), e.config.on("decodeKey", function (t) {
                                e.dataPipeLine.changeDecodeKey(t)
                            }), e.config.on("record", function (t) {
                                e.detector.record(t.type, t.params, t.justOnce)
                            }), window.corex = assertThisInitialized(assertThisInitialized(e)), e
                        }
                        return inherits(t, e), createClass(t, null, [{
                            key: "isSupported",
                            value: function () {
                                return isSupported()
                            }
                        }, {
                            key: "Events",
                            get: function () {
                                return CoreXEvents
                            }
                        }]), createClass(t, [{
                            key: "resume",
                            value: function () {
                                clearTimeout(this.offlineTimer), this.mediaDriver && this.mediaDriver.online(), this.mediaController && this.mediaController.nextState("idle")
                            }
                        }, {
                            key: "fatalError",
                            value: function (e) {
                                var t = this;
                                e.fatal = !0, this.detector.collectActions(Action.ERROR, e.code), this.detector.collect(this.videoElement, this.mediaController && this.mediaController.playList);
                                var n = this.detector.summarize();
                                n.error = e.serialize(), this.detector.sendGoldLog(n, "error", n.error), clearTimeout(this.offlineTimer), this.offlineTimer = setTimeout(function () {
                                    t.mediaDriver && t.mediaDriver.offline()
                                }, 500), this.emit(CoreXEvents.ERROR, CoreXEvents.ERROR, e)
                            }
                        }, {
                            key: "init",
                            value: function () {
                                this.adaptFairplay() || (this.queueLoad = new QueueLoad(this.videoElement, this.config, this.mediaMonitor), this.mediaController = new MediaController(this.videoElement, this), this.mediaMonitor.mountMedia(this.videoElement), this.mediaDriver = new MediaDriver(this.videoElement, this.mediaController, this), this.url && this.loadSource(this.url))
                            }
                        }, {
                            key: "adaptFairplay",
                            value: function () {
                                var e = this;
                                if (this.config.isDrm && "safari" === browserDetect().name) return !this.url || !this.videoElement || (this.videoElement.src = this.url, this.fpDrmController || (this.fpDrmController = new FpDrmController(this.videoElement, this.dataService, this.config), this.fpDrmController.on("error", function (t) {
                                    e.fatalError(t)
                                }), this.fpDrmController.init()), !0)
                            }
                        }, {
                            key: "selectStream",
                            value: function (e) {
                                this.mediaDriver && this.mediaDriver.changeStream("streamtype", e)
                            }
                        }, {
                            key: "collect",
                            value: function () {
                                if (this.videoElement) {
                                    this.detector.collect(this.videoElement, this.mediaController && this.mediaController.playList);
                                    var e = this.detector.summarize();
                                    return this.detector.formatSummary(e)
                                }
                            }
                        }, {
                            key: "collectSpeed",
                            value: function () {
                                return this.detector.collectSpeed(this.mediaController && this.mediaController.playList, this.videoElement && this.videoElement || 0)
                            }
                        }, {
                            key: "attachMedia",
                            value: function (e) {
                                this.videoElement ? this.videoElement : (this.videoElement = e, this.init())
                            }
                        }, {
                            key: "detachMedia",
                            value: function () {}
                        }, {
                            key: "loadSource",
                            value: function (e) {
                                if (this.config.abrEnable = !1, this.mediaDriver) {
                                    if (this.adaptFairplay()) return;
                                    /^\s*#EXTM3U/.test(e) ? (this.config.abrEwmaDefaultEstimate = caclDefaultSpeed() * this.config.abrInitBandWidthFactor || this.config.abrEwmaDefaultEstimate, this.config.abrEnable = !0, this.mediaDriver.loadPlayList({
                                        source: e
                                    })) : "string" == typeof e ? this.mediaDriver.loadPlayList({
                                        url: e
                                    }) : Array.isArray && Array.isArray(e) && this.mediaDriver.loadPlayList(e.map(function (e) {
                                        return "string" == typeof e ? {
                                            url: e
                                        } : e
                                    })), this.url = void 0
                                } else this.url = e, this.adaptFairplay()
                            }
                        }, {
                            key: "abrEnable",
                            value: function (e) {
                                this.config.abrEnable = e
                            }
                        }, {
                            key: "resolutionToFilter",
                            value: function (e) {
                                this.config.resolutionToFilter = e
                            }
                        }, {
                            key: "startLoad",
                            value: function () {
                                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : -1;
                                e > 0 && (this.videoElement.currentTime = e)
                            }
                        }, {
                            key: "setMaxAutoLevel",
                            value: function (e) {
                                this.mediaController.maxAutoLevel = e
                            }
                        }, {
                            key: "setMinAutoLevel",
                            value: function (e) {
                                this.mediaController.minAutoLevel = e
                            }
                        }, {
                            key: "setInitPlayAutoLevel",
                            value: function (e) {
                                this.mediaController.initPlayAutoLevel = e
                            }
                        }, {
                            key: "getTotalDuration",
                            value: function () {
                                return this.mediaController && this.mediaController.playList ? this.mediaController.playList.getTotalDuration() : 0
                            }
                        }, {
                            key: "getAbrCurrentStreamType",
                            value: function () {
                                return this.mediaDriver.abrCurrentStreamType
                            }
                        }, {
                            key: "destroy",
                            value: function () {
                                this.mediaDriver && this.mediaDriver.destroy(), this.mediaController && this.mediaController.nextState("end"), this.fpDrmController && this.fpDrmController.nextState("end")
                            }
                        }, {
                            key: "levels",
                            get: function () {
                                return this.mediaController._playList.levels
                            }
                        }, {
                            key: "segmentDuration",
                            get: function () {
                                return this.mediaController.segmentDuration
                            }
                        }, {
                            key: "drmSessionUpdateStatus",
                            get: function () {
                                return this.mediaController.drmController.sessionUpdateStatus
                            }
                        }]), t
                    }(EventBus);
                return VideoManager.VideoInfoPlugin = VideoInfoPlugin, VideoInfoPlugin.Events = CoreXEvents, VideoManager
            })
        }).call(exports, __webpack_require__(126))
    },
    function (e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = function (e) {
            try {
                if ("undefined" != typeof window && atob) return atob(e)
            } catch (e) {
                console.log(e)
            }
            var t = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
                n = String(e).replace(/[=]+$/, "");
            if (n.length % 4 == 1) throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");
            for (var i, o, r = "", a = 0, s = 0; o = n.charAt(s++);~ o && (i = a % 4 ? 64 * i + o : o, a++ % 4) ? r += String.fromCharCode(255 & i >> (-2 * a & 6)) : 0) o = t.indexOf(o);
            return r
        }
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            if (e) {
                var t, n, i = [],
                    o = e.length;
                for (t = 0; t < o; t++) n = e.charCodeAt(t), n > 0 && n <= 127 ? i.push(e.charAt(t)) : n >= 128 && n <= 2047 ? i.push(String.fromCharCode(192 | n >> 6 & 31), String.fromCharCode(128 | 63 & n)) : n >= 2048 && n <= 65535 && i.push(String.fromCharCode(224 | n >> 12 & 15), String.fromCharCode(128 | n >> 6 & 63), String.fromCharCode(128 | 63 & n));
                return i.join("")
            }
        }

        function o(e) {
            if (e) {
                var t, n, i, o = [],
                    r = e.length;
                for (t = 0; t < r; t++) n = [], n.push(e.charCodeAt(t)), 0 == (n[0] >> 7 & 255) ? o.push(e.charAt(t)) : 6 == (n[0] >> 5 & 255) ? (n.push(e.charCodeAt(++t)), i = [], i.push(31 & n[0]), i.push(63 & n[1]), o.push(String.fromCharCode(i[0] << 6 | i[1]))) : 14 == (n[0] >> 4 & 255) && (n.push(e.charCodeAt(++t)), n.push(e.charCodeAt(++t)), i = [], i.push(n[0] << 4 | n[1] >> 2 & 15), i.push((3 & n[1]) << 6 | 63 & n[2]), o.push(String.fromCharCode(i[0] << 8 | i[1])));
                return o.join("")
            }
        }

        function r(e) {
            return new Uint8Array(e.split("").map(function (e) {
                return e.charCodeAt()
            }))
        }

        function a(e) {
            return [].map.call(e, function (e) {
                return String.fromCharCode(e)
            }).join("")
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = {
            utf16ToUtf8: i,
            utf8ToUtf16: o,
            binaryStringToBinaryArray: r,
            binaryArrayToBinaryString: a
        }
    },
    function (e, t, n) {
        "use strict";

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }
        var o = function () {
                function e(e, t) {
                    var n = [],
                        i = !0,
                        o = !1,
                        r = void 0;
                    try {
                        for (var a, s = e[Symbol.iterator](); !(i = (a = s.next()).done) && (n.push(a.value), !t || n.length !== t); i = !0);
                    } catch (e) {
                        o = !0, r = e
                    } finally {
                        try {
                            !i && s.return && s.return()
                        } finally {
                            if (o) throw r
                        }
                    }
                    return n
                }
                return function (t, n) {
                    if (Array.isArray(t)) return t;
                    if (Symbol.iterator in Object(t)) return e(t, n);
                    throw new TypeError("Invalid attempt to destructure non-iterable instance")
                }
            }(),
            r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                return typeof e
            } : function (e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol ? "symbol" : typeof e
            },
            a = function () {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var i = t[n];
                        i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
                    }
                }
                return function (t, n, i) {
                    return n && e(t.prototype, n), i && e(t, i), t
                }
            }();
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var s = new RegExp("^([a-z0-9-]+:)?[/]{2}(?:([^@/:?]+)(?::([^@/:]+))?@)?([^:/?#]+)(?:[:]([0-9]+))?([/][^?#;]*)?(?:[?]([^#]*))?([#][^?]*)?$", "i"),
            l = function () {
                function e(t) {
                    i(this, e), this._params = {}, this._hash = "", t && this.assign(t.toString())
                }
                return a(e, [{
                    key: "assign",
                    value: function (e) {
                        e = e || "";
                        var t = e.match(s);
                        if (!t) throw new Error("Parse Error");
                        this.protocol = t[1] || ("object" === ("undefined" == typeof location ? "undefined" : r(location)) ? location.protocol : ""), this.username = t[2] || "", this.password = t[3] || "", this.hostname = t[4], this.port = t[5] || "", this.pathname = t[6] || "/", this.search = t[7] || "", this.hash = t[8] || "", this.origin = this.protocol + "//" + this.host
                    }
                }, {
                    key: "toString",
                    value: function () {
                        var e = this.protocol + "//";
                        return this.username && (e += this.username, this.password && (e += ":" + this.password), e += "@"), e += this.hostname, this.port && "80" !== this.port && (e += ":" + this.port), this.pathname && (e += this.pathname), this.search && (e += this.search), this.hash && (e += this.hash), e
                    }
                }, {
                    key: "params",
                    get: function () {
                        return this._params
                    }, set: function (e) {
                        if (e && "object" === (void 0 === e ? "undefined" : r(e)) && !(e instanceof Date) && !(e instanceof RegExp) && !(e instanceof Array) && !(e instanceof String) && !(e instanceof Number) && !(e instanceof Boolean)) {
                            for (var t in this._params) delete this._params[t];
                            for (var t in e) this._params[t] = e[t]
                        }
                    }
                }, {
                    key: "search",
                    get: function () {
                        var e = [];
                        for (var t in this._params)
                            if (void 0 !== this._params[t])
                                if ("" !== this._params[t]) try {
                                    e.push(encodeURIComponent(t) + "=" + encodeURIComponent(this._params[t]))
                                } catch (n) {
                                    e.push(t + "=" + this._params[t])
                                } else try {
                                    e.push(encodeURIComponent(t))
                                } catch (n) {
                                    e.push(t)
                                }
                                return e.length ? "?" + e.join("&") : ""
                    }, set: function (e) {
                        if ("string" == typeof e || e instanceof String) {
                            e = e.toString(), 0 === e.indexOf("?") && (e = e.substr(1));
                            var t = e.split("&");
                            for (var n in this._params) delete this._params[n];
                            for (var i = 0; i < t.length; i++) {
                                var r = t[i].split("="),
                                    a = o(r, 2),
                                    s = a[0],
                                    l = a[1];
                                if (void 0 !== l && (l = l.toString()), s) try {
                                    this._params[decodeURIComponent(s)] = decodeURIComponent(l)
                                } catch (e) {
                                    this._params[s] = l
                                }
                            }
                        }
                    }
                }, {
                    key: "hash",
                    get: function () {
                        return this._hash
                    }, set: function (e) {
                        ("string" == typeof e || e instanceof String) && (e = e.toString(), e && e.indexOf("#") < 0 && (e = "#" + e), this._hash = e || "")
                    }
                }, {
                    key: "host",
                    get: function () {
                        return this.hostname + (this.port ? ":" + this.port : "")
                    }, set: function (e) {
                        if ("string" == typeof e || e instanceof String) {
                            e = e.toString();
                            var t = e.match(/([^:/?#]+)(?:[:]([0-9]+))?/);
                            t && (this.hostname = t[1], this.port = t[2] || "")
                        }
                    }
                }]), e
            }();
        t.default = l
    },
    function (e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.QRMath = {
                gexp: function (e) {
                    for (; e < 0;) e += 255;
                    for (; e >= 256;) e -= 255;
                    return t.QRMath.EXP_TABLE[e]
                }, glog: function (e) {
                    if (e < 1) throw new Error("glog(" + e + ")");
                    return t.QRMath.LOG_TABLE[e]
                }, EXP_TABLE: new Array(256),
                LOG_TABLE: new Array(256)
            },
            function () {
                for (var e = 0; e < 8; e++) t.QRMath.EXP_TABLE[e] = 1 << e;
                for (var e = 8; e < 256; e++) t.QRMath.EXP_TABLE[e] = t.QRMath.EXP_TABLE[e - 4] ^ t.QRMath.EXP_TABLE[e - 5] ^ t.QRMath.EXP_TABLE[e - 6] ^ t.QRMath.EXP_TABLE[e - 8];
                for (var e = 0; e < 255; e++) t.QRMath.LOG_TABLE[t.QRMath.EXP_TABLE[e]] = e
            }()
    },
    function (e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = n(98),
            o = function () {
                function e(e, t) {
                    if (void 0 === e.length) throw new Error(e.length + "/" + t);
                    for (var n = 0; n < e.length && 0 === e[n];) n++;
                    this.num = new Array(e.length - n + t);
                    for (var i = 0; i < e.length - n; i++) this.num[i] = e[i + n]
                }
                return e.prototype.get = function (e) {
                    return this.num[e]
                }, e.prototype.getLength = function () {
                    return this.num.length
                }, e.prototype.multiply = function (t) {
                    for (var n = new Array(this.getLength() + t.getLength() - 1), o = 0; o < this.getLength(); o++)
                        for (var r = 0; r < t.getLength(); r++) n[o + r] ^= i.QRMath.gexp(i.QRMath.glog(this.get(o)) + i.QRMath.glog(t.get(r)));
                    return new e(n, 0)
                }, e.prototype.mod = function (t) {
                    var n = this.getLength(),
                        o = t.getLength();
                    if (n - o < 0) return this;
                    for (var r = new Array(n), a = 0; a < n; a++) r[a] = this.get(a);
                    for (; r.length >= o;) {
                        for (var s = i.QRMath.glog(r[0]) - i.QRMath.glog(t.get(0)), a = 0; a < t.getLength(); a++) r[a] ^= i.QRMath.gexp(i.QRMath.glog(t.get(a)) + s);
                        for (; 0 === r[0];) r.shift()
                    }
                    return new e(r, 0)
                }, e
            }();
        t.QRPolynomial = o
    },
    function (e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = n(40),
            o = function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }(i),
            r = {
                MANIFEST_LOAD_ERROR: "manifestLoadError",
                MANIFEST_LOAD_TIMEOUT: "manifestLoadTimeOut",
                MANIFEST_PARSING_ERROR: "manifestParsingError",
                MANIFEST_EMPTY_ERROR: "manifestEmptyError",
                MANIFEST_INCOMPATIBLE_CODECS_ERROR: "manifestIncompatibleCodecsError",
                LEVEL_LOAD_ERROR: "levelLoadError",
                LEVEL_LOAD_TIMEOUT: "levelLoadTimeOut",
                LEVEL_SWITCH_ERROR: "levelSwitchError",
                AUDIO_TRACK_LOAD_ERROR: "audioTrackLoadError",
                AUDIO_TRACK_LOAD_TIMEOUT: "audioTrackLoadTimeOut",
                FRAG_LOAD_ERROR: "fragLoadError",
                FRAG_LOOP_LOADING_ERROR: "fragLoopLoadingError",
                FRAG_LOAD_TIMEOUT: "fragLoadTimeOut",
                FRAG_DECRYPT_ERROR: "fragDecryptError",
                FRAG_PARSING_ERROR: "fragParsingError",
                WORKER_PARSING_ERROR: "workerParsingError",
                REMUX_ALLOC_ERROR: "remuxAllocError",
                KEY_LOAD_ERROR: "keyLoadError",
                KEY_LOAD_TIMEOUT: "keyLoadTimeOut",
                BUFFER_ADD_CODEC_ERROR: "bufferAddCodecError",
                BUFFER_APPEND_ERROR: "bufferAppendError",
                BUFFER_APPENDING_ERROR: "bufferAppendingError",
                BUFFER_STALLED_ERROR: "bufferStalledError",
                BUFFER_FULL_ERROR: "bufferFullError",
                BUFFER_SEEK_OVER_HOLE: "bufferSeekOverHole",
                BUFFER_NUDGE_ON_STALL: "bufferNudgeOnStall",
                INTERNAL_EXCEPTION: "internalException",
                PIPELINE_DECODE_ERROR: "pipelineDecodeError",
                KEY_SYSTEM_NO_SUPPORT_DRM: "keySystemNoSupportDrm",
                KEY_SYSTEM_NO_ACCESS: "keySystemNoAccess",
                KEY_SYSTEM_GENE_REQUEST_ERROR: "keySystemGeneRequestError",
                KEY_SYSTEM_LICENSE_REQUEST_FAILED: "keySystemLicenseRequestFailed",
                KEY_SYSTEM_UPDATE_SESSION_ERROR: "keySystemUpdateSessionError",
                KEY_SYSTEM_SET_MEDIA_KEY_ERROR: "keySystemSetMediaKeyError",
                YOUKU_DRM_DECODE_ERROR: "youkuDrmDecodeError",
                KEY_SYSTEM_WAITING_FOR_KEY_ERROR: "keySystemWaitingForKeyError",
                DRM_FRAG_LOAD_ERROR: "drmFragLoadError"
            },
            a = new o.default([
                [r.MANIFEST_LOAD_TIMEOUT, {
                    code: "32408",
                    type: 1
                }],
                [r.MANIFEST_INCOMPATIBLE_CODECS_ERROR, {
                    code: "32501",
                    type: 1
                }],
                [r.MANIFEST_PARSING_ERROR, {
                    code: "32502",
                    type: 1
                }],
                [r.MANIFEST_EMPTY_ERROR, {
                    code: "32503",
                    type: 1
                }],
                [r.MANIFEST_LOAD_ERROR, {
                    code: "33",
                    type: 1
                }],
                [r.LEVEL_LOAD_ERROR, {
                    code: "34",
                    type: 1
                }],
                [r.FRAG_DECRYPT_ERROR, {
                    code: "35602",
                    type: 2
                }],
                [r.FRAG_PARSING_ERROR, {
                    code: "35603",
                    type: 2
                }],
                [r.BUFFER_APPEND_ERROR, {
                    code: "35604",
                    type: 2
                }],
                [r.BUFFER_STALLED_ERROR, {
                    code: "35605",
                    type: 2
                }],
                [r.BUFFER_NUDGE_ON_STALL, {
                    code: "35606",
                    type: 2
                }],
                [r.INTERNAL_EXCEPTION, {
                    code: "35607",
                    type: 2
                }],
                [r.PIPELINE_DECODE_ERROR, {
                    code: "35608",
                    type: 2
                }],
                [r.WORKER_PARSING_ERROR, {
                    code: "35609",
                    type: 2
                }],
                [r.KEY_SYSTEM_NO_SUPPORT_DRM, {
                    code: "35610",
                    type: 4
                }],
                [r.KEY_SYSTEM_NO_ACCESS, {
                    code: "35611",
                    type: 4
                }],
                [r.KEY_SYSTEM_GENE_REQUEST_ERROR, {
                    code: "35612",
                    type: 4
                }],
                [r.KEY_SYSTEM_UPDATE_SESSION_ERROR, {
                    code: "35614",
                    type: 4
                }],
                [r.KEY_SYSTEM_SET_MEDIA_KEY_ERROR, {
                    code: "35615",
                    type: 4
                }],
                [r.YOUKU_DRM_DECODE_ERROR, {
                    code: "35616",
                    type: 5
                }],
                [r.KEY_SYSTEM_LICENSE_REQUEST_FAILED, {
                    code: "35613",
                    type: 5
                }],
                [r.KEY_SYSTEM_WAITING_FOR_KEY_ERROR, {
                    code: "35617",
                    type: 5
                }],
                [r.DRM_FRAG_LOAD_ERROR, {
                    code: "35618",
                    type: 6
                }],
                [r.FRAG_LOAD_ERROR, {
                    code: "35",
                    type: 3
                }],
                [r.FRAG_LOAD_TIMEOUT, {
                    code: "35408",
                    type: 3
                }],
                [r.FRAG_LOOP_LOADING_ERROR, {
                    code: "35601",
                    type: 3
                }]
            ]);
        r.ERROR_MAP = a, t.default = r
    },
    function (e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = n(6),
            o = {
                uabModule: null,
                ckey: null,
                isLoadawsc: !1,
                timeStamp: 0,
                timer: null,
                timeOutTimer: null,
                ccode: "0502",
                init: function () {
                    var e = this;
                    0 === this.timeStamp && (this.timeStamp = (new Date).getTime()), this.timeOutTimer || this.uabModule || (this.timeOutTimer = window.setTimeout(function () {
                        o.uabModule || o.sendLog(3e3), window.clearTimeout(o.timeOutTimer), o.timeOutTimer = null
                    }, 3e3)), this.timer && (window.clearTimeout(this.timer), this.timer = null), this.timer = window.setTimeout(function () {
                        o.init()
                    }, 50)
                }, sendLog: function (e) {
                }, getCkey: function () {
                    return this.uabModule ? this.uabModule.getUA() : "DIl58SLFxFNndSV1GFNnMQVYkx1PP5tKe1siZu/86PR1u/Wh1Ptd+WOZsHHWxysSfAOhNJpdVWsdVJNsfJ8Sxd8WKVvNfAS8aS8fAOzYARzPyPc3JvtnPHjTdKfESTdnuTW6ZPvk2pNDh4uFzotgdMEFkzQ5wZVXl2Pf1/Y6hLK0OnCNxBj3+nb0v72gZ6b0td+WOZsHHWxysSo/0y9D2K42SaB8Y/+aD2K42SaB8Y/+ahU+WOZsHcrxysooUeND"
                }
            };
        t.default = o
    },
    function (e, t, n) {
        "use strict";

        function i() {
            return "" + (o() || "x") + (r() || "xx") + (a() || "x") + (l() || "xx")
        }

        function o() {
            return /(windows)/.test(u) ? "1" : /(mac)/.test(u) ? "2" : /(linux)/.test(u) ? "3" : /(android)/.test(u) ? "4" : /(iphone)/.test(u) ? "5" : /(ipad)/.test(u) ? "6" : "0"
        }

        function r() {
            var e = o(),
                t = void 0;
            switch (e) {
            case "1":
                var n = u.replace(/^.*windows nt ([\d.]+);.*$/, "$1");
                t = {
                    6.4: "A0", 6.3: "63", 6.2: "62", 6.1: "61", "6.0": "60", 5.2: "52", 5.1: "51", "5.0": "50"
                }[n] || n;
                break;
            case "2":
                var i = u.indexOf("_") > -1 ? "_" : ".",
                    r = u.replace(/^.*mac os x ([\d_|.]+).*$/, "$1").split(i)[1];
                t = r < 10 ? "0" + r : "" + r;
                break;
            case "3":
                t = "00";
                break;
            case "4":
                var a = /android [\d._]+/gi,
                    s = u.match(a),
                    l = ("" + s).replace(/[^0-9|_.]/gi, "").replace(/_/gi, ".");
                t = l.split(".")[0].toString(16) + l.split(".")[1].toString(16);
                break;
            case "5":
                if (/cpu (?:iphone )?os (\d+_\d+)/.test(u)) {
                    var c = RegExp.$1.replace("_", ".").split(".");
                    t = c[0].toString(16) + c[1].toString(16)
                } else t = "02";
                break;
            case "6":
                if (/cpu os (\d+_\d+)/.test(u)) {
                    var d = RegExp.$1.replace("_", ".").split(".");
                    t = d[0].toString(16) + d[1].toString(16)
                } else t = "02"
            }
            return t
        }

        function a() {
            var e = void 0;
            return !/(msie) ([\w.]+)/.test(u) && !/trident.*(rv)(?::| )([\w.]+)/.test(u) || /(opera)/.test(u) ? /(edge)/.test(u) ? (c = RegExp.$1, e = "2") : /(chrome)\/([\w.]+)/.test(u) ? (c = RegExp.$1, e = "3") : /(webkit)[ \/]([\w.]+).*(version)[/]([\w.]+).*(safari)[/]([\w.]+)/.test(u) || /(version)(applewebkit)[/]([\w.]+).*(safari)[/]([\w.]+)/.test(u) ? (c = RegExp.$1, e = "4") : e = /(firefox)/.test(u) ? "5" : /(opera)/.test(u) ? "6" : /(qqbrowser)/.test(u) ? "7" : /(uc)/.test(u) || /(ubrowser)/.test(u) ? "8" : /(metasr)/.test(u) || /(sogou)/.test(u) || /(se 2.x)/.test(u) ? "9" : "0" : (c = RegExp.$1, e = "1"), e
        }

        function s() {
            var e = new RegExp("version/([0-9]+)."),
                t = u.match(e);
            t ? "1" === a() && (e = new RegExp(c + ":| ([0-9]+)."), t = u.match(e)) : (e = new RegExp(c + "/([0-9]+)."), t = u.match(e));
            var n = t ? parseInt(t[1], 10) : 0;
            return n = n < 10 ? "0" + n : "" + n
        }

        function l() {
            var e = void 0;
            switch (a()) {
            case "1":
            case "2":
            case "3":
            case "4":
                e = s()
            }
            return e
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.getEnvironment = i;
        var u = navigator.userAgent.toLowerCase(),
            c = "";
        window.getEnvironment = i
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.PcPlayer = t.PlayerEvents = void 0;
        var o = n(2),
            r = i(o),
            a = n(19),
            s = i(a),
            l = n(0),
            u = i(l),
            c = n(4),
            d = i(c),
            h = n(3),
            p = i(h),
            f = n(208),
            g = i(f),
            m = n(5),
            y = i(m),
            v = n(94),
            _ = i(v);
        n(127);
        var b = function (e) {
                function t(e) {
                    return (0, u.default)(this, t), e.layers = (0, s.default)({}, g.default.layers, e.layers), Array.isArray(e.icons) || (e.icons = []), e.icons = e.icons.concat(g.default.icons), e.hlsCore = _.default, (0, d.default)(this, (t.__proto__ || (0, r.default)(t)).call(this, e))
                }
                return (0, p.default)(t, e), t
            }(y.default),
            E = m.Events;
        window.HLS = _.default, t.PlayerEvents = E, t.PcPlayer = b
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(2),
            r = i(o),
            a = n(0),
            s = i(a),
            l = n(1),
            u = i(l),
            c = n(4),
            d = i(c),
            h = n(12),
            p = i(h),
            f = n(3),
            g = i(f),
            m = n(148),
            y = i(m),
            v = n(5),
            _ = n(30),
            b = i(_),
            E = function (e) {
                function t(e) {
                    (0, s.default)(this, t);
                    var n = (0, d.default)(this, (t.__proto__ || (0, r.default)(t)).call(this, e));
                    return n.isFee = !0, n._video.global && n._video.global.ups ? (n._initVipMod(n._video.global), !n._video.global.ups.videoData.typeData.fee && !n._video.global.ups.videoData.typeData.channel_vip || !n._video.global.ups.trialData && !n._video.global.ups.errorData ? (n.isFee = !1, (0, d.default)(n)) : (n.reload = !0, n.trialEnd = function () {
                        n.isFee && (n.isEnd = !0, n._vipMod.showPop())
                    }, n.playSceneChange = function (e) {
                        n.isFee && ("mini" === e.playScene ? (n.hide(), n._vipMod.hideToast()) : n.isEnd && n._video.global.ups.trialData && "mini" !== n._video.global.config.playScene && (n.show(n._video.global), n._vipMod.showToast()))
                    }, n._playCallback = function () {
                        n._vipMod || n._initVipMod(n._video.global), n.isEnd && n._vipMod.hidePop(), n._vipMod.showToast(), n.isEnd = !1
                    }, n.isFee ? (n._video.ykplayer.on(b.default.onTrialEnd, n.trialEnd), n._video.ykplayer.on("global.config", n.playSceneChange), n._video.ykplayer.on("play", n._playCallback), n) : (0, d.default)(n))) : (0, d.default)(n)
                }
                return (0, g.default)(t, e), (0, u.default)(t, [{
                    key: "initEmit",
                    value: function () {}
                }, {
                    key: "_initVipMod",
                    value: function (e) {
                        var t = e.ups && e.ups.videoData ? e.ups.videoData.encodeid : e.mediaData.mediaId;
                        try {
                            if (this._vipMod = new y.default({
                                container: this._el,
                                video_id: t,
                                channel: "v",
                                show_id: this._video.global.ups.showData && this._video.global.ups.showData.encodeid,
                                container_sid_id: "bpmodule-playpage-fee"
                            }), !this.isFee) return;
                            this._video.global.ups.trialData && "mini" !== this._video.global.config.playScene && this.show(this._video.global), !0 === this.reload && this._vipMod.showToast()
                        } catch (e) {
                            console.log(e)
                        }
                    }
                }, {
                    key: "show",
                    value: function () {
                        this.isFee && (this._el.style.display = "block", this._vipMod || this._initVipMod(this._video.global))
                    }
                }, {
                    key: "showPop",
                    value: function () {
                        this.isFee && (this._el.style.display = "block", this.reload = !1, this._vipMod || this._initVipMod(this._video.global), this._vipMod.showPop())
                    }
                }, {
                    key: "hide",
                    value: function () {
                        this._el.style.display = "none"
                    }
                }, {
                    key: "destroy",
                    value: function () {
                        this.playSceneChange && this.isFee && (this._video.ykplayer.fire(b.default.onTrialEnd, this.trialEnd), this._video.ykplayer.fire("global.config", this.playSceneChange), this._video.ykplayer.fire("play", this._playCallback)), (0, p.default)(t.prototype.__proto__ || (0, r.default)(t.prototype), "destroy", this).call(this)
                    }
                }, {
                    key: "render",
                    value: function () {
                        return '<div class="vip_info" style="display:none;z-index:90">\n        </div>'
                    }
                }]), t
            }(v.Layer);
        t.default = E
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(2),
            r = i(o),
            a = n(0),
            s = i(a),
            l = n(1),
            u = i(l),
            c = n(4),
            d = i(c),
            h = n(3),
            p = i(h),
            f = n(5),
            g = n(6),
            m = n(30),
            y = i(m),
            v = function (e) {
                function t(e) {
                    return (0, s.default)(this, t), (0, d.default)(this, (t.__proto__ || (0, r.default)(t)).call(this, e))
                }
                return (0, p.default)(t, e), (0, u.default)(t, [{
                    key: "initDom",
                    value: function () {
                        this._el && 0 === this._el.children.length && (this._el.innerHTML = "\n             <div class=\"note_panel\">\n                    <div class=\"note_title\">订阅我，精彩内容给你好看！</div>\n                    <div class=\"note_subscribe\">\n                        <img class='note_uploader' src=''>\n                        <span class='note_fans'>粉丝</span>\n                        <div class='note_btnsubscribe'>＋订 阅</div>\n                    </div>\n                </div>", this._title = this.find(".note_title"), this._uploader = this.find(".note_uploader"), this._fans = this.find(".note_fans"), this._btn = this.find(".note_btnsubscribe"), this._addEvent(), this.setContent())
                    }
                }, {
                    key: "setContent",
                    value: function () {
                        var e = "订阅我，精彩内容给你好看！",
                            t = "//r1.ykimg.com/0130391F4555CF153FE1A7085A56E48AA349B3-0ED5-7B26-9AA8-8D8DD6A85DEE",
                            n = "0";
                        this._video.global && this._video.global.ups && (this._playlistData = this._video.global.ups, this._playlistData.trialData && this._playlistData.trialData.note && (e = this._playlistData.trialData.note), this._playlistData.uploaderData && (this._playlistData.uploaderData.avatar && (t = this._playlistData.uploaderData.avatar.middle), this._playlistData.uploaderData.fan_count && (n = this._getNum(this._playlistData.uploaderData.fan_count)))), this._title.innerHTML = (0, g.htmlEncodeAll)(e), this._uploader.setAttribute("src", t), this._fans.innerHTML = n + "粉丝"
                    }
                }, {
                    key: "show",
                    value: function () {
                        this.initDom(), this._el.style.display = "block"
                    }
                }, {
                    key: "_addEvent",
                    value: function () {
                        this._btn.addEventListener("click", this._subscribeHandler.bind(this), !1), this._uploader.addEventListener("click", this._uploaderHandler.bind(this), !1)
                    }
                }, {
                    key: "_subscribeHandler",
                    value: function () {
                        var e = this,
                            t = this._video.global.ups.videoData.userid;
                        this._video.global.emit(y.default.playerSubscribe, function () {
                            e._video.ykplayer.reload()
                        }, t, {
                            stype: "9-6"
                        })
                    }
                }, {
                    key: "_uploaderHandler",
                    value: function () {
                        this._playlistData.uploaderData.homepage && this._video.ykplayer.openNewTab(this._playlistData.uploaderData.homepage, "_blank")
                    }
                }, {
                    key: "_getNum",
                    value: function (e) {
                        var t = e.toString(),
                            n = t.length;
                        return n < 4 ? t : 4 === n ? t.charAt(0) + "," + t.slice(1, 4) : n > 4 && n < 9 ? (e / 1e4).toFixed(1) + "万" : n >= 9 ? (e / 1e8).toFixed(1) + "亿" : t
                    }
                }, {
                    key: "render",
                    value: function () {
                        return '\n            <div class="note_info subscribe-layer" style="display:none">\n            </div>\n        '
                    }
                }]), t
            }(f.Layer);
        t.default = v
    },
    function (e, t, n) {
        e.exports = {
            default: n(247),
            __esModule: !0
        }
    },
    function (e, t, n) {
        e.exports = {
            default: n(252),
            __esModule: !0
        }
    },
    function (e, t, n) {
        var i = n(14).document;
        e.exports = i && i.documentElement
    },
    function (e, t, n) {
        e.exports = !n(20) && !n(31)(function () {
            return 7 != Object.defineProperty(n(76)("div"), "a", {
                get: function () {
                    return 7
                }
            }).a
        })
    },
    function (e, t, n) {
        var i = n(44),
            o = n(16)("iterator"),
            r = Array.prototype;
        e.exports = function (e) {
            return void 0 !== e && (i.Array === e || r[o] === e)
        }
    },
    function (e, t, n) {
        var i = n(42);
        e.exports = Array.isArray || function (e) {
            return "Array" == i(e)
        }
    },
    function (e, t, n) {
        var i = n(25);
        e.exports = function (e, t, n, o) {
            try {
                return o ? t(i(n)[0], n[1]) : t(n)
            } catch (t) {
                var r = e.return;
                throw void 0 !== r && i(r.call(e)), t
            }
        }
    },
    function (e, t, n) {
        var i = n(16)("iterator"),
            o = !1;
        try {
            var r = [7][i]();
            r.return = function () {
                o = !0
            }, Array.from(r, function () {
                throw 2
            })
        } catch (e) {}
        e.exports = function (e, t) {
            if (!t && !o) return !1;
            var n = !1;
            try {
                var r = [7],
                    a = r[i]();
                a.next = function () {
                    return {
                        done: n = !0
                    }
                }, r[i] = function () {
                    return a
                }, e(r)
            } catch (e) {}
            return n
        }
    },
    function (e, t) {
        e.exports = function (e, t) {
            return {
                value: t,
                done: !!e
            }
        }
    },
    function (e, t, n) {
        var i = n(117),
            o = n(77).concat("length", "prototype");
        t.f = Object.getOwnPropertyNames || function (e) {
            return i(e, o)
        }
    },
    function (e, t, n) {
        var i = n(32),
            o = n(34),
            r = n(86)("IE_PROTO"),
            a = Object.prototype;
        e.exports = Object.getPrototypeOf || function (e) {
            return e = o(e), i(e, r) ? e[r] : "function" == typeof e.constructor && e instanceof e.constructor ? e.constructor.prototype : e instanceof Object ? a : null
        }
    },
    function (e, t, n) {
        var i = n(32),
            o = n(33),
            r = n(257)(!1),
            a = n(86)("IE_PROTO");
        e.exports = function (e, t) {
            var n, s = o(e),
                l = 0,
                u = [];
            for (n in s) n != a && i(s, n) && u.push(n);
            for (; t.length > l;) i(s, n = t[l++]) && (~r(u, n) || u.push(n));
            return u
        }
    },
    function (e, t) {
        e.exports = function (e) {
            try {
                return {
                    e: !1,
                    v: e()
                }
            } catch (e) {
                return {
                    e: !0,
                    v: e
                }
            }
        }
    },
    function (e, t, n) {
        var i = n(25),
            o = n(21),
            r = n(81);
        e.exports = function (e, t) {
            if (i(e), o(t) && t.constructor === e) return t;
            var n = r.f(e);
            return (0, n.resolve)(t), n.promise
        }
    },
    function (e, t, n) {
        e.exports = n(28)
    },
    function (e, t, n) {
        "use strict";
        var i = n(14),
            o = n(7),
            r = n(22),
            a = n(20),
            s = n(16)("species");
        e.exports = function (e) {
            var t = "function" == typeof o[e] ? o[e] : i[e];
            a && t && !t[s] && r.f(t, s, {
                configurable: !0,
                get: function () {
                    return this
                }
            })
        }
    },
    function (e, t, n) {
        var i = n(25),
            o = n(41),
            r = n(16)("species");
        e.exports = function (e, t) {
            var n, a = i(e).constructor;
            return void 0 === a || void 0 == (n = i(a)[r]) ? t : o(n)
        }
    },
    function (e, t, n) {
        var i, o, r, a = n(27),
            s = n(266),
            l = n(108),
            u = n(76),
            c = n(14),
            d = c.process,
            h = c.setImmediate,
            p = c.clearImmediate,
            f = c.MessageChannel,
            g = c.Dispatch,
            m = 0,
            y = {},
            v = function () {
                var e = +this;
                if (y.hasOwnProperty(e)) {
                    var t = y[e];
                    delete y[e], t()
                }
            },
            _ = function (e) {
                v.call(e.data)
            };
        h && p || (h = function (e) {
            for (var t = [], n = 1; arguments.length > n;) t.push(arguments[n++]);
            return y[++m] = function () {
                s("function" == typeof e ? e : Function(e), t)
            }, i(m), m
        }, p = function (e) {
            delete y[e]
        }, "process" == n(42)(d) ? i = function (e) {
            d.nextTick(a(v, e, 1))
        } : g && g.now ? i = function (e) {
            g.now(a(v, e, 1))
        } : f ? (o = new f, r = o.port2, o.port1.onmessage = _, i = a(r.postMessage, r, 1)) : c.addEventListener && "function" == typeof postMessage && !c.importScripts ? (i = function (e) {
            c.postMessage(e + "", "*")
        }, c.addEventListener("message", _, !1)) : i = "onreadystatechange" in u("script") ? function (e) {
            l.appendChild(u("script")).onreadystatechange = function () {
                l.removeChild(this), v.call(e)
            }
        } : function (e) {
            setTimeout(a(v, e, 1), 0)
        }), e.exports = {
            set: h,
            clear: p
        }
    },
    function (e, t, n) {
        var i = n(21);
        e.exports = function (e, t) {
            if (!i(e) || e._t !== t) throw TypeError("Incompatible receiver, " + t + " required!");
            return e
        }
    },
    function (e, t) {
        function n(e, t) {
            var n = e[1] || "",
                o = e[3];
            if (!o) return n;
            if (t && "function" == typeof btoa) {
                var r = i(o);
                return [n].concat(o.sources.map(function (e) {
                    return "/*# sourceURL=" + o.sourceRoot + e + " */"
                })).concat([r]).join("\n")
            }
            return [n].join("\n")
        }

        function i(e) {
            return "/*# sourceMappingURL=data:application/json;charset=utf-8;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(e)))) + " */"
        }
        e.exports = function (e) {
            var t = [];
            return t.toString = function () {
                return this.map(function (t) {
                    var i = n(t, e);
                    return t[2] ? "@media " + t[2] + "{" + i + "}" : i
                }).join("")
            }, t.i = function (e, n) {
                "string" == typeof e && (e = [
                    [null, e, ""]
                ]);
                for (var i = {}, o = 0; o < this.length; o++) {
                    var r = this[o][0];
                    "number" == typeof r && (i[r] = !0)
                }
                for (o = 0; o < e.length; o++) {
                    var a = e[o];
                    "number" == typeof a[0] && i[a[0]] || (n && !a[2] ? a[2] = n : n && (a[2] = "(" + a[2] + ") and (" + n + ")"), t.push(a))
                }
            }, t
        }
    },
    function (e, t) {
        function n() {
            throw new Error("setTimeout has not been defined")
        }

        function i() {
            throw new Error("clearTimeout has not been defined")
        }

        function o(e) {
            if (c === setTimeout) return setTimeout(e, 0);
            if ((c === n || !c) && setTimeout) return c = setTimeout, setTimeout(e, 0);
            try {
                return c(e, 0)
            } catch (t) {
                try {
                    return c.call(null, e, 0)
                } catch (t) {
                    return c.call(this, e, 0)
                }
            }
        }

        function r(e) {
            if (d === clearTimeout) return clearTimeout(e);
            if ((d === i || !d) && clearTimeout) return d = clearTimeout, clearTimeout(e);
            try {
                return d(e)
            } catch (t) {
                try {
                    return d.call(null, e)
                } catch (t) {
                    return d.call(this, e)
                }
            }
        }

        function a() {
            g && p && (g = !1, p.length ? f = p.concat(f) : m = -1, f.length && s())
        }

        function s() {
            if (!g) {
                var e = o(a);
                g = !0;
                for (var t = f.length; t;) {
                    for (p = f, f = []; ++m < t;) p && p[m].run();
                    m = -1, t = f.length
                }
                p = null, g = !1, r(e)
            }
        }

        function l(e, t) {
            this.fun = e, this.array = t
        }

        function u() {}
        var c, d, h = e.exports = {};
        ! function () {
            try {
                c = "function" == typeof setTimeout ? setTimeout : n
            } catch (e) {
                c = n
            }
            try {
                d = "function" == typeof clearTimeout ? clearTimeout : i
            } catch (e) {
                d = i
            }
        }();
        var p, f = [],
            g = !1,
            m = -1;
        h.nextTick = function (e) {
            var t = new Array(arguments.length - 1);
            if (arguments.length > 1)
                for (var n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
            f.push(new l(e, t)), 1 !== f.length || g || o(s)
        }, l.prototype.run = function () {
            this.fun.apply(null, this.array)
        }, h.title = "browser", h.browser = !0, h.env = {}, h.argv = [], h.version = "", h.versions = {}, h.on = u, h.addListener = u, h.once = u, h.off = u, h.removeListener = u, h.removeAllListeners = u, h.emit = u, h.prependListener = u, h.prependOnceListener = u, h.listeners = function (e) {
            return []
        }, h.binding = function (e) {
            throw new Error("process.binding is not supported")
        }, h.cwd = function () {
            return "/"
        }, h.chdir = function (e) {
            throw new Error("process.chdir is not supported")
        }, h.umask = function () {
            return 0
        }
    },
    function (e, t, n) {
        var i = n(298);
        "string" == typeof i && (i = [
            [e.i, i, ""]
        ]);
        var o = {};
        o.transform = void 0;
        n(128)(i, o);
        i.locals && (e.exports = i.locals)
    },
    function (e, t, n) {
        function i(e, t) {
            for (var n = 0; n < e.length; n++) {
                var i = e[n],
                    o = f[i.id];
                if (o) {
                    o.refs++;
                    for (var r = 0; r < o.parts.length; r++) o.parts[r](i.parts[r]);
                    for (; r < i.parts.length; r++) o.parts.push(c(i.parts[r], t))
                } else {
                    for (var a = [], r = 0; r < i.parts.length; r++) a.push(c(i.parts[r], t));
                    f[i.id] = {
                        id: i.id,
                        refs: 1,
                        parts: a
                    }
                }
            }
        }

        function o(e, t) {
            for (var n = [], i = {}, o = 0; o < e.length; o++) {
                var r = e[o],
                    a = t.base ? r[0] + t.base : r[0],
                    s = r[1],
                    l = r[2],
                    u = r[3],
                    c = {
                        css: s,
                        media: l,
                        sourceMap: u
                    };
                i[a] ? i[a].parts.push(c) : n.push(i[a] = {
                    id: a,
                    parts: [c]
                })
            }
            return n
        }

        function r(e, t) {
            var n = m(e.insertInto);
            if (!n) throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");
            var i = _[_.length - 1];
            if ("top" === e.insertAt) i ? i.nextSibling ? n.insertBefore(t, i.nextSibling) : n.appendChild(t) : n.insertBefore(t, n.firstChild), _.push(t);
            else {
                if ("bottom" !== e.insertAt) throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");
                n.appendChild(t)
            }
        }

        function a(e) {
            if (null === e.parentNode) return !1;
            e.parentNode.removeChild(e);
            var t = _.indexOf(e);
            t >= 0 && _.splice(t, 1)
        }

        function s(e) {
            var t = document.createElement("style");
            return e.attrs.type = "text/css", u(t, e.attrs), r(e, t), t
        }

        function l(e) {
            var t = document.createElement("link");
            return e.attrs.type = "text/css", e.attrs.rel = "stylesheet", u(t, e.attrs), r(e, t), t
        }

        function u(e, t) {
            Object.keys(t).forEach(function (n) {
                e.setAttribute(n, t[n])
            })
        }

        function c(e, t) {
            var n, i, o, r;
            if (t.transform && e.css) {
                if (!(r = t.transform(e.css))) return function () {};
                e.css = r
            }
            if (t.singleton) {
                var u = v++;
                n = y || (y = s(t)), i = d.bind(null, n, u, !1), o = d.bind(null, n, u, !0)
            } else e.sourceMap && "function" == typeof URL && "function" == typeof URL.createObjectURL && "function" == typeof URL.revokeObjectURL && "function" == typeof Blob && "function" == typeof btoa ? (n = l(t), i = p.bind(null, n, t), o = function () {
                a(n), n.href && URL.revokeObjectURL(n.href)
            }) : (n = s(t), i = h.bind(null, n), o = function () {
                a(n)
            });
            return i(e),
                function (t) {
                    if (t) {
                        if (t.css === e.css && t.media === e.media && t.sourceMap === e.sourceMap) return;
                        i(e = t)
                    } else o()
                }
        }

        function d(e, t, n, i) {
            var o = n ? "" : i.css;
            if (e.styleSheet) e.styleSheet.cssText = E(t, o);
            else {
                var r = document.createTextNode(o),
                    a = e.childNodes;
                a[t] && e.removeChild(a[t]), a.length ? e.insertBefore(r, a[t]) : e.appendChild(r)
            }
        }

        function h(e, t) {
            var n = t.css,
                i = t.media;
            if (i && e.setAttribute("media", i), e.styleSheet) e.styleSheet.cssText = n;
            else {
                for (; e.firstChild;) e.removeChild(e.firstChild);
                e.appendChild(document.createTextNode(n))
            }
        }

        function p(e, t, n) {
            var i = n.css,
                o = n.sourceMap,
                r = void 0 === t.convertToAbsoluteUrls && o;
            (t.convertToAbsoluteUrls || r) && (i = b(i)), o && (i += "\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(o)))) + " */");
            var a = new Blob([i], {
                    type: "text/css"
                }),
                s = e.href;
            e.href = URL.createObjectURL(a), s && URL.revokeObjectURL(s)
        }
        var f = {},
            g = function (e) {
                var t;
                return function () {
                    return void 0 === t && (t = e.apply(this, arguments)), t
                }
            }(function () {
                return window && document && document.all && !window.atob
            }),
            m = function (e) {
                var t = {};
                return function (n) {
                    return void 0 === t[n] && (t[n] = e.call(this, n)), t[n]
                }
            }(function (e) {
                return document.querySelector(e)
            }),
            y = null,
            v = 0,
            _ = [],
            b = n(313);
        e.exports = function (e, t) {
            if ("undefined" != typeof DEBUG && DEBUG && "object" != typeof document) throw new Error("The style-loader cannot be used in a non-browser environment");
            t = t || {}, t.attrs = "object" == typeof t.attrs ? t.attrs : {}, t.singleton || (t.singleton = g()), t.insertInto || (t.insertInto = "head"), t.insertAt || (t.insertAt = "bottom");
            var n = o(e, t);
            return i(n, t),
                function (e) {
                    for (var r = [], a = 0; a < n.length; a++) {
                        var s = n[a],
                            l = f[s.id];
                        l.refs--, r.push(l)
                    }
                    if (e) {
                        i(o(e, t), t)
                    }
                    for (var a = 0; a < r.length; a++) {
                        var l = r[a];
                        if (0 === l.refs) {
                            for (var u = 0; u < l.parts.length; u++) l.parts[u]();
                            delete f[l.id]
                        }
                    }
                }
        };
        var E = function () {
            var e = [];
            return function (t, n) {
                return e[t] = n, e.filter(Boolean).join("\n")
            }
        }()
    },
    function (e, t) {
        var n;
        n = function () {
            return this
        }();
        try {
            n = n || Function("return this")() || (0, eval)("this")
        } catch (e) {
            "object" == typeof window && (n = window)
        }
        e.exports = n
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(0),
            r = i(o),
            a = n(1),
            s = i(a),
            l = n(180),
            u = i(l),
            c = n(30),
            d = i(c),
            h = n(9);
        i(n(101)).default.init();
        var p = function () {
            function e(t, n) {
                (0, r.default)(this, e), this._manage = new u.default(t, n)
            }
            return (0, s.default)(e, [{
                key: "getDotsInfo",
                value: function () {
                    return this._manage.global.dots
                }
            }, {
                key: "play",
                value: function () {
                    this._manage.play()
                }
            }, {
                key: "pause",
                value: function () {
                    this._manage.pause()
                }
            }, {
                key: "playByVid",
                value: function (e) {
                    this._manage.playByVid(e)
                }
            }, {
                key: "seek",
                value: function (e) {
                    this._manage.seek(e)
                }
            }, {
                key: "backPlay",
                value: function () {
                    this._manage.backPlay()
                }
            }, {
                key: "forwardPlay",
                value: function () {
                    this._manage.forwardPlay()
                }
            }, {
                key: "getCurrentTime",
                value: function () {
                    return this._manage.global.currentTime
                }
            }, {
                key: "getDuration",
                value: function () {
                    return this._manage.global.config.duration
                }
            }, {
                key: "getConfig",
                value: function () {
                    return this._manage.global.config
                }
            }, {
                key: "getData",
                value: function () {
                    return this._manage.global.ups ? this._manage.global.ups : null
                }
            }, {
                key: "getPlayerInfo",
                value: function () {
                    return this._manage.global.getCurrentPlayerData()
                }
            }, {
                key: "setPlayerLoop",
                value: function (e) {
                    this._manage.global.config = {
                        loop: e
                    }
                }
            }, {
                key: "setPlayerConfig",
                value: function (e) {
                    e.quality = void 0, e.laguage = void 0, this._manage.global.config = e
                }
            }, {
                key: "setMiniWin",
                value: function (e) {
                    (0, h.addClass)(this._manage.container, "yk-video-fixed"), (0, h.setStyle)(this._manage.container, e || {}), this._manage.global.config = {
                        playScene: "mini"
                    }
                }
            }, {
                key: "revertMiniWin",
                value: function () {
                    (0, h.removeClass)(this._manage.container, "yk-video-fixed"), (0, h.setStyle)(this._manage.container, {}), this._manage.global.config = {
                        playScene: "normal"
                    }
                }
            }, {
                key: "getBulletStatus",
                value: function () {
                    return this._manage.getBulletStatus()
                }
            }, {
                key: "changeBulletStatus",
                value: function (e) {
                    this._manage.changeBulletStatus(e)
                }
            }, {
                key: "getProcessState",
                value: function () {
                    return this._manage.global.getProcessState()
                }
            }, {
                key: "on",
                value: function (e, t) {
                    if (!d.default[e]) return !1;
                    this._manage.on(d.default[e], t)
                }
            }, {
                key: "getPlayerState",
                value: function () {
                    return this._manage.global.playerState
                }
            }, {
                key: "getPlayerConfig",
                value: function () {
                    return this._manage.global.config
                }
            }, {
                key: "getPlayerMediadata",
                value: function () {
                    return this._manage.global.mediaData
                }
            }, {
                key: "exitFullscreen",
                value: function () {
                    this._manage.exitFullscreen()
                }
            }, {
                key: "enterFullscreen",
                value: function () {
                    this._manage.fullScreen()
                }
            }, {
                key: "holdDashboard",
                value: function () {
                    this._manage.holdDashboard()
                }
            }, {
                key: "releaseDashboard",
                value: function () {
                    this._manage.releaseDashboard()
                }
            }, {
                key: "reload",
                value: function () {
                    this._manage.reload()
                }
            }, {
                key: "setPlayList",
                value: function (e) {
                    this._manage.setPlayList(e)
                }
            }, {
                key: "setPlayHeadSkin",
                value: function (e) {
                    if (e && e.url) {
                        var t = this._manage.container.getElementsByClassName("js-thumb");
                        if (!(t.length > 0)) return !1;
                        t = t[0];
                        var n = document.createElement("img");
                        n.onload = function () {
                            var i = n.width,
                                o = n.height;
                            (0, h.addClass)(t, "yk-custom-thumb"), t.style.backgroundImage = " url(" + e.url + ")", t.style.backgroundImage = " url(" + e.url + ")", t.style.backgroundSize = i + "px " + o + "px", t.style.width = i + "px", t.style.height = o + "px", t.style.top = "-" + i / 2 + "px", n = null
                        }, n.src = e.url
                    }
                }
            }]), e
        }();
        p.Events = d.default, p.Manage = u.default, t.default = p
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                return typeof e
            } : function (e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            },
            r = n(132),
            a = i(r),
            s = n(96),
            l = i(s),
            u = n(138),
            c = i(u),
            d = n(95),
            h = i(d),
            p = n(136),
            f = i(p),
            g = {
                ackMap: {},
                msgMap: {},
                subscribeMap: {},
                __stack__: {},
                __sl__: 0,
                packMsg: function (e, t, n) {
                    var i = void 0;
                    if (t.buffer && t instanceof Uint8Array) {
                        var r = l.default.binaryArrayToBinaryString(t);
                        i = (0, f.default)(r)
                    } else {
                        if ("string" != typeof t) throw "non-binary data must be string";
                        i = (0, f.default)(l.default.utf16ToUtf8(t))
                    }
                    var a = {};
                    if ("object" === (void 0 === n ? "undefined" : o(n)) && n.headers) {
                        var s = n.headers;
                        Object.keys(s).forEach(function (e) {
                            Number(e) && e >= 0 && e <= 63 && "string" == typeof s[e] && (!1 !== n.base64Encode ? a[e] = (0, f.default)(s[e]) : a[e] = s[e])
                        })
                    }
                    return {
                        type: "REQ",
                        protocol: "ACCS_H5",
                        dataId: (0, c.default)(),
                        serviceId: e,
                        target: e,
                        source: e,
                        data: i,
                        extHeader: a
                    }
                }, processDownlinkMsg: function (e, t) {
                    var n = new a.default(e);
                    if ("ACCS_H5" == n.protocol || "ACCS_WV" == n.protocol) {
                        if ("1" == n.err) {
                            var i = (0, h.default)(n.data);
                            try {
                                JSON.parse(i)
                            } catch (e) {
                                console.error(e)
                            }
                        }
                        switch (n.type) {
                        case "RES":
                            var o = this.ackMap["_" + n.dataId];
                            o && (o(n), delete this.ackMap["_" + n.dataId], delete this.msgMap["_" + n.dataId]);
                            break;
                        case "DATA":
                            if (!this.__stack__[n.dataId]) {
                                this.__stack__[n.dataId] = !0, this.__sl__++ >= 50 && (this.__sl__ = 0, this.__stack__ = {});
                                var r = this.subscribeMap["_" + n.serviceId];
                                r && r(n)
                            }
                            n.extHeader && (n.decodedExtHeader = {}, Object.keys(n.extHeader).forEach(function (e) {
                                n.decodedExtHeader[e] = (0, h.default)(n.extHeader[e])
                            })), t && t(n)
                        }
                    }
                }
            };
        t.default = g
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function o(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var r = function () {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var i = t[n];
                        i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
                    }
                }
                return function (t, n, i) {
                    return n && e(t.prototype, n), i && e(t, i), t
                }
            }(),
            a = n(96),
            s = i(a),
            l = n(95),
            u = i(l),
            c = n(137),
            d = i(c),
            h = function () {
                function e(t) {
                    o(this, e);
                    var n = JSON.parse(t);
                    for (var i in n) n.hasOwnProperty(i) && (this[i] = n[i])
                }
                return r(e, [{
                    key: "getText",
                    value: function () {
                        return this.data ? s.default.utf8ToUtf16((0, u.default)(this.data)) : ""
                    }
                }, {
                    key: "getBinaryArray",
                    value: function () {
                        var e = this;
                        return new Promise(function (t) {
                            if (!e.data) return void t([]);
                            var n = (0, u.default)(e.data),
                                i = e.compressType || "COMMON",
                                o = s.default.binaryStringToBinaryArray(n);
                            if ("GZIP" === String(i)) {
                                var r = {
                                    level: 6,
                                    name: "",
                                    timestamp: parseInt(Date.now() / 1e3, 10)
                                };
                                o = new Uint8Array(d.default.unzip(o, r)), t(o)
                            } else t(o)
                        })
                    }
                }]), e
            }();
        t.default = h
    },
    function (e, t, n) {
        "use strict";

        function i(e, t) {
            return new Promise(function (n, i) {
                var r = t,
                    a = e.deviceId,
                    s = e.appkey;
                r || ((0, o.checkIsBrowser)() && window.lib && window.lib.mtop || i("Not find lib.mtop!"), r = window.lib.mtop), r.request(Object.assign({
                    api: "mtop.mediaplatform.live.encryption",
                    v: "1.0",
                    data: {
                        appKey: s,
                        windowId: a
                    },
                    AntiCreep: !0,
                    ecode: 0
                }, e.m_params)).then(function (e) {
                    if (e && e.data && e.data.result) {
                        var t = e.data.result;
                        n(t)
                    } else n(null)
                }).catch(function (e) {
                    i(e.ret[0].indexOf("FAIL_SYS_SESSION_EXPIRED") > -1 ? {
                        type: "UESR_NOT_LOGIN",
                        message: "用户未登录"
                    } : {
                        type: "GET_TOKEN_ERROR",
                        message: "获取ACCS token时出错",
                        error: e
                    })
                })
            })
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.getTokenByMtop = i;
        var o = n(61)
    },
    function (e, t, n) {
        "use strict";

        function i(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = function () {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var i = t[n];
                        i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
                    }
                }
                return function (t, n, i) {
                    return n && e(t.prototype, n), i && e(t, i), t
                }
            }(),
            r = n(131),
            a = function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }(r),
            s = n(61),
            l = ["mtop"],
            u = 3e4,
            c = function () {
                function e(t, n) {
                    var o = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "",
                        r = arguments[3],
                        c = arguments[4],
                        d = this,
                        h = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : 3e3,
                        p = arguments[6];
                    if (i(this, e), this._subscribeMap = a.default.subscribeMap, this._ackMap = a.default.ackMap, this._msgMap = a.default.msgMap, this._aserverProxy = o, this._ports = c, this._token = r, this._opt = p, this._reconnectAble = !1, this._closeTimes = 0, this._detectTimer = null, (0, s.checkIsBrowser)())
                        for (var f = 0; f < l.length; f++)
                            if (void 0 === lib[l[f]]) throw "lib.&{REQUIRES[i]} must be required!";
                    p.reconnect && (p.accsToken ? console.warn('The custom "accsToken" can\'t use reconnect mode!') : this._reconnectAble = !0), this._getConnectionUrl(), this._initConnection(function (e) {
                        e.isSuccess ? (d._connection = e.connection, d._sendProbe(), d._bindEventHandler(), d._opt.accsHeartbeat && (d.heartCheck = {
                            stopped: !1,
                            timeoutObj: null,
                            serverTimeoutObj: null,
                            stop: function () {
                                var e = d.heartCheck;
                                clearTimeout(e.timeoutObj), clearTimeout(e.serverTimeoutObj), e.stopped = !0
                            }, reset: function (e) {
                                var t = d.heartCheck;
                                clearTimeout(t.timeoutObj), clearTimeout(t.serverTimeoutObj), t.stopped || t.start(e)
                            }, start: function (e) {
                                var t = d.heartCheck,
                                    n = e || u;
                                t.stopped || (t.timeoutObj = setTimeout(function () {
                                    var e = {};
                                    d.send("h5_ping", JSON.stringify(e)).then(function (e) {
                                        if (!t.stopped) try {
                                            d.heartCheck.reset(1e3 * JSON.parse(e.getText()).timeInterval)
                                        } catch (e) {}
                                    }, function (e) {}), t.serverTimeoutObj = setTimeout(function () {
                                        d.onHeartbeatError && d.onHeartbeatError(), t.stop()
                                    }, n)
                                }, n))
                            }
                        }, d.heartCheck.start()), t(d)) : n({
                            type: "OPEN_CONNECTION_ERROR",
                            message: "开启连接失败",
                            error: e.error
                        })
                    }), setTimeout(function () {
                        d.getStatus() || n({
                            type: "OPEN_CONNECTION_TIMEOUT",
                            message: "开启连接超时",
                            error: ""
                        })
                    }, h)
                }
                return o(e, [{
                    key: "_getConnectionUrl",
                    value: function () {
                        var e = "m",
                            t = this._opt.protocol || "ws:";
                        return "undefined" != typeof lib && lib.mtop.config && lib.mtop.config.subDomain && (e = lib.mtop.config.subDomain), (0, s.checkIsBrowser)() && "https:" === window.location.protocol && (t = "wss:"), this._aserverProxy ? this._url = t + "//" + this._aserverProxy + ":" + this._ports + "/accs/auth?token=" + this._token : this._url = t + "//msgacs." + e + ".taobao.com:" + this._ports + "/accs/auth?token=" + this._token, this._url
                    }
                }, {
                    key: "_initConnection",
                    value: function (e) {
                        var t = new s.WebSocket(this._url);
                        t.onopen = function () {
                            t.onerror = null, t.onopen = null, e && e({
                                isSuccess: !0,
                                connection: t
                            })
                        }, t.onerror = function (n) {
                            t.onerror = null, t.onopen = null, e && e({
                                isSuccess: !1,
                                connection: t,
                                error: n
                            })
                        }
                    }
                }, {
                    key: "_bindEventHandler",
                    value: function () {
                        var e = this;
                        this._connection.onerror = function (t) {
                            console.log("accs_onerror", t), e.onError && e.onError(t)
                        }, this._connection.onclose = function (t) {
                            clearTimeout(e._detectTimer), e._reconnectAble ? e._reconnect() : (console.log("accs_onclose", t), e.onClose && e.onClose(t))
                        }, this._connection.onmessage = function (t) {
                            e._processDownlinkMsg(t.data)
                        }
                    }
                }, {
                    key: "_sendProbe",
                    value: function () {
                        var e = this;
                        this._detectTimer = setTimeout(function () {
                            !0 === e._opt.heartbeat ? (e._connection.send(JSON.stringify({
                                type: "ACK",
                                protocol: "HEARTBEAT_ACCS_H5",
                                data: ""
                            })), e._sendProbe()) : clearTimeout(e._detectTimer)
                        }, u)
                    }
                }, {
                    key: "_sendACK",
                    value: function (e) {
                        this._connection.send(JSON.stringify({
                            type: "ACK",
                            protocol: "ACCS_H5",
                            dataId: e.dataId,
                            serviceId: e.serviceId,
                            target: e.source || "",
                            source: e.target || "",
                            ip: e.ip || "",
                            data: "",
                            extHeader: e.extHeader || {}
                        }))
                    }
                }, {
                    key: "_processDownlinkMsg",
                    value: function (e) {
                        var t = this;
                        a.default.processDownlinkMsg(e, function (e) {
                            t._sendACK(e)
                        })
                    }
                }, {
                    key: "onMessage",
                    value: function (e, t) {
                        "function" == typeof t && (clearTimeout(this._detectTimer), this._sendProbe(), this._subscribeMap["_" + e] = t)
                    }
                }, {
                    key: "onError",
                    value: function (e) {
                        console.log(e), console.log("webSocket onerror")
                    }
                }, {
                    key: "offMessage",
                    value: function (e) {
                        delete this._subscribeMap["_" + e]
                    }
                }, {
                    key: "send",
                    value: function (e, t, n) {
                        var i = this;
                        return new Promise(function (o, r) {
                            try {
                                if (!i.getStatus()) throw "websocket not available";
                                var s = a.default.packMsg(e, t, n);
                                o && (i._ackMap["_" + s.dataId] = o, i._msgMap["_" + s.dataId] = s, "accs_h5_binduser" === e && (i._msgMap.binduser = s)), clearTimeout(i._detectTimer), i._sendProbe(), i._connection.send(JSON.stringify(s))
                            } catch (e) {
                                r(e)
                            }
                        })
                    }
                }, {
                    key: "close",
                    value: function () {
                        this.getStatus() && (this._reconnectAble = !1, this._connection.close())
                    }
                }, {
                    key: "_reconnect",
                    value: function () {
                        var e = this;
                        ++this._closeTimes < 5 ? setTimeout(function () {
                            e._opt.getToken({
                                appkey: e._opt.appkey,
                                deviceId: e._opt.__accs_device,
                                m_params: e._opt.m_params
                            }).then(function (t) {
                                t ? (e._token = t, e._getConnectionUrl(), e._initConnection(function (t) {
                                    t.isSuccess ? (e._connection = t.connection, e._sendProbe(), e._bindEventHandler(), e.onReconnect && e.onReconnect(e)) : e._reconnect()
                                })) : (e._reconnectAble = !1, console.log("webSocket reconnect get TOKEN response error"), e.onClose && e.onClose())
                            }).catch(function (t) {
                                e._reconnect()
                            })
                        }, this._opt.reconnectInterval || 2e3) : (this._reconnectAble = !1, console.log("webSocket reconnect end!"), this.onClose && this.onClose())
                    }
                }, {
                    key: "dangerouslyReconnect",
                    value: function (e, t, n) {
                        var i = this;
                        this._token = e, this._getConnectionUrl(), this._initConnection(function (e) {
                            e.isSuccess ? (i._connection = e.connection, i._sendProbe(), i._bindEventHandler(), console.log(i._ackMap), console.log(i._msgMap), i._msgMap.binduser ? i.send("accs_h5_binduser", i._msgMap.binduser).then(function (e) {
                                Object.keys(i._ackMap).length > 0 && Object.keys(i._ackMap).forEach(function (e) {
                                    i._connection.send(JSON.stringify(i._msgMap[e]))
                                })
                            }) : Object.keys(i._ackMap).length > 0 && Object.keys(i._ackMap).forEach(function (e) {
                                console.log(i._msgMap[e]), i._connection.send(JSON.stringify(i._msgMap[e]))
                            }), t && t(i)) : n && n()
                        })
                    }
                }, {
                    key: "getStatus",
                    value: function () {
                        return this._connection && 1 === Number(this._connection.readyState)
                    }
                }]), e
            }();
        t.default = c
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function o(e, t, n, i, o, r, a) {
            new l.default(o, r, e, t, n, i, a)
        }

        function r(e) {
            return new Promise(function (t, n) {
                var i = (0, a.checkIsSupportWS)(),
                    r = e.ports || 80,
                    s = e.timeout || 3e3,
                    l = e.aserverProxy || "",
                    u = e.getToken = e.getToken || d.getTokenByMtop;
                h = e.appkey, e.__accs_device = p, e && e.appkey || n({
                    type: "NO_APPKEY",
                    message: "请传入appkey"
                }), i ? e.accsToken ? o(l, e.accsToken, r, s, t, n, e) : u({
                    appkey: e.appkey,
                    deviceId: p,
                    m_params: e.m_params
                }).then(function (i) {
                    if (!i) return n({
                        type: "GET_TOKEN_ERROR",
                        message: "获取ACCS token时出错",
                        error: "Not get token!"
                    });
                    o(l, i, r, s, t, n, e)
                }).catch(function (e) {
                    n({
                        type: "GET_TOKEN_ERROR",
                        message: "获取ACCS token时出错",
                        error: e
                    })
                }) : n({
                    type: "NO_WS_SUPPORT",
                    message: "浏览器不支持 WebSocket"
                })
            })
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var a = n(61),
            s = n(134),
            l = i(s),
            u = n(303),
            c = i(u),
            d = n(133),
            h = "",
            p = function () {
                if (a.sessionStorage.getItem("__accs_device")) return a.sessionStorage.getItem("__accs_device");
                var e = Math.floor(899 * Math.random() + 100),
                    t = (0, a.checkIsBrowser)() ? new c.default({
                        screen_resolution: !0,
                        canvas: !0
                    }).get() : Math.floor(1e9 * Math.random());
                return t = t.toString().substr(0, 11), t += new Array(11 - t.length).join("0"), p = t + "_" + e, a.sessionStorage.setItem("__accs_device", p), p
            }(),
            f = void 0;
        f = (0, a.checkIsBrowser)() ? window.lib || (window.lib = {}) : {};
        var g = f.accs = {
            init: r,
            bindAble: !0,
            getToken: function () {
                return ""
            }, getAccsDeviceId: function () {
                return p || ""
            }, getAppkey: function () {
                return h || ""
            }
        };
        t.default = g
    },
    function (e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = function (e) {
            try {
                if ("undefined" != typeof window && btoa) return btoa(e)
            } catch (e) {
                console.log(e)
            }
            var t = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
            e = String(e);
            for (var n = void 0, i = void 0, o = void 0, r = void 0, a = "", s = 0, l = e.length % 3; s < e.length;) {
                if ((i = e.charCodeAt(s++)) > 255 || (o = e.charCodeAt(s++)) > 255 || (r = e.charCodeAt(s++)) > 255) throw new TypeError("Failed to execute 'btoa' on 'Window': The string to be encoded contains characters outside of the Latin1 range.");
                n = i << 16 | o << 8 | r, a += t.charAt(n >> 18 & 63) + t.charAt(n >> 12 & 63) + t.charAt(n >> 6 & 63) + t.charAt(63 & n)
            }
            return l ? a.slice(0, l - 3) + "===".substring(l) : a
        }
    },
    function (e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = null;
        ! function (e) {
            function t(i) {
                if (n[i]) return n[i].exports;
                var o = n[i] = {
                    exports: {},
                    id: i,
                    loaded: !1
                };
                return e[i].call(o.exports, o, o.exports, t), o.loaded = !0, o.exports
            }
            var n = {};
            t.m = e, t.c = n, t.p = "", t(0)
        }([
            function (e, t, n) {
                (function (e) {
                    var t = n(1),
                        o = function (e) {
                            return e && e.__esModule ? e : {
                                default: e
                            }
                        }(t);
                    i = o.default
                }).call(t, function () {
                    return this
                }())
            },
            function (e, t, n) {
                ! function () {
                    function t(e, t) {
                        t.push(255 & e)
                    }

                    function i(e, t) {
                        t.push(255 & e), t.push(e >>> 8)
                    }

                    function o(e, t) {
                        i(65535 & e, t), i(e >>> 16, t)
                    }

                    function r(e, n) {
                        var i, o = e.length;
                        for (i = 0; o > i; i += 1) t(e.charCodeAt(i), n)
                    }

                    function a(e) {
                        return e.shift()
                    }

                    function s(e) {
                        return e.shift() | e.shift() << 8
                    }

                    function l(e) {
                        var t = s(e),
                            n = s(e);
                        return n > 32768 ? ((n -= 32768) << 16 | t) + 32768 * Math.pow(2, 16) : n << 16 | t
                    }

                    function u(e) {
                        for (var t = []; 0 !== e[0];) t.push(String.fromCharCode(e.shift()));
                        return e.shift(), t.join("")
                    }

                    function c(e, t) {
                        var n, i = [];
                        for (n = 0; t > n; n += 1) i.push(e.shift());
                        return i
                    }

                    function d(e, n) {
                        var i, a = 0,
                            s = [];
                        return n || (n = {}), i = n.level || E, "string" == typeof e && (e = Array.prototype.map.call(e, function (e) {
                            return e.charCodeAt(0)
                        })), t(g, s), t(m, s), t(y.deflate, s), n.name && (a |= v.FNAME), t(a, s), o(n.timestamp || parseInt(Date.now() / 1e3, 10), s), 1 === i ? t(4, s) : 9 === i ? t(2, s) : t(0, s), t(_[b], s), n.name && (r(n.name.substring(n.name.lastIndexOf("/") + 1), s), t(0, s)), f.deflate(e, i).forEach(function (e) {
                            t(e, s)
                        }), o(parseInt(p(e), 16), s), o(e.length, s), s
                    }

                    function h(e, t) {
                        var n, i, o, r, d, h = Array.prototype.slice.call(e, 0);
                        if (a(h) !== g || a(h) !== m) throw "Not a GZIP file";
                        if (n = a(h), !(n = Object.keys(y).some(function (e) {
                            return i = e, y[e] === n
                        }))) throw "Unsupported compression method";
                        if (o = a(h), l(h), a(h), n = a(h), Object.keys(_).some(function (e) {
                            return _[e] === n ? (r = e, !0) : void 0
                        }), Object.keys(v), o & v.FEXTRA && (n = s(h), c(h, n)), o & v.FNAME && u(h), o & v.FCOMMENT && u(h), o & v.FHCRC && s(h), "deflate" === i && (d = f.inflate(h.splice(0, h.length - 8))), o & v.FTEXT && (d = Array.prototype.map.call(d, function (e) {
                            return String.fromCharCode(e)
                        }).join("")), l(h) !== parseInt(p(d), 16)) throw "Checksum does not match";
                        if (l(h) !== d.length) throw "Size of decompressed file not correct";
                        return d
                    }
                    var p = n(2),
                        f = n(3),
                        g = 31,
                        m = 139,
                        y = {
                            deflate: 8
                        },
                        v = {
                            FTEXT: 1,
                            FHCRC: 2,
                            FEXTRA: 4,
                            FNAME: 8,
                            FCOMMENT: 16
                        },
                        _ = {
                            fat: 0,
                            amiga: 1,
                            vmz: 2,
                            unix: 3,
                            "vm/cms": 4,
                            atari: 5,
                            hpfs: 6,
                            macintosh: 7,
                            "z-system": 8,
                            cplm: 9,
                            "tops-20": 10,
                            ntfs: 11,
                            qdos: 12,
                            acorn: 13,
                            vfat: 14,
                            vms: 15,
                            beos: 16,
                            tandem: 17,
                            theos: 18
                        },
                        b = "unix",
                        E = 6;
                    e.exports = {
                        zip: d,
                        unzip: h,
                        get DEFAULT_LEVEL() {
                            return E
                        }
                    }
                }()
            },
            function (e, t) {
                ! function () {
                    function t(e) {
                        return Array.prototype.map.call(e, function (e) {
                            return e.charCodeAt(0)
                        })
                    }

                    function n(e) {
                        var t, n, i, o, a = -1;
                        for (t = 0, i = e.length; i > t; t += 1) {
                            for (o = 255 & (a ^ e[t]), n = 0; 8 > n; n += 1) 1 == (1 & o) ? o = o >>> 1 ^ r : o >>>= 1;
                            a = a >>> 8 ^ o
                        }
                        return -1 ^ a
                    }

                    function i(e, t) {
                        var n, r, a;
                        if (void 0 !== i.crc && t && e || (i.crc = -1, e)) {
                            for (n = i.crc, r = 0, a = e.length; a > r; r += 1) n = n >>> 8 ^ o[255 & (n ^ e[r])];
                            return i.crc = n, -1 ^ n
                        }
                    }
                    var o = [],
                        r = 3988292384;
                    (function () {
                        var e, t, n;
                        for (t = 0; 256 > t; t += 1) {
                            for (e = t, n = 0; 8 > n; n += 1) 1 & e ? e = r ^ e >>> 1 : e >>>= 1;
                            o[t] = e >>> 0
                        }
                    })(), e.exports = function (e, o) {
                        var e = "string" == typeof e ? t(e) : e;
                        return ((o ? n(e) : i(e)) >>> 0).toString(16)
                    }, e.exports.direct = n, e.exports.table = i
                }()
            },
            function (e, t, n) {
                ! function () {
                    e.exports = {
                        inflate: n(4),
                        deflate: n(5)
                    }
                }()
            },
            function (e, t) {
                ! function () {
                    function t() {
                        this.next = null, this.list = null
                    }

                    function n() {
                        this.e = 0, this.b = 0, this.n = 0, this.t = null
                    }

                    function i(e, i, o, r, a, s) {
                        this.BMAX = 16, this.N_MAX = 288, this.status = 0, this.root = null, this.m = 0;
                        var l, u, c, d, h, p, f, g, m, y, v, _, b, E, k, w, S, T = [],
                            x = [],
                            A = new n,
                            D = [],
                            L = [],
                            C = [];
                        for (S = this.root = null, p = 0; p < this.BMAX + 1; p++) T[p] = 0;
                        for (p = 0; p < this.BMAX + 1; p++) x[p] = 0;
                        for (p = 0; p < this.BMAX; p++) D[p] = null;
                        for (p = 0; p < this.N_MAX; p++) L[p] = 0;
                        for (p = 0; p < this.BMAX + 1; p++) C[p] = 0;
                        u = i > 256 ? e[256] : this.BMAX, m = e, y = 0, p = i;
                        do {
                            T[m[y]]++, y++
                        } while (--p > 0);
                        if (T[0] === i) return this.root = null, this.m = 0, void(this.status = 0);
                        for (f = 1; f <= this.BMAX && 0 === T[f]; f++);
                        for (g = f, f > s && (s = f), p = this.BMAX; 0 !== p && 0 === T[p]; p--);
                        for (d = p, s > p && (s = p), E = 1 << f; p > f; f++, E <<= 1)
                            if ((E -= T[f]) < 0) return this.status = 2, void(this.m = s);
                        if ((E -= T[p]) < 0) return this.status = 2, void(this.m = s);
                        for (T[p] += E, C[1] = f = 0, m = T, y = 1, b = 2; --p > 0;) C[b++] = f += m[y++];
                        m = e, y = 0, p = 0;
                        do {
                            0 !== (f = m[y++]) && (L[C[f]++] = p)
                        } while (++p < i);
                        for (i = C[d], C[0] = p = 0, m = L, y = 0, h = -1, _ = x[0] = 0, v = null, k = 0, null; d >= g; g++)
                            for (l = T[g]; l-- > 0;) {
                                for (; g > _ + x[1 + h];) {
                                    if (_ += x[1 + h], h++, k = (k = d - _) > s ? s : k, (c = 1 << (f = g - _)) > l + 1)
                                        for (c -= l + 1, b = g; ++f < k && !((c <<= 1) <= T[++b]);) c -= T[b];
                                    for (_ + f > u && u > _ && (f = u - _), k = 1 << f, x[1 + h] = f, v = [], w = 0; k > w; w++) v[w] = new n;
                                    S = S ? S.next = new t : this.root = new t, S.next = null, S.list = v, D[h] = v, h > 0 && (C[h] = p, A.b = x[h], A.e = 16 + f, A.t = v, f = (p & (1 << _) - 1) >> _ - x[h], D[h - 1][f].e = A.e, D[h - 1][f].b = A.b, D[h - 1][f].n = A.n, D[h - 1][f].t = A.t)
                                }
                                for (A.b = g - _, y >= i ? A.e = 99 : m[y] < o ? (A.e = m[y] < 256 ? 16 : 15, A.n = m[y++]) : (A.e = a[m[y] - o], A.n = r[m[y++] - o]), c = 1 << g - _, f = p >> _; k > f; f += c) v[f].e = A.e, v[f].b = A.b, v[f].n = A.n, v[f].t = A.t;
                                for (f = 1 << g - 1; 0 != (p & f); f >>= 1) p ^= f;
                                for (p ^= f;
                                    (p & (1 << _) - 1) !== C[h];) _ -= x[h], h--
                            }
                        this.m = x[1], this.status = 0 !== E && 1 !== d ? 1 : 0
                    }

                    function o() {
                        return C.length === M ? -1 : 255 & C[M++]
                    }

                    function r(e) {
                        for (; e > E;) b |= o() << E, E += 8
                    }

                    function a(e) {
                        return b & B[e]
                    }

                    function s(e) {
                        b >>= e, E -= e
                    }

                    function l(e, t, n) {
                        var i, o, l;
                        if (0 === n) return 0;
                        for (l = 0;;) {
                            for (r(D), o = x.list[a(D)], i = o.e; i > 16;) {
                                if (99 === i) return -1;
                                s(o.b), i -= 16, r(i), o = o.t[a(i)], i = o.e
                            }
                            if (s(o.b), 16 !== i) {
                                if (15 === i) break;
                                for (r(i), S = o.n + a(i), s(i), r(L), o = A.list[a(L)], i = o.e; i > 16;) {
                                    if (99 === i) return -1;
                                    s(o.b), i -= 16, r(i), o = o.t[a(i)], i = o.e
                                }
                                for (s(o.b), r(i), T = m - o.n - a(i), s(i); S > 0 && n > l;) S--, T &= I - 1, m &= I - 1, e[t + l++] = g[m++] = g[T++];
                                if (l === n) return n
                            } else if (m &= I - 1, e[t + l++] = g[m++] = o.n, l === n) return n
                        }
                        return k = -1, l
                    }

                    function u(e, t, n) {
                        var i;
                        if (i = 7 & E, s(i), r(16), i = a(16), s(16), r(16), i !== (65535 & ~b)) return -1;
                        for (s(16), S = i, i = 0; S > 0 && n > i;) S--, m &= I - 1, r(8), e[t + i++] = g[m++] = a(8), s(8);
                        return 0 === S && (k = -1), i
                    }

                    function c(e, t, n) {
                        if (!U) {
                            var o, r, a = [];
                            for (o = 0; 144 > o; o++) a[o] = 8;
                            for (null; 256 > o; o++) a[o] = 9;
                            for (null; 280 > o; o++) a[o] = 7;
                            for (null; 288 > o; o++) a[o] = 8;
                            if (v = 7, r = new i(a, 288, 257, F, z, v), 0 !== r.status) return console.error("HufBuild error: " + r.status), -1;
                            for (U = r.root, v = r.m, o = 0; 30 > o; o++) a[o] = 5;
                            if (_ = 5, r = new i(a, 30, 0, H, Y, _), r.status > 1) return U = null, console.error("HufBuild error: " + r.status), -1;
                            y = r.root, _ = r.m
                        }
                        return x = U, A = y, D = v, L = _, l(e, t, n)
                    }

                    function d(e, t, n) {
                        var o, u, c, d, h, p, f, g, m, y = [];
                        for (o = 0; 316 > o; o++) y[o] = 0;
                        if (r(5), f = 257 + a(5), s(5), r(5), g = 1 + a(5), s(5), r(4), p = 4 + a(4), s(4), f > 286 || g > 30) return -1;
                        for (u = 0; p > u; u++) r(3), y[V[u]] = a(3), s(3);
                        for (null; 19 > u; u++) y[V[u]] = 0;
                        if (D = 7, m = new i(y, 19, 19, null, null, D), 0 !== m.status) return -1;
                        for (x = m.root, D = m.m, d = f + g, o = c = 0; d > o;)
                            if (r(D), h = x.list[a(D)], u = h.b, s(u), 16 > (u = h.n)) y[o++] = c = u;
                            else if (16 === u) {
                            if (r(2), u = 3 + a(2), s(2), o + u > d) return -1;
                            for (; u-- > 0;) y[o++] = c
                        } else if (17 === u) {
                            if (r(3), u = 3 + a(3), s(3), o + u > d) return -1;
                            for (; u-- > 0;) y[o++] = 0;
                            c = 0
                        } else {
                            if (r(7), u = 11 + a(7), s(7), o + u > d) return -1;
                            for (; u-- > 0;) y[o++] = 0;
                            c = 0
                        } if (D = O, m = new i(y, f, 257, F, z, D), 0 === D && (m.status = 1), 0 !== m.status && 1 !== m.status) return -1;
                        for (x = m.root, D = m.m, o = 0; g > o; o++) y[o] = y[o + f];
                        return L = j, m = new i(y, g, 0, H, Y, L), A = m.root, L = m.m, 0 === L && f > 257 ? -1 : 0 !== m.status ? -1 : l(e, t, n)
                    }

                    function h() {
                        g || (g = []), m = 0, b = 0, E = 0, k = -1, w = !1, S = T = 0, x = null
                    }

                    function p(e, t, n) {
                        var i, o;
                        for (i = 0; n > i;) {
                            if (w && -1 === k) return i;
                            if (S > 0) {
                                if (k !== R)
                                    for (; S > 0 && n > i;) S--, T &= I - 1, m &= I - 1, e[t + i++] = g[m++] = g[T++];
                                else {
                                    for (; S > 0 && n > i;) S--, m &= I - 1, r(8), e[t + i++] = g[m++] = a(8), s(8);
                                    0 === S && (k = -1)
                                } if (i === n) return i
                            }
                            if (-1 === k) {
                                if (w) break;
                                r(1), 0 !== a(1) && (w = !0), s(1), r(2), k = a(2), s(2), x = null, S = 0
                            }
                            switch (k) {
                            case R:
                                o = u(e, t + i, n - i);
                                break;
                            case P:
                                o = x ? l(e, t + i, n - i) : c(e, t + i, n - i);
                                break;
                            case N:
                                o = x ? l(e, t + i, n - i) : d(e, t + i, n - i);
                                break;
                            default:
                                o = -1
                            }
                            if (-1 === o) return w ? 0 : -1;
                            i += o
                        }
                        return i
                    }

                    function f(e) {
                        var t, n = [];
                        h(), C = e, M = 0;
                        do {
                            t = p(n, n.length, 1024)
                        } while (t > 0);
                        return C = null, n
                    }
                    var g, m, y, v, _, b, E, k, w, S, T, x, A, D, L, C, M, I = 32768,
                        R = 0,
                        P = 1,
                        N = 2,
                        O = 9,
                        j = 6,
                        U = null,
                        B = [0, 1, 3, 7, 15, 31, 63, 127, 255, 511, 1023, 2047, 4095, 8191, 16383, 32767, 65535],
                        F = [3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 0, 0],
                        z = [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, 99, 99],
                        H = [1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577],
                        Y = [0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13],
                        V = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15];
                    e.exports = f
                }()
            },
            function (e, t) {
                ! function () {
                    function t() {
                        this.fc = 0, this.dl = 0
                    }

                    function n() {
                        this.dyn_tree = null, this.static_tree = null, this.extra_bits = null, this.extra_base = 0, this.elems = 0, this.max_length = 0, this.max_code = 0
                    }

                    function i(e, t, n, i) {
                        this.good_length = e, this.max_lazy = t, this.nice_length = n, this.max_chain = i
                    }

                    function o() {
                        this.next = null, this.len = 0, this.ptr = [], this.off = 0
                    }

                    function r(e) {
                        var i;
                        if (e ? 1 > e ? e = 1 : e > 9 && (e = 9) : e = Ke, ge = e, G = !1, de = !1, null === St) {
                            for (Y = V = q = null, St = [], X = [], J = [], Z = [], $ = [], ve = [], i = 0; kt > i; i++) ve[i] = new t;
                            for (_e = [], i = 0; 2 * yt + 1 > i; i++) _e[i] = new t;
                            for (be = [], i = 0; mt + 2 > i; i++) be[i] = new t;
                            for (Ee = [], i = 0; yt > i; i++) Ee[i] = new t;
                            for (ke = [], i = 0; 2 * vt + 1 > i; i++) ke[i] = new t;
                            we = new n, Se = new n, Te = new n, xe = [], Ae = [], Ce = [], Me = [], Ie = [], Re = [], Pe = [], Ne = []
                        }
                    }

                    function a(e) {
                        e.next = Y, Y = e
                    }

                    function s() {
                        var e;
                        return null !== Y ? (e = Y, Y = Y.next) : e = new o, e.next = null, e.len = e.off = 0, e
                    }

                    function l(e) {
                        return $[qe + e]
                    }

                    function u(e, t) {
                        return $[qe + e] = t
                    }

                    function c(e) {
                        St[W + Q++] = e, W + Q === Je && z()
                    }

                    function d(e) {
                        e &= 65535, Je - 2 > W + Q ? (St[W + Q++] = 255 & e, St[W + Q++] = e >>> 8) : (c(255 & e), c(e >>> 8))
                    }

                    function h() {
                        ie = (ie << wt ^ 255 & X[ue + $e - 1]) & ot, oe = l(ie), $[ue & rt] = oe, u(ie, ue)
                    }

                    function p(e, t) {
                        U(t[e].fc, t[e].dl)
                    }

                    function f(e) {
                        return 255 & (256 > e ? Ie[e] : Ie[256 + (e >> 7)])
                    }

                    function g(e, t, n) {
                        return e[t].fc < e[n].fc || e[t].fc === e[n].fc && Ce[t] <= Ce[n]
                    }

                    function m(e, t, n) {
                        var i;
                        for (i = 0; n > i && Ve < Ye.length; i++) e[t + i] = 255 & Ye[Ve++];
                        return i
                    }

                    function y() {
                        var e;
                        for (e = 0; it > e; e++) $[qe + e] = 0;
                        if (fe = Lt[ge].max_lazy, me = Lt[ge].good_length, Xe || (ye = Lt[ge].nice_length), pe = Lt[ge].max_chain, ue = 0, ne = 0, 0 >= (he = m(X, 0, 2 * qe))) return de = !0, void(he = 0);
                        for (de = !1; lt > he && !de;) _();
                        for (ie = 0, e = 0; $e - 1 > e; e++) ie = (ie << wt ^ 255 & X[e]) & ot
                    }

                    function v(e) {
                        var t, n, i, o, r = pe,
                            a = ue,
                            s = le,
                            l = ue > ut ? ue - ut : at,
                            u = ue + et,
                            c = X[a + s - 1],
                            d = X[a + s];
                        le >= me && (r >>= 2);
                        do {
                            if (t = e, X[t + s] === d && X[t + s - 1] === c && X[t] === X[a] && X[++t] === X[a + 1]) {
                                for (a += 2, t++; u > a;) {
                                    for (o = !1, i = 0; 8 > i; i += 1)
                                        if (a += 1, t += 1, X[a] !== X[t]) {
                                            o = !0;
                                            break
                                        }
                                    if (o) break
                                }
                                if (n = et - (u - a), a = u - et, n > s) {
                                    if (ce = e, s = n, Xe) {
                                        if (n >= et) break
                                    } else if (n >= ye) break;
                                    c = X[a + s - 1], d = X[a + s]
                                }
                            }
                        } while ((e = $[e & rt]) > l && 0 != --r);
                        return s
                    }

                    function _() {
                        var e, t, n = Ze - he - ue;
                        if (-1 === n) n--;
                        else if (ue >= qe + ut) {
                            for (e = 0; qe > e; e++) X[e] = X[e + qe];
                            for (ce -= qe, ue -= qe, ne -= qe, e = 0; it > e; e++) t = l(e), u(e, t >= qe ? t - qe : at);
                            for (e = 0; qe > e; e++) t = $[e], $[e] = t >= qe ? t - qe : at;
                            n += qe
                        }
                        de || (e = m(X, ue + he, n), 0 >= e ? de = !0 : he += e)
                    }

                    function b() {
                        for (; 0 !== he && null === V;) {
                            var e;
                            if (h(), oe !== at && ut >= ue - oe && (se = v(oe)) > he && (se = he), se >= $e)
                                if (e = O(ue - ce, se - $e), he -= se, fe >= se) {
                                    se--;
                                    do {
                                        ue++, h()
                                    } while (0 != --se);
                                    ue++
                                } else ue += se, se = 0, ie = 255 & X[ue], ie = (ie << wt ^ 255 & X[ue + 1]) & ot;
                            else e = O(0, 255 & X[ue]), he--, ue++;
                            for (e && (N(0), ne = ue); lt > he && !de;) _()
                        }
                    }

                    function E() {
                        for (; 0 !== he && null === V;) {
                            if (h(), le = se, re = ce, se = $e - 1, oe !== at && fe > le && ut >= ue - oe && (se = v(oe), se > he && (se = he), se === $e && ue - ce > st && se--), le >= $e && le >= se) {
                                var e;
                                e = O(ue - 1 - re, le - $e), he -= le - 1, le -= 2;
                                do {
                                    ue++, h()
                                } while (0 != --le);
                                ae = !1, se = $e - 1, ue++, e && (N(0), ne = ue)
                            } else ae ? (O(0, 255 & X[ue - 1]) && (N(0), ne = ue), ue++, he--) : (ae = !0, ue++, he--);
                            for (; lt > he && !de;) _()
                        }
                    }

                    function k() {
                        de || (ee = 0, te = 0, T(), y(), V = null, Q = 0, W = 0, 3 >= ge ? (le = $e - 1, se = 0) : (se = $e - 1, ae = !1), K = !1)
                    }

                    function w(e, t, n) {
                        var i;
                        return G || (k(), G = !0, 0 !== he) ? (i = S(e, t, n), i === n ? n : K ? i : (3 >= ge ? b() : E(), 0 === he && (ae && O(0, 255 & X[ue - 1]), N(1), K = !0), i + S(e, i + t, n - i))) : (K = !0, 0)
                    }

                    function S(e, t, n) {
                        var i, o, r;
                        for (i = 0; null !== V && n > i;) {
                            for (o = n - i, o > V.len && (o = V.len), r = 0; o > r; r++) e[t + i + r] = V.ptr[V.off + r];
                            if (V.off += o, V.len -= o, i += o, 0 === V.len) {
                                var s;
                                s = V, V = V.next, a(s)
                            }
                        }
                        if (i === n) return i;
                        if (Q > W) {
                            for (o = n - i, o > Q - W && (o = Q - W), r = 0; o > r; r++) e[t + i + r] = St[W + r];
                            W += o, i += o, Q === W && (Q = W = 0)
                        }
                        return i
                    }

                    function T() {
                        var e, t, n, i, o;
                        if (0 === Ee[0].dl) {
                            for (we.dyn_tree = ve, we.static_tree = be, we.extra_bits = Tt, we.extra_base = ft + 1, we.elems = mt, we.max_length = dt, we.max_code = 0, Se.dyn_tree = _e, Se.static_tree = Ee, Se.extra_bits = xt, Se.extra_base = 0, Se.elems = yt, Se.max_length = dt, Se.max_code = 0, Te.dyn_tree = ke, Te.static_tree = null, Te.extra_bits = At, Te.extra_base = 0, Te.elems = vt, Te.max_length = ht, Te.max_code = 0, n = 0, i = 0; pt - 1 > i; i++)
                                for (Re[i] = n, e = 0; e < 1 << Tt[i]; e++) Me[n++] = i;
                            for (Me[n - 1] = i, o = 0, i = 0; 16 > i; i++)
                                for (Pe[i] = o, e = 0; e < 1 << xt[i]; e++) Ie[o++] = i;
                            for (o >>= 7; yt > i; i++)
                                for (Pe[i] = o << 7, e = 0; e < 1 << xt[i] - 7; e++) Ie[256 + o++] = i;
                            for (t = 0; dt >= t; t++) xe[t] = 0;
                            for (e = 0; 143 >= e;) be[e++].dl = 8, xe[8]++;
                            for (; 255 >= e;) be[e++].dl = 9, xe[9]++;
                            for (; 279 >= e;) be[e++].dl = 7, xe[7]++;
                            for (; 287 >= e;) be[e++].dl = 8, xe[8]++;
                            for (L(be, mt + 1), e = 0; yt > e; e++) Ee[e].dl = 5, Ee[e].fc = B(e, 5);
                            x()
                        }
                    }

                    function x() {
                        var e;
                        for (e = 0; mt > e; e++) ve[e].fc = 0;
                        for (e = 0; yt > e; e++) _e[e].fc = 0;
                        for (e = 0; vt > e; e++) ke[e].fc = 0;
                        ve[gt].fc = 1, ze = He = 0, Oe = je = Ue = 0, Be = 0, Fe = 1
                    }

                    function A(e, t) {
                        for (var n = Ae[t], i = t << 1; De >= i && (De > i && g(e, Ae[i + 1], Ae[i]) && i++, !g(e, n, Ae[i]));) Ae[t] = Ae[i], t = i, i <<= 1;
                        Ae[t] = n
                    }

                    function D(e) {
                        var t, n, i, o, r, a, s = e.dyn_tree,
                            l = e.extra_bits,
                            u = e.extra_base,
                            c = e.max_code,
                            d = e.max_length,
                            h = e.static_tree,
                            p = 0;
                        for (o = 0; dt >= o; o++) xe[o] = 0;
                        for (s[Ae[Le]].dl = 0, t = Le + 1; kt > t; t++) n = Ae[t], o = s[s[n].dl].dl + 1, o > d && (o = d, p++), s[n].dl = o, n > c || (xe[o]++, r = 0, n >= u && (r = l[n - u]), a = s[n].fc, ze += a * (o + r), null !== h && (He += a * (h[n].dl + r)));
                        if (0 !== p) {
                            do {
                                for (o = d - 1; 0 === xe[o];) o--;
                                xe[o]--, xe[o + 1] += 2, xe[d]--, p -= 2
                            } while (p > 0);
                            for (o = d; 0 !== o; o--)
                                for (n = xe[o]; 0 !== n;)(i = Ae[--t]) > c || (s[i].dl !== o && (ze += (o - s[i].dl) * s[i].fc, s[i].fc = o), n--)
                        }
                    }

                    function L(e, t) {
                        var n, i, o = [],
                            r = 0;
                        for (n = 1; dt >= n; n++) r = r + xe[n - 1] << 1, o[n] = r;
                        for (i = 0; t >= i; i++) {
                            var a = e[i].dl;
                            0 !== a && (e[i].fc = B(o[a]++, a))
                        }
                    }

                    function C(e) {
                        var t, n, i = e.dyn_tree,
                            o = e.static_tree,
                            r = e.elems,
                            a = -1,
                            s = r;
                        for (De = 0, Le = kt, t = 0; r > t; t++) 0 !== i[t].fc ? (Ae[++De] = a = t, Ce[t] = 0) : i[t].dl = 0;
                        for (; 2 > De;) {
                            var l = Ae[++De] = 2 > a ? ++a : 0;
                            i[l].fc = 1, Ce[l] = 0, ze--, null !== o && (He -= o[l].dl)
                        }
                        for (e.max_code = a, t = De >> 1; t >= 1; t--) A(i, t);
                        do {
                            t = Ae[ct], Ae[ct] = Ae[De--], A(i, ct), n = Ae[ct], Ae[--Le] = t, Ae[--Le] = n, i[s].fc = i[t].fc + i[n].fc, Ce[t] > Ce[n] + 1 ? Ce[s] = Ce[t] : Ce[s] = Ce[n] + 1, i[t].dl = i[n].dl = s, Ae[ct] = s++, A(i, ct)
                        } while (De >= 2);
                        Ae[--Le] = Ae[ct], D(e), L(i, a)
                    }

                    function M(e, t) {
                        var n, i, o = -1,
                            r = e[0].dl,
                            a = 0,
                            s = 7,
                            l = 4;
                        for (0 === r && (s = 138, l = 3), e[t + 1].dl = 65535, n = 0; t >= n; n++) i = r, r = e[n + 1].dl, ++a < s && i === r || (l > a ? ke[i].fc += a : 0 !== i ? (i !== o && ke[i].fc++, ke[_t].fc++) : 10 >= a ? ke[bt].fc++ : ke[Et].fc++, a = 0, o = i, 0 === r ? (s = 138, l = 3) : i === r ? (s = 6, l = 3) : (s = 7, l = 4))
                    }

                    function I(e, t) {
                        var n, i, o = -1,
                            r = e[0].dl,
                            a = 0,
                            s = 7,
                            l = 4;
                        for (0 === r && (s = 138, l = 3), n = 0; t >= n; n++)
                            if (i = r, r = e[n + 1].dl, !(++a < s && i === r)) {
                                if (l > a)
                                    do {
                                        p(i, ke)
                                    } while (0 != --a);
                                else 0 !== i ? (i !== o && (p(i, ke), a--), p(_t, ke), U(a - 3, 2)) : 10 >= a ? (p(bt, ke), U(a - 3, 3)) : (p(Et, ke), U(a - 11, 7));
                                a = 0, o = i, 0 === r ? (s = 138, l = 3) : i === r ? (s = 6, l = 3) : (s = 7, l = 4)
                            }
                    }

                    function R() {
                        var e;
                        for (M(ve, we.max_code), M(_e, Se.max_code), C(Te), e = vt - 1; e >= 3 && 0 === ke[Dt[e]].dl; e--);
                        return ze += 3 * (e + 1) + 5 + 5 + 4, e
                    }

                    function P(e, t, n) {
                        var i;
                        for (U(e - 257, 5), U(t - 1, 5), U(n - 4, 4), i = 0; n > i; i++) U(ke[Dt[i]].dl, 3);
                        I(ve, e - 1), I(_e, t - 1)
                    }

                    function N(e) {
                        var t, n, i, o, r;
                        if (o = ue - ne, Ne[Ue] = Be, C(we), C(Se), i = R(), t = ze + 3 + 7 >> 3, n = He + 3 + 7 >> 3, t >= n && (t = n), t >= o + 4 && ne >= 0)
                            for (U((Ge << 1) + e, 3), F(), d(o), d(~o), r = 0; o > r; r++) c(X[ne + r]);
                        else n === t ? (U((Qe << 1) + e, 3), j(be, Ee)) : (U((We << 1) + e, 3), P(we.max_code + 1, Se.max_code + 1, i + 1), j(ve, _e));
                        x(), 0 !== e && F()
                    }

                    function O(e, t) {
                        if (Z[Oe++] = t, 0 === e ? ve[t].fc++ : (e--, ve[Me[t] + ft + 1].fc++, _e[f(e)].fc++, J[je++] = e, Be |= Fe), Fe <<= 1, 0 == (7 & Oe) && (Ne[Ue++] = Be, Be = 0, Fe = 1), ge > 2 && 0 == (4095 & Oe)) {
                            var n, i = 8 * Oe,
                                o = ue - ne;
                            for (n = 0; yt > n; n++) i += _e[n].fc * (5 + xt[n]);
                            if (i >>= 3, je < parseInt(Oe / 2, 10) && i < parseInt(o / 2, 10)) return !0
                        }
                        return Oe === tt - 1 || je === nt
                    }

                    function j(e, t) {
                        var n, i, o, r, a = 0,
                            s = 0,
                            l = 0,
                            u = 0;
                        if (0 !== Oe)
                            do {
                                0 == (7 & a) && (u = Ne[l++]), i = 255 & Z[a++], 0 == (1 & u) ? p(i, e) : (o = Me[i], p(o + ft + 1, e), r = Tt[o], 0 !== r && (i -= Re[o], U(i, r)), n = J[s++], o = f(n), p(o, t), 0 !== (r = xt[o]) && (n -= Pe[o], U(n, r))), u >>= 1
                            } while (Oe > a);
                        p(gt, e)
                    }

                    function U(e, t) {
                        te > Ct - t ? (ee |= e << te, d(ee), ee = e >> Ct - te, te += t - Ct) : (ee |= e << te, te += t)
                    }

                    function B(e, t) {
                        var n = 0;
                        do {
                            n |= 1 & e, e >>= 1, n <<= 1
                        } while (--t > 0);
                        return n >> 1
                    }

                    function F() {
                        te > 8 ? d(ee) : te > 0 && c(ee), ee = 0, te = 0
                    }

                    function z() {
                        var e, t;
                        if (0 !== Q) {
                            for (e = s(), null === V ? V = q = e : q = q.next = e, e.len = Q - W, t = 0; t < e.len; t++) e.ptr[t] = St[W + t];
                            Q = W = 0
                        }
                    }

                    function H(e, t) {
                        var n, i;
                        Ye = e, Ve = 0, void 0 === t && (t = Ke), r(t), i = [];
                        do {
                            n = w(i, i.length, 1024)
                        } while (n > 0);
                        return Ye = null, i
                    }
                    var Y, V, q, G, Q, W, K, X, J, Z, $, ee, te, ne, ie, oe, re, ae, se, le, ue, ce, de, he, pe, fe, ge, me, ye, ve, _e, be, Ee, ke, we, Se, Te, xe, Ae, De, Le, Ce, Me, Ie, Re, Pe, Ne, Oe, je, Ue, Be, Fe, ze, He, Ye, Ve, qe = 32768,
                        Ge = 0,
                        Qe = 1,
                        We = 2,
                        Ke = 6,
                        Xe = !1,
                        Je = 8192,
                        Ze = 2 * qe,
                        $e = 3,
                        et = 258,
                        tt = 8192,
                        nt = tt,
                        it = 32768,
                        ot = it - 1,
                        rt = qe - 1,
                        at = 0,
                        st = 4096,
                        lt = et + $e + 1,
                        ut = qe - lt,
                        ct = 1,
                        dt = 15,
                        ht = 7,
                        pt = 29,
                        ft = 256,
                        gt = 256,
                        mt = ft + 1 + pt,
                        yt = 30,
                        vt = 19,
                        _t = 16,
                        bt = 17,
                        Et = 18,
                        kt = 2 * mt + 1,
                        wt = parseInt((15 + $e - 1) / $e, 10),
                        St = null;
                    tt > 32768 && console.error("error: INBUFSIZ is too small"), qe << 1 > 65536 && console.error("error: WSIZE is too large"), 258 !== et && console.error("error: Code too clever");
                    var Tt = [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0],
                        xt = [0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13],
                        At = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 3, 7],
                        Dt = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15],
                        Lt = [new i(0, 0, 0, 0), new i(4, 4, 8, 4), new i(4, 5, 16, 8), new i(4, 6, 32, 32), new i(4, 4, 16, 16), new i(8, 16, 32, 32), new i(8, 16, 128, 128), new i(8, 32, 128, 256), new i(32, 128, 258, 1024), new i(32, 258, 258, 4096)],
                        Ct = 16;
                    e.exports = H, e.exports.DEFAULT_LEVEL = Ke
                }()
            }
        ]), t.default = i
    },
    function (e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = function () {
            return Date.now() % 1e8 + "_" + Math.round(1e4 * Math.random())
        }
    },
    function (e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = n(63),
            o = n(140),
            r = n(99),
            a = n(141),
            s = n(143),
            l = function () {
                function e(e, t, n) {
                    void 0 === t && (t = i.EQRErrorCorrectLevel.H), this.typeNumber = -1, this.padding = n, this.errorCorrectLevel = t, this.modules = null, this.rsBlocks = null, this.moduleCount = 0, this.totalDataCount = -1, this.data = e, this.utf8bytes = s.encodeUTF8(e), this.make()
                }
                return e.prototype.getModuleCount = function () {
                    return this.moduleCount
                }, e.prototype.make = function () {
                    this.getRightType(), this.dataCache = this.createData(), this.createQrcode()
                }, e.prototype.getRightType = function () {
                    for (var e = 1; e < 41; e++) {
                        var t = i.EQRErrorCorrectNumberLevel[this.errorCorrectLevel],
                            n = i.RS_BLOCK_TABLE[4 * (e - 1) + t];
                        if (void 0 === n) throw new Error("bad rs block @ typeNumber:" + e + "/errorCorrectLevel:" + this.errorCorrectLevel);
                        for (var o = n.length / 3, r = 0, a = 0; a < o; a++) {
                            var s = n[3 * a + 0];
                            r += n[3 * a + 2] * s
                        }
                        var l = e > 9 ? 2 : 1;
                        if (this.utf8bytes.length + l < r || 40 === e) {
                            this.typeNumber = e, this.rsBlock = n, this.totalDataCount = r;
                            break
                        }
                    }
                }, e.prototype.createData = function () {
                    var t = new o.QRBitBuffer,
                        n = this.typeNumber > 9 ? 16 : 8;
                    t.put(4, 4), t.put(this.utf8bytes.length, n);
                    for (var i = 0, r = this.utf8bytes.length; i < r; i++) t.put(this.utf8bytes[i], 8);
                    for (t.length + 4 <= 8 * this.totalDataCount && t.put(0, 4); t.length % 8 != 0;) t.putBit(!1);
                    for (;;) {
                        if (t.length >= 8 * this.totalDataCount) break;
                        if (t.put(e.PAD0, 8), t.length >= 8 * this.totalDataCount) break;
                        t.put(e.PAD1, 8)
                    }
                    return this.createBytes(t)
                }, e.prototype.createBytes = function (e) {
                    for (var t = 0, n = 0, i = 0, o = this.rsBlock.length / 3, s = new Array, l = 0; l < o; l++)
                        for (var u = this.rsBlock[3 * l + 0], c = this.rsBlock[3 * l + 1], d = this.rsBlock[3 * l + 2], h = 0; h < u; h++) s.push([d, c]);
                    for (var p = new Array(s.length), f = new Array(s.length), g = 0; g < s.length; g++) {
                        var m = s[g][0],
                            y = s[g][1] - m;
                        n = Math.max(n, m), i = Math.max(i, y), p[g] = new Array(m);
                        for (var l = 0; l < p[g].length; l++) p[g][l] = 255 & e.buffer[l + t];
                        t += m;
                        var v = a.QRUtil.getErrorCorrectPolynomial(y),
                            _ = new r.QRPolynomial(p[g], v.getLength() - 1),
                            b = _.mod(v);
                        f[g] = new Array(v.getLength() - 1);
                        for (var l = 0; l < f[g].length; l++) {
                            var E = l + b.getLength() - f[g].length;
                            f[g][l] = E >= 0 ? b.get(E) : 0
                        }
                    }
                    for (var k = new Array(this.totalDataCount), w = 0, l = 0; l < n; l++)
                        for (var g = 0; g < s.length; g++) l < p[g].length && (k[w++] = p[g][l]);
                    for (var l = 0; l < i; l++)
                        for (var g = 0; g < s.length; g++) l < f[g].length && (k[w++] = f[g][l]);
                    return k
                }, e.prototype.createQrcode = function () {
                    for (var e = 0, t = 0, n = null, i = 0; i < 8; i++) {
                        this.makeImpl(i);
                        var o = a.QRUtil.getLostPoint(this);
                        (0 === i || e > o) && (e = o, t = i, n = this.modules)
                    }
                    this.modules = n, this.setupTypeInfo(!1, t), this.typeNumber >= 7 && this.setupTypeNumber(!1), this.createPaddingQrcode()
                }, e.prototype.createPaddingQrcode = function () {
                    var e = this.typeNumber,
                        t = this.padding;
                    if (0 === t) return this.paddingModuleCount = this.moduleCount, void(this.paddingModules = this.modules);
                    (void 0 === t || t < 0) && (t = 2, e > 4 && e <= 10 && (t = 3), e > 10 && e <= 40 && (t = 4)), t = +t, this.padding = t, this.paddingModuleCount = 4 * this.typeNumber + 17 + 2 * t, this.paddingModules = new Array(this.paddingModuleCount);
                    for (var n = 0; n < this.paddingModuleCount; n++) this.paddingModules[n] = new Array(this.paddingModuleCount);
                    for (var n = 0; n < this.paddingModuleCount; n++)
                        for (var i = this.paddingModules[n], o = 0; o < this.paddingModuleCount; o++)(n < t || o < t || this.paddingModuleCount - n <= t || this.paddingModuleCount - o <= t) && (i[o] = !1);
                    for (var n = 0; n < this.moduleCount; n++)
                        for (var i = this.paddingModules[n + t], o = 0; o < this.moduleCount; o++) i[o + t] = this.modules[n][o]
                }, e.prototype.makeImpl = function (e) {
                    this.moduleCount = 4 * this.typeNumber + 17, this.modules = new Array(this.moduleCount);
                    for (var t = 0; t < this.moduleCount; t++) this.modules[t] = new Array(this.moduleCount);
                    this.setupPositionProbePattern(0, 0), this.setupPositionProbePattern(this.moduleCount - 7, 0), this.setupPositionProbePattern(0, this.moduleCount - 7), this.setupPositionAdjustPattern(), this.setupTimingPattern(), this.setupTypeInfo(!0, e), this.typeNumber >= 7 && this.setupTypeNumber(!0), this.mapData(this.dataCache, e)
                }, e.prototype.setupPositionProbePattern = function (e, t) {
                    for (var n = -1; n <= 7; n++)
                        if (!(e + n <= -1 || this.moduleCount <= e + n))
                            for (var i = -1; i <= 7; i++) t + i <= -1 || this.moduleCount <= t + i || (this.modules[e + n][t + i] = 0 <= n && n <= 6 && (0 === i || 6 === i) || 0 <= i && i <= 6 && (0 === n || 6 === n) || 2 <= n && n <= 4 && 2 <= i && i <= 4)
                }, e.prototype.setupTimingPattern = function () {
                    for (var e = 8; e < this.moduleCount - 8; e++) null == this.modules[e][6] && (this.modules[e][6] = e % 2 == 0, null == this.modules[6][e] && (this.modules[6][e] = e % 2 == 0))
                }, e.prototype.setupPositionAdjustPattern = function () {
                    for (var e = a.QRUtil.getPatternPosition(this.typeNumber), t = 0; t < e.length; t++)
                        for (var n = 0; n < e.length; n++) {
                            var i = e[t],
                                o = e[n];
                            if (null == this.modules[i][o])
                                for (var r = -2; r <= 2; r++)
                                    for (var s = -2; s <= 2; s++) this.modules[i + r][o + s] = -2 === r || 2 === r || -2 === s || 2 === s || 0 === r && 0 === s
                        }
                }, e.prototype.setupTypeNumber = function (e) {
                    for (var t = a.QRUtil.getBCHTypeNumber(this.typeNumber), n = 0; n < 18; n++) {
                        var i = !e && 1 == (t >> n & 1);
                        this.modules[Math.floor(n / 3)][n % 3 + this.moduleCount - 8 - 3] = i, this.modules[n % 3 + this.moduleCount - 8 - 3][Math.floor(n / 3)] = i
                    }
                }, e.prototype.setupTypeInfo = function (e, t) {
                    for (var n = i.EQRErrorCorrectNumberLevel[this.errorCorrectLevel], o = [1, 0, 3, 2][n] << 3 | t, r = a.QRUtil.getBCHTypeInfo(o), s = 0; s < 15; s++) {
                        var l = !e && 1 == (r >> s & 1);
                        s < 6 ? this.modules[s][8] = l : s < 8 ? this.modules[s + 1][8] = l : this.modules[this.moduleCount - 15 + s][8] = l, l = !e && 1 == (r >> s & 1), s < 8 ? this.modules[8][this.moduleCount - s - 1] = l : s < 9 ? this.modules[8][15 - s - 1 + 1] = l : this.modules[8][15 - s - 1] = l
                    }
                    this.modules[this.moduleCount - 8][8] = !e
                }, e.prototype.mapData = function (e, t) {
                    for (var n = -1, i = this.moduleCount - 1, o = 7, r = 0, s = this.moduleCount - 1; s > 0; s -= 2)
                        for (6 === s && s--;;) {
                            for (var l = 0; l < 2; l++)
                                if (null == this.modules[i][s - l]) {
                                    var u = !1;
                                    r < e.length && (u = 1 == (e[r] >>> o & 1));
                                    var c = a.QRUtil.getMask(t, i, s - l);
                                    c && (u = !u), this.modules[i][s - l] = u, o--, -1 === o && (r++, o = 7)
                                }
                            if ((i += n) < 0 || this.moduleCount <= i) {
                                i -= n, n = -n;
                                break
                            }
                        }
                }, e.PAD0 = 236, e.PAD1 = 17, e
            }();
        t.QRAlgorithm = l
    },
    function (e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = function () {
            function e() {
                this.buffer = [], this.buffer = new Array, this.length = 0
            }
            return e.prototype.get = function (e) {
                var t = Math.floor(e / 8);
                return this.buffer[t] >>> 7 - e % 8 & 1
            }, e.prototype.put = function (e, t) {
                for (var n = 0; n < t; n++) this.putBit(e >>> t - n - 1 & 1)
            }, e.prototype.putBit = function (e) {
                var t = Math.floor(this.length / 8);
                this.buffer.length <= t && this.buffer.push(0), e && (this.buffer[t] |= 128 >>> this.length % 8), this.length++
            }, e
        }();
        t.QRBitBuffer = i
    },
    function (e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = n(63),
            o = n(98),
            r = n(99);
        t.QRUtil = {
            G15: 1335,
            G15_MASK: 21522,
            G18: 7973,
            getBCHDigit: function (e) {
                for (var t = 0; 0 !== e;) t++, e >>>= 1;
                return t
            }, getBCHTypeInfo: function (e) {
                for (var t = e << 10; this.getBCHDigit(t) - this.getBCHDigit(this.G15) >= 0;) t ^= this.G15 << this.getBCHDigit(t) - this.getBCHDigit(this.G15);
                return (e << 10 | t) ^ this.G15_MASK
            }, getBCHTypeNumber: function (e) {
                for (var t = e << 12; this.getBCHDigit(t) - this.getBCHDigit(this.G18) >= 0;) t ^= this.G18 << this.getBCHDigit(t) - this.getBCHDigit(this.G18);
                return e << 12 | t
            }, getErrorCorrectPolynomial: function (e) {
                for (var t = new r.QRPolynomial([1], 0), n = 0; n < e; n++) t = t.multiply(new r.QRPolynomial([1, o.QRMath.gexp(n)], 0));
                return t
            }, getLostPoint: function (e) {
                for (var t = e.getModuleCount(), n = 0, i = 0, o = 0; o < t; o++)
                    for (var r = 0, a = e.modules[o][0], s = 0; s < t; s++) {
                        var l = e.modules[o][s];
                        if (s < t - 6 && l && !e.modules[o][s + 1] && e.modules[o][s + 2] && e.modules[o][s + 3] && e.modules[o][s + 4] && !e.modules[o][s + 5] && e.modules[o][s + 6] && (s < t - 10 ? e.modules[o][s + 7] && e.modules[o][s + 8] && e.modules[o][s + 9] && e.modules[o][s + 10] && (n += 40) : s > 3 && e.modules[o][s - 1] && e.modules[o][s - 2] && e.modules[o][s - 3] && e.modules[o][s - 4] && (n += 40)), o < t - 1 && s < t - 1) {
                            var u = 0;
                            l && u++, e.modules[o + 1][s] && u++, e.modules[o][s + 1] && u++, e.modules[o + 1][s + 1] && u++, 0 !== u && 4 !== u || (n += 3)
                        }
                        a !== l ? r++ : (a = l, r >= 5 && (n += 3 + r - 5), r = 1), l && i++
                    }
                for (var s = 0; s < t; s++)
                    for (var r = 0, a = e.modules[0][s], o = 0; o < t; o++) {
                        var l = e.modules[o][s];
                        o < t - 6 && l && !e.modules[o + 1][s] && e.modules[o + 2][s] && e.modules[o + 3][s] && e.modules[o + 4][s] && !e.modules[o + 5][s] && e.modules[o + 6][s] && (o < t - 10 ? e.modules[o + 7][s] && e.modules[o + 8][s] && e.modules[o + 9][s] && e.modules[o + 10][s] && (n += 40) : o > 3 && e.modules[o - 1][s] && e.modules[o - 2][s] && e.modules[o - 3][s] && e.modules[o - 4][s] && (n += 40)), a !== l ? r++ : (a = l, r >= 5 && (n += 3 + r - 5), r = 1)
                    }
                return n += Math.abs(100 * i / t / t - 50) / 5 * 10
            }, getMask: function (e, t, n) {
                switch (e) {
                case i.EQRMaskPattern.PATTERN000:
                    return (t + n) % 2 == 0;
                case i.EQRMaskPattern.PATTERN001:
                    return t % 2 == 0;
                case i.EQRMaskPattern.PATTERN010:
                    return n % 3 == 0;
                case i.EQRMaskPattern.PATTERN011:
                    return (t + n) % 3 == 0;
                case i.EQRMaskPattern.PATTERN100:
                    return (Math.floor(t / 2) + Math.floor(n / 3)) % 2 == 0;
                case i.EQRMaskPattern.PATTERN101:
                    return t * n % 2 + t * n % 3 == 0;
                case i.EQRMaskPattern.PATTERN110:
                    return (t * n % 2 + t * n % 3) % 2 == 0;
                case i.EQRMaskPattern.PATTERN111:
                    return (t * n % 3 + (t + n) % 2) % 2 == 0;
                default:
                    throw new Error("bad maskPattern:" + e)
                }
            }, getPatternPosition: function (e) {
                return i.PATTERN_POSITION_TABLE[e - 1]
            }
        }
    },
    function (e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i, o, r = function () {
            function e(e, t) {
                i = "object" == typeof navigator ? navigator.userAgent || navigator.swuserAgent : "", o = !!i.match(/AlipayClient\/(\d+\.\d+\.\d+(\.\d+)?)/), this.methodName = e, this.bizType = t
            }
            return e.prototype.reportData = function (e) {
                var t = e.width,
                    n = e.height,
                    i = e.strCode,
                    r = e.ecLevel,
                    a = e.padding,
                    s = e.haslogo,
                    l = e.forceNoPadding,
                    u = e.mapVersionWidth;
                try {
                    if (!i) return;
                    var c = this.stringify({
                        ecLevel: r,
                        forceNoPadding: l,
                        haslogo: s,
                        height: n,
                        methodName: this.methodName,
                        padding: a,
                        strCode: i,
                        width: t
                    });
                    if (!o) return;
                    var d = {
                        actionId: "exposure",
                        bizType: "OnsitePay",
                        logLevel: 2,
                        param1: "QR_CODE",
                        param2: this.bizType,
                        param3: u,
                        param4: c,
                        seedId: "GenerateCodeImage",
                        spmId: "a166.b_activity_fd_137002109.ca22000409.da1000192",
                        type: "behavior"
                    };
                    "undefined" != typeof my && "function" == typeof my.call && my.call("remoteLog", d), this.ready(function () {
                        window.AlipayJSBridge.call("remoteLog", d)
                    })
                } catch (e) {}
            }, e.prototype.ready = function (e) {
                window.AlipayJSBridge ? e(null) : document.addEventListener("AlipayJSBridgeReady", e, !1)
            }, e.prototype.stringify = function (e) {
                if (!e) return "";
                var t = [];
                return Object.keys(e).forEach(function (n) {
                    e.hasOwnProperty(n) && e[n] && t.push(n + "=" + e[n])
                }), t.join("^")
            }, e
        }();
        t.Report = r
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            for (var t = encodeURIComponent(e), n = [], i = 0; i < t.length; i++) {
                var o = t.charAt(i);
                if ("%" === o) {
                    var r = t.charAt(i + 1) + t.charAt(i + 2),
                        a = parseInt(r, 16);
                    n.push(a), i += 2
                } else n.push(o.charCodeAt(0))
            }
            return n
        }

        function o(e) {
            for (var t = "", n = 0; n < e.length; n++) t += "%" + e[n].toString(16);
            return decodeURIComponent(t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.encodeUTF8 = i, t.decodeUTF8 = o
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            var t = e.code,
                n = e.avatar,
                i = e.padding,
                r = e.width,
                a = void 0 === r ? 200 : r,
                s = e.bizType,
                l = void 0 === s ? "COMMON_ANT_CODE" : s,
                u = e.correctLevel,
                c = void 0 === u ? o.EQRErrorCorrectLevel.H : u,
                d = document.createElement("canvas");
            d.width = a, d.height = a;
            for (var h = d.getContext("2d"), p = new o.QRAlgorithm(t, c, i), f = p.padding ? p.paddingModules : p.modules, g = p.padding ? p.paddingModuleCount : p.moduleCount, m = +(a / g).toPrecision(4), y = +(a / g).toPrecision(4), v = 0; v < g; v++)
                for (var _ = 0; _ < g; _++) {
                    var b = Math.ceil((_ + 1) * m) - Math.floor(_ * m),
                        E = Math.ceil((v + 1) * m) - Math.floor(v * m);
                    h.fillStyle = f[v][_] ? "#000000" : "#ffffff", h.fillRect(Math.round(_ * m), Math.round(v * y), b, E)
                }
            if (n) {
                var k = new Image;
                k.src = n, k.onload = function (e) {
                    var t = 4 / 23 * a,
                        n = +((a - t) / 2).toFixed(2),
                        i = +((a - t) / 2).toFixed(2);
                    h.drawImage(k, n, i, t, t)
                }
            }
            try {
                new o.Report("generateQRCode4Browser", l).reportData({
                    ecLevel: c,
                    forceNoPadding: 0 === i,
                    haslogo: !!n,
                    height: a,
                    mapVersionWidth: g,
                    padding: p.padding,
                    strCode: t,
                    width: a
                })
            } catch (e) {}
            return d
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(29);
        t.generateQRCode4Browser = i
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            for (var t = e.ctx, n = e.code, i = e.avatar, r = e.padding, a = e.width, s = void 0 === a ? 200 : a, l = e.bizType, u = void 0 === l ? "COMMON_ANT_CODE" : l, c = e.correctLevel, d = void 0 === c ? o.EQRErrorCorrectLevel.H : c, h = new o.QRAlgorithm(n, d, r), p = h.padding ? h.paddingModules : h.modules, f = h.padding ? h.paddingModuleCount : h.moduleCount, g = +(s / f).toPrecision(4), m = +(s / f).toPrecision(4), y = 0, v = 0; v < f; v++)
                for (var _ = 0; _ < f; _++) {
                    var b = Math.ceil((_ + 1) * g) - Math.floor(_ * g),
                        E = Math.ceil((v + 1) * g) - Math.floor(v * g);
                    t.setFillStyle(p[v][_] ? "#000000" : "#ffffff"), t.fillRect(Math.round(_ * g), Math.round(v * m), b, E), y++, y > 500 && (y = 0, t.draw(!0))
                }
            if (t.draw(!0), i) {
                var k = 4 / 23 * s,
                    w = +((s - k) / 2).toFixed(2),
                    S = +((s - k) / 2).toFixed(2);
                t.drawImage(i, w, S, k, k), t.draw(!0)
            }
            try {
                new o.Report("generateQRCode4MiniProgram", u).reportData({
                    ecLevel: d,
                    forceNoPadding: 0 === r,
                    haslogo: !!i,
                    height: s,
                    mapVersionWidth: f,
                    padding: h.padding,
                    strCode: n,
                    width: s
                })
            } catch (e) {}
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(29);
        t.generateQRCode4MiniProgram = i
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            for (var t = e.canvas, n = e.code, i = e.avatar, r = e.padding, a = e.width, s = void 0 === a ? 200 : a, l = e.bizType, u = void 0 === l ? "COMMON_ANT_CODE" : l, c = e.correctLevel, d = void 0 === c ? o.EQRErrorCorrectLevel.H : c, h = t.createCanvas, p = t.loadImage, f = h(s, s), g = f.getContext("2d"), m = new o.QRAlgorithm(n, d, r), y = m.padding ? m.paddingModules : m.modules, v = m.padding ? m.paddingModuleCount : m.moduleCount, _ = +(s / v).toPrecision(4), b = +(s / v).toPrecision(4), E = 0; E < v; E++)
                for (var k = 0; k < v; k++) {
                    var w = Math.ceil((k + 1) * _) - Math.floor(k * _),
                        S = Math.ceil((E + 1) * _) - Math.floor(E * _);
                    g.fillStyle = y[E][k] ? "#000000" : "#ffffff", g.fillRect(Math.round(k * _), Math.round(E * b), w, S)
                }
            try {
                new o.Report("generateQRCode4MiniProgram", u).reportData({
                    ecLevel: d,
                    forceNoPadding: 0 === r,
                    haslogo: !!i,
                    height: s,
                    mapVersionWidth: v,
                    padding: m.padding,
                    strCode: n,
                    width: s
                })
            } catch (e) {}
            return i ? p(i).then(function (e) {
                var t = 4 / 23 * s,
                    n = +((s - t) / 2).toFixed(2),
                    i = +((s - t) / 2).toFixed(2);
                return g.drawImage(e, n, i, t, t), f.toDataURL()
            }) : Promise.resolve(f.toDataURL())
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(29);
        t.generateQRCode4NodeJS = i
    },
    function (e, t, n) {
        "use strict";

        function i(e, t) {
            p && p.length > 0 && (p.forEach(function (n, i) {
                delete p[i], n.fn && n.fn(e, t)
            }), p = [])
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                return typeof e
            } : function (e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            },
            r = document,
            a = "rgv587_flag",
            s = {
                loadJS: function (e, t, n) {
                    var i, o = [];
                    if ("string" == typeof t) o.push(t);
                    else
                        for (i in t) t.hasOwnProperty(i) && o.push(i + "=" + encodeURIComponent(t[i]));
                    e = e + (-1 == e.indexOf("?") ? "?" : "&") + o.join("&");
                    var a = r.getElementsByTagName("script")[0],
                        s = r.createElement("script");
                    if (s.async = 1, s.src = e, n) {
                        var l = !1;
                        s.onload = s.onreadystatechange = function () {
                            l || s.readyState && !/loaded|complete/.test(s.readyState) || (s.onload = s.onreadystatechange = null, l = !0, n())
                        }
                    }
                    a.parentNode.insertBefore(s, a)
                }, checkResult: function (e) {
                    if (e) {
                        var t = e.ret;
                        "object" === (void 0 === t ? "undefined" : o(t)) && (t = JSON.stringify(t)), (e && "sm" === e[a] || "sm" === e[a + "0"]) && (t = "RGV587_ERROR::SM"), e && "true" === e.assist_flag && (t = "RGV587_ERROR::SM");
                        var n = "";
                        t && (t.indexOf("RGV587_ERROR::SM") > -1 ? n = "antiCreep" : t.indexOf("FAIL_SYS_USER_VALIDATE") > -1 ? n = "antiFlood" : (t.indexOf("FAIL_SYS_TRAFFIC_LIMIT::流量限制") > -1 || t.indexOf("FAIL_SYS_FLOWLIMIT") > -1) && (n = "limit"));
                        var i = "antiCreep" === n;
                        return {
                            pass: !n,
                            interceptType: n,
                            isAntiFlood: "antiFlood" === n,
                            isAntiCreep: i,
                            immediate: i && "sm" !== e[a + "0"]
                        }
                    }
                    return {
                        pass: !0
                    }
                }, addEvent: function (e, t, n) {
                    t.addEventListener ? t.addEventListener(e, n, !1) : t.attachEvent("on" + e, n)
                }, removeEvent: function (e, t, n) {
                    t.removeEventListener ? t.addEventListener(e, n, !1) : t.detachEvent("on" + e, n)
                }, getDomainURI: function (e) {
                    var t = /(https|http):\/\/([^\/]+)\//i,
                        n = e.match(t);
                    return n ? n[0] : ""
                }
            },
            l = s,
            u = {},
            c = {};
        u.on = function (e, t) {
            return (c[e] || (c[e] = [])).push(t), u
        }, u.off = function (e, t) {
            if (!e && !t) return c = {}, u;
            var n = c[e];
            if (n)
                if (t)
                    for (var i = n.length - 1; i >= 0; i--) n[i] === t && n.splice(i, 1);
                else delete c[e];
            return u
        }, u.fire = function (e, t) {
            var n = c[e];
            if (n) {
                n = n.slice();
                for (var i = 0, o = n.length; i < o; i++) n[i](t)
            }
            return u
        };
        var d = u,
            h = {
                limit: function (e, t) {
                    var n = document.createElement("div"),
                        i = {
                            mask: "width: 100%;height: 100%;background-color: rgba(0, 0, 0, .7);position: fixed;top: 0;left: 0;",
                            alert: "width: 60%;max-width: 350px;position: fixed;top: 40%;left: 0;right: 0;margin: auto;padding: 10px;box-sizing: border-box;background: #fcfcfc;border-radius: 4px;text-align: center;color: #666;",
                            close: "color: #108ee9;border-top: 1px solid #ccc;margin-top: 10px;padding-top: 10px;"
                        };
                    n.innerHTML = '<div style="' + i.mask + '" id="mask"></div><div style="' + i.alert + '"id="alert"><div>' + e.ret + '</div><div id="sufei-dialog-close" style="' + i.close + '">关闭</div></div>', document.body.appendChild(n);
                    var o = document.getElementById("sufei-dialog-close");
                    l.addEvent("click", o, function () {
                        n.style.display = "none", t && t(!1, {})
                    })
                }, antiFlood: function (e) {
                    e.AntiFloodReferer ? location.href = e.data.url.replace(/(http_referer=).+/, "$1" + e.AntiFloodReferer) : location.href = e.data.url
                }, antiCreep: function (e, t) {
                    var n = function () {
                        var n = window.__sufeiCaller__,
                            i = {
                                data: "",
                                url: ""
                            };
                        n.check(e, i).then(function () {
                            console.log("sufei.check")
                        });
                        var o = !1;
                        n.on("event:resendRequest@sufei-caller", function (e) {
                            o = !0, t && t(!1, e)
                        }), n.on("event:dialogHide@sufei", function (e) {
                            o || t && t(!1, e || {})
                        })
                    };
                    if (window.__sufeiCaller__) return void n(window.__sufeiCaller__);
                    "undefined" == typeof sufei && (sufei = {}), window.__sufeiSeed__ = sufei, l.loadJS("https://g.alicdn.com/sd/sufei/0.3.112/app/common/sufei-caller.js", {}, function () {
                        window.__sufeiCaller__ = sufei, window.__sufeiCaller__.dialogWrapper = window.__sufeiSeed__.dialogWrapper, window.sufei = __sufeiSeed__, n()
                    })
                }
            },
            p = [];
        d.on("event:triggerFn@sufei", i);
        var f = function (e, t) {
            e.url = e.url || e.data && e.data.url || "";
            var n = l.checkResult(e);
            n.pass ? t(!0, e) : (p.push({
                result: e,
                fn: t
            }), 1 === p.length && h[n.interceptType] && h[n.interceptType].call(this, e, function (e, t) {
                i(e, t)
            }))
        };
        window.sufei = {
            check: f
        };
        var g = {
            check: f
        };
        t.default = g
    },
    function (e, t, n) {
        ! function (t, n) {
            e.exports = n()
        }("undefined" != typeof self && self, function () {
            return function (e) {
                function t(i) {
                    if (n[i]) return n[i].exports;
                    var o = n[i] = {
                        i: i,
                        l: !1,
                        exports: {}
                    };
                    return e[i].call(o.exports, o, o.exports, t), o.l = !0, o.exports
                }
                var n = {};
                return t.m = e, t.c = n, t.d = function (e, n, i) {
                    t.o(e, n) || Object.defineProperty(e, n, {
                        configurable: !1,
                        enumerable: !0,
                        get: i
                    })
                }, t.n = function (e) {
                    var n = e && e.__esModule ? function () {
                        return e.default
                    } : function () {
                        return e
                    };
                    return t.d(n, "a", n), n
                }, t.o = function (e, t) {
                    return Object.prototype.hasOwnProperty.call(e, t)
                }, t.p = "/dist/", t(t.s = 0)
            }([
                function (e, t, n) {
                    "use strict";

                    function i(e, t) {
                        var n = "url(https://account.youku.com/static-resources/images/stylize/youku_bg.jpg) no-repeat right bottom",
                            i = "#333",
                            o = (new Date).getHours();
                        return (o >= 18 || o <= 8) && (n = "url(https://account.youku.com/static-resources/images/stylize/yknight.jpg) no-repeat right bottom", i = "#fff"), new getLoginFrame({
                            loginOrLogout: "login",
                            callbackURL: "",
                            mode: "popup",
                            template: "tempA",
                            buid: "youku",
                            pid: !window.youku_vip_pay_env || "local" !== window.youku_vip_pay_env && "daily" !== window.youku_vip_pay_env ? "20160607PLF000287" : "20160919PLF001101",
                            themes: ["35b5ff", "c0e8f6"],
                            bgThemes: n,
                            fontColor: i,
                            linkColor: i,
                            padding: [30, 30, 30, 410],
                            loginModel: ["mobile", "normal"],
                            regModel: ["mobile", "email"],
                            isQRlogin: !0,
                            isThirdPartLogin: !0,
                            regShowType: "in",
                            regRules: ["用户协议", "http://mapp.youku.com/service/agreement", "http://mapp.youku.com/service/copyright"],
                            qrMsg: "请使用优酷APP扫码登录",
                            qrBu: ["ykt", 80, "false"],
                            size: "normal",
                            loginSuccess: function () {
                                t();
                                var e = document.getElementById("YT-loginFramePop");
                                e && e.parentNode.removeChild(e);
                                var n = document.getElementById("YT-loginFrameshade");
                                n && n.parentNode.removeChild(n)
                            }, closeCallback: function () {
                                var e = document.getElementsByClassName("YT-loginFrame-popbox"),
                                    t = e.length;
                                if (t > 1) {
                                    var n = e[t - 1];
                                    n.parentNode.removeChild(n)
                                }
                                var i = document.getElementById("closeFrame");
                                i && (i.style.display = "none")
                            }
                        })
                    }

                    function o(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function a(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var s = {
                        TAG: "util",
                        jsopInfo: {},
                        KEYARR: [19, 1, 4, 7, 30, 14, 28, 8, 24, 17, 6, 35, 34, 16, 9, 10, 13, 22, 32, 29, 31, 21, 18, 3, 2, 23, 25, 27, 11, 20, 5, 15, 12, 0, 33, 26],
                        protocol: "http:",
                        addEventListenerHander: function (e, t, n) {
                            e.addEventListener ? e.addEventListener(t, n, !1) : e.attachEvent ? e.attachEvent("on" + t, n) : e["on" + t] = n
                        }, removeEventListenerHander: function (e, t, n) {
                            e.removeEventListener ? e.removeEventListener(t, n, !1) : e.detachEvent ? e.detachEvent("on" + t, n) : e["on" + t] = null
                        }, getById: function (e, t) {
                            return t && t instanceof HTMLElement ? t.getElementById(e) : document.getElementById(e)
                        }, deleteEleById: function (e) {
                            var t = document.getElementById(e);
                            t.parentNode.removeChild(t)
                        }, emptyEleById: function (e) {
                            document.getElementById(e) && (document.getElementById(e).innerHTML = "")
                        }, getByClass: function (e, t) {
                            return t && t instanceof HTMLElement ? t.getElementsByClassName(e) : document.getElementsByClassName(e)
                        }, get: function (e, t) {
                            if (t = t || document, 0 === e.indexOf(".")) {
                                var n = e.substr(1, e.length - 1);
                                return t.getElementsByClassName(n)
                            }
                            var i = e;
                            return 0 === e.indexOf("#") && (i = e.substr(1, e.length - 1)), t.getElementById(i)
                        }, hasClass: function (e, t) {
                            return t = t || "", 0 != t.replace(/\s/g, "").length && new RegExp(" " + t + " ").test(" " + e.className + " ")
                        }, addClass: function (e, t) {
                            e && !this.hasClass(e, t) && (e.className = "" == e.className ? t : e.className + " " + t)
                        }, removeClass: function (e, t) {
                            if (e && this.hasClass(e, t)) {
                                for (var n = " " + e.className.replace(/[\t\r\n]/g, "") + " "; n.indexOf(" " + t + " ") >= 0;) n = n.replace(" " + t + " ", " ");
                                e.className = n.replace(/^\s+|\s+$/g, "")
                            }
                        }, getScreenState: function () {
                            var e = window.orientation;
                            switch (e) {
                            case 90:
                            case -90:
                                e = 0;
                                break;
                            default:
                                e = 1
                            }
                            return e
                        }, urlParameter: function (e) {
                            var t = [];
                            for (var n in e) t.push(n + "=" + e[n]);
                            return t.join("&")
                        }, toJSON: function (e) {
                            var t = [];
                            for (var n in e) t.push('"' + n + '":"' + e[n] + '"');
                            return "{" + t.join(",") + "}"
                        }, getURlKey: function (e, t) {
                            var n = t.split("?");
                            if (n.length > 1) {
                                n = n[1].split("&");
                                for (var i = n.length, o = 0; o < i; o++) {
                                    var r = n[o].split("=");
                                    if (r.length > 1 && r[0] === e) return r[1]
                                }
                            }
                            return null
                        }, loadfile: function (e, t, n) {
                            var i = null;
                            "js" == t ? (i = document.createElement("script"), i.setAttribute("type", "text/javascript"), i.setAttribute("id", n), i.setAttribute("src", e)) : "css" == t && (i = document.createElement("link"), i.setAttribute("rel", "stylesheet"), i.setAttribute("id", n), i.setAttribute("type", "text/css"), i.setAttribute("href", e)), void 0 !== i && null === document.getElementById(n) && document.getElementsByTagName("head")[0].appendChild(i)
                        }, loadCssCode: function (e, t) {
                            var n = document.createElement("style");
                            n.type = "text/css", n.rel = "stylesheet", n.id = t || "defaultid";
                            try {
                                n.appendChild(document.createTextNode(e))
                            } catch (t) {
                                n.styleSheet.cssText = e
                            }
                            var i = document.getElementsByTagName("head")[0];
                            null === document.getElementById(n.id) && i.appendChild(n)
                        }, getJsonp: function (e, t, n, i, o) {
                            var r = e,
                                a = (new Date).getTime() + Math.round(100 * Math.random()),
                                s = "_stId" + a,
                                l = document.createElement("script"),
                                u = "json" + a,
                                c = this;
                            l.type = "text/javascript", l.onerror = l.onbort = function () {
                                c[s] && (clearTimeout(c[s]), c[s] = null, n && n(), document.getElementsByTagName("head")[0].removeChild(l))
                            };
                            var d = o || 15e3;
                            c[s] = setTimeout(function (e) {
                                c[e] && (clearTimeout(c[e]), c[e] = null, i && i(), document.getElementsByTagName("head")[0].removeChild(l))
                            }(s), d), window[u] = function (e) {
                                c[s] && (clearTimeout(c[s]), c[s] = null, document.getElementsByTagName("head")[0].removeChild(l), t(e))
                            }, r += "&callback=" + u, l.src = r, document.getElementsByTagName("head")[0].appendChild(l)
                        }, loadJsWithCb: function (e, t) {
                            var n = document.getElementsByTagName("head")[0],
                                i = document.createElement("script");
                            i.type = "text/javascript", i.onload = i.onreadystatechange = function () {
                                this.readyState && "loaded" !== this.readyState && "complete" !== this.readyState || (t && t(), i.onload = i.onreadystatechange = null)
                            }, i.onerror = function () {
                                i.onload = null
                            }, i.src = e, n.appendChild(i)
                        }, translate: function (e, t) {
                            for (var n = [], i = 0; i < e.length; i++) {
                                var o = 0;
                                o = e[i] >= "a" && e[i] <= "z" ? e[i].charCodeAt(0) - "a".charCodeAt(0) : e[i] - "0" + 26;
                                for (var r = 0; r < 36; r++)
                                    if (t[r] == o) {
                                        o = r;
                                        break
                                    }
                                n[i] = o > 25 ? o - 26 : String.fromCharCode(o + 97)
                            }
                            return n.join("")
                        }, decode64: function (e) {
                            if (!e) return "";
                            e = e.toString();
                            var t = void 0,
                                n = void 0,
                                i = void 0,
                                o = void 0,
                                r = void 0,
                                a = void 0,
                                s = void 0,
                                l = new Array(-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 62, -1, -1, -1, 63, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, -1, -1, -1, -1, -1, -1, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, -1, -1, -1, -1, -1, -1, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, -1, -1, -1, -1, -1);
                            for (a = e.length, r = 0, s = ""; r < a;) {
                                do {
                                    t = l[255 & e.charCodeAt(r++)]
                                } while (r < a && -1 == t);
                                if (-1 == t) break;
                                do {
                                    n = l[255 & e.charCodeAt(r++)]
                                } while (r < a && -1 == n);
                                if (-1 == n) break;
                                s += String.fromCharCode(t << 2 | (48 & n) >> 4);
                                do {
                                    if (61 == (i = 255 & e.charCodeAt(r++))) return s;
                                    i = l[i]
                                } while (r < a && -1 == i);
                                if (-1 == i) break;
                                s += String.fromCharCode((15 & n) << 4 | (60 & i) >> 2);
                                do {
                                    if (61 == (o = 255 & e.charCodeAt(r++))) return s;
                                    o = l[o]
                                } while (r < a && -1 == o);
                                if (-1 == o) break;
                                s += String.fromCharCode((3 & i) << 6 | o)
                            }
                            return s
                        }, encode64: function (e) {
                            if (!e) return "";
                            e = e.toString();
                            var t = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",
                                n = void 0,
                                i = void 0,
                                o = void 0,
                                r = void 0,
                                a = void 0,
                                s = void 0;
                            for (o = e.length, i = 0, n = ""; i < o;) {
                                if (r = 255 & e.charCodeAt(i++), i == o) {
                                    n += t.charAt(r >> 2), n += t.charAt((3 & r) << 4), n += "==";
                                    break
                                }
                                if (a = e.charCodeAt(i++), i == o) {
                                    n += t.charAt(r >> 2), n += t.charAt((3 & r) << 4 | (240 & a) >> 4), n += t.charAt((15 & a) << 2), n += "=";
                                    break
                                }
                                s = e.charCodeAt(i++), n += t.charAt(r >> 2), n += t.charAt((3 & r) << 4 | (240 & a) >> 4), n += t.charAt((15 & a) << 2 | (192 & s) >> 6), n += t.charAt(63 & s)
                            }
                            return n
                        }, rc4: function (e, t) {
                            for (var n = [], i = 0, o = void 0, r = "", a = 0; a < 256; a++) n[a] = a;
                            for (a = 0; a < 256; a++) i = (i + n[a] + e.charCodeAt(a % e.length)) % 256, o = n[a], n[a] = n[i], n[i] = o;
                            a = 0, i = 0;
                            for (var s = 0; s < t.length; s++) a = (a + 1) % 256, i = (i + n[a]) % 256, o = n[a], n[a] = n[i], n[i] = o, r += String.fromCharCode(t.charCodeAt(s) ^ n[(n[a] + n[i]) % 256]);
                            return r
                        }, mergeObject: function (e, t) {
                            for (var n in e) t[n] = e[n];
                            return t
                        }, htmlEncodeAll: function (e) {
                            return null == e ? "" : e.replace(/\&/g, "&amp;").replace(/\</g, "&lt;").replace(/\>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&apos;")
                        }, show: function (e, t) {
                            if (t = t || "block", e instanceof Array)
                                for (var n = 0, i = e.length; n < i; n++) {
                                    var o = e[n];
                                    o && o instanceof HTMLElement && (o.style.display = t)
                                }
                            e && e instanceof HTMLElement && (e.style.display = t)
                        }, hide: function (e) {
                            if (e instanceof Array)
                                for (var t = 0, n = e.length; t < n; t++) {
                                    var i = e[t];
                                    i && i instanceof HTMLElement && (i.style.display = "none")
                                }
                            e && e instanceof HTMLElement && (e.style.display = "none")
                        }, createElement: function (e, t, n, i) {
                            i = i || "div";
                            var o = document.createElement(i);
                            return e && (o.className = e), t && (o.id = t), n && (o.innerHTML = n), o
                        }, getTimeModel: function (e) {
                            var t = void 0,
                                n = void 0,
                                i = void 0,
                                o = [];
                            return t = Math.floor(e / 3600), e %= 3600, n = Math.floor(e / 60), i = parseInt(e % 60), t > 0 && o.push(t), n > 9 ? o.push(n) : o.push("0" + n), i > 9 ? o.push(i) : o.push("0" + i), o.join(":")
                        }, checkBind: function () {
                            Function.prototype.bind || (Function.prototype.bind = function (e) {
                                if ("function" != typeof this) throw new TypeError("What is trying to be bound is not callable");
                                var t = Array.prototype.slice.call(arguments, 1),
                                    n = this,
                                    i = function () {};
                                return fBound = function () {
                                    return n.apply(this instanceof i ? this : e, t.concat(Array.prototype.slice.call(arguments)))
                                }, i.prototype = this.prototype, fBound.prototype = new i, fBound
                            })
                        }, checkProtocol: function () {
                            var e = "";
                            e = document.location && document.location.protocol ? document.location.protocol : document.location && document.location.href && document.location.href.indexOf("https:") > -1 ? "https:" : "http:", this.protocol = e
                        }, getCna: function () {
                            return "gAT7FsiEzRoCAXFu16sxRbp5"    
                        }, checkOldVersionIku: function () {
                            var e = navigator.userAgent.toLowerCase(),
                                t = e.match(/IKU\/(\d+\.\d+\.\d+)/i);
                            if (t && t[1]) {
                                for (var n = "", i = t[1].split("."), o = 0; o < i.length; o++) n += i[o];
                                return parseInt(n) < 752
                            }
                            return !1
                        }, getSDKEnvironment: function () {
                            if (window.envTag) return window.envTag;
                            var e = navigator.userAgent.toLowerCase(),
                                t = e.match("iku"),
                                n = t && e.match("windows") ? 1 : t && e.match("youku") ? 2 : 3;
                            window.location.href.indexOf("/guide");
                            return "YoukuOfficial" == window.pid ? "1.0.2" : 1 == n ? "2.0.1" : 2 == n ? "3.0.1" : "1.0.1"
                        }
                    };
                    s.checkBind(), s.checkProtocol();
                    var l = s,
                        u = {
                            login: function (e, t) {
                                i(e, t).buildLoginDom();
                                var n = document.getElementById("closeFrame");
                                n && (n.style.display = "block")
                            }
                        },
                        c = u,
                        d = "/yt/youku.pcweb.control",
                        h = {
                            EXP: {
                                value: d,
                                param_1: "EXP",
                                param_2: "",
                                param_3: "GET"
                            },
                            CLK: {
                                value: d,
                                param_1: "CLK",
                                param_2: "",
                                param_3: "GET"
                            }
                        },
                        p = function () {
                            function e() {
                                o(this, e), this.goldlogs = h, this.a_b = ""
                            }
                            return e.prototype.log = function (e, t) {
                                var n = null;
                                try {
                                    n = this.goldlogs[e], window.goldlog && window.goldlog.record && window.goldlog.record(n.value, n.param_1, t || n.param_2, n.param_3)
                                } catch (e) {
                                    console.log("error occuer")
                                }
                            }, e.prototype.getSpm = function (e) {
                                var t = {
                                        spmc: "",
                                        spmd: ""
                                    },
                                    n = "";
                                try {
                                    if (e && e.params && e.params.spm) {
                                        var i = e.params.spm.split(".");
                                        4 == i.length && (t.spmc = "" + i[2], t.spmd = "d_" + i[3])
                                    }
                                } catch (e) {}
                                try {
                                    e && e.params && e.params.scm && (n = e.params.scm)
                                } catch (e) {}
                                return {
                                    _spm: t,
                                    _scm: n
                                }
                            }, e.prototype.getABForPage = function () {
                                if (!this.a_b) {
                                    var e = "",
                                        t = "";
                                    try {
                                        e = document.getElementsByTagName("meta")["data-spm"].getAttribute("content")
                                    } catch (e) {}
                                    try {
                                        t = document.getElementsByTagName("body")[0].getAttribute("data-spm")
                                    } catch (e) {}
                                    this.a_b = (e || "-") + "." + (t || "-")
                                }
                                return this.a_b
                            }, e.prototype.expose = function (e, t, n, i) {
                                var o = "en_spm=" + e + "&en_scm=" + t + "&en_vid=" + n + "&en_sid=" + i;
                                this.log("EXP", o)
                            }, e
                        }(),
                        f = p,
                        g = function () {
                            function e(t) {
                                r(this, e), this.container_id = t.container_id, this.container = document.getElementById(this.container_id), this.domain = t.domain, this.vipPaymentURL = t.vipPaymentURL + "&place=111", this.channel = t.channel, this.loadCashier = t.loadCashier, this.container && this.show(), !this.container && this.count(0, 1e3), this.trialLog = new f, this.vid = t.video_id, this.sid = t.showId, this.spm_ab = this.trialLog.getABForPage()
                            }
                            return e.prototype.show = function () {
                                !document.getElementById("vip_player_payment_side_style") && l.loadCssCode(this.getStyle(), "vip_player_payment_side_style"), this.initBox(), this.getPayInfo()
                            }, e.prototype.count = function (e, t) {
                                var n = this;
                                e > 3 || setTimeout(function () {
                                    var t = document.getElementById(n.container_id);
                                    t ? (n.container = t, n.show()) : n.count(e + 1, 500)
                                }, t)
                            }, e.prototype.getPayInfo = function (e) {
                                var t = this;
                                l.getJsonp(this.vipPaymentURL, function (n) {
                                    if (e && "function" == typeof e) e(n);
                                    else {
                                        if (2e4 != n.code) return;
                                        var i = n.result && n.result.model && n.result.model.playerAttrs && n.result.model.playerAttrs.pay_scenes || {};
                                        i.scenes && t.render(i.scenes)
                                    }
                                }, function (e) {})
                            }, e.prototype.render = function (e) {
                                var t = void 0;
                                if (e.forEach(function (e) {
                                    t = "pc_player_rightside" === e.scene ? e.components : t
                                }), t) {
                                    var n = {},
                                        i = [],
                                        o = [],
                                        r = !1,
                                        a = this,
                                        s = "";
                                    t.forEach(function (e) {
                                        "label" === e.type ? n[e.code] = e.text : e.action && "button" === e.type && !i.length && i.push(e)
                                    }), i.forEach(function (e) {
                                        var t = e.text,
                                            n = e.action,
                                            i = n.mode,
                                            l = n.params && n.params.products && n.params.products.join(","),
                                            u = a.trialLog.getSpm(n),
                                            c = u._spm,
                                            d = u._scm;
                                        !s && (s = c.spmc);
                                        var h = "",
                                            p = "default",
                                            f = "";
                                        1 == i ? (p = "vip.trade.order.render.cibn" === n.pageKey ? "kumiao" : "vip.trade.order.render.psport_ordinary" === n.pageKey || "vip.trade.order.render.psport_sports" === n.pageKey ? "psport" : "default", f = "psport" === p ? n.pageKey.split("psport_")[1] : f) : 2 == i ? (h = "consumeticket_event_side", a.showid = n.params.show_id, a.code = n.params.code, r = !0, a.consumeticketText = n.params) : 3 == i ? p = "vod" : 4 == i && (p = "vippkg"), "h5cashier" == n.type && !l && (e.attribute || "-").indexOf("pptv") > -1 && (p = "psport");
                                        var g = e.superscript ? "<em>" + e.superscript + "</em>" : "",
                                            m = '<a href="JavaScript:;" class="' + (h || "youku_vip_pay_btn") + ' vip_limit_btn youku_vip_trial_side" data-type="' + p + '" data-subbiz="' + f + '" data-products="' + (l || "") + '" data-tag="' + a.channel + '_pc_trial_sid" data-spm=' + c.spmd + ' data-scm="' + d + '" data-vid="' + a.vid + '" data-sid="' + a.sid + '">' + t + g + "</a>";
                                        !r && a.trialLog.expose(a.spm_ab + "." + s + "." + c.spmd, d, a.vid, a.sid), o.push(m)
                                    }), n.button = o.join(""), n.spmc = s, a.container_main.innerHTML = this.tplSide(n), r && l.addEventListenerHander(l.getByClass("consumeticket_event_side", this.container)[0], "click", function () {
                                        a.runConsumeticket(a)
                                    });
                                    for (var u = document.getElementsByClassName("youku_vip_trial_side"), c = 0; c < u.length; c++)! function (e) {
                                        l.addEventListenerHander(u[e], "click", function () {
                                            var t = u[e].getAttribute("data-spm-anchor-id"),
                                                n = u[e].getAttribute("data-scm"),
                                                i = "en_spm=" + t + "&en_scm=" + n + "&en_vid=" + a.vid + "&en_sid=" + a.sid;
                                            a.trialLog.log("CLK", i)
                                        })
                                    }(c);
                                    a.loadCashier(100)
                                }
                            }, e.prototype.render_error = function (e) {}, e.prototype.tplSide = function (e) {
                                return '<div class="vip_limit_content_sid" id="vip_limit_content_sid" data-spm=' + e.spmc + ">\n            " + e.button + "\n            <p>" + e.subtitle + "</p>\n        </div>"
                            }, e.prototype.getStyle = function () {
                                return ".vip_limit_box_side{\n            text-align: center;\n            position: relative;\n            margin-top: 14px;\n            padding: 0 20px 0 20px;\n            font-family: PingFangSC-Regular;\n        }\n        .vip_limit_box_side .vip_limit_btn{\n            display: block;\n            width: 100%;\n            position: relative;\n            border-radius: 15px;\n            font-size: 14px;\n            line-height: 30px;\n            color: #5B3301;\n            text-align: center;\n            background: #E1B271;\n            background: linear-gradient(to right, #FCE5AA, #E1B271);\n            background: -ms-linear-gradient(to right, #FCE5AA, #E1B271);\n            background: -webkit-linear-gradient(to right, #FCE5AA, #E1B271);\n            background: -moz-linear-gradient(to right, #FCE5AA, #E1B271);\n            background: -o-linear-gradient(to right, #FCE5AA, #E1B271);\n            border-radius: 15px;\n        }\n        .vip_limit_box_side .vip_limit_btn em{\n            position: absolute;\n            left: 100%;\n            top: -14px;\n            transform: translate( -66%, 0 );\n            background-image: linear-gradient(-135deg, #d52525 0%, #f35b5b 15%, #fb444c 100%);\n            height: 20px;\n            line-height: 20px;\n            font-size: 12px;\n            padding: 0 10px;\n            border-radius: 15px 0px 15px 0px;\n            color: #fff;\n            white-space: nowrap;\n            font-style: normal;\n        }\n        .vip_limit_box_side p{\n            padding: 10px;\n            text-align: center;\n            font-size: 12px;\n            color: #999;\n            line-height: 18px;\n            white-space: nowrap;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            max-width: 100%;\n        }\n        .vip_limit_tips_side{\n            position: absolute;\n            top: 0;\n            right: 10px;\n            bottom: 0;\n            left: 10px;\n            background: rgba(0, 0, 0, 0.9);\n            z-index: 1001;\n        }\n        .vip_limit_tips_side p{\n            color: #ddd;\n            padding: 6px 10px;\n        }\n        .vip_limit_tips_side .vip_limit_btn{\n            width: 32%;\n            margin: 0 auto;\n            line-height: 30px;\n        }"
                            }, e.prototype.initBox = function () {
                                this.container.innerHTML = '<div class="vip_limit_box_side" id="vip_limit_box_side"></div>', this.container_main = document.getElementById("vip_limit_box_side")
                            }, e.prototype.runConsumeticket = function (e) {
                                var t = document.createElement("div");
                                t.id = "vip_limit_tips_side", t.className = "vip_limit_tips_side";
                                var n = "https://" + e.domain + "/api/ticket_exchange?code=" + e.code + "&showId=" + e.showid + "&channel=pc@yk";
                                l.getJsonp(n, function (n) {
                                    if (!(n.result || {}).success) {
                                        var i = n.result.message || "网络错误，请稍后重试";
                                        return t.innerHTML = "<p>" + i + '</p>\n                    <a href="JavaScript:;" class="vip_limit_btn" id="sid_goback">返回</a>\n                </div>', void document.getElementById("sid_goback").addEventListener("click", function (e) {
                                            l.deleteEleById("vip_limit_tips_side")
                                        })
                                    }
                                    t.innerHTML = '<p>用券成功，请刷新页面观看！</p>\n                <a href="JavaScript:;" class="vip_limit_btn" id="sid_reload">刷新</a>\n            </div>', e.container_main.appendChild(t), document.getElementById("sid_reload").addEventListener("click", function (e) {
                                        window.location.reload()
                                    })
                                }, function (e) {})
                            }, e
                        }(),
                        m = g,
                        y = function () {
                            return window.youku_vip_pay_env && "local" === window.youku_vip_pay_env ? "pc-loc.pay.youku.com:7001" : window.youku_vip_pay_env && "daily" === window.youku_vip_pay_env ? "pc.pay.youku.com" : window.youku_vip_pay_env && "pre" === window.youku_vip_pay_env ? "paypre.vip.youku.com" : (window.youku_vip_pay_env && window.youku_vip_pay_env, "pc.pay.youku.com")
                        }(),
                        v = function () {
                            function e(t) {
                                a(this, e), this.envTag = l.getSDKEnvironment(), this.container = t.container, this.container_sid_id = t.container_sid_id, this.payment_data = t.payment_data || null, this.domain = t.domain || y, this.pay_info_ext = t.pay_info_ext || "", this.vipPaymentURL = ("local" === window.youku_vip_pay_env ? "http://" : "https://") + this.domain + "/api/pay_info?source=3&device=2&version=7.3.0&videoId=" + t.video_id + "&showId=" + (t.showId || "") + (this.pay_info_ext && "&upsAttributes=" + this.pay_info_ext || "") + "&channel=" + ("3.0.1" == this.envTag ? "mac@yk" : "pc@yk"), this.reload = t.reload, this.video_id = t.video_id, this.showId = t.show_id || "", this.channel = t.channel, this.superscript = t.superscript, this.ytid = t.ytid, this.trial_times = t.trial_times, this.trial_playing_callback = t.trial_playing_callback, this.trial_end_callback = t.trial_end_callback, this.isLogin = t.ytid, this.trialLog = new f, this.spm_ab = this.trialLog.getABForPage(), l.getByClass("vip_info")[0] && (l.getByClass("vip_info")[0].style.display = "block");
                                try {
                                    this.container_sid_id && this.invokeSid()
                                } catch (e) {}
                            }
                            return e.prototype.show = function () {
                                this.showPop()
                            }, e.prototype.showPop = function () {
                                !document.getElementById("vip_player_payment_style") && l.loadCssCode(this.getStyle(), "vip_player_payment_style"), !document.getElementById("vip_limit_box") && this.initBox(), this.payment_data && this.render(this.payment_data, "trial_end"), this.payment_data || this.getPayInfo("", "trial_end"), this.loadCashier()
                            }, e.prototype.hide = function () {
                                this.hidePop()
                            }, e.prototype.hidePop = function () {
                                l.removeClass(document.getElementById("vip_limit_box"), "status_pop"), l.emptyEleById("vip_player_payment_pop"), l.addClass(document.getElementById("vip_player_payment_pop"), "none")
                            }, e.prototype.showToast = function () {
                                !document.getElementById("vip_player_payment_style") && l.loadCssCode(this.getStyle(), "vip_player_payment_style"), !document.getElementById("vip_limit_box") && this.initBox(), this.payment_data && this.render(this.payment_data, "trial_playing"), this.payment_data || this.getPayInfo("", "trial_playing"), this.loadCashier()
                            }, e.prototype.hideToast = function () {
                                l.removeClass(document.getElementById("vip_limit_box"), "status_toast"), l.emptyEleById("vip_player_payment_toast"), l.addClass(document.getElementById("vip_player_payment_toast"), "none")
                            }, e.prototype.runReload = function () {
                                this.hidePop(), (window.H5player || window.player || {
                                    seek: function () {}
                                }).seek(0)
                            }, e.prototype.loadLoginFrame = function () {
                                var e = this;
                                window.getLoginFrame ? e.loginAPI = c : l.loadJsWithCb("https://g.alicdn.com/static-es6/login/public/load.js", function () {
                                    getLoginFrame && (e.loginAPI = c)
                                })
                            }, e.prototype.loadCashier = function (e) {
                                var t = this;
                                setTimeout(function () {
                                    var e = "pc.pay.youku.com" == t.domain ? "https://g.alicdn.com/youkuvip_fe/vip-public-assets/pay/pay.js" : "https://g-assets.prepub.taobao.net/youkuvip_fe/vip-public-assets/pay/pay.js";
                                    window.isPayJSLoad || l.loadJsWithCb(e, function () {})
                                }, e || 350)
                            }, e.prototype.initLoginFrame = function () {
                                var e = this,
                                    t = "https://" + e.domain + "/api/get_login_state?_=pc.pay";
                                l.getJsonp(t, function (t) {
                                    2e4 == t.code ? (l.deleteEleById("vip_limit_login"), window.location.reload()) : e.invokeLoginFrame()
                                }, function () {
                                    e.invokeLoginFrame()
                                })
                            }, e.prototype.invokeLoginFrame = function () {
                                var e = this;
                                "2.0.1" == e.envTag ? window.external.execute("iku", "iku://|buildin|vip|do-login|web|-||") : "1.0.2" == e.envTag || "3.0.1" == e.envTag ? window.external && window.external.execute ? window.external.execute("iku", "iku://|buildin|vip|do-login|web|-||") : window.webkit.messageHandlers.openLoginDialog.postMessage({
                                    body: ""
                                }) : "v" === e.channel && window.Login && window.Login.login ? window.Login.login(null, function () {
                                    window.location.reload()
                                }) : e.loginAPI.login(!0, function () {
                                    window.location.reload()
                                })
                            }, e.prototype.destroy = function () {
                                this.hidePop(), this.hideToast(), l.deleteEleById("vip_limit_box"), this.payment_data = null
                            }, e.prototype.update = function (e) {
                                this.payment_data = null, "pop" === e ? (this.hidePop(), this.showPop()) : "toast" === e ? (this.hideToast(), this.showToast()) : (this.destroy(), this.showPop(), this.showToast())
                            }, e.prototype.getPayInfo = function (e, t) {
                                var n = this;
                                l.getJsonp(this.vipPaymentURL, function (i) {
                                    if (e && "function" == typeof e) e(i);
                                    else {
                                        if (2e4 != i.code) return;
                                        n.payment_data = i.result && i.result.model && i.result.model.playerAttrs && i.result.model.playerAttrs.pay_scenes && i.result.model.playerAttrs.pay_scenes.scenes || [], n.isLogin = i.result && i.result.isLogin, n.render(n.payment_data, t, !0)
                                    }
                                }, function (e) {})
                            }, e.prototype.render_trial_playing = function (e) {
                                var t = this,
                                    n = {},
                                    i = [],
                                    o = [],
                                    r = !1,
                                    a = this,
                                    s = "",
                                    u = !1;
                                e.forEach(function (e) {
                                    "title" === e.code && (n.icon = e.icon ? '<b><img src="' + e.icon + '"></b>' : ""), "label" === e.type ? n[e.code] = e.text : e.action && "button" === e.type && i.push(e)
                                }), i.forEach(function (e) {
                                    var t = e.text,
                                        n = e.action,
                                        i = n.mode,
                                        l = n.params && n.params.products && n.params.products.join(","),
                                        c = a.trialLog.getSpm(n),
                                        d = c._spm,
                                        h = c._scm;
                                    !s && (s = d.spmc);
                                    var p = "",
                                        f = "default",
                                        g = "",
                                        m = "";
                                    1 == i ? (f = "vip.trade.order.render.cibn" === n.pageKey ? "kumiao" : "vip.trade.order.render.psport_ordinary" === n.pageKey || "vip.trade.order.render.psport_sports" === n.pageKey ? "psport" : "default", g = "psport" === f ? n.pageKey.split("psport_")[1] : g) : 2 == i ? (p = "consumeticket_event", a.showid = n.params.show_id, a.code = n.params.code, r = !0, a.consumeticketText = n.params) : 3 == i ? f = "vod" : 4 == i && (f = "vippkg"), "h5cashier" == n.type && !l && (e.attribute || "-").indexOf("pptv") > -1 && (f = "psport"), n && "showErrMsg" === n.type && (u = !0, m = "deny_buy_vod_playing");
                                    var y = "";
                                    y = m ? '<a href="JavaScript:;" class="' + m + ' youku_vip_trial_playing" data-type="' + f + '" data-subbiz="' + g + '" data-products="' + (l || "") + '" data-tag="' + a.channel + '_pc_trial_playing" data-spm=' + d.spmd + ' data-scm="' + h + '" data-vid="' + a.video_id + '" data-sid="' + a.showId + '" data-dialog-title="' + (n.params && n.params.dialog_title || "") + '" data-dialog_desc1="' + (n.params && n.params.dialog_desc1 || "") + '" data-dialog_desc2="' + (n.params && n.params.dialog_desc2 || "") + '" data-dialog_desc3="' + (n.params && n.params.dialog_desc3 || "") + '">' + t + "</a>" : '<a href="JavaScript:;" class="' + (p || "youku_vip_pay_btn") + ' youku_vip_trial_playing" data-type="' + f + '" data-subbiz="' + g + '" data-products="' + (l || "") + '" data-tag="' + a.channel + '_pc_trial_playing" data-spm=' + d.spmd + ' data-scm="' + h + '" data-vid="' + a.video_id + '" data-sid="' + a.showId + '">' + t + "</a>", !r && a.trialLog.expose(a.spm_ab + "." + s + "." + d.spmd, h, a.video_id, a.showId), o.push(y)
                                }), n.href = o.join("或"), n.spmc = s, document.getElementById("vip_player_payment_toast").innerHTML = this.tplToast(n), document.getElementById("toast_close") && l.addEventListenerHander(document.getElementById("toast_close"), "click", function () {
                                    t.hideToast()
                                });
                                for (var c = document.getElementsByClassName("youku_vip_trial_playing"), d = 0; d < c.length; d++)! function (e) {
                                    l.addEventListenerHander(c[e], "click", function () {
                                        var t = c[e].getAttribute("data-spm-anchor-id"),
                                            n = c[e].getAttribute("data-scm"),
                                            i = "en_spm=" + t + "&en_scm=" + n + "&en_vid=" + a.video_id + "&en_sid=" + a.showId;
                                        a.trialLog.log("CLK", i)
                                    })
                                }(d);
                                r && l.getByClass("consumeticket_event", this.container)[0] && l.addEventListenerHander(l.getByClass("consumeticket_event", this.container)[0], "click", function () {
                                    a.consumeticketConfim(a)
                                }), u && l.getByClass("deny_buy_vod_playing") && l.addEventListenerHander(l.getByClass("deny_buy_vod_playing")[0], "click", function (e) {
                                    var n = e.srcElement || e.target,
                                        i = t.getDialogData(n);
                                    t.renderDialog(i)
                                }), l.addClass(document.getElementById("vip_limit_box"), "status_toast"), l.removeClass(document.getElementById("vip_player_payment_toast"), "none")
                            }, e.prototype.render_trial_end = function (e) {
                                var t = this,
                                    n = {},
                                    i = [],
                                    o = [],
                                    r = [],
                                    a = !1,
                                    s = this,
                                    u = "";
                                n.vipState = "none", n.vipType = "优酷VIP";
                                var c = !1;
                                e.forEach(function (e) {
                                    "label" === e.type ? n[e.code] = e.text : e.action && "button" === e.type && i.push(e)
                                }), i.forEach(function (e) {
                                    var t = e.text,
                                        i = e.action,
                                        l = i.mode,
                                        d = i.params && i.params.products && i.params.products.join(","),
                                        h = "",
                                        p = "default",
                                        f = "",
                                        g = s.trialLog.getSpm(i),
                                        m = g._spm,
                                        y = g._scm;
                                    !u && (u = m.spmc);
                                    var v = "";
                                    1 == l ? (p = "vip.trade.order.render.cibn" === i.pageKey ? "kumiao" : "vip.trade.order.render.psport_ordinary" === i.pageKey || "vip.trade.order.render.psport_sports" === i.pageKey ? "psport" : "default", f = "psport" === p ? i.pageKey.split("psport_")[1] : f, (e.attribute || "-").indexOf("pptv") > -1 || "psport" === p ? (!s.isLogin && r.push("已是体育会员"), n.vipState = "vip_auth_sport", n.vipType = "体育会员") : (!s.isLogin && r.push("已是优酷VIP"), n.vipState = "vip_auth_youku")) : 2 == l ? (h = "consumeticket_pop", s.showid = i.params.show_id, s.code = i.params.code, a = !0, !s.isLogin && r.push("有券"), s.consumeticketText = i.params) : 3 == l ? (p = "vod", !s.isLogin && -1 == r.join("").indexOf("已购买") && r.push("已购买")) : 4 == l && (p = "vippkg", !s.isLogin && -1 == r.join("").indexOf("已购买") && r.push("已购买")), "h5cashier" == i.type && !d && (e.attribute || "-").indexOf("pptv") > -1 && (p = "psport");
                                    var _ = e.superscript ? "<em>" + e.superscript + "</em>" : "";
                                    i && "showErrMsg" === i.type && (c = !0, v = "deny_buy_vod");
                                    var b = "";
                                    b = v ? '<a href="JavaScript:;" class="vip_limit_btn ' + v + ' youku_vip_trial_end" data-type="' + p + '" data-subbiz="' + f + '" data-products="' + (d || "") + '" data-dialog-title="' + (i.params && i.params.dialog_title || "") + '" data-dialog_desc1="' + (i.params && i.params.dialog_desc1 || "") + '" data-dialog_desc2="' + (i.params && i.params.dialog_desc2 || "") + '" data-dialog_desc3="' + (i.params && i.params.dialog_desc3 || "") + '" data-tag="' + s.channel + '_pc_trial_end" data-spm=' + m.spmd + ' data-scm="' + y + '" data-vid="' + s.video_id + '" data-sid="' + s.showId + '">' + t + _ + "</a>" : '<a href="JavaScript:;" class="vip_limit_btn ' + (h || "youku_vip_pay_btn") + ' youku_vip_trial_end" data-type="' + p + '" data-subbiz="' + f + '" data-products="' + (d || "") + '" data-tag="' + s.channel + '_pc_trial_end" data-spm=' + m.spmd + ' data-scm="' + y + '" data-vid="' + s.video_id + '" data-sid="' + s.showId + '"}>' + t + _ + "</a>", !a && s.trialLog.expose(s.spm_ab + "." + u + "." + m.spmd, y, s.video_id, s.showId), o.push(b)
                                }), n.login_text = r.join("或"), n.spmc = u, n.button = o.join(""), n.loginState = this.isLogin ? "" : '<span href="JavaScript:;" id="vip_limit_login" class="vip_limit_login">' + n.login_text + ' , <a href="JavaScript:;" class="J-login" id="pay_user_login">登录观看</a>></span>', n.reloadState = this.reload ? '<a href="JavaScript:;" class="vip_limit_reload" id="vip_limit_reload">重新试看</a>' : "", document.getElementById("vip_player_payment_pop").innerHTML = this.tplPop(n), a && l.addEventListenerHander(l.getByClass("consumeticket_pop")[0], "click", function () {
                                    s.consumeticketConfim(s)
                                }), n.reloadState && l.addEventListenerHander(l.getById("vip_limit_reload"), "click", function () {
                                    t.runReload()
                                });
                                for (var d = document.getElementsByClassName("youku_vip_trial_end"), h = 0; h < d.length; h++)! function (e) {
                                    l.addEventListenerHander(d[e], "click", function (t) {
                                        var n = d[e].getAttribute("data-spm-anchor-id"),
                                            i = d[e].getAttribute("data-scm"),
                                            o = "en_spm=" + n + "&en_scm=" + i + "&en_vid=" + s.video_id + "&en_sid=" + s.showId;
                                        s.trialLog.log("CLK", o)
                                    })
                                }(h);
                                !this.isLogin && this.loadLoginFrame(), !this.isLogin && l.addEventListenerHander(l.getById("pay_user_login"), "click", function () {
                                    t.initLoginFrame()
                                }), c && l.getByClass("deny_buy_vod") && l.addEventListenerHander(l.getByClass("deny_buy_vod")[0], "click", function (e) {
                                    var n = e.srcElement || e.target,
                                        i = t.getDialogData(n);
                                    t.renderDialog(i)
                                }), l.addClass(document.getElementById("vip_limit_box"), "status_pop"), l.removeClass(document.getElementById("vip_player_payment_pop"), "none")
                            }, e.prototype.render_error = function (e) {}, e.prototype.getDialogData = function (e) {
                                var t = {
                                    title: "温馨提示",
                                    textHtml: "",
                                    btn1: "我知道了"
                                };
                                if (e && e instanceof HTMLElement) {
                                    var n = e.getAttribute("data-dialog-title") || "",
                                        i = e.getAttribute("data-dialog_desc1") || "",
                                        o = e.getAttribute("data-dialog_desc2") || "",
                                        r = e.getAttribute("data-dialog_desc3") || "";
                                    n && (t.title = n), i && (t.textHtml = i), o && (t.btn1 = o), r && (t.btn2 = r)
                                }
                                return t
                            }, e.prototype.tplDialog = function (e) {
                                var t = "";
                                return e.btn1 && (t = '<div class="cccrb_leave one_btn_style vip_pp_cancel_btn">' + e.btn1 + "</div>"), e.btn1 && e.btn2 && (t = '<div class="cccrb_close vip_pp_cancel_btn">' + e.btn1 + '</div><div class="cccrb_leave vip_pp_confirm_btn">' + e.btn2 + "</div>"), '<div class="vip_pp_dialog">\n                    <div class="vip_pp_cccr_box">\n                        <div class="cccrb_title">' + e.title + '</div>\n                        <div class="cccrb_desc_wrapper">\n                            <div class="cccrb_desc">' + e.textHtml + "</div>\n                        </div>\n                        " + t + '\n                    </div>\n                </div>\n                <div class="vip_pp_cccr_box_layer"></div>'
                            }, e.prototype.renderDialog = function (e) {
                                var t = document.getElementById("vip_player_payment_dialog");
                                if (t && t instanceof HTMLElement) {
                                    var n = l.getById("vip_pp_dialog_id");
                                    if (n) return;
                                    n = l.createElement("", "vip_pp_dialog_id", this.tplDialog(e)), t.appendChild(n), l.removeClass(t, "none");
                                    var i = l.getByClass("vip_pp_cancel_btn", n)[0],
                                        o = l.getByClass("vip_pp_confirm_btn", n)[0];
                                    i && l.addEventListenerHander(i, "click", function () {
                                        l.deleteEleById("vip_pp_dialog_id"), l.addClass(t, "none"), l.removeClass(document.getElementById("vip_limit_box"), "status_dialog")
                                    }), o && l.addEventListenerHander(o, "click", function () {
                                        l.deleteEleById("vip_pp_dialog_id"), l.addClass(t, "none"), l.removeClass(document.getElementById("vip_limit_box"), "status_dialog")
                                    }), l.addClass(document.getElementById("vip_limit_box"), "status_dialog")
                                }
                            }, e.prototype.render = function (e, t, n) {
                                if (!e || !e.length) return void this.initBox();
                                var i = this;
                                e.forEach(function (e) {
                                    e.scene === t && i["render_" + t](e.components)
                                })
                            }, e.prototype.tplPop = function (e) {
                                return this.trial_end_callback && this.trial_end_callback(e, this.trial_times, this.ytid, this.video_id, this, l) || '<div class="vip_limit_content" id="vip_limit_content" data-spm=' + e.spmc + ">\n            <h6>" + e.title + "</h6>\n            <p>" + e.subtitle + '</p>\n            <div class="vip_limit_button_box">' + e.button + '</div>\n            <div class="vip_limit_auth ' + e.vipState + '">\n                <p><span></span><strong>开通' + e.vipType + '尊享以下权限</strong><span></span></p>\n                <ul>\n                    <li><b class="s1"></b><span>免费大片</span></li>\n                    <li><b class="s2"></b><span>广告特权</span></li>\n                    <li><b class="s3"></b><span>1080P</span></li>\n                    <li><b class="s4"></b><span>抢先看剧</span></li>\n                    <li class="vip_icon_sport"><b class="s5"></b><span>专享比赛</span></li>\n                    <li class="vip_icon_sport"><b class="s6"></b><span>广告特权</span></li>\n                    <li class="vip_icon_sport"><b class="s7"></b><span>多端共享</span></li>\n                    <li class="vip_icon_sport"><b class="s8"></b><span>1080高清</span></li>\n                </ul>\n            </div>\n        </div>\n        <div class="vip_limit_bottom">\n            ' + e.reloadState + "\n            " + e.loginState + "\n        </div>"
                            }, e.prototype.tplToast = function (e) {
                                return this.trial_playing_callback && this.trial_playing_callback(e, this.trial_times, this.ytid, this.video_id, this, l) || '<div id="toast_content" data-spm=' + e.spmc + '><p id="toast_text" class="toast_text">' + e.icon + (e.title ? e.title + "," : "") + e.href + '<span class="toast_close" id="toast_close">×</span></p></div>'
                            }, e.prototype.getStyle = function () {
                                return ".vip_limit_box{\n            position: absolute;\n            bottom: 0;\n            left: 0;\n            width: 100%;\n            height: 0;\n            padding-bottom: 52px;\n            z-index: 999;\n            display: flex;\n            flex-direction: column;\n        }\n        .vip_limit_box.status_toast{\n            height: 30px;\n            background: rgba(0, 0, 0, 0);\n        }\n        .vip_limit_box.status_pop,.vip_limit_box.status_dialog{\n            height: 100%;\n            box-sizing: border-box;\n            background: rgba(0, 0, 0, 0.8);\n        }\n        .vip_limit_box::before{\n                flex: 1;\n                content: '';\n                width: 100%;\n        }\n        .vip_limit_box .none{\n            display: none;\n        }\n        .vip_player_payment_pop{\n            flex: 9999;\n            width: 100%;\n            position: relative;\n        }\n        .vip_limit_content{\n            position: absolute;\n            position: static\\9;\n            position: static\\0;\n            left: 50%;\n            top: 50%;\n            transform: translate( -50%, -50% );\n            text-align: center;\n            padding-top: 52px;\n        }\n        .vip_limit_content h6, .vip_limit_content p{\n            font-size: 18px;\n            line-height: 36px;\n            color: #fff;\n            text-align: center;\n        }\n        .vip_limit_content p{\n            font-size: 14px;\n            line-height: 36px;\n            color: #999;\n        }\n        .vip_limit_button_box{\n            text-align: center;\n            white-space: nowrap;\n            overflow: hidden;\n        }\n        .vip_limit_content .vip_limit_btn{\n            display: inline-block;\n            min-width: 100px;\n            position: relative;\n            background: #f60;\n            padding: 0 35px;\n            margin: 14px 5px 25px 5px;\n            border-radius: 38px;\n            font-size: 18px;\n            line-height: 38px;\n            color: #5B3301;\n            text-align: center;\n            background: #E1B271;\n            background: linear-gradient(to right, #FCE5AA, #E1B271);\n            background: -ms-linear-gradient(to right, #FCE5AA, #E1B271);\n            background: -webkit-linear-gradient(to right, #FCE5AA, #E1B271);\n            background: -moz-linear-gradient(to right, #FCE5AA, #E1B271);\n            background: -o-linear-gradient(to right, #FCE5AA, #E1B271);\n        }\n        .vip_limit_content .vip_limit_btn em{\n            position: absolute;\n            left: 100%;\n            top: -14px;\n            transform: translate( -100%, 0 );\n            background-image: linear-gradient(-135deg, #d52525 0%, #f35b5b 15%, #fb444c 100%);\n            height: 20px;\n            line-height: 20px;\n            font-size: 12px;\n            padding: 0 10px;\n            border-radius: 15px 0px 15px 0px;\n            color: #fff;\n            white-space: nowrap;\n            font-style: normal;\n        }\n        .vip_limit_bottom{\n            position: absolute;\n            bottom: 0;\n            left: 0;\n            height: 36px;\n            width: 100%;\n            line-height: 36px;\n            color: #acacac;\n        }\n        .vip_limit_auth.none{\n            display: none;\n        }\n        .vip_limit_auth p strong{\n            display: inline-block;\n            padding: 0 10px;\n            font-weight: normal;\n        }\n        .vip_limit_auth p span{\n            position: relative;\n            top: -5px;\n            display: inline-block;\n            width: 60px;\n            border-top: 1px solid #acacac;\n        }\n        .vip_limit_auth ul{\n            display: block;\n            width: 360px;\n            height: 60px;\n            margin: 10px auto 0;\n        }\n        .vip_limit_auth li{\n            float: left;\n            width: 90px;\n            height: 60px;\n            line-height: 28px;\n            color: #fff;\n            text-align: center;\n            list-style: none;\n            padding: 0;\n            margin: 0;\n        }\n        .vip_limit_auth li b{\n            display: block;\n            margin: 0 auto;\n            width: 36px;\n            height: 32px;\n            //background-image: url(//img.alicdn.com/tfs/TB1YSEtbXzqK1RjSZFzXXXjrpXa-36-450.png);\n            background-position: center 0;\n            background-repeat: no-repeat;\n        }\n        .vip_limit_auth li b.s1{\n            background-image: url(https://img.alicdn.com/tfs/TB1xetRbrr1gK0jSZFDXXb9yVXa-36-36.svg);\n        }\n        .vip_limit_auth li b.s2{\n            //background-position: center -50px;\n            background-image: url(https://img.alicdn.com/tfs/TB1H.FRbAL0gK0jSZFAXXcA9pXa-36-36.svg);\n        }\n        .vip_limit_auth li b.s3{\n            //background-position: center -100px;\n            background-image: url(https://img.alicdn.com/tfs/TB1734RbBv0gK0jSZKbXXbK2FXa-36-36.svg);\n        }\n        .vip_limit_auth li b.s4{\n            //background-position: center -150px;\n            background-image: url(https://img.alicdn.com/tfs/TB18g4RbBv0gK0jSZKbXXbK2FXa-36-36.svg);\n        }\n        .vip_limit_auth li b.s5{\n            //background-position: center -250px;\n            background-image: url(https://img.alicdn.com/tfs/TB1gOtPbpP7gK0jSZFjXXc5aXXa-36-36.svg);\n        }\n        .vip_limit_auth li b.s6{\n            //background-position: center -300px;\n            background-image: url(https://img.alicdn.com/tfs/TB1RfRRbxn1gK0jSZKPXXXvUXXa-36-36.svg);\n        }\n        .vip_limit_auth li b.s7{\n            //background-position: center -350px;\n            background-image: url(https://img.alicdn.com/tfs/TB1el0QbCf2gK0jSZFPXXXsopXa-36-36.svg);\n        }\n        .vip_limit_auth li b.s8{\n            //background-position: center -400px;\n            background-image: url(https://img.alicdn.com/tfs/TB1W58QbxD1gK0jSZFsXXbldVXa-36-36.svg);\n        }\n        .vip_limit_auth .vip_icon_sport{\n            display: none;\n        }\n        .vip_auth_sport li{\n            display: none;\n        }\n        .vip_auth_sport .vip_icon_sport{\n            display: block;\n        }\n        .vip_limit_reload{\n            float: left;\n            margin: 0 0 0 20px;\n            padding-left: 26px;\n            background-image: url(//img.alicdn.com/tfs/TB1YSEtbXzqK1RjSZFzXXXjrpXa-36-450.png);\n            background-repeat: no-repeat;\n            background-position: 0 -200px;\n            opacity: 0.6;\n            color: #fff;\n        }\n        .vip_limit_reload:hover{\n            opacity: 1;\n            color: #fff;\n        }\n        .vip_limit_login{\n            float: right;\n            margin: 0 20px 0 0;\n        }\n        .vip_limit_login a, .vip_limit_login a:link{\n            color: #FD6700;\n            padding-right: 5px;\n        }\n        .vip_limit_login a:hover{\n            color: #cf5500;\n        }\n        .vip_limit_toast{\n            position: absolute;\n            height:30px;\n            width: 100%;\n            bottom: 46px;\n            left: 0;\n        }\n        .vip_player_payment_toast{\n            height:30px;\n            width: 100%;\n            line-height: 30px;\n            color: #fff;\n            font-size: 14px;\n            padding: 0 10px;\n            box-sizing: border-box;\n            position: relative;\n            text-align: left;\n        }\n        .vip_player_payment_toast a, .vip_player_payment_toast a:link, .vip_player_payment_toast a:visited{\n            color: #08c;\n        }\n        .vip_player_payment_toast a:hover{\n            color: #2692ff;\n        }\n        .vip_player_payment_toast .toast_content, .vip_player_payment_toast p{\n            width: 100%;\n            height: 30px;\n            white-space: nowrap;\n            text-overflow: ellipsis;\n            overflow: hidden;\n            text-align: left;\n        }\n        .vip_player_payment_toast p{\n            display: inline-block;\n            width: auto;\n        }\n        .vip_player_payment_toast .toast_text{\n            background: #333;\n            border-radius: 15px;\n            padding: 0 12px;\n            height: 26px;\n            margin-top: 2px;\n            line-height: 26px;\n        }\n        .vip_player_payment_toast .toast_text a, .vip_player_payment_toast .toast_text a:link{\n            color: #FD6700;\n            padding: 0 5px;\n        }\n\n        .vip_player_payment_toast .toast_text a:hover{\n            color: #cf5500;\n        }\n        .vip_player_payment_toast .toast_text b{\n            float: left;\n            width: 22px;\n            height: 22px;\n            margin: 2px 5px 0 0;\n            border-radius: 50%;\n            overflow: hidden;\n            background: #000;\n        }\n        .vip_player_payment_toast .toast_text img{\n            display: block;\n            margin: 2px auto 0;\n            width: 18px;\n            height: 18px;\n        }\n        .vip_player_payment_toast .toast_close{\n            font-size: 20px;\n            cursor: pointer;\n            padding: 0 5px;\n        }\n        .ykplayer-dashboard-hidden .vip_limit_box{\n            padding-bottom: 0;\n        }\n        .ykplayer-dashboard-hidden .vip_limit_content{\n            padding-top: 0;\n        }\n        .vip_limit_confim{\n            position: absolute;\n            bottom: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            background: rgba(0, 0, 0, 0.9);\n            z-index: 1001;\n        }\n        .vip_limit_consumetick{\n            min-width: 94%;\n            position: absolute;\n            left: 50%;\n            top: 50%;\n            transform: translate( -50%, -50% );\n            text-align: center;\n        }\n        .consumeticket_title{\n            font-size: 18px;\n            line-height: 40px;\n            padding: 20px;\n        }\n        .consumeticket_desc{\n            padding: 0 20px 20px;\n        }\n        .consumeticket_btn{\n            text-align: center;\n        }\n        .consumeticket_btn .vip_limit_btn{\n            display: inline-block;\n            min-width: 100px;\n            position: relative;\n            background: #f60;\n            padding: 0 35px;\n            margin: 14px 5px 25px 5px;\n            border-radius: 38px;\n            font-size: 18px;\n            line-height: 38px;\n            color: #623A0C;\n            text-align: center;\n            background-image: linear-gradient(-135deg, #FBE8A8 0%, #F8E7AC 15%, #E2C078 100%);\n        }\n        .vip_limit_confim .vip_confim_close{\n            position: absolute;\n            right: 30px;\n            top: 30px;\n            font-size: 24px;\n            line-height: 26px;\n            cursor: pointer;\n        }\n        .vip_player_payment_dialog{\n            position: absolute;\n            width: 100%;\n            height: 100%;\n        }\n        .vip_pp_dialog {\n            position: absolute;\n            top: 50%;\n            left: 50%;\n            width: 320px;\n            height: 200px;\n            transform: translate(-50%, -50%);\n            z-index: 12;\n        }\n        .vip_pp_cccr_box{\n            width: 320px;\n            height: 200px;\n            border-radius: 8px;\n            background: #fff;\n            background-image: url('https://gw.alicdn.com/tfs/TB1xTXewLb2gK0jSZK9XXaEgFXa-692-398.png');\n            background-size: 346px 200px;\n            background-position: 0 0;\n            background-repeat: no-repeat;\n            overflow: hidden;\n            \n        }\n        .vip_pp_cccr_box .cccrb_title{\n            margin-top: 30px;\n            width: 100%;\n            height: 24px;\n            line-height: 24px;\n            font-size: 17px;\n            color: #000000;\n            letter-spacing: 0;\n            text-align: center;\n        }\n    \n        .vip_pp_cccr_box .cccrb_desc_wrapper{\n            position: relative;\n            margin: 17px auto 0;\n            width: 290px;\n            height: 40px;\n            \n        }\n        .vip_pp_cccr_box .cccrb_desc_wrapper .cccrb_desc{\n            position: absolute;\n            display: block;\n            top: 50%;\n            width: 290px;\n            transform: translate(0, -50%);\n            line-height: 20px;\n            font-size: 14px;\n            color: #DE8B5E;\n            letter-spacing: 0;\n            text-align: left;\n        }\n        .vip_pp_cccr_box .cccrb_close,\n        .vip_pp_cccr_box .cccrb_leave{\n            position: absolute;\n            bottom: 24px;\n            width: 112px;\n            height: 40px;\n            line-height: 40px;\n            font-size: 14px;\n            text-align: center;\n            border-radius: 20px;\n            cursor: pointer;\n            overflow: hidden;\n            white-space: nowrap;\n            text-overflow: ellipsis;\n        }\n        .vip_pp_cccr_box .cccrb_close{\n            left: 17px;\n            color: #000;\n            background: #EBEBEB;\n        }\n        .vip_pp_cccr_box .cccrb_close:hover{\n            background:#F2F2F2;\n        }\n        .vip_pp_cccr_box .cccrb_leave{\n            right: 17px;\n            color: #732F06;\n            background: #FCE1C6;\n            background-image: linear-gradient(135deg, rgba(238,172,137,1.00) 0%, #FCE1C6 100%);\n        }\n        .vip_pp_cccr_box .cccrb_leave:hover{\n            background: #FBE6D1;\n            background-image: linear-gradient(135deg, #F2C1A7 0%, #FBE6D1 100%);\n        }\n        .vip_pp_cccr_box_layer{\n            position: absolute;\n            width: 100%;\n            height: 100%;\n            left: 0;\n            top: 0;\n            background-color: rgba(0,0,0,0.12);\n            z-index: 11;\n        }\n        .vip_pp_cccr_box .one_btn_style{\n            width: 240px;\n            left: 50%;\n            right: 0;\n            margin-left: -120px;\n        }"
                            }, e.prototype.initBox = function () {
                                this.container.innerHTML = '<div class="vip_limit_box" id="vip_limit_box">\n            <div class="vip_player_payment_pop none" id="vip_player_payment_pop"></div>\n            <div class="vip_player_payment_toast none" id="vip_player_payment_toast"></div>\n            <div class="vip_player_payment_dialog none" id="vip_player_payment_dialog"></div>\n        </div>'
                            }, e.prototype.consumeticketConfim = function (e) {
                                var t = document.createElement("div");
                                t.id = "vip_limit_confim", t.className = "vip_limit_confim", t.innerHTML = '<span class="vip_confim_close" id="vip_confim_close">×</span>\n            <div class="vip_limit_consumetick" id="vip_limit_consumetick">\n                <p class="consumeticket_title">' + e.consumeticketText.dialog_title + '</p>\n                <p class="consumeticket_desc">' + (e.consumeticketText.dialog_desc1 || "") + "," + (e.consumeticketText.dialog_desc2 || "") + "," + (e.consumeticketText.dialog_desc3 || "") + '</p>\n                <div class="consumeticket_btn">\n                    <a href="JavaScript:;" class="vip_limit_btn" id="vip_consumeticket_entry">确定</a>\n                </div>\n                </p>\n            </div>', e.container.appendChild(t), document.getElementById("vip_consumeticket_entry").addEventListener("click", function () {
                                    e.runConsumeticket(e)
                                }), document.getElementById("vip_confim_close").addEventListener("click", function (t) {
                                    e.is_consumeticket_done && window.location.reload(), l.deleteEleById("vip_limit_confim")
                                })
                            }, e.prototype.runConsumeticket = function (e) {
                                var t = "https://" + e.domain + "/api/ticket_exchange?code=" + e.code + "&showId=" + e.showid + "&channel=pc@yk";
                                l.getJsonp(t, function (t) {
                                    if (!(t.result || {}).success) {
                                        var n = t.result.message || "网络错误，请稍后重试";
                                        return void(l.getByClass("consumeticket_title")[0].innerHTML = n)
                                    }
                                    e.is_consumeticket_done = !0, l.getByClass("consumeticket_title")[0].innerHTML = "用券成功，请刷新页面观看！", l.getByClass("consumeticket_desc")[0].innerHTML = "", l.getByClass("consumeticket_btn")[0].innerHTML = '<a href="JavaScript:;" class="vip_limit_btn" id="vip_consumeticket_reload">刷新</a>', document.getElementById("vip_consumeticket_reload").addEventListener("click", function (t) {
                                        "2.0.1" == e.envTag ? window.external.execute("iku", "youku://payguide/payret=success&type=ticket") : "1.0.2" == e.envTag || "3.0.1" == e.envTag ? window.external && window.external.execute ? window.external.execute("iku", "youku://payguide/payret=success&type=ticket") : window.webkit.messageHandlers.didUseTicketSuccess.postMessage({
                                            body: ""
                                        }) : window.location.reload()
                                    })
                                }, function (e) {})
                            }, e.prototype.invokeSid = function () {
                                new m({
                                    container_id: this.container_sid_id,
                                    channel: this.channel,
                                    domain: this.domain,
                                    showId: this.showId,
                                    video_id: this.video_id,
                                    vipPaymentURL: this.vipPaymentURL,
                                    loadCashier: this.loadCashier,
                                    pay_info_ext: this.pay_info_ext
                                })
                            }, e
                        }();
                    t.default = v
                }
            ]).default
        })
    },
    function (e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = {
                FRONT: "frontad",
                END: "endad",
                CONTENT: "contentad",
                STAND: "standard",
                PAUSE: "pausead",
                CUT: "bfad",
                PREVIOUSLY: "previouslyad"
            },
            o = {
                PLAY: "adplay",
                PLAYING: "adplaying",
                PAUSE: "adpause",
                READY: "adready",
                END: "adended",
                ERROR: "aderror",
                WAITING: "adwaiting",
                SABORT: "safariabort",
                SERVICEERROR: "adserviceerror",
                SERVICELOADING: "adserviceloading",
                SERVICESTART: "adservicestart",
                SERVICEEND: "adserviceend",
                CUTPLAYING: "cutplaying"
            },
            r = {
                ADPLUGIN_STATE_CHANGE: "adplugin.statechange",
                SERVICE_STATE: "service.success",
                SERVICE_ERROR: "service.error"
            };
        t.ADType = i, t.ADState = o, t.ADEvents = r
    },
    function (e, t, n) {
        "use strict";
        var i = n(130),
            o = function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }(i),
            r = n(6);
        (0, r.loadfile)("//g.alicdn.com/player/ykplayer/0.5.81/done_aes-secret_.js", "js"), e.exports = o.default
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(72),
            r = i(o),
            a = n(70),
            s = i(a),
            l = n(106),
            u = i(l),
            c = n(19),
            d = i(c),
            h = n(0),
            p = i(h),
            f = n(1),
            g = i(f),
            m = n(51),
            y = i(m),
            v = n(23),
            _ = n(64),
            b = n(152),
            E = i(b),
            k = n(50),
            w = i(k),
            S = n(158),
            T = i(S),
            x = n(6),
            A = n(53),
            D = i(A),
            L = n(11),
            C = i(L),
            M = 3,
            I = function () {
                function e(t, n) {
                    (0, p.default)(this, e), this.keyindex = "web01", this.emitter = n, this.version = "1.10.39", this.R1 = null, this.initTimeStamp = (new Date).getTime();
                    var i = (0, x.getParamFromUrl)(location.href);
                    this.isP2P = "0" === i.p2p ? 0 : 1, this.enableSwitch = 1, this.staticM3u8 = !0, this.enableAutoLevel = 1, this.enableSubtitle = !0, this.enableQueLoad = 1, this.disabledQuality = this.enableAutoLevel ? v.ORDER["320p"] : [], this._playerState = {
                        state: y.default.INIT,
                        volume: 1,
                        muted: !1,
                        fullscreen: !1,
                        webFullscreen: !1
                    }, this._config = {}, this._mediaData = {}, this.programList = null, this.cycleData = {
                        hadSkipHead: !1,
                        hadSkipTail: !1,
                        tailTip: !1,
                        hadSkipRecord: !1,
                        hadStartPlay: !1,
                        tryCount: M,
                        isFront: !1,
                        seekTime: 0,
                        isUserPause: !1
                    }, this.ups = null, this.currentTime = 0, this._actCurrentTime = 0, this.bufferTime = 0, this.accumulaTime = 0, this._accTimer = null, this.qualityLanguageMap = null, this.scale = 1, this.waitingInfo = {
                        state: "init",
                        timer: null
                    }, this.cdntype = "unknown", this.errorInfo = {
                        hlsError: !1,
                        hlsErrorCount: 0,
                        timer: null,
                        isError: !1
                    }, this.reloadCount = 0, t && this.init(t), this.upsServiceConfig = {
                        requesttype: "mtop"
                    }, this.degradateConfig = {
                        ieVersion: "-1",
                        safari: "0",
                        chromeVersion: "49",
                        hlsradom: 100
                    }, this.logConfig = {
                        playlog: "1"
                    }, this.firstPlay = !0, this.hasShow720Pop = !1, this.playerConfig = {
                        videocount: 3,
                        step: {
                            step1: 5,
                            step2: 10,
                            step3: 15
                        }
                    }, this.adIconInfo = {
                        pos1: {
                            img: "//gw.alicdn.com/mt/TB1eZ.hacnI8KJjSspeXXcwIpXa-118-34.png"
                        },
                        pos2: {
                            img: "//gw.alicdn.com/tfs/TB1eCfWlwMPMeJjy1XcXXXpppXa-281-25.png"
                        }
                    }, this.skipLink = {
                        skipad: "https://pay.youku.com/buy/products.html?from=ad",
                        skip1080p: "https://pay.youku.com/buy/products.html?from=1080p"
                    }, this.getOnlineConfig(), this._defineSetterAndGetter(this, "playerState", "object"), this._defineSetterAndGetter(this, "config", "object"), this._defineSetterAndGetter(this, "mediaData", "object"), Object.defineProperty(this, "actCurrentTime", {
                        set: function (e) {
                            this._actCurrentTime = e, E.default.setItem({
                                vid: this._mediaData.mediaId,
                                time: e
                            })
                        }, get: function () {
                            return this._actCurrentTime
                        }
                    }), this.languageList = null, this.qualityList = null, this.qualityLanguageMap = null, this._defineSetterAndGetter(this, "qualityList", "Array"), this._defineSetterAndGetter(this, "qualityLanguageMap", "Array"), this._defineSetterAndGetter(this, "bufferTime"), this.startTimer(), this.dots = [], this.dotsIndex = -1, this.processState = "init", this.miniPosition = null
                }
                return (0, g.default)(e, [{
                    key: "getOnlineConfig",
                    value: function () {
                        if (!this._originOnlineConfig) {
                            this.initConfig.upsRequestType && (this.upsServiceConfig.requesttype = this.initConfig.upsRequestType);
                            var e = this;
                            window.readPcPlayerConfig = function (t) {
                                e.setOnlineConfig(t)
                            }
                        }
                    }
                }, {
                    key: "setOnlineConfig",
                    value: function (e) {
                        this._originOnlineConfig = e, this.degradateConfig = e.degradateConfig, this.logConfig = (0, d.default)(this.logConfig, e.logConfig), this.playerConfig = (0, d.default)(this.playerConfig, e.playerConfig), this.adIconInfo = e.adinfo, this.skipLink = e.skiplink;
                        var t = e.upsConfig;
                        if ("" === this.initConfig.upsRequestType)
                            for (var n = 0, i = t.length; n < i; n++) t[n].ccode !== this._config.ccode || this.upsServiceConfig.requesttype || (this.upsServiceConfig = t[n])
                    }
                }, {
                    key: "init",
                    value: function (e) {
                        if (this.initConfig)
                            for (var t in e) this.initConfig[t] = e[t];
                        else this.initConfig = e;
                        var n = !1;
                        this.initConfig.hasOwnProperty("hotPreview") && 1 === parseInt(this.initConfig.hotPreview) && (n = !0), this._config = {
                            playersid: (new Date).getTime() + T.default.rand("") + T.default.randomString(10),
                            ccode: this.initConfig.ccode || "0502",
                            autoplay: void 0 === this.initConfig.autoplay || this.initConfig.autoplay,
                            continuePlay: this.initConfig.continuePlay,
                            isInnerPlay: this.initConfig.isInnerPlay,
                            simpleMode: this.initConfig.simpleMode || !1,
                            loop: this.initConfig.loop || !1,
                            quality: this.initConfig.quality,
                            rate: this.initConfig.rate || 1,
                            defaultQuality: this.initConfig.defaultQuality || "auto",
                            preferQuality: void 0,
                            language: w.default.langToCode(this.initConfig.language),
                            hasWatermark: void 0 === this.initConfig.hasWatermark || this.initConfig.hasWatermark,
                            watermark: this.initConfig.watermark,
                            isShowRelatedVideo: void 0 === this.initConfig.isShowRelatedVideo || this.initConfig.isShowRelatedVideo,
                            poster: this.initConfig.poster,
                            width: this.initConfig.width,
                            height: this.initConfig.height,
                            screenWidth: 0,
                            screenHeight: 0,
                            skip: this.initConfig.skip,
                            duration: 0,
                            headPosition: -1,
                            tailPosition: -1,
                            playRecord: 0,
                            nextVid: null,
                            nextVideo: null,
                            seekRate: this.initConfig.seekRate || 5,
                            supportType: "default",
                            use1080p: !1,
                            danmu: 0,
                            reload: 0,
                            hotPreview: n,
                            playScene: null,
                            isBlockNote: !1,
                            inPicture: !1
                        }, this._mediaData = {
                            mediaId: this.initConfig.vid,
                            mediaCodeId: null,
                            title: this.initConfig.title,
                            originWidth: this.initConfig.width,
                            originHeight: this.initConfig.height,
                            panorama: !1,
                            bullet: !1,
                            exclusive: !1,
                            poster: this.initConfig.poster
                        }, this.adConfig = {}, E.default.init(this._mediaData.mediaId);
                        var i = E.default.getPersonInfo(),
                            o = E.default.getSessionInfo();
                        this._config.quality || (this._config.quality = this._config.defaultQuality), i && (void 0 === this.initConfig.skip && (this._config.skip = i.skip), "540p" === i.quality && (i.quality = "auto"), this._config.quality = i.quality, o && o.rate && (this._config.rate = o.rate), this.initConfig.language || (this._config.language = i.language ? i.language : null), void 0 === this.initConfig.continuePlay && (this._config.continuePlay = i.continuePlay), this._config.playScene = this.initConfig.playScene || "normal", this._config.simpleMode && (this.initConfig.enableFullscreenScroll = !1))
                    }
                }, {
                    key: "defineProperty",
                    value: function (e, t, n) {
                        this["_" + e] = t, this._defineSetterAndGetter(this, e, n)
                    }
                }, {
                    key: "_defineSetterAndGetter",
                    value: function (e, t, n) {
                        "object" === n ? (0, u.default)(e, t, {
                            set: function (e) {
                                var n = {};
                                for (var i in e) this["_" + t][i] !== e[i] && (this["_" + t][i] = e[i], n[i] = e[i]);
                                this.emit("global." + t, n)
                            }, get: function () {
                                return this["_" + t]
                            }
                        }) : (0, u.default)(e, t, {
                            set: function (e) {
                                this["_" + t] = e, this.emit("global." + t, this["_" + t])
                            }, get: function () {
                                return this["_" + t]
                            }
                        })
                    }
                }, {
                    key: "_deal1080Privilege",
                    value: function (e) {
                        e && (this._config.use1080p = e.hd3), "1080p" !== this._config.quality && "1080p_hdr" !== this._config.quality || this._config.use1080p || (this._config.quality = "720p")
                    }
                }, {
                    key: "_deal720pLogin",
                    value: function (e) {
                        "720p" !== this._config.quality || e && e.uid || (this._config.quality = "540p")
                    }
                }, {
                    key: "deal",
                    value: function () {
                        function e(e) {
                            return t.apply(this, arguments)
                        }
                        var t = (0, s.default)(r.default.mark(function e(t) {
                            var n, i, o, a, s, l, u, c, d;
                            return r.default.wrap(function (e) {
                                for (;;) switch (e.prev = e.next) {
                                case 0:
                                    if (this.ups && this.ups.videoData) {
                                        e.next = 2;
                                        break
                                    }
                                    return e.abrupt("return");
                                case 2:
                                    if (this._mediaData.mediaCodeId = this.ups.videoData.id, this._mediaData.exclusive = !(!this.ups.showData || !this.ups.showData.exclusive), this._mediaData.title = this._mediaData.title ? this._mediaData.title : this.ups.videoData.title, this._config.poster = this._config.poster ? this._config.poster : this.ups.videoData.logo.replace("http:", ""), this._mediaData.poster = this._config.poster, !this.ups.errorData) {
                                        e.next = 9;
                                        break
                                    }
                                    return e.abrupt("return");
                                case 9:
                                    return this.programList && this.setPlayList({
                                        list: this.programList.videoList
                                    }), n = this.ups.getMulityLanguage(), this.languageList = n, this.initConfig.language || (this._config.language = (0, x.getPreferSetting)(this.ups.attachId)), n && -1 === n.indexOf(this._config.language) && (i = this.ups.networkData.language, i && -1 !== n.indexOf(i) ? this._config.language = i : this._config.language = n[0]), this._deal1080Privilege(this.ups._vipData), this._deal720pLogin(this.ups._userData), this.resetQuality(t), o = this.ups.getStreamByQuality(this._config.language, this._config.quality, 1), o.audio_lang !== this._config.language && (this._config.language = o.audio_lang), this._config.quality !== v.STREAM_TYPE_MAP[o.stream_type] && (this._config.quality = v.STREAM_TYPE_MAP[o.stream_type]), this.ups.dvdinfo && (this._config.headPosition = this.ups.dvdinfo.headPostion / 1e3 || -1, this._config.tailPosition = this.ups.dvdinfo.tailPostion / 1e3 || -1), this._config.duration = o ? o.milliseconds_video / 1e3 : this.ups.videoData.seconds, this._config.seekRate = this.initSeekRate(this._config.duration), o && (this.setWidthAndHeigth(o.width, o.height), !1 !== this._config.hasWatermark && (a = o.stream_ext && o.stream_ext.hls_logo ? o.stream_ext.hls_logo : o.logo, this._config.hasWatermark = "none" === a), this._config.watermark = ""), s = this.ups.videoData.type.join(","), this._mediaData.panorama = s.indexOf("panorama") > -1, this._mediaData.bullet = s.indexOf("bullet") > -1, this.ups.trialData && this.ups.trialData.time > 0 && (this._config.isShowRelatedVideo = !1), l = E.default.getItem(this._mediaData.mediaId) ? E.default.getItem(this._mediaData.mediaId).time : 0, e.next = 31;
                                case 31:
                                    if (e.t0 = e.sent, e.t0) {
                                        e.next = 34;
                                        break
                                    }
                                    e.t0 = void 0;
                                case 34:
                                    u = e.t0, c = this.getNoLoginPoint(this.ups.videoData.encodeid, u), d = this.ups.playlogData && this.ups.playlogData.lastpoint && parseInt(this.ups.playlogData.lastpoint / 1e3, 10) || 0, d = d || c, this._config.playRecord = this.getPlayCord(d, l, this.dots);
                                case 39:
                                case "end":
                                    return e.stop()
                                }
                            }, e, this)
                        }));
                        return e
                    }()
                }, {
                    key: "getNoLoginRecords",
                    value: function () {
                    }
                }, {
                    key: "getNoLoginPoint",
                    value: function (e, t) {
                        var n = C.default.getCna() || "",
                            i = void 0;
                        if (e && t)
                            for (var o = 0; o < t.length; o++)
                                if (t[o].nlid === n && 1 === t[o].hwClass && t[o].videoId === e) {
                                    i = t[o].point;
                                    break
                                }
                        return i
                    }
                }, {
                    key: "resetQuality",
                    value: function (e) {
                        var t = "lower-mp4" === this._config.supportType || e ? ["flvhd", "hls4hd3_sdr"] : [];
                        this.qualityLanguageMap = this.ups.getLanguageData(t), this.resetQualityList()
                    }
                }, {
                    key: "resetQualityList",
                    value: function () {
                        for (var e = this._config.language, t = [], n = 0, i = this.qualityLanguageMap.length; n < i; n++)
                            if (this.qualityLanguageMap[n].langCode === e)
                                for (var o = this.qualityLanguageMap[n].quality, r = 0, a = o.length; r < a; r++) t.push(o[r].code);
                        return t.length < 1 ? void(this._config.quality = null) : (this.qualityList = t, this._config.quality)
                    }
                }, {
                    key: "setWidthAndHeigth",
                    value: function (e, t) {
                        this._mediaData.originWidth = e, this._mediaData.originHeight = t, this.config.width / this.config.height > e / t ? (e = parseInt(e / t * this.config.height), t = this.config.height) : (t = this.config.width / (e / t), e = this.config.width), this.config = {
                            screenHeight: t,
                            screenWidth: e
                        }
                    }
                }, {
                    key: "getPlayCord",
                    value: function (e, t, n) {
                        if (this.initConfig.firstTime && this.initConfig.firstTime > 0 ? e = parseInt(this.initConfig.firstTime) : !e || e < 0 ? e = t || 0 : e && t && (e = 1e3 * Math.abs(t - e) > 6e4 ? e : t), e && n)
                            for (var i = 0, o = n.length; i < o; i++) e > n[i].start && (e += n[i].seconds);
                        return e < 10 && (e = 0), e
                    }
                }, {
                    key: "_getLowerQuality",
                    value: function (e, t) {
                        var n = t.join(",");
                        return "1080p" === e ? n.indexOf("720p") > -1 ? "720p" : n.indexOf("540p") > -1 ? "540p" : "320p" : ("720p" === e || "320p" === e) && n.indexOf("540p") > -1 ? "540p" : "320p"
                    }
                }, {
                    key: "resetConfig",
                    value: function (e) {
                        this.programList && (this.programList.nextVideo = null, this.config.nextVid = null, this.config.nextVideo = null), e && this.init(e)
                    }
                }, {
                    key: "resetTryCount",
                    value: function () {
                        this.cycleData.tryCount = M
                    }
                }, {
                    key: "initSeekRate",
                    value: function (e) {
                        if (this.initConfig.seekRate) return this.initConfig.seekRate;
                        this.playerConfig.step.step1;
                        return e <= 60 ? parseInt(this.playerConfig.step.step1) : e > 60 && e < 180 ? parseInt(this.playerConfig.step.step2) : parseInt(this.playerConfig.step.step3, 10)
                    }
                }, {
                    key: "checkTimeout",
                    value: function () {
                        return (new Date).getTime() - this.initTimeStamp >= 144e5
                    }
                }, {
                    key: "reset",
                    value: function () {
                        this.startTimer(), this.deal(), this.initTimeStamp = (new Date).getTime(), this._playerState.state === y.default.RESETING ? (this.cycleData = {
                            hadSkipHead: !1,
                            hadSkipTail: !1,
                            tailTip: !1,
                            hadSkipRecord: !1,
                            hadStartPlay: !1,
                            tryCount: M,
                            isFront: !1,
                            seekTime: 0,
                            isUserPause: !1
                        }, this.errorInfo = {
                            hlsError: !1,
                            timer: null,
                            hlsErrorCount: 0,
                            isError: !1
                        }, this.scale = 1, this.currentTime = 0, this.bufferTime = 0, this.firstPlay = !0, this.emitter.emit(_.MessageConfig["global.reset"])) : this.emitter.emit(_.MessageConfig["global.reload"])
                    }
                }, {
                    key: "replay",
                    value: function () {
                        this.cycleData.hadSkipHead = !1, this.cycleData.hadSkipTail = !1, this.cycleData.tailTip = !1, this.currentTime = 0
                    }
                }, {
                    key: "startTimer",
                    value: function () {
                        var e = this;
                        this._accTimer && (clearTimeout(this._accTimer), this._accTimer = null), this._accTimer = setTimeout(function () {
                            e._playerState.state !== y.default.PLAY && e._playerState.state !== y.default.CUTADPLAY || (e.accumulaTime += .5), e.startTimer()
                        }, 500)
                    }
                }, {
                    key: "changeProcessState",
                    value: function (e) {
                        this.processState = e
                    }
                }, {
                    key: "getProcessState",
                    value: function () {
                        return this.processState
                    }
                }, {
                    key: "on",
                    value: function (e, t) {
                        this.emitter.addListener(e, t)
                    }
                }, {
                    key: "emit",
                    value: function (e) {
                        for (var t, n = arguments.length, i = Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) i[o - 1] = arguments[o];
                        (t = this.emitter).emit.apply(t, [e].concat(i))
                    }
                }, {
                    key: "off",
                    value: function (e, t) {
                        this.emitter.removeListener(e, t)
                    }
                }, {
                    key: "getFirstPlayInfo",
                    value: function () {
                        if (this.ups && this.ups.videoData) {
                            var e = {},
                                t = this.ups.videoData;
                            return e.next = this._config.continuePlay, e.vid = t.id, e.vidEncoded = t.encodeid, e.loop = this._config.loop, e.isFullScreen = this._playerState.fullscreen, e.isInnerPlay = this.initConfig.isInnerPlay, e.Fid = this.initConfig.Fid, e.Ob = this.initConfig.Ob, e.Pt = parseInt(this.initConfig.Pt), e
                        }
                    }
                }, {
                    key: "getNextInfo",
                    value: function () {
                        var e = this._config.nextVideo;
                        if (e) {
                            var t = {};
                            return t.vid = e && e.vid, t.vidEncoded = e && e.encodevid, t.isFullScreen = this._playerState.fullscreen, t.isInnerPlay = this.initConfig.isInnerPlay, t.loop = this._config.loop, t.showId = e && e.showId, t.Fid = this.initConfig.Fid, t.Ob = this.initConfig.Ob, t.Pt = parseInt(this.initConfig.Pt) + 1, t
                        }
                    }
                }, {
                    key: "getCurrentPlayerData",
                    value: function () {
                        var e = {
                                time: this.currentTime,
                                load: this.bufferTime,
                                allTime: this.config.duration,
                                bytesLoaded: "",
                                bytesTotal: "",
                                quality: this._config.quality,
                                vid: this.ups.videoData.id,
                                vidEncoded: this.ups.videoData.encodeid
                            },
                            t = this.ups.getStreamByQuality(this._config.language, this._config.quality, 1).size;
                        return e.bytesLoaded = t / this._config.duration * this.bufferTime, e.bytesTotal = t, e
                    }
                }, {
                    key: "getPoints",
                    value: function () {
                        if (!this.ups || !this.ups.dvdinfo || !this.ups.dvdinfo.insertPoints) return null;
                        for (var e = void 0 !== this.initConfig.adext && "" !== this.initConfig.adext && null !== this.initConfig.adext, t = this.ups.dvdinfo.insertPoints, n = [], i = 0, o = t.length; i < o; i++)
                            if ("story" === t[i].ctype || e && "standard" === t[i].ctype) {
                                var r = {};
                                r.time = parseInt(t[i].start) / 1e3, r.tips = t[i].title || "standard", "standard" === t[i].ctype && (r.color = "#ff9800"), n.push(r)
                            }
                        return n
                    }
                }, {
                    key: "setCurrentTime",
                    value: function (e) {
                        if (this.currentTime = e, this.dots.length > 0) {
                            var t = this.dots.length;
                            if (t > 0)
                                if (e < this.dots[0].start) this.actCurrentTime = e;
                                else if (e > this.dots[t - 1].end) {
                                var n = this.dots[t - 1];
                                this.actCurrentTime = e - n.accTime - n.seconds
                            } else
                                for (var i = 0; i < t - 1; i++) {
                                    if (e >= this.dots[i].start && e <= this.dots[i].end) {
                                        this.actCurrentTime = e - (e - this.dots[i].start) - this.dots[i].accTime;
                                        break
                                    }
                                    if (e > this.dots[i].end && e < this.dots[i + 1].start) {
                                        this.actCurrentTime = e - this.dots[i].accTime - this.dots[i].seconds;
                                        break
                                    }
                                }
                        } else this.actCurrentTime = e
                    }
                }, {
                    key: "setBufferTime",
                    value: function (e) {
                        this.bufferTime = e
                    }
                }, {
                    key: "setWaitingType",
                    value: function (e) {
                        var t = this;
                        this.waitingInfo.timer && (window.clearTimeout(this.waitingInfo.timer), this.waitingInfo.timer = null), this.waitingInfo.waitingType = e, this.waitingInfo.timer = window.setTimeout(function () {
                            "seek" !== t.waitingInfo.waitingType && "changesource" !== t.waitingInfo.waitingType || (t.waitingInfo.state = "timeout"), t.waitingInfo.waitingType = "play", window.clearTimeout(t.waitingInfo.timer), t.waitingInfo.timer = null
                        }, 6e3)
                    }
                }, {
                    key: "getWaitingType",
                    value: function () {
                        return this.waitingInfo.waitingType
                    }
                }, {
                    key: "getDots",
                    value: function () {
                        return this.dots
                    }
                }, {
                    key: "setDots",
                    value: function (e) {
                        if (this.dots = e, this.dots.length > 0) {
                            var t = E.default.getItem(this._mediaData.mediaId) ? E.default.getItem(this._mediaData.mediaId).time : 0,
                                n = this.ups.playlogData.lastpoint && parseInt(this.ups.playlogData.lastpoint / 1e3, 10);
                            this._config.playRecord = this.getPlayCord(n, t, this.dots)
                        }
                    }
                }, {
                    key: "getPreViewData",
                    value: function () {
                        var e = {},
                            t = this.ups.previewData;
                        return t && t.thumb && t.thumb.map(function (e, n) {
                            return e = e.replace("http://", "//"), t[n] = e, e
                        }), t ? (this.dots.length > 0 ? e.dot = this.dots : e.dot = [], e.preview = t) : (t = {
                            thumb: []
                        }, e.preview = t), e.highlights = this.getPoints(), e.duration = this._config.duration, e.title = this._mediaData.title, e
                    }
                }, {
                    key: "setPlayList",
                    value: function (e) {
                        this.programList || (this.programList = {}), e && (e.list && (this.programList.videoList = e.list), e.next ? (this.programList.nextVideo = e.next, this._config.nextVid = this.programList.nextVideo.encodevid, this._config.nextVideo = e.next) : (this.programList.nextVideo = this._findNextInList(this.programList.videoList, this._mediaData.mediaCodeId) || {}, this._config.nextVid = this.programList.nextVideo.encodevid, this._config.nextVideo = this.programList.nextVideo))
                    }
                }, {
                    key: "_findNextInList",
                    value: function (e, t) {
                        for (var n = 0, i = e.length; n < i; n++)
                            if (parseInt(e[n].vid) === parseInt(t) && n + 1 < i) return e[n + 1]
                    }
                }, {
                    key: "changeDammu",
                    value: function (e) {
                        this._config.danmu = e
                    }
                }]), e
            }();
        t.default = I
    },
    function (e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = n(18),
            o = function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }(i),
            r = n(6),
            a = {
                storageKey: "YK_PSL_RECORDS",
                data: [],
                count: 0,
                getItem: function () {
                    return this.data && this._index ? this.data[this._index] : null
                }, setItem: function (e) {
                    try {
                        if (1e3 * Math.abs(this.data[this._index].time - e.time) < 1e3) return;
                        for (var t in e) this.data[this._index][t] = e[t];
                        localStorage.setItem(this.storageKey, (0, o.default)(this.data))
                    } catch (e) {
                        console.log("localStorage is not support")
                    }
                    try {
                        localStorage.setItem(this.storageKey, (0, o.default)(this.data))
                    } catch (e) {
                        console.log("is not support localStorage")
                    }
                }, findItem: function (e) {
                    return (0, r.findIndex)(this.data, function (t) {
                        if (t.vid === e) return !0
                    })
                }, removeItem: function (e) {
                    try {
                        this.data = this.data.splice(e, 1), localStorage.setItem(this.storageKey, (0, o.default)(this.data))
                    } catch (e) {
                        console.log("localStorage is not support")
                    }
                }, init: function (e) {
                    try {
                        var t = localStorage.getItem(this.storageKey);
                        t && (this.data = JSON.parse(t));
                        var n = this.findItem(e);
                        if (n < 0) {
                            var i = {};
                            i.vid = e, this.data.length > 10 ? (this.data.shift(), this.data.push(i)) : this.data.push(i), this._index = this.data.length - 1
                        } else this._index = n
                    } catch (e) {
                        console.log("is not support localStorage")
                    }
                }, getPersonInfo: function () {
                    try {
                        var e = localStorage.getItem("YK_PSL_SETTINGS");
                        return e ? JSON.parse(e) : null
                    } catch (e) {
                        return null
                    }
                }, getSessionInfo: function () {
                    try {
                        var e = sessionStorage.getItem("rate");
                        return e ? JSON.parse(e) : null
                    } catch (e) {
                        return null
                    }
                }
            };
        t.default = a
    },
    function (e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = n(15),
            o = function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }(i),
            r = {
                getString: function (e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : o.default.STATUS,
                        n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null,
                        i = void 0;
                    switch (this._strings = a, t) {
                    case o.default.STATUS:
                        i = this._strings.status.hasOwnProperty(e) ? String(this._strings.status[e]) : null;
                        break;
                    case o.default.WARNING:
                        i = this._strings.warning.hasOwnProperty(e) ? String(this._strings.warning[e]) : null;
                        break;
                    case o.default.ERROR:
                        i = this._strings.error.hasOwnProperty(e) ? String(this._strings.error[e]) : null;
                        break;
                    case o.default.HINT:
                        this._strings.hint && (i = this._strings.hint.hasOwnProperty(e) ? String(this._strings.hint[e]) : null);
                        break;
                    case o.default.NOTE:
                        this._strings.note && (i = this._strings.note.hasOwnProperty(e) ? String(this._strings.note[e]) : null)
                    }
                    return t !== o.default.HINT && t !== o.default.NOTE || i ? (i || (i = this._strings.error.E0000, n = [e]), n && (i = this._substitute(i, n)), i) : ""
                }, _substitute: function (e) {
                    var t = "";
                    if (e) {
                        t = e;
                        for (var n = arguments.length, i = Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) i[o - 1] = arguments[o];
                        var r = i.length,
                            a = [];
                        1 === r && i[0] instanceof Array ? (a = i[0], r = a.length) : a = i;
                        for (var s = 0; s < r; s++) t = t.replace(new RegExp("\\{" + s + "\\}", "g"), a[s])
                    }
                    return t
                }
            },
            a = {
                error: {
                    E0000: "非常抱歉，检测到未知错误，请尝试刷新或联系客服。",
                    Y3002: "观看次数已经用完\n请再次购买观看吧！",
                    Y3003: "购买时限已经过期了\n请再次购买观看吧！",
                    Y4000: "该处属于神秘地带\n请告诉我你的口令",
                    Y4001: "该视频只在中国大陆播放\n请您观看其他视频！",
                    Y7000: "仅黄金会员可看\n请登录或开通黄金会员。"
                },
                warning: {
                    W1000: '非常抱歉，暂不支持 "{0}" 语言，如有需要请联系客服。'
                },
                hint: {
                    H0000: "播放",
                    H0001: "暂停",
                    H0002: "静音",
                    H0003: '音量：<font color="#0D9BFF">{0}</font>',
                    H0004: "按方向键 ↑ 继续放大音量",
                    H0005: "单曲循环:开",
                    H0006: "单曲循环:关",
                    H0007: "设置成功",
                    H0008: "已切换为{0}，为您提供更清晰的观看体验",
                    H0009: "已切换为{0}，为您提供更流畅的观看体验",
                    N0020: '正在为您切换到<font color="#0D9BFF">{quality}</font>,请稍候...',
                    N0021: '正在切换到<b style="color:#C6A663;"> VIP HDR </b>视听体验,请稍候...',
                    N0022: '正在为您切换到<font color="#0D9BFF"> {language}</font>...',
                    H0010: "画面旋转",
                    H0011: "停止"
                },
                note: {
                    N0001: '当前为连播状态，即将为您播放下一集，<font color="#0D9BFF" data-val="opensetpanel" class="information-tip-link">设置</font>',
                    N0002: '视频即将结束，是否 <font color="#0D9BFF" data-val="opensetpanel" class="information-tip-link">连续播放</font>？',
                    N0003: '已经为您跳过片头 <font color="#0D9BFF" data-val="opensetpanel" class="information-tip-link">设置</font>',
                    N0004: '是否跳过片头片尾？点击可进行<font color="#0D9BFF" data-val="opensetpanel" class="information-tip-link">设置</font>',
                    N0005: '即将为您跳过片尾 <font color="#0D9BFF" data-val="opensetpanel" class="information-tip-link">设置</font>',
                    N0022: '已经为您跳过片尾 <font color="#0D9BFF" data-val="opensetpanel" class="information-tip-link">设置</font>',
                    N0006: "会员宽带加速特权正在为你加速中...",
                    N0007: '优酷记忆您上次播放到 {time} <font color="#0D9BFF" data-val="restart" class="information-tip-link">从头观看</font>',
                    N0008: '优酷云记录您上次播放到 {time} <font color="#0D9BFF" data-val="restart" class="information-tip-link">从头观看</font>',
                    N0009: "即将进入广告",
                    N0010: '当前视频支持超清格式，如需切换，点击<font color="#0D9BFF" data-val="opensetpanel" class="information-tip-link">这里</font>',
                    N0011: '<font color="#FFFFFF">看视频卡？试试</font><font color="#0D9BFF" data-val="openiku" class="information-tip-link">优酷PC客户端</font><font color="#FFFFFF">吧，突破加速限制，开启狂飙模式</font>',
                    N0012: "您可免费完整试看本集内容",
                    N0013: '如果弹出链接被浏览器阻止，您可以<font color="#0D9BFF" data-val="copyclipboard" class="information-tip-link">复制视频链接</font>',
                    N0014: "视频链接已经复制，您可以在浏览器中粘贴链接",
                    N0015: '广告收入一部分回馈给视频作者，详见 <a href="//cloud.youku.com/services/info?serid=1" target="_blank"><font color="#0D9BFF" class="information-tip-link">分享计划</font></a>',
                    N0016: "尊敬的会员，因版权方要求，不能跳过广告，请谅解",
                    N0017: '缓冲时间太长，点击<font color="#0D9BFF" data-val="feedback" class="information-tip-link">这里</font>告诉我们',
                    N0018: '网速不太给力哟，正在努力为你加载...<font color="#06a7e1" data-val="openiku" class="information-tip-link">一键加速</font>',
                    N0019: '您可以试看{0}，订阅我就可以免费看完全部   <font color="#0D9BFF" data-val="subscribe" class="information-tip-link">+订阅</font>',
                    N0023: '当前网络不稳定，建议切换至<b style="font-size:18px;color:#3895e2;" class="information-tip-link" data-val="autoquality"> 智能清晰度 </b>流畅观看',
                    N0024q: '登录即可享受<font style="color:#0D9BFF;" class="emphasizes"> 超清720P</font>专享清晰度<font class="login-720" style="color:#0D9BFF;">立即登录</font>'
                }
            };
        t.default = r
    },
    function (e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = n(97),
            o = function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }(i),
            r = n(26),
            a = {
                pageUrl: location.href
            },
            s = new o.default("//m.taobao.com");
        a.domain = s.host, a.protocol = s.protocol, a.refer = document.referrer, a.Browser = r.Browser, a.screen = {
            width: "",
            height: ""
        }, window.HttpURL = o.default, t.default = a
    },
    function (e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = {
            encode64: function (e) {
                if (!e) return "";
                e = e.toString();
                var t = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",
                    n = void 0,
                    i = void 0,
                    o = void 0,
                    r = void 0,
                    a = void 0,
                    s = e.length;
                for (i = 0, n = ""; i < s;) {
                    if (o = 255 & e.charCodeAt(i++), i === s) {
                        n += t.charAt(o >> 2), n += t.charAt((3 & o) << 4), n += "==";
                        break
                    }
                    if (r = e.charCodeAt(i++), i === s) {
                        n += t.charAt(o >> 2), n += t.charAt((3 & o) << 4 | (240 & r) >> 4), n += t.charAt((15 & r) << 2), n += "=";
                        break
                    }
                    a = e.charCodeAt(i++), n += t.charAt(o >> 2), n += t.charAt((3 & o) << 4 | (240 & r) >> 4), n += t.charAt((15 & r) << 2 | (192 & a) >> 6), n += t.charAt(63 & a)
                }
                return n
            }, decode64: function (e) {
                if (!e) return "";
                e = e.toString();
                var t = void 0,
                    n = void 0,
                    i = void 0,
                    o = void 0,
                    r = void 0,
                    a = void 0,
                    s = [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 62, -1, -1, -1, 63, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, -1, -1, -1, -1, -1, -1, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, -1, -1, -1, -1, -1, -1, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, -1, -1, -1, -1, -1],
                    l = e.length;
                for (r = 0, a = ""; r < l;) {
                    do {
                        t = s[255 & e.charCodeAt(r++)]
                    } while (r < l && -1 === t);
                    if (-1 === t) break;
                    do {
                        n = s[255 & e.charCodeAt(r++)]
                    } while (r < l && -1 === n);
                    if (-1 === n) break;
                    a += String.fromCharCode(t << 2 | (48 & n) >> 4);
                    do {
                        if (61 === (i = 255 & e.charCodeAt(r++))) return a;
                        i = s[i]
                    } while (r < l && -1 === i);
                    if (-1 === i) break;
                    a += String.fromCharCode((15 & n) << 4 | (60 & i) >> 2);
                    do {
                        if (61 === (o = 255 & e.charCodeAt(r++))) return a;
                        o = s[o]
                    } while (r < l && -1 === o);
                    if (-1 === o) break;
                    a += String.fromCharCode((3 & i) << 6 | o)
                }
                return a
            }
        };
        t.default = i
    },
    function (e, t, n) {
        "use strict";

        function i() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            if (e.url) {
                var t = e.data || {},
                    n = (0, a.formatParams)(t),
                    i = e.url;
                i += (-1 === i.indexOf("?") ? "?" : "&") + n, document.domain = "youku.com";
                fetch(i, {
                    credentials: "include"
                }).then(function (t) {
                    return t.ok && t.status >= 200 && t.status < 300 ? t.json() : void(e.fail && e.fail({
                        code: t.status,
                        message: "error",
                        url: i
                    }))
                }).catch(function (t) {
                    e.fail && e.fail({
                        code: "408",
                        message: t.message,
                        url: i
                    })
                }).then(function (t) {
                    t && e.success && e.success(t)
                })
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.FetchLoader = i, n(316);
        var o = n(307),
            r = function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }(o),
            a = n(39);
        window.Promise || (window.Promise = r.default)
    },
    function (e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = n(26),
            o = n(6),
            r = n(65),
            a = function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }(r),
            s = {
                addScriptCommon: function (e, t) {
                }, callIku: function () {
                }, initialize: function () {
                    this.loadIkuJs("auto")
                }, loadIkuJs: function () {               
                }, ikuExecuteFrompc: function (e, t) {
                }
            };
        s.initialize(), t.default = s
    },
    function (e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = {
            MRG32k3a: function () {
                var e = this;
                return function (t) {
                    var n = 4294967087,
                        i = 4294944443,
                        o = 12345,
                        r = 12345,
                        a = 123,
                        s = 12345,
                        l = 12345,
                        u = 123;
                    0 === t.length && (t = [+new Date]);
                    for (var c = e.Mash(), d = 0; d < t.length; d++) o += 4294967296 * c(t[d]), r += 4294967296 * c(t[d]), a += 4294967296 * c(t[d]), s += 4294967296 * c(t[d]), l += 4294967296 * c(t[d]), u += 4294967296 * c(t[d]);
                    o %= n, r %= n, a %= n, s %= i, l %= i, u %= i, c = null;
                    var h = function () {
                            var e = 4294967087,
                                t = 4294944443,
                                n = void 0,
                                i = void 0,
                                c = void 0;
                            return i = 1403580 * r - 810728 * o, n = i / e | 0, i -= n * e, i < 0 && (i += e), o = r, r = a, a = i, c = 527612 * u - 1370589 * s, n = c / t | 0, c -= n * t, c < 0 && (c += t), s = l, l = u, u = c, i <= c ? i - c + e : i - c
                        },
                        p = function () {
                            return 2.3283064365386963e-10 * h()
                        };
                    return p.uint32 = h, p.fract53 = function () {
                        return p() + 1.1102230246251565e-16 * (2097151 & h())
                    }, p.version = "MRG32k3a 0.9", p.args = t, p
                }(Array.prototype.slice.call(arguments))
            }, rand: function (e, t) {
                t = void 0 === t ? "" : t;
                var n = this.MRG32k3a(e || 0, location.href, Date.now());
                return t + (+new Date).toString(32) + parseInt(1e5 * n()).toString(32)
            }, randomString: function (e) {
                var t = "1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
                e = e || 3, e = isNaN(e) ? 3 : e;
                for (var n = t.length, i = ""; e >= 0;) i += t[Math.floor(Math.random() * n)], e--;
                return i
            }, Mash: function () {
                var e = 4022871197,
                    t = function (t) {
                        t = t.toString();
                        for (var n = 0; n < t.length; n++) {
                            e += t.charCodeAt(n);
                            var i = .02519603282416938 * e;
                            e = i >>> 0, i -= e, i *= e, e = i >>> 0, i -= e, e += 4294967296 * i
                        }
                        return 2.3283064365386963e-10 * (e >>> 0)
                    };
                return t.version = "Mash 0.9", t
            }, S: function (e) {
                function t(e, t) {
                    return e << t | e >>> 32 - t
                }

                function n(e) {
                    var t = "",
                        n = void 0,
                        i = void 0;
                    for (n = 7; n >= 0; n--) i = e >>> 4 * n & 15, t += i.toString(16);
                    return t
                }
                var i = void 0,
                    o = void 0,
                    r = void 0,
                    a = new Array(80),
                    s = 1732584193,
                    l = 4023233417,
                    u = 2562383102,
                    c = 271733878,
                    d = 3285377520,
                    h = void 0,
                    p = void 0,
                    f = void 0,
                    g = void 0,
                    m = void 0,
                    y = void 0;
                e = function (e) {
                    e = e.replace(/\r\n/g, "\n");
                    for (var t = "", n = 0; n < e.length; n++) {
                        var i = e.charCodeAt(n);
                        i < 128 ? t += String.fromCharCode(i) : i > 127 && i < 2048 ? (t += String.fromCharCode(i >> 6 | 192), t += String.fromCharCode(63 & i | 128)) : (t += String.fromCharCode(i >> 12 | 224), t += String.fromCharCode(i >> 6 & 63 | 128), t += String.fromCharCode(63 & i | 128))
                    }
                    return t
                }(e);
                var v = e.length,
                    _ = [];
                for (o = 0; o < v - 3; o += 4) r = e.charCodeAt(o) << 24 | e.charCodeAt(o + 1) << 16 | e.charCodeAt(o + 2) << 8 | e.charCodeAt(o + 3), _.push(r);
                switch (v % 4) {
                case 0:
                    o = 2147483648;
                    break;
                case 1:
                    o = e.charCodeAt(v - 1) << 24 | 8388608;
                    break;
                case 2:
                    o = e.charCodeAt(v - 2) << 24 | e.charCodeAt(v - 1) << 16 | 32768;
                    break;
                case 3:
                    o = e.charCodeAt(v - 3) << 24 | e.charCodeAt(v - 2) << 16 | e.charCodeAt(v - 1) << 8 | 128
                }
                for (_.push(o); _.length % 16 != 14;) _.push(0);
                for (_.push(v >>> 29), _.push(v << 3 & 4294967295), i = 0; i < _.length; i += 16) {
                    for (o = 0; o < 16; o++) a[o] = _[i + o];
                    for (o = 16; o <= 79; o++) a[o] = t(a[o - 3] ^ a[o - 8] ^ a[o - 14] ^ a[o - 16], 1);
                    for (h = s, p = l, f = u, g = c, m = d, o = 0; o <= 19; o++) y = t(h, 5) + (p & f | ~p & g) + m + a[o] + 1518500249 & 4294967295, m = g, g = f, f = t(p, 30), p = h, h = y;
                    for (o = 20; o <= 39; o++) y = t(h, 5) + (p ^ f ^ g) + m + a[o] + 1859775393 & 4294967295, m = g, g = f, f = t(p, 30), p = h, h = y;
                    for (o = 40; o <= 59; o++) y = t(h, 5) + (p & f | p & g | f & g) + m + a[o] + 2400959708 & 4294967295, m = g, g = f, f = t(p, 30), p = h, h = y;
                    for (o = 60; o <= 79; o++) y = t(h, 5) + (p ^ f ^ g) + m + a[o] + 3395469782 & 4294967295, m = g, g = f, f = t(p, 30), p = h, h = y;
                    s = s + h & 4294967295, l = l + p & 4294967295, u = u + f & 4294967295, c = c + g & 4294967295, d = d + m & 4294967295
                }
                return y = n(s) + n(l) + n(u) + n(c) + n(d), y.toLowerCase()
            }
        };
        t.default = i
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(2),
            r = i(o),
            a = n(0),
            s = i(a),
            l = n(1),
            u = i(l),
            c = n(4),
            d = i(c),
            h = n(3),
            p = i(h),
            f = n(60),
            g = function (e) {
                function t(e) {
                    var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1 / 0,
                        i = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2];
                    (0, s.default)(this, t);
                    var o = (0, d.default)(this, (t.__proto__ || (0, r.default)(t)).call(this));
                    return o.listeners = {}, o.milliseconds = 0, o.interval = e, o.repeat = o.repeatTracker = n, o.useTimeout = i, o.timeoutDelay = Math.round(e / 20), o.timer, o
                }
                return (0, p.default)(t, e), (0, u.default)(t, [{
                    key: "getCurrentCount",
                    value: function () {
                        return this.repeat - this.repeatTracker
                    }
                }, {
                    key: "getInterval",
                    value: function () {
                        return this.interval
                    }
                }, {
                    key: "getMilliseconds",
                    value: function () {
                        return this.milliseconds
                    }
                }, {
                    key: "getRepeatCount",
                    value: function () {
                        return this.repeat
                    }
                }, {
                    key: "getRunning",
                    value: function () {
                        return void 0 !== this.timer
                    }
                }, {
                    key: "addEventListener",
                    value: function (e, t) {
                        this.addListener(e, t)
                    }
                }, {
                    key: "requestFrame",
                    value: function (e) {
                        this.useTimeout ? this.timeoutId = setTimeout(e, this.timeoutDelay) : window.requestAnimationFrame(e)
                    }
                }, {
                    key: "animationFrame",
                    value: function () {
                        var e = this;
                        if (void 0 !== this.timer)
                            if (this.repeatTracker > 0) {
                                var t = (new Date).getTime() - this.timer;
                                t >= this.interval && (this.milliseconds += this.interval, this.timer = (new Date).getTime() - (t - this.interval), this.repeatTracker--, this.update()), this.requestFrame(function () {
                                    e.animationFrame()
                                })
                            } else this.complete()
                    }
                }, {
                    key: "complete",
                    value: function () {
                        this.pause(), this.emit(t.TIMER_COMPLETE, {
                            timer: this,
                            timeRemaining: this.repeatTracker
                        })
                    }
                }, {
                    key: "pause",
                    value: function () {
                        this.useTimeout && clearTimeout(this.timeoutId), this.timer = void 0
                    }
                }, {
                    key: "reset",
                    value: function () {
                        this.milliseconds = 0, this.repeatTracker = this.repeat, this.emit(t.TIMER_RESET, {
                            timer: this,
                            timeRemaining: this.repeatTracker,
                            running: this.getRunning()
                        })
                    }
                }, {
                    key: "removeEventListener",
                    value: function (e, t) {
                        this.removeListener(e, t)
                    }
                }, {
                    key: "start",
                    value: function () {
                        var e = this;
                        void 0 === this.timer && (this.timer = (new Date).getTime(), this.requestFrame(function () {
                            e.animationFrame()
                        }))
                    }
                }, {
                    key: "update",
                    value: function () {
                        this.emit(t.TIMER, {
                            timer: this,
                            timeRemaining: this.repeatTracker
                        })
                    }
                }]), t
            }(f.EventEmitter);
        g.TIMER = "timer", g.TIMER_COMPLETE = "timer-complete", g.TIMER_RESET = "timer-reset", t.default = g
    },
    function (e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = n(6),
            o = "VIDEO_CORE_AB",
            r = {
                uaList: [{
                    name: "chrome",
                    version: "*",
                    core: "hls"
                }],
                exchangeTime: 1728e5,
                cancelAB: !1
            },
            a = (0, i.getUaVersion)(),
            s = a.appname,
            l = a.version,
            u = {
                init: function (e, t, n) {
                    if (this.config = t || r, this.canHls = n, this.config.cancelAB || !this.canHls) return e;
                    var a = (0, i.getLocalData)(o);
                    return e = "hls", a ? this.isNeedChange(a) ? e = this.exchangeType(a.type) : e : (this.initLocalData(), e)
                }, isNeedChange: function (e) {
                    return (new Date).getTime() - e.startTime > r.exchangeTime
                }, exchangeType: function (e) {
                    return this.initLocalData(e), e
                }, checkVersionList: function (e) {
                    var t = "mp4";
                    return Array.isArray(this.config.uaList) && this.config.uaList.forEach(function (n) {
                        n.name === e && (t = n.core)
                    }), t
                }, initLocalData: function (e) {
                    var t = {
                        type: e,
                        startTime: (new Date).getTime(),
                        appname: s,
                        version: l
                    };
                    (0, i.setLocalData)(o, t)
                }, checkABWork: function () {
                    return (0, i.getLocalData)(o)
                }
            };
        t.default = u
    },
    function (e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = n(26),
            o = {
                isSupportM3u8: function () {
                    var e = document.createElement("video"),
                        t = ["application/x-mpegURL", "audio/mpegurl", "vnd.apple.mpegURL", "application/vnd.apple.mpegURL"],
                        n = !1;
                    if (e && "function" == typeof e.canPlayType)
                        for (var i = 0, o = t.length; i < o; i++)
                            if (e.canPlayType(t[i])) {
                                n = !0;
                                break
                            }
                    return n
                }, isSupportChromeHls: function () {
                    window.MediaSource = window.MediaSource || window.WebKitMediaSource;
                    var e = !("http:" !== location.protocol && i.Browser.isMac && !i.Browser.isSafari),
                        t = new RegExp("(.*.(youku|tudou).com|.*.youku.alibaba.net)$"),
                        n = t.test(location.hostname),
                        o = window.MediaSource && "function" == typeof window.MediaSource.isTypeSupported && window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"');
                    return e && n && !i.Browser.isSafari && o
                }, isSupportSafariHls: function () {
                    return i.Browser.isMac && i.Browser.isSafari && this.compareVersion(i.Browser.version, "7") >= 0
                }, isSupportMP4: function () {
                    var e = document.createElement("video");
                    if ("function" == typeof e.canPlayType) {
                        if ("probably" === e.canPlayType('video/mp4; codecs="mp4v.20.8"')) return !0;
                        if ("probably" === e.canPlayType('video/mp4; codecs="avc1.42E01E"') || "probably" === e.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')) return !0
                    }
                    return !1
                }, compareVersion: function (e, t) {
                    e = String(e).split("."), t = String(t).split(".");
                    try {
                        for (var n = 0, i = Math.max(e.length, t.length); n < i; n++) {
                            var o = isFinite(e[n]) && Number(e[n]) || 0,
                                r = isFinite(t[n]) && Number(t[n]) || 0;
                            if (o < r) return -1;
                            if (o > r) return 1
                        }
                    } catch (e) {
                        return -1
                    }
                    return 0
                }, isSupportSVG: function () {
                    return !(!document.implementation || "function" == typeof document.implementation.hasFeature) && document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure", "1.1")
                }, isSupportMute: function () {
                    return !i.Browser.isIOS && !i.Browser.isMobile
                }, canUseHTML5Player: function () {
                    return !(i.Browser.isIE && this.compareVersion(i.Browser.version, "9.0") < 0 || !this.isSupportMP4())
                }, checkVideoSupport: function () {
                    return !!document.createElement("video").canPlayType
                }
            };
        t.default = o
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(0),
            r = i(o),
            a = n(1),
            s = i(a),
            l = function () {
                function e(t) {
                    (0, r.default)(this, e), t && t.xhrSetup && (this.xhrSetup = t.xhrSetup)
                }
                return (0, s.default)(e, [{
                    key: "destroy",
                    value: function () {
                        this.abort(), this.loader = null
                    }
                }, {
                    key: "abort",
                    value: function () {
                        var e = this.loader;
                        e && 4 !== e.readyState && (this.stats.aborted = !0, e.abort()), window.clearTimeout(this.requestTimeout), this.requestTimeout = null, window.clearTimeout(this.retryTimeout), this.retryTimeout = null
                    }
                }, {
                    key: "load",
                    value: function (e, t, n) {
                        this.context = e, this.config = t, this.callbacks = n, this.stats = {
                            trequest: performance.now(),
                            retry: 0
                        }, this.retryDelay = t.retryDelay, this.loadInternal()
                    }
                }, {
                    key: "loadInternal",
                    value: function () {
                        var e = this.context,
                            t = void 0;
                        t = "undefined" != typeof XDomainRequest ? this.loader = new XDomainRequest : this.loader = new XMLHttpRequest;
                        var n = this.stats;
                        n.tfirst = 0, n.loaded = 0;
                        var i = this.xhrSetup;
                        try {
                            if (i) try {
                                i(t, e.url)
                            } catch (n) {
                                t.open("GET", e.url, !0), i(t, e.url)
                            }
                            t.readyState || t.open("GET", e.url, !0)
                        } catch (n) {
                            return void this.callbacks.onError({
                                code: t.status,
                                text: n.message
                            }, e, t)
                        }
                        e.rangeEnd && t.setRequestHeader("Range", "bytes=" + e.rangeStart + "-" + (e.rangeEnd - 1)), t.onreadystatechange = this.readystatechange.bind(this), t.onprogress = this.loadprogress.bind(this), t.responseType = e.responseType, this.requestTimeout = window.setTimeout(this.loadtimeout.bind(this), this.config.timeout), t.send()
                    }
                }, {
                    key: "readystatechange",
                    value: function (e) {
                        var t = e.currentTarget,
                            n = t.readyState,
                            i = this.stats,
                            o = this.context,
                            r = this.config;
                        if (!i.aborted && n >= 2)
                            if (window.clearTimeout(this.requestTimeout), 0 === i.tfirst && (i.tfirst = Math.max(performance.now(), i.trequest)), 4 === n) {
                                var a = t.status;
                                if (a >= 200 && a < 300) {
                                    i.tload = Math.max(i.tfirst, performance.now());
                                    var s = void 0,
                                        l = void 0;
                                    "arraybuffer" === o.responseType ? (s = t.response, l = s.byteLength) : (s = t.responseText, l = s.length), i.loaded = i.total = l;
                                    var u = {
                                        url: t.responseURL,
                                        data: s
                                    };
                                    this.callbacks.onSuccess(u, i, o, t)
                                } else i.retry >= r.maxRetry || a >= 400 && a < 499 ? this.callbacks.onError({
                                    code: a,
                                    text: t.statusText
                                }, o, t) : (this.destroy(), this.retryTimeout = window.setTimeout(this.loadInternal.bind(this), this.retryDelay), this.retryDelay = Math.min(2 * this.retryDelay, r.maxRetryDelay), i.retry++)
                            } else this.requestTimeout = window.setTimeout(this.loadtimeout.bind(this), r.timeout)
                    }
                }, {
                    key: "loadtimeout",
                    value: function () {
                        this.callbacks.onTimeout(this.stats, this.context, null)
                    }
                }, {
                    key: "loadprogress",
                    value: function (e) {
                        var t = e.currentTarget,
                            n = this.stats;
                        n.loaded = e.loaded, e.lengthComputable && (n.total = e.total);
                        var i = this.callbacks.onProgress;
                        i && i(n, this.context, null, t)
                    }
                }]), e
            }();
        t.default = l
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(40),
            r = i(o),
            a = n(2),
            s = i(a),
            l = n(0),
            u = i(l),
            c = n(1),
            d = i(c),
            h = n(4),
            p = i(h),
            f = n(12),
            g = i(f),
            m = n(3),
            y = i(m),
            v = n(165),
            _ = i(v),
            b = n(52),
            E = i(b),
            k = n(164),
            w = i(k),
            S = n(176),
            T = i(S),
            x = n(175),
            A = i(x),
            D = n(168),
            L = i(D),
            C = n(169),
            M = i(C),
            I = n(170),
            R = i(I),
            P = n(173),
            N = i(P),
            O = n(174),
            j = i(O),
            U = n(171),
            B = i(U),
            F = n(166),
            z = i(F),
            H = n(10),
            Y = i(H),
            V = n(15),
            q = i(V),
            G = n(17),
            Q = i(G),
            W = n(66),
            K = function (e) {
                function t(e) {
                    (0, u.default)(this, t);
                    var n = (0, p.default)(this, (t.__proto__ || (0, s.default)(t)).call(this));
                    return n._global = e, n._initialize(), n._global && (n._global.on(W.ADEvents.ADPLUGIN_STATE_CHANGE, function (e) {
                        switch (e.state) {
                        case W.ADState.SERVICESTART:
                            n.onNetStatus({
                                level: q.default.STATUS,
                                code: Y.default.AD_GET,
                                data: e
                            });
                            break;
                        case W.ADState.SERVICEEND:
                            n.onNetStatus({
                                level: q.default.STATUS,
                                code: Y.default.AD_RETURN,
                                data: e
                            });
                            break;
                        case W.ADState.SERVICEERROR:
                            n.onNetStatus({
                                level: q.default.STATUS,
                                code: Y.default.AD_SHOW_FAILED,
                                data: e
                            });
                            break;
                        case W.ADState.PLAY:
                        case W.ADState.PLAYING:
                            n.onNetStatus({
                                level: q.default.STATUS,
                                code: Y.default.AD_SHOW_START,
                                data: e
                            });
                            break;
                        case W.ADState.END:
                            n.onNetStatus({
                                level: q.default.STATUS,
                                code: Y.default.AD_SHOW_COMPLETE,
                                data: e
                            })
                        }
                    }), n._global.on("timeupdate", function () {
                        n.onNetStatus({
                            level: q.default.STATUS,
                            code: Y.default.PLAYER_IS_PLAYING
                        })
                    }), n._global.on("playing", function () {
                        n.onNetStatus({
                            level: q.default.STATUS,
                            code: Y.default.PLAYER_BEGIN_PLAYING
                        })
                    }), n._global.on("pause", function () {
                        n.onNetStatus({
                            level: q.default.STATUS,
                            code: Y.default.PLAYER_IS_PAUSED
                        })
                    }), n._global.on("play", function () {
                        n.onNetStatus({
                            level: q.default.STATUS,
                            code: Y.default.PLAYER_REAL_START
                        })
                    }), n._global.on("waiting", function () {
                        n.onNetStatus({
                            level: q.default.STATUS,
                            code: Y.default.PLAYER_BUFFER_EMPTY
                        })
                    }), n._global.on("replay", function () {
                        n.onNetStatus({
                            level: q.default.COMMAND,
                            code: Q.default.REPLAY
                        })
                    }), n._global.on("ended", function () {
                        n.onNetStatus({
                            level: q.default.STATUS,
                            code: Y.default.PLAYER_PLAY_END
                        })
                    }), n._global.on("global.reset", function () {
                        n.onNetStatus({
                            level: q.default.COMMAND,
                            code: Q.default.RESTART
                        })
                    }), n._global.on("global.reload", function () {
                        n.onNetStatus({
                            level: q.default.COMMAND,
                            code: Q.default.RELOAD
                        })
                    }), n._global.on(Q.default.SEND_EVENT_LOG, function (e) {
                        n.onNetStatus({
                            level: q.default.COMMAND,
                            code: Q.default.SEND_EVENT_LOG,
                            data: e
                        })
                    }), n._global.on(Q.default.SEND_SUBTITLE_LOG, function (e) {
                        n.onNetStatus({
                            level: q.default.COMMAND,
                            code: Q.default.SEND_SUBTITLE_LOG,
                            data: e
                        })
                    }), n._global.on(Q.default.SEND_PAGEERROR_LOG, function (e) {
                        n.onNetStatus({
                            level: q.default.COMMAND,
                            code: Q.default.SEND_PAGEERROR_LOG,
                            data: e
                        })
                    }), n._global.on(Q.default.SEND_BUSINESS_LOG, function (e) {
                        n.onNetStatus({
                            level: q.default.COMMAND,
                            code: Q.default.SEND_BUSINESS_LOG,
                            data: e
                        })
                    })), n
                }
                return (0, y.default)(t, e), (0, d.default)(t, [{
                    key: "put",
                    value: function (e) {
                        e && this._loggers.set(e.id, e)
                    }
                }, {
                    key: "remove",
                    value: function (e) {
                        e && this._loggers.has(e.id) && this._loggers.delete(e.id)
                    }
                }, {
                    key: "onNetStatus",
                    value: function (e) {
                        var t = this;
                        this._loggers.forEach(function (n) {
                            "function" == typeof n.onNetStatus ? n.onNetStatus(e) : t._loggers.delete(n.id)
                        })
                    }
                }, {
                    key: "_initialize",
                    value: function () {
                        this._loggers = new r.default, this._traceLogger = _.default.getInstance(), this._loggers.set(this._traceLogger.id, this._traceLogger)
                    }
                }, {
                    key: "init",
                    value: function (e) {
                        this.put(new w.default(e)), this.put(new T.default(e)), this.put(new A.default(e)), this.put(new L.default(e)), this.put(new M.default(e)), this.put(new N.default(e)), this.put(new R.default(e)), this.put(new B.default(e)), this.put(new z.default(e)), this.put(new j.default(e))
                    }
                }, {
                    key: "destory",
                    value: function () {
                        (0, g.default)(t.prototype.__proto__ || (0, s.default)(t.prototype), "destroy", this).call(this), this._loggers.clear(), this._traceLogger = null
                    }
                }]), t
            }(E.default);
        t.default = K
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(40),
            r = i(o),
            a = n(0),
            s = i(a),
            l = n(1),
            u = i(l),
            c = n(17),
            d = i(c),
            h = n(15),
            p = i(h),
            f = n(65),
            g = i(f),
            m = n(8),
            y = function () {
                function e(t) {
                    (0, s.default)(this, e), this._id = "SetLogger", this._global = t, this._data = new r.default, this._enabled = this._global.config.allowCookieRecord, this._global.on(m.MessageConfig["global.config"], this._onPlayerConfigChange.bind(this)), this._setConfig()
                }
                return (0, u.default)(e, [{
                    key: "onNetStatus",
                    value: function (e) {
                        if (!1 !== this._enabled) switch (e.level) {
                        case p.default.COMMAND:
                            this._onCommand(e)
                        }
                    }
                }, {
                    key: "_onCommand",
                    value: function (e) {
                        switch (e.code) {
                        case d.default.SET_VOLUME:
                            this._global.ad.isAdTime() || "mouseMove" === e.data.action || g.default.setLocalData("volume", e.data.value);
                            break;
                        case d.default.OPEN_DANMU:
                            g.default.setLocalData("openDanmu", !0);
                            break;
                        case d.default.CLOSE_DANMU:
                            g.default.setLocalData("openDanmu", !1);
                            break;
                        case d.default.SET_LANGUAGE:
                            g.default.setLocalData("language", e.data.value);
                            break;
                        case d.default.SET_PREFERRED_QUALITY:
                            g.default.setLocalData("preferredQuality", e.data.value);
                            break;
                        case d.default.SET_CONTINUOUS:
                            g.default.setLocalData("continuous", e.data.value);
                            break;
                        case d.default.RECORD_TO_COOKIE:
                            g.default.setLocalData(e.data.name, e.data.value)
                        }
                    }
                }, {
                    key: "getValue",
                    value: function (e) {
                        return g.default.getLocalData(e)
                    }
                }, {
                    key: "_onPlayerConfigChange",
                    value: function (e) {
                        this._global.config.allowCookieRecord && (this._enabled = this._global.config.allowCookieRecord)
                    }
                }, {
                    key: "_setConfig",
                    value: function () {
                        this._enabled && (g.default.getLocalData("volume") && (this._global.config.volume = g.default.getLocalData("volume")), g.default.getLocalData("language") && (this._global.config.language = g.default.getLocalData("language")), g.default.getLocalData("openDanmu") && (this._global.config.openDanmu = g.default.getLocalData("openDanmu")), g.default.getLocalData("preferredQuality") && (this._global.config.preferredQuality = g.default.getLocalData("preferredQuality")), g.default.getLocalData("continuous") && (this._global.config.continuous = g.default.getLocalData("continuous")))
                    }
                }, {
                    key: "enabled",
                    get: function () {
                        return this._enabled
                    }, set: function (e) {
                        this._enabled = e
                    }
                }]), e
            }();
        t.default = y
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(0),
            r = i(o),
            a = n(1),
            s = i(a),
            l = n(15),
            u = i(l),
            c = function () {
                function e() {
                    (0, r.default)(this, e), this._enabled = !0, this._id = "TraceLogger"
                }
                return (0, s.default)(e, [{
                    key: "onNetStatus",
                    value: function (e) {
                        if (this._enabled) switch (e.level) {
                        case u.default.ERROR:
                        case u.default.WARNING:
                        }
                    }
                }, {
                    key: "enabled",
                    get: function () {
                        return this._enabled
                    }, set: function (e) {
                        this._enabled = e
                    }
                }, {
                    key: "id",
                    get: function () {
                        return this._id
                    }, set: function (e) {
                        this._id = e
                    }
                }], [{
                    key: "getInstance",
                    value: function () {
                        return e.instance || (e.instance = new e), e.instance
                    }
                }]), e
            }();
        t.default = c
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(19),
            r = i(o),
            a = n(2),
            s = i(a),
            l = n(0),
            u = i(l),
            c = n(1),
            d = i(c),
            h = n(4),
            p = i(h),
            f = n(3),
            g = i(f),
            m = n(24),
            y = i(m),
            v = n(10),
            _ = i(v),
            b = n(17),
            E = i(b),
            k = n(11),
            w = i(k),
            S = n(8),
            T = function (e) {
                function t(e) {
                    (0, u.default)(this, t);
                    var n = (0, p.default)(this, (t.__proto__ || (0, s.default)(t)).call(this, e));
                    return n.id = "businesslog", n._logHost = "//gm.mmstat.com", n._logName = "/yt/youkuplayer.fdl.ykplayer_exp", n._reset(), n
                }
                return (0, g.default)(t, e), (0, d.default)(t, [{
                    key: "onNetStatus",
                    value: function (e) {
                        if (this._enabled && e.code !== _.default.PLAYER_IS_PLAYING) {
                            if (e.code === E.default.RESTART || e.code === E.default.RELOAD) return void this._reset();
                            if (e.code === _.default.SERVICE_IS_DONE && "ups" === e.data.id) return void this._resetParams();
                            this._data = {}, e.code === E.default.SEND_BUSINESS_LOG && ((0, r.default)(this._data, this._param, e.data), this.report())
                        }
                    }
                }, {
                    key: "report",
                    value: function () {
                        this._data.protocol = this.protocol, this._data.cdntype = this._global.cdntype;
                        var e = {};
                        e.format = !1, e.domain = this._logHost, e.url = this._logName, e.params = this._data, e.eventType = "EXP", e.code = "H1507354094", w.default.sendGoldLog(e)
                    }
                }, {
                    key: "_reset",
                    value: function () {
                        this._param = {}, this._param.version = this._global.version, this._param.vid = this._global.mediaData.mediaId, this._param.ccode = this._global.initConfig.ccode, this._param.platform = S.PLAYERSYSTEM.Browser.platform, this._param.browser = S.PLAYERSYSTEM.Browser.name, this._param.browser_version = S.PLAYERSYSTEM.Browser.version, this._param.playersid = this._global.config.playersid, this._resetParams()
                    }
                }, {
                    key: "_resetParams",
                    value: function () {
                        this._global.ups && (this._playlistData = this._global.ups, this._playlistData && (this._playlistData.upsData && (this._param.psid = this._playlistData.upsData.psid), this._playlistData.userData && (this._playlistData.userData.ytid ? this._param.uid = this._playlistData.userData.ytid : this._param.uid = this._playlistData.userData.uid), this._playlistData.videoData && (this._param.vid = this._playlistData.videoData.id)))
                    }
                }]), t
            }(y.default);
        t.default = T
    },
    function (e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = {
            STARTPLAY: "xPs",
            PAUSE: "xPa",
            REPLAY: "Rp",
            PLAY: "xpl",
            PROGRESS_BAR_DRAG: "xDs",
            ORIENTATION_CHANGE: "xve",
            QUALITY_PANEL_SHOW: "xCq",
            QUALITY_PANEL_HIDE: "xHq",
            LANGUAGE_PANEL_SHOW: "xCl",
            LANGUAGE_PANEL_HIDE: "xhl",
            SET_QUALITY: "xsq",
            SET_LANGUAGE: "xsl",
            ENTER_FULLSCREEN: "xenfs",
            QUIT_FULLSCREEN: "exfs",
            ERROR: "xve",
            METHOD_CLICK: "c",
            METHOD_DRAG: "d",
            METHOD_AUTO: "s"
        };
        t.default = i
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(2),
            r = i(o),
            a = n(0),
            s = i(a),
            l = n(1),
            u = i(l),
            c = n(4),
            d = i(c),
            h = n(3),
            p = i(h),
            f = n(24),
            g = i(f),
            m = n(17),
            y = i(m),
            v = n(10),
            _ = i(v),
            b = n(15),
            E = i(b),
            k = n(167),
            w = i(k),
            S = n(11),
            T = i(S),
            x = n(155),
            A = i(x),
            D = n(23),
            L = n(8),
            C = function (e) {
                function t(e) {
                    (0, s.default)(this, t);
                    var n = (0, d.default)(this, (t.__proto__ || (0, r.default)(t)).call(this, e));
                    return n.id = "eventlog", n._logName = "/yt/vp.event", "050F" === n._global.initConfig.ccode ? (n._logHost = "//gm.mmstat.com", n._logName = "/yt/newtudou.web.event") : n._logHost = "//yt2.mmstat.com", n._reset(), n
                }
                return (0, p.default)(t, e), (0, u.default)(t, [{
                    key: "onNetStatus",
                    value: function (e) {
                        if (this.enabled && e.code !== _.default.PLAYER_IS_PLAYING) {
                            if (e.code === y.default.RESTART || e.code === y.default.RELOAD) return void this._reset();
                            if (e.code === _.default.SERVICE_IS_DONE && "ups" === e.data.id) return void this._resetParams();
                            if (e.level === E.default.COMMAND) {
                                switch (this._reportable = !0, this._event = "", this._ext = {}, this._eventMode = w.default.METHOD_CLICK, e.data && e.data.url && (this._url = e.data.url), e.code) {
                                case y.default.SEND_EVENT_LOG:
                                    this._event = e.data.event, this._eventMode = e.data.eventMode, e.data.ext && (this._ext = e.data.ext)
                                }
                                this._reportable && "" !== this._event && this.report()
                            }
                        }
                    }
                }, {
                    key: "_getBase64String",
                    value: function (e) {
                        if (!e) return "";
                        var t = "";
                        for (var n in e) t += n + "=" + e[n] + "&";
                        return t = t.slice(0, -1), A.default.encode64(t)
                    }
                }, {
                    key: "report",
                    value: function () {
                        this._extraData.tc = Math.round(this._global.currentTime);
                        for (var e in this._ext) this._extraData[e] = this._ext[e];
                        this._dimensionData.f = this.getFullValue();
                        var t = ["f", "m", "h"],
                            n = D.QUALITY[this._global.config.quality] - 1;
                        this._dimensionData.q = t[n] ? t[n] : "m", this._global.config.rate && (this._dimensionData.r = this._global.config.rate);
                        var i = {};
                        i.t = "1002", i.e = this._event, i.v = this._eventMode, i.d = this._getBase64String(this._dimensionData), i.x = this._getBase64String(this._extraData), this._playlistData.userData && (this._playlistData.userData.ytid ? i.pc_u = this._playlistData.userData.ytid : i.pc_u = this._playlistData.userData.uid), i.url = L.PLAYERSYSTEM.pageUrl, i.rurl = L.PLAYERSYSTEM.refer, i.protocol = this.protocol, i.cdntype = this._global.cdntype;
                        var o = {};
                        o.format = !1, o.domain = this._logHost, o.url = this._logName, o.params = i, o.eventType = "CLI", o.code = "", o.type = 1, T.default.sendGoldLog(o)
                    }
                }, {
                    key: "_reset",
                    value: function () {
                        this._extraData = {}, this._extraData.v = this._global.version || "", this._extraData.ver = "1.0.0", this._dimensionData = {}, this._global.initConfig.abtest && "b" === this._global.initConfig.abtest ? this._extraData.abtest = "b" : this._extraData.abtest = "a", this._resetParams()
                    }
                }, {
                    key: "_resetParams",
                    value: function () {
                        this._global.ups ? this._playlistData = this._global.ups : this._playlistData = null, this._playlistData && (this._extraData.vid = this._playlistData.videoData.id, this._extraData.uid = this._playlistData.userData ? this._playlistData.userData.uid : 0, this._extraData.ssid = this._playlistData.upsData ? this._playlistData.upsData.psid : 0, this._extraData.sid = this._playlistData.showData ? this._playlistData.showData.id : 0, this._extraData.ct = this._playlistData.videoData ? this._playlistData.videoData.category_id : 0, this._extraData.cs = this._playlistData.videoData ? this._playlistData.videoData.cs : 0)
                    }
                }]), t
            }(g.default);
        t.default = C
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(19),
            r = i(o),
            a = n(18),
            s = i(a),
            l = n(2),
            u = i(l),
            c = n(0),
            d = i(c),
            h = n(1),
            p = i(h),
            f = n(4),
            g = i(f),
            m = n(3),
            y = i(m),
            v = n(24),
            _ = i(v),
            b = n(15),
            E = i(b),
            k = n(10),
            w = i(k),
            S = n(17),
            T = i(S),
            x = n(11),
            A = i(x),
            D = n(8),
            L = n(162),
            C = i(L),
            M = n(53),
            I = i(M),
            R = function (e) {
                function t(e) {
                    (0, d.default)(this, t);
                    var n = (0, g.default)(this, (t.__proto__ || (0, u.default)(t)).call(this, e));
                    return n.id = "errorlog", n._logHost = "//gm.mmstat.com", n._logName = "/yt/youkuplayer.fdl.error", n._fdlErrorlogName = "/yt/youkuplayer.fdl.ykcollina", n._reset(), n
                }
                return (0, y.default)(t, e), (0, p.default)(t, [{
                    key: "onNetStatus",
                    value: function (e) {
                        if (e.code !== w.default.PLAYER_IS_PLAYING) {
                            if (e.code === T.default.RESTART || e.code === T.default.RELOAD) return void this._reset();
                            if (e.code === w.default.SERVICE_IS_DONE && "ups" === e.data.id) return this._resetParams(), void(this._startTime = (new Date).getTime());
                            if (this._enabled && e.level === E.default.ERROR) {
                                if (!e.data.errorCode) return;
                                this._httpResponse = {}, this._param.track_view_code = e.data.trackViewCode ? e.data.trackViewCode : "H" + (1e3 * (new Date).getTime() + Math.floor(1e3 * Math.random())), this._param.ups_url = e.data.upsUrl ? e.data.upsUrl : "", this._param.cdn_url = e.data.cdnUrl ? e.data.cdnUrl : "", this._param.m3u8_url = e.data.m3u8Url ? e.data.m3u8Url : "", this._param.error_code = e.data.errorCode, this._param.error_corex_code = e.data.corexCode, this._param.error_type = e.data.errorCode.slice(0, 2), this._param.error_position = this._global.currentTime ? Math.round(this._global.currentTime) : 0, this._param.user_timestamp = Math.ceil((new Date).getTime() / 1e3), this._param.support_type = this._global.config.supportType;
                                var t = (new Date).getTime();
                                if (this._param.staytime = t - this._startTime, this._param.cookieEnabled = navigator.cookieEnabled, navigator.cookieEnabled && "10101" === e.data.errorCode) {
                                    var n = document.cookie.match(new RegExp("(?:\\s|^)cna\\=([^;]*)"));
                                    this._param.ykcookie = n ? decodeURIComponent(n[1]) : null
                                }
                                this._param.cdn_url.indexOf(".mp4") > -1 && "36104" === this._param.error_code ? (this._httpResponse.networkState = e.data.networkState ? e.data.networkState : 0, this._httpResponse.duration = e.data.duration ? e.data.duration : 0, this._httpResponse.currentTime = e.data.currentTime ? e.data.currentTime : 0, this._httpResponse.isPlaying = !!e.data.isPlaying && e.data.isPlaying, this.loadXhr()) : this.report()
                            }
                        }
                    }
                }, {
                    key: "loadXhr",
                    value: function () {
                        this._loader = new C.default;
                        var e = {
                                url: this._param.cdn_url,
                                responseType: "arraybuffer",
                                progressData: !1
                            },
                            t = {
                                timeout: 2e3,
                                maxRetry: 0,
                                retryDelay: 0,
                                maxRetryDelay: 3e3
                            },
                            n = {
                                onSuccess: this.loadsuccess.bind(this),
                                onError: this.loaderror.bind(this),
                                onTimeout: this.loadtimeout.bind(this)
                            };
                        this._loader.load(e, t, n)
                    }
                }, {
                    key: "loadsuccess",
                    value: function (e, t, n) {
                        var i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : null;
                        this._loader.abort(), this._loader = void 0;
                        var o = {
                            status: "success"
                        };
                        for (var r in t) o[r] = t[r], this._httpResponse[r] = t[r];
                        this._httpResponse.responseCode = "200", this._httpResponse.readyState = i.readyState, this.report(), this.sendMtopLog(o)
                    }
                }, {
                    key: "loaderror",
                    value: function (e, t) {
                        var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null;
                        this._loader.abort(), this._loader = void 0, this._httpResponse.responseCode = e.code, this._httpResponse.readyState = n.readyState, this.report(), this.sendMtopLog({
                            status: "error"
                        })
                    }
                }, {
                    key: "loadtimeout",
                    value: function (e, t) {
                        var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null;
                        this._loader.abort(), this._loader = void 0, this._httpResponse.responseCode = "408", this._httpResponse.readyState = n.readyState, this.report(), this.sendMtopLog({
                            status: "timeout"
                        })
                    }
                }, {
                    key: "sendMtopLog",
                    value: function (e) {
                        var t = {
                            cdnUrl: this._param.cdn_url,
                            code: this._httpResponse.responseCode,
                            readyState: this._httpResponse.readyState,
                            networkState: this._httpResponse.networkState,
                            duration: this._httpResponse.duration,
                            currentTime: this._httpResponse.currentTime,
                            isPlaying: this._httpResponse.isPlaying
                        };
                        if (e)
                            for (var n in e) t[n] = e[n];
                        var i = {
                            group: parseInt(10 * Math.random(), 10),
                            log: (0, s.default)(t)
                        };
                        I.default.loadMtopData("com.youku.aplatform.weakGet", {
                            bizType: "lastlog",
                            bizParam: (0, s.default)(i)
                        })
                    }
                }, {
                    key: "report",
                    value: function () {
                        var e = {},
                            t = {};
                        (0, r.default)(t, this._param, this._httpResponse), t.protocol = this.protocol, t.cdntype = this._global.cdntype, t.isdrm = this._global.initConfig && this._global.initConfig.isSupportDRM ? 1 : 0, t.drmtype = this._global.ups && this._global.ups.drmType, e.format = !1, e.domain = this._logHost, e.url = this._logName, e.params = t, e.eventType = "EXP", e.code = "H1481495508", "23605" !== t.error_code && "23604" !== t.error_code && "35614" !== t.error_code && (A.default.sendGoldLog(e), this._enabled = !1), "23605" !== t.error_code && "23604" !== t.error_code || (t.code = t.error_code.replace("236", "-60"), e.url = this._fdlErrorlogName, A.default.sendGoldLog(e))
                    }
                }, {
                    key: "_reset",
                    value: function () {
                        this._enabled = !0, this._param = {}, this._param.version = this._global.version, this._param.videoid = this._global.mediaData.mediaId || "", this._param.utid = A.default.getCna() || "", this._param.userid = 0, this._param.vip = 0, this._param.ccode = this._global.initConfig.ccode, this._param.platform = D.PLAYERSYSTEM.Browser.platform, this._param.browser = D.PLAYERSYSTEM.Browser.name, this._global.initConfig.abtest && "b" === this._global.initConfig.abtest ? this._param.abtest = "b" : this._param.abtest = "a", this._param.browser_version = D.PLAYERSYSTEM.Browser.version, this._param.player_version = "H5", this._param.playersid = this._global.config.playersid, this._resetParams()
                    }
                }, {
                    key: "_resetParams",
                    value: function () {
                        this._global.ups ? this._playlistData = this._global.ups : this._playlistData = null, this._playlistData && (this._playlistData.videoData && (this._param.videoid = this._playlistData.videoData.id, this._param.videotype = this._playlistData.videoData.ctype), this._playlistData.userData && (this._playlistData.userData.ytid ? this._param.userid = this._playlistData.userData.ytid : this._param.userid = this._playlistData.userData.uid, this._param.vip = this._playlistData.userData.vip), this._playlistData.upsData && (this._param.psid = this._playlistData.upsData.psid || ""), this._playlistData.showData ? (this._param.showid = this._playlistData.showData.id, this._param.showencodeid = this._playlistData.showData.encodeid) : (this._param.showid = 0, this._param.showencodeid = ""))
                    }
                }]), t
            }(_.default);
        t.default = R
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(2),
            r = i(o),
            a = n(0),
            s = i(a),
            l = n(1),
            u = i(l),
            c = n(4),
            d = i(c),
            h = n(3),
            p = i(h),
            f = n(24),
            g = i(f),
            m = n(11),
            y = i(m),
            v = n(10),
            _ = i(v),
            b = n(17),
            E = i(b),
            k = n(8),
            w = function (e) {
                function t(e) {
                    (0, s.default)(this, t);
                    var n = (0, d.default)(this, (t.__proto__ || (0, r.default)(t)).call(this, e));
                    return n.id = "hotlinklog", n._logHost = "//gm.mmstat.com", n._logName = "/yt/youkuplayer.fdl.h5send", n.reset(), n
                }
                return (0, p.default)(t, e), (0, u.default)(t, [{
                    key: "onNetStatus",
                    value: function (e) {
                        if (this._enabled && e.code !== _.default.PLAYER_IS_PLAYING) switch (e.code) {
                        case E.default.RESTART:
                        case E.default.RELOAD:
                            this.reset();
                            break;
                        case _.default.PLAYER_REAL_START:
                            this._param.log_type = 3, this.report();
                            break;
                        case _.default.AD_SHOW_START:
                            e.data.type === k.AD_TYPE.FRONT && e.data.iffirst && (this._param.log_type = 1, this.report());
                            break;
                        case _.default.AD_SHOW_COMPLETE:
                            e.data.type === k.AD_TYPE.FRONT && (this._param.log_type = 2, this.report());
                            break;
                        case _.default.SERVICE_IS_DONE:
                            if ("ups" !== e.data.id) return;
                            this._resetParams()
                        }
                    }
                }, {
                    key: "report",
                    value: function () {
                        this._param.protocol = this.protocol, this._param.cdntype = this._global.cdntype;
                        var e = {};
                        e.format = !1, e.domain = this._logHost, e.url = this._logName, e.params = this._param, e.eventType = "EXP", e.code = "H1482418994", y.default.sendGoldLog(e)
                    }
                }, {
                    key: "reset",
                    value: function () {
                        this._param = {}, this._param.version = this._global.version, this._param.vid = this._global.mediaData.mediaId, this._param.cna = y.default.getCna() || "", this._param.uid = 0, this._param.vip = 0, this._param.ccode = this._global.initConfig.ccode, this._param.log_type = 1, this._param.fileid = "";
                        var e = this._global.initConfig.customParam;
                        e && e.client_id && (this._param.client_id = e.client_id), this._resetParams()
                    }
                }, {
                    key: "_resetParams",
                    value: function () {
                        this._global.ups ? this._playlistData = this._global.ups : this._playlistData = null, this._playlistData && (this._param.psid = this._playlistData.upsData.psid, this._param.ups_client_netip = this._playlistData.upsData.ups_client_netip, this._param.vid = this._playlistData.videoData.id, this._param.title = this._playlistData.videoData.title, this._playlistData.userData && (this._playlistData.userData.ytid ? this._param.uid = this._playlistData.userData.ytid : this._param.uid = this._playlistData.userData.uid, this._param.vip = this._playlistData.userData.vip ? "1" : "0"))
                    }
                }]), t
            }(g.default);
        t.default = w
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(19),
            r = i(o),
            a = n(2),
            s = i(a),
            l = n(0),
            u = i(l),
            c = n(1),
            d = i(c),
            h = n(4),
            p = i(h),
            f = n(3),
            g = i(f),
            m = n(24),
            y = i(m),
            v = n(10),
            _ = i(v),
            b = n(17),
            E = i(b),
            k = n(11),
            w = i(k),
            S = n(8),
            T = function (e) {
                function t(e) {
                    (0, u.default)(this, t);
                    var n = (0, p.default)(this, (t.__proto__ || (0, s.default)(t)).call(this, e));
                    return n.id = "pageerrorlog", n._logHost = "//gm.mmstat.com", n._logName = "/yt/youkuplayer.fdl.page_error", n._reset(), n
                }
                return (0, g.default)(t, e), (0, d.default)(t, [{
                    key: "onNetStatus",
                    value: function (e) {
                        if (this._enabled && e.code !== _.default.PLAYER_IS_PLAYING) {
                            if (e.code === E.default.RESTART || e.code === E.default.RELOAD) return void this._reset();
                            if (e.code === _.default.SERVICE_IS_DONE && "ups" === e.data.id) return void this._resetParams();
                            this._data = {}, e.code === E.default.SEND_PAGEERROR_LOG && ((0, r.default)(this._data, this._param, e.data), this.report()), e.code === _.default.SERVICE_EXECUTE_WAINING && "ups" === e.data.id && ((0, r.default)(this._data, this._param, e.data.data), this.report())
                        }
                    }
                }, {
                    key: "report",
                    value: function () {
                        this._data.protocol = this.protocol, this._data.cdntype = this._global.cdntype, this._data.isdrm = this._global.initConfig && this._global.initConfig.isSupportDRM ? 1 : 0, this._data.drmtype = this._global.ups && this._global.ups.drmType;
                        var e = {};
                        e.format = !1, e.domain = this._logHost, e.url = this._logName, e.params = this._data, e.eventType = "EXP", e.code = "H1505507054", w.default.sendGoldLog(e)
                    }
                }, {
                    key: "_reset",
                    value: function () {
                        this._param = {}, this._param.version = this._global.version, this._param.vid = this._global.mediaData.mediaId, this._param.cna = w.default.getCna() || "", this._param.isvip = 0, this._param.user_timestamp = Math.ceil((new Date).getTime() / 1e3), this._param.ccode = this._global.initConfig.ccode, this._param.platform = S.PLAYERSYSTEM.Browser.platform, this._param.browser = S.PLAYERSYSTEM.Browser.name, this._param.browser_version = S.PLAYERSYSTEM.Browser.version, this._param.playersid = this._global.config.playersid, this._resetParams()
                    }
                }, {
                    key: "_resetParams",
                    value: function () {
                        this._global.ups && (this._playlistData = this._global.ups, this._playlistData && (this._playlistData.upsData && (this._param.psid = this._playlistData.upsData.psid, this._param.ups_client_netip = this._playlistData.upsData.ups_client_netip), this._playlistData.userData && (this._playlistData.userData.ytid ? this._param.uid = this._playlistData.userData.ytid : this._param.uid = this._playlistData.userData.uid, this._param.isvip = this._playlistData.userData.vip), this._playlistData.videoData && (this._param.vid = this._playlistData.videoData.id, this._param.videotype = this._playlistData.videoData.ctype)))
                    }
                }]), t
            }(y.default);
        t.default = T
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(2),
            r = i(o),
            a = n(0),
            s = i(a),
            l = n(1),
            u = i(l),
            c = n(4),
            d = i(c),
            h = n(3),
            p = i(h),
            f = n(24),
            g = i(f),
            m = n(11),
            y = i(m),
            v = n(53),
            _ = i(v),
            b = n(50),
            E = i(b),
            k = n(8),
            w = function (e) {
                function t(e) {
                    (0, s.default)(this, t);
                    var n = (0, d.default)(this, (t.__proto__ || (0, r.default)(t)).call(this, e));
                    return n.id = "vvlog", n._logName = "playlog/open/push_web.json", n._logHost = "//playlog.youku.com/", n.reset(), n
                }
                return (0, p.default)(t, e), (0, u.default)(t, [{
                    key: "resetParams",
                    value: function () {
                        if (this._global.ups ? this._playlistData = this._global.ups : this._playlistData = null, this._playlistData) {
                            this._playlistData.videoData && (this.params.videoId = this._global.ups.videoData.encodeid), this._playlistData.showData && (this._playlistData.showData.showcategory && (this.params.category = this._playlistData.showData.showcategory), this.params.showId = this._playlistData.showData.encodeid, this.params.tp = this._playlistData.showData.video_type, this.params.stage = this._playlistData.showData.stage), this._playlistData.controllerData && (this._playtype = 3 === parseInt(this._playlistData.controllerData.play_mode) ? 1 : 0);
                            var e = k.QUALITY[this._global.config.quality] - 1;
                            this.params.hd = e > 0 ? e : 0, this.params.seconds = 0, this._global && this._global.config && this._global.config.duration && (this.params.seconds = this._global.config.duration)
                        }
                    }
                }, {
                    key: "onNetStatus",
                    value: function (e) {}
                }, {
                    key: "report",
                    value: function (e) {
                        try {
                            if (!this.enabled) return;
                            this.params.seconds = parseInt(this._global.config.duration);
                            var t = k.QUALITY[this._global.config.quality] - 1;
                            this.params.hd = t > 0 && t < 4 ? t : 0, this.params.point = Math.round(1e3 * this._global.actCurrentTime) || "0", this.params.lastUpdate = parseInt((new Date).getTime() / 1e3), this.params.logType = e, this.params.lang = E.default.langCnToLangid(this._global.config.language) || "1", 1 === this._playtype && (this.params.folderOrder = this._fob, this.params.folderPlace = this._fpo, this.params.folderId = this._fid), this.params.timestamp = (new Date).getTime(), this.params.appKey = "qPbb2hfIYugHjMaj", _.default.loadMtopData("mtop.youku.playlog.open.push", this.params)
                        } catch (e) {
                            console.error(e), console.error("playlog push error")
                        }
                    }
                }, {
                    key: "reset",
                    value: function () {
                        this._enabled = !0, this.params = {}, this.params.umid = y.default.getCna() || "", this.params.nlid = y.default.getCna() || "", this.params.videoId = this._global.mediaData.mediaId || "", this.params.hwClass = 1, this.params.devicename = "H5", this.params.mediaType = 1, this._fid = this._global.initConfig.Fid || "", this._fob = this._global.initConfig.Ob || "", this._fpo = this._global.initConfig.Pt || "", this.params.autoPlay = this._global.config.autoplay ? 1 : 0, this.resetParams()
                    }
                }]), t
            }(g.default);
        t.default = w
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(2),
            r = i(o),
            a = n(0),
            s = i(a),
            l = n(1),
            u = i(l),
            c = n(4),
            d = i(c),
            h = n(3),
            p = i(h),
            f = n(24),
            g = i(f),
            m = n(10),
            y = i(m),
            v = n(17),
            _ = i(v),
            b = n(11),
            E = i(b),
            k = n(8),
            w = n(160),
            S = i(w),
            T = n(6),
            x = ["playerinit", "cnastart", "cnacomplete", "getupsstart", "getupsend", "parseupsdata", "adget", "adreturn", "adplaystart", "adplayend", "playstart", "loadingstart", "buffertime", "buffertime2"],
            A = function (e) {
                function t(e) {
                    (0, s.default)(this, t);
                    var n = (0, d.default)(this, (t.__proto__ || (0, r.default)(t)).call(this, e));
                    return n.id = "processlog", n._logHost = "//gm.mmstat.com", n._logName = "/yt/youkuplayer.fdl.ykplayer_process", n._reset(), n
                }
                return (0, p.default)(t, e), (0, u.default)(t, [{
                    key: "onNetStatus",
                    value: function (e) {
                        var t = this;
                        if (this._enabled) switch (this._state = 0, e.code) {
                        case y.default.SERVICE_EXECUTE_START:
                            if ("cna" === e.data.id && 0 === this._step) return this._step = 1, void this.report();
                            "ups" === e.data.id && 2 === this._step && (this._step = 3, this.report());
                            break;
                        case y.default.SERVICE_EXECUTE_COMPLETE:
                            this._state = 1;
                        case y.default.SERVICE_EXECUTE_FAILED:
                            if ("cna" === e.data.id && 1 === this._step) return this._step = 2, void this.report();
                            "ups" === e.data.id && 3 === this._step && (this._resetParams(), this._step = 4, this.report());
                            break;
                        case y.default.SERVICE_DATA_SUCCESS:
                            this._state = 1;
                        case y.default.SERVICE_DATA_ERROR:
                            "ups" === e.data.id && 4 === this._step && (this._resetParams(), this._step = 5, this.report());
                            break;
                        case y.default.AD_GET:
                            5 === this._step && (this._step = 6, this.report());
                            break;
                        case y.default.AD_RETURN:
                            6 === this._step && (this._step = 7, e.data && e.data.data && "success" === e.data.data.state && (this._state = 1), this.report());
                            break;
                        case y.default.AD_SHOW_START:
                        case y.default.AD_SHOW_FAILED:
                            e.data.type !== k.AD_TYPE.FRONT && e.data.data.adtype !== k.AD_TYPE.FRONT || 7 !== this._step || (this._step = 8, e.data.data && e.data.data.totalAdCount > 0 ? this._param.hasad = 1 : this._param.hasad = 0, this.report());
                            break;
                        case y.default.AD_SHOW_COMPLETE:
                            if (8 === this._step) {
                                if (this._step = 9, e.data && e.data.data)
                                    for (var n in e.data.data) this._param[n] = e.data.data[n];
                                this.report()
                            }
                            break;
                        case y.default.PLAYER_REAL_START:
                            break;
                        case y.default.PLAYER_IS_PLAYING:
                            if (this._playstatus === y.default.PLAYER_BUFFER_FULL || this._step < 10) return;
                            this._playstatus = y.default.PLAYER_BUFFER_FULL, this._step = 13;
                            var i = (new Date).getTime() - this._buffertime;
                            this._param.request_time = this._param.whole_time = i.toString(), this._param.waitingType = this._global.getWaitingType(), this._param.waitingState = this._global.waitingInfo.state, "play" !== this._global.getWaitingType() ? this._global.setWaitingType("play") : i > 500 && this.report();
                            break;
                        case y.default.PLAYER_BEGIN_PLAYING:
                            if (this._playstatus2 !== y.default.PLAYER_BUFFER_EMPTY || this._step < 10) return this._playstatus2 = y.default.PLAYER_BUFFER_FULL, this._step < 10 && setTimeout(function () {
                                t._step = 10, t.report()
                            }, 50), void("play" !== this._global.waitingInfo.state && (this._global.waitingInfo.state = "play"));
                            if (this._playstatus2 === y.default.PLAYER_BUFFER_EMPTY) {
                                this._playstatus2 = y.default.PLAYER_BUFFER_FULL, this._step = 12;
                                var o = (new Date).getTime() - this._buffertime;
                                this._param.request_time = this._param.whole_time = o.toString(), this._param.waitingType = this._global.getWaitingType(), this._param.waitingState = this._global.waitingInfo.state, "play" !== this._global.waitingInfo.state ? this._global.waitingInfo.state = "play" : o > 500 && setTimeout(function () {
                                    t.report()
                                })
                            }
                            break;
                        case y.default.PLAYER_BUFFER_EMPTY:
                            if (this._buffertime = (new Date).getTime(), this._param.level = k.QUALITY[k.STREAM_TYPE_MAP[this._global.autoLevel]], this._playstatus === y.default.PLAYER_BUFFER_EMPTY || this._playstatus2 === y.default.PLAYER_BUFFER_INIT || this._step < 10) return;
                            if (window.corex && window.corex.videoElement) {
                                var r = window.corex.collect();
                                r && (this._param.sp = r.sp, this._param.curTime = r.currentTime, this._param.parties = r.parties, this._param.readyState = window.corex.videoElement.readyState, this._param.bfInfo = r.bufferInfo, this._param.bufferLength = r.bufferLength, this._param.cdn = r.cdn, this._param.switched = r.switched, this._param.drop = r.drop, this._param.schedule = r.schedule)
                            }
                            this._playstatus = y.default.PLAYER_BUFFER_EMPTY, this._playstatus2 = y.default.PLAYER_BUFFER_EMPTY, this._step = 11;
                            break;
                        case _.default.RESTART:
                            this._reset()
                        }
                    }
                }, {
                    key: "report",
                    value: function () {
                        var e = {};
                        if (this._param.loading_step = x[this._step], this._step < 11 && this._global.changeProcessState(x[this._step]), this._timeArray[this._step] = (new Date).getTime(), this._step < 11 && (this._param.request_time = 0, this._step > 0 && (this._param.request_time = this._timeArray[this._step] - this._timeArray[this._step - 1]), this._param.whole_time = this._timeArray[this._step] - this._timeArray[0]), this._param.t = (new Date).getTime(), this._param.full = this.getFullValue(), this._param.hd = k.QUALITY[this._global.config.quality] - 1, this._param.state = this._state, this._param.support_type = this._global.config.supportType, S.default.checkABWork() && ("playerinit" === this._param.loading_step || "buffertime" === this._param.loading_step)) {
                            this._param.iscoreab = 1;
                            var t = (0, T.getUaVersion)(),
                                n = t.appname;
                            this._param.appname = n
                        }
                        if (this._param.protocol = this.protocol, this._global._degradeMp4 && (this._param.isDg = 1), this._param.cdntype = this._global.cdntype, this._param.isdrm = this._global.initConfig && this._global.initConfig.isSupportDRM ? 1 : 0, this._param.drmtype = this._global.ups && this._global.ups.drmType, this._param.isP2P = this._global.isP2P || 0, this._param.ql = this._global.enableQueLoad, this._param.switch = this._global.enableSwitch || 0, window.Detector && window.Detector._startPlayTime && (this._param.sp = window.Detector._startPlayTime), window.corex && (12 === this._step || 13 === this._step)) {
                            var i = window.corex.collect();
                            this._param.speedSample = window.corex.collectSpeed(), i && (this._param.bts = i.baseTs, this._param.act = i.actions)
                        }
                        e.format = !1, e.domain = this._logHost, e.url = this._logName, e.params = this._param, e.eventType = "EXP", e.code = "H1511048181", E.default.sendGoldLog(e)
                    }
                }, {
                    key: "_reset",
                    value: function () {
                        this._step = 0, this._state = 0, this._playstatus2 = y.default.PLAYER_BUFFER_INIT, this._timeArray = [(new Date).getTime()], this._param = {}, this._param.cna = this._param.cna = E.default.getCna() || "", this._param.uid = 0, this._param.isvip = 0, this._param.hasad = 1, this._param.us = k.PLAYERSYSTEM.Browser.name, this._param.os = k.PLAYERSYSTEM.Browser.platform, this._param.ccode = this._global.initConfig.ccode, this._param.version = this._global.version, this._param.vid = this._global.mediaData.mediaId, this._param.playersid = this._global.config.playersid, this._global.initConfig.abtest && "b" === this._global.initConfig.abtest ? this._param.abtest = "b" : this._param.abtest = "a", this._resetParams(), this.report()
                    }
                }, {
                    key: "_resetParams",
                    value: function () {
                        this._global.ups ? this._playlistData = this._global.ups : this._playlistData = null, this._playlistData && (this._playlistData.userData && (this._playlistData.userData.ytid ? this._param.uid = this._playlistData.userData.ytid : this._param.uid = this._playlistData.userData.uid, this._param.isvip = this._playlistData.userData.vip), this._param.vvid = this._playlistData.upsData ? this._playlistData.upsData.psid : "", this._param.vid = this._playlistData.videoData ? this._playlistData.videoData.id : "")
                    }
                }]), t
            }(g.default);
        t.default = A
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(19),
            r = i(o),
            a = n(2),
            s = i(a),
            l = n(0),
            u = i(l),
            c = n(1),
            d = i(c),
            h = n(4),
            p = i(h),
            f = n(3),
            g = i(f),
            m = n(24),
            y = i(m),
            v = n(11),
            _ = i(v),
            b = n(8),
            E = n(17),
            k = i(E),
            w = function (e) {
                function t(e) {
                    (0, u.default)(this, t);
                    var n = (0, p.default)(this, (t.__proto__ || (0, s.default)(t)).call(this, e));
                    return n._logHost = "//gm.mmstat.com", n._logName = "/yt/youkuplayer.fdl.subtitles", n._reset(), n
                }
                return (0, g.default)(t, e), (0, d.default)(t, [{
                    key: "onNetStatus",
                    value: function (e) {
                        this._enabled && (this._data = {}, e.code === k.default.SEND_SUBTITLE_LOG && ((0, r.default)(this._data, this._param, e.data), this.report()))
                    }
                }, {
                    key: "report",
                    value: function () {
                        this._data.protocol = this.protocol, this._data.cdntype = this._global.cdntype;
                        var e = {};
                        e.format = !1, e.domain = this._logHost, e.url = this._logName, e.params = this._data, e.eventType = "EXP", _.default.sendGoldLog(e)
                    }
                }, {
                    key: "_reset",
                    value: function () {
                        this._param = {}, this._param.version = this._global.version, this._param.vid = this._global.mediaData.mediaId, this._param.ccode = this._global.initConfig.ccode, this._param.platform = b.PLAYERSYSTEM.Browser.platform, this._param.browser = b.PLAYERSYSTEM.Browser.name, this._param.browser_version = b.PLAYERSYSTEM.Browser.version, this._param.psid = this._global.config.playersid, this._resetParams()
                    }
                }, {
                    key: "_resetParams",
                    value: function () {
                        this._global.ups && (this._playlistData = this._global.ups, this._playlistData && (this._playlistData.upsData && (this._param.psid = this._playlistData.upsData.psid), this._playlistData.userData && (this._playlistData.userData.ytid ? this._param.uid = this._playlistData.userData.ytid : this._param.uid = this._playlistData.userData.uid), this._playlistData.videoData && (this._param.vid = this._playlistData.videoData.id)))
                    }
                }]), t
            }(y.default);
        t.default = w
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(2),
            r = i(o),
            a = n(0),
            s = i(a),
            l = n(1),
            u = i(l),
            c = n(4),
            d = i(c),
            h = n(3),
            p = i(h),
            f = n(24),
            g = i(f),
            m = n(10),
            y = i(m),
            v = n(15),
            _ = i(v),
            b = n(17),
            E = i(b),
            k = n(159),
            w = i(k),
            S = n(11),
            T = i(S),
            x = n(50),
            A = i(x),
            D = n(8),
            L = n(51),
            C = i(L),
            M = function (e) {
                function t(e) {
                    (0, s.default)(this, t);
                    var n = (0, d.default)(this, (t.__proto__ || (0, r.default)(t)).call(this, e));
                    return n.id = "tslog", n._logName = "/yt/vp.vtslog", "050F" === n._global.initConfig.ccode ? (n._logHost = "//gm.mmstat.com", n._logName = "/yt/newtudou.web.ts") : n._logHost = "//yt1.mmstat.com", n.reset(), n
                }
                return (0, p.default)(t, e), (0, u.default)(t, [{
                    key: "onNetStatus",
                    value: function (e) {
                        if (this._enabled) {
                            if (e.level === _.default.ERROR) return this._timer.getRunning() && this._timer.pause(), void(this._enabled = !1);
                            switch (e.code) {
                            case y.default.PLAYER_IS_PLAYING:
                                this._timer.getRunning() || this._timer.start();
                                break;
                            case y.default.PLAYER_PLAY_END:
                                this._timer.getRunning() && this._timer.pause(), this._param.pc = "1", this.report();
                                break;
                            case E.default.REPLAY:
                            case E.default.RESTART:
                                this.reset();
                                break;
                            case y.default.SERVICE_IS_DONE:
                                if ("ups" !== e.data.id) return;
                                this._resetParams();
                                break;
                            case y.default.PLAYER_IS_PAUSED:
                            case y.default.PLAYER_PLAY_STOP:
                            case y.default.PLAYER_PLAY_FAILED:
                                this._timer.getRunning() && this._timer.pause()
                            }
                        }
                    }
                }, {
                    key: "report",
                    value: function () {
                        this._param.cpt = Math.round(this._global.currentTime), this._param.full = this.getFullValue(), this._param.lang = A.default.langCnToLangid(this._global.config.language) || "1", this._param.r = this._signTS(this._param.vvid + this._param.vid + this._param.cpt + this._param.pt + this._param.sn).toString(), this._param.cna = this._cna, this._ext = "", this._global.config && this._global.config.quality && (this._param.cf = D.QUALITY[this._global.config.quality] - 1), this._global.core && this._lastLoadBytes < this._global.core.getBytesLoaded() ? (this._param.clb = this._global.core.getBytesLoaded() - this._lastLoadBytes, this._lastLoadBytes = this._global.core.getBytesLoaded()) : this._param.clb = 0, this._global.config && this._global.config.rate ? this._param.speed = this._global.config.rate : this._param.speed = 1, this._param.protocol = this.protocol, this._param.cdntype = this._global.cdntype, this._param.isdrm = this._global.initConfig && this._global.initConfig.isSupportDRM ? 1 : 0, this._param.drmtype = this._global.ups && this._global.ups.drmType, this._param.level = D.QUALITY[D.STREAM_TYPE_MAP[this._global.autoLevel]];
                        var e = {};
                        e.format = !1, e.domain = this._logHost, e.url = this._logName, e.params = this._param, e.eventType = "EXP", e.code = "", e.type = 1, T.default.sendGoldLog(e)
                    }
                }, {
                    key: "reset",
                    value: function () {
                        this._enabled = !0, this._playlistData = {}, this._param = {}, this._param.version = this._global.version, this._param.vid = this._global.mediaData.mediaId, this._param.uid = 0, this._param.type = "h5", this._param.cf = "0", this._param.cpt = "0", this._param.full = "0", this._param.pc = "0", this._param.clb = 0, this._param.playersid = this._global.config.playersid, this._global.initConfig.abtest && "b" === this._global.initConfig.abtest ? this._param.abtest = "b" : this._param.abtest = "a", this._cna = T.default.getCna() || "";
                        var e = this._global.initConfig.customParam;
                        e && e.client_id && (this._param.iku = this._param.clientid = e.client_id), this._param.sn = 0, this._param.pt = 0, this._param.hi = 5, this._num = 0, this._timer ? this._timer.reset() : (this._timer = new w.default(5e3), this._timer.addEventListener(w.default.TIMER, this._onTimer.bind(this))), this._timer.pause(), this._resetParams()
                    }
                }, {
                    key: "_resetParams",
                    value: function () {
                        this._global.ups ? (this._playlistData = this._global.ups, this._playlistData.videoData && (this._param.vid = this._playlistData.videoData.id), this._playlistData.upsData && (this._param.vvid = this._playlistData.upsData.psid || ""), this._playlistData.userData && (this._playlistData.userData.ytid ? this._param.uid = this._playlistData.userData.ytid : this._param.uid = this._playlistData.userData.uid, this._param.isvip = this._playlistData.userData.vip ? 1 : 0)) : (this._param.vvid = "", this._param.uid = 0, this._param.isvip = 0)
                    }
                }, {
                    key: "_onTimer",
                    value: function () {
                        if (this._global.playerState.state === C.default.PLAY) {
                            this._checkTSLogTimes() && this.report()
                        }
                    }
                }, {
                    key: "_signTS",
                    value: function (e) {
                        if (!e) return 0;
                        var t = 0,
                            n = void 0,
                            i = e.length;
                        for (n = 0; n < i; n++) t = 43 * t + e.charCodeAt(n), t %= 1e10;
                        return t
                    }
                }, {
                    key: "_checkTSLogTimes",
                    value: function () {
                        var e = !1;
                        return this._num++, this._param.pt = 5 * this._num, this._num <= 12 ? this._param.hi = 5 : this._num <= 36 ? this._param.hi = 10 : this._param.hi = 20, e = this._param.pt % this._param.hi == 0, e && this._param.sn++, e
                    }
                }]), t
            }(g.default);
        t.default = M
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(19),
            r = i(o),
            a = n(2),
            s = i(a),
            l = n(0),
            u = i(l),
            c = n(1),
            d = i(c),
            h = n(4),
            p = i(h),
            f = n(3),
            g = i(f),
            m = n(24),
            y = i(m),
            v = n(17),
            _ = i(v),
            b = n(10),
            E = i(b),
            k = n(11),
            w = i(k),
            S = n(39),
            T = n(50),
            x = i(T),
            A = n(8),
            D = n(172),
            L = i(D),
            C = function (e) {
                function t(e) {
                    (0, u.default)(this, t);
                    var n = (0, p.default)(this, (t.__proto__ || (0, s.default)(t)).call(this, e));
                    return n.id = "vvlog", n._logName = "/yt/vp.vdoview", "050F" === n._global.initConfig.ccode && (n._logHost = "//gm.mmstat.com", n._logName = "/yt/newtudou.web.vv"), n._winType = 30, n._reset(), n._playlog = new L.default(n._global), n
                }
                return (0, g.default)(t, e), (0, d.default)(t, [{
                    key: "_resetParams",
                    value: function () {
                        this._global.ups ? this._playlistData = this._global.ups : this._playlistData = null, this._playlistData && (this._playlistData.videoData && (this._videoid = this._playlistData.videoData.id, this._videoOwnerId = this._playlistData.videoData.userid, this._ct = this._playlistData.videoData.category_id, this._cs = this._playlistData.videoData.cs, this._videotype = this._playlistData.videoData.ctype), this._playlistData.userData && (this._playlistData.userData.ytid ? this._viewUserId = this._playlistData.userData.ytid : this._viewUserId = this._playlistData.userData.uid, this._isvip = this._playlistData.userData.vip ? 1 : 0), this._playlistData.showData && (this._showid_v2 = this._playlistData.showData.id, this._showid_v3 = this._playlistData.showData.encodeid, this._show_videotype = this._playlistData.showData.video_type, this._stg = this._playlistData.showData.stage, this._Copyright = this._playlistData.showData.copyright, this._paystate = this._getPayState()), this._playlistData.trialData ? this._playstate = 2 : this._playstate = 1, this._playlistData.upsData && (this._sid = this._playlistData.upsData.psid, this._oip = this._playlistData.upsData.ups_client_netip), this._playlistData.controllerData && (this._Type = 3 === parseInt(this._playlistData.controllerData.play_mode) ? 1 : 0), this._hd = A.QUALITY[this._global.config.quality] - 1, this._totalsec = "0", this._global && this._global.config && this._global.config.duration && (this._totalsec = parseInt(this._global.config.duration)), this._setAdData(), this._playComplete = "0", this._firstSend60 = !0)
                    }
                }, {
                    key: "_setAdData",
                    value: function () {
                        if (this._playlistData.adData && this._playlistData.adData.BFVAL) {
                            var e = void 0,
                                t = this._playlistData.adData.BFVAL,
                                n = [];
                            for (e = 0; e < t.length; e++) {
                                var i = "";
                                t[e].DOT && t[e].DOT.STA && (i += t[e].DOT.STA), t[e].VID && (i += "," + t[e].VID), t[e].AL && (i += "," + t[e].AL), n.push(i)
                            }
                            this._adInfos = n.join(";")
                        }
                    }
                }, {
                    key: "parseVext",
                    value: function () {}
                }, {
                    key: "_getMType",
                    value: function () {
                        var e = "oth";
                        switch (A.PLAYERSYSTEM.Browser.platform) {
                        case "ipad":
                        case "ipod":
                        case "iphone":
                            e = A.PLAYERSYSTEM.Browser.platform.slice(0, 3);
                            break;
                        case "android":
                            e = "adr"
                        }
                        return e
                    }
                }, {
                    key: "_getPayState",
                    value: function () {
                        var e = 0;
                        return this._playlistData && this._playlistData.showData && "vod" === this._playlistData.showData.pay_type[0] && (e = 1), this._playlistData && this._playlistData.showData && "mon" === this._playlistData.showData.pay_type[0] && (e = 2), e
                    }
                }, {
                    key: "onNetStatus",
                    value: function (e) {
                        switch (e.code) {
                        case E.default.AD_SHOW_START:
                            e.data.type === A.AD_TYPE.FRONT && this._firstReportable && (this._number = 59, this._firstReportable = !1, this.report());
                            break;
                        case E.default.PLAYER_REAL_START:
                            this._firstReportable && (this._number = 59, this._firstReportable = !1, this.report());
                            break;
                        case E.default.PLAYER_IS_PLAYING:
                            this._number = 60, this._checkVVlogSend(this._firstSend60), this._firstSend60 = !1;
                            break;
                        case E.default.PLAYER_IS_PAUSED:
                        case E.default.PLAYER_BUFFER_EMPTY:
                            this._isPause || (this._isPause = !0, this._lastCountedTime = (new Date).getTime());
                            break;
                        case E.default.PLAYER_PLAY_END:
                            this._number = 61, this._playComplete = "1", this.report();
                            break;
                        case _.default.REPLAY:
                            this._number = 62, this._pb = "2", this.report();
                            break;
                        case _.default.RESTART:
                            this._reset();
                            break;
                        case _.default.RELOAD:
                            this._number = 63, this.report();
                            break;
                        case E.default.SERVICE_IS_DONE:
                            if ("ups" !== e.data.id) return;
                            this._resetParams(), this._playlog && this._playlog.resetParams(), this._number = 58, this.report()
                        }
                    }
                }, {
                    key: "_checkVVlogSend",
                    value: function () {
                        var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0],
                            t = (new Date).getTime();
                        if (this._REQID = this._global.adConfig.REQID, e) return this.actualDiffTime = 0, this._lastCountedTime = t, this._lastSentVideoReportTime = t, this.report(), void(this._playlog && this._playlog.report(0));
                        if (this._isPause && (this._isPause = !1, this.actualDiffTime += t - this._lastCountedTime), t - this._lastSentVideoReportTime - this.actualDiffTime > 6e4) {
                            this.actualDiffTime = 0, this._lastCountedTime = t, this._lastSentVideoReportTime = t, this.report();
                            var n = !0;
                            this._viewUserId || (n = parseInt(this._global.logConfig.playlog)), this._playlog && n && this._playlog.report(1)
                        }
                    }
                }, {
                    key: "report",
                    value: function () {
                        if (this.enabled) {
                            if (this._global.config) {
                                if (this._supportType = this._global.config.supportType, this._totalsec = parseInt(this._global.config.duration), this._global.config.quality && (this._hd = A.QUALITY[this._global.config.quality] - 1), this._global.ups) {
                                    var e = this._global.ups && this._global.ups.getStreamByQuality(this._global.config.language, this._global.config.quality);
                                    if (e && e.m3u8_url && "hls" === this._supportType) {
                                        var t = /^https?:\/\/([^/]+)/.exec(e.m3u8_url);
                                        this._cdn = t && t[1]
                                    }
                                    var n = this._global.ups.getQualityByLang(this._global.config.language),
                                        i = this._global.ups.getStreamByQuality(this._global.config.language, this._global.config.quality, 1);
                                    if (i.m3u8_url && !/pl-ali\.youku\.com/.test(i.m3u8_url)) {
                                        var o = i.m3u8_url.match(/([^/]+)\.m3u8/);
                                        o && o[1] && (this.fileId = o[1])
                                    }
                                    this._format = n.length - 1
                                } else this._format = "0";
                                var a = this._global.initConfig.customParam;
                                a && a.client_id && (this._pid = a.client_id)
                            }
                            try {
                                this._vvlogext = window.UrchinAplus._yVvlogInfo() || ""
                            } catch (e) {
                                this._vvlogext = ""
                            }
                            var s = {};
                            s.isdrm = this._global.initConfig && this._global.initConfig.isSupportDRM ? 1 : 0, s.autoLevel = this._global.enableAutoLevel ? 1 : 0, s.ql = this._global.enableQueLoad, this.fileId && (s.file_id = this.fileId), this._global._degradeMp4 && (s.isDg = 1), s.drmtype = this._global.ups && this._global.ups.drmType, s.isP2P = this._global.isP2P || 0, s.platform = A.PLAYERSYSTEM.Browser.platform, s.browser = A.PLAYERSYSTEM.Browser.name, s.browser_version = A.PLAYERSYSTEM.Browser.version, s.version = this._global.version, s.sid = this._sid, s.cdn = this._cdn, s.switch = this._global.enableSwitch, s.videoOwnerId = this._videoOwnerId, s.viewUserId = this._viewUserId, s.videoid = this._videoid, s.Tid = this._Tid, s.ct = this._ct, s.cs = this._cs, s.showid_v2 = this._showid_v2, s.showid_v3 = this._showid_v3, s.support_type = this._supportType, s.stg = this._stg, this._adInfos && (s.ad_infos = this._adInfos), this._global.initConfig.abtest && "b" === this._global.initConfig.abtest ? s.abtest = "b" : s.abtest = "a", s.Copyright = this._Copyright, s.hd = this._hd, s.format = this._format, s.winType = this._winType, s.totalsec = this._totalsec, s.referUrl = this._referUrl, s.url = this._url, s.currentPlayTime = Math.round(this._global.currentTime) || "0", s.timestamp = (new Date).getTime(), s.topHdVideo = this._topHdVideo, s.fct = this._fct, s.number = this._number, s.show_videotype = this._show_videotype, s.fullflag = this.getFullValue(), s.playComplete = this._playComplete, s.unCookie = this._unCookie, s.frame = this._frame, s.continuationPlay = this._global.config.continuePlay ? "1" : "0", s.mtype = this._getMType(), s.langid = x.default.langCnToLangid(this._global.config.language) || "", s.ctype = this._ctype, s.ev = 1, s.tk = this._tk, s.oip = this._oip, s.protocol = this.protocol, s.cdntype = this._global.cdntype, s.isvip = this._isvip, s.paystate = this._getPayState(), s.playstate = this._playstate, s.Type = this._Type, 1 === this._Type && (s.fob = this._fob, s.fpo = this._fpo, s.fid = this._fid), s.pid = this._pid, s.emb = this._emb, s.cna = this._cna, s.ikuflag = "n", s.source = "video", s.playersid = this._playersid, s.danmu = this._global.config.danmu ? this._global.config.danmu : 0, s.pb = this._pb, s.videotype = this._videotype, this._global.adConfig.REQID && "" !== this._global.adConfig.REQID ? s.REQID = this._global.adConfig.REQID : s.REQID = null, s.is_pread = 1, 59 !== s.number && 62 !== s.number || (s.is_pread = null, s.REQID = null), (0, r.default)(s, this._vvlogext);
                            var l = (0, S.formatParams)(s, !0),
                                u = {};
                            u.format = !0, u.domain = this._logHost, u.url = this._logName, u.params = l, u.eventType = "EXP", u.code = "", u.type = 1, w.default.sendGoldLog(u)
                        }
                    }
                }, {
                    key: "_reset",
                    value: function () {
                        this._enabled = !0, this._firstReportable = !0, this._firstSend60 = !0, this._number = 59, this.actualDiffTime = 0, this._playlistData = {}, this._videoid = this._global.mediaData.mediaId || "", this._ctype = this._global.initConfig.ccode, this._cna = w.default.getCna() || "", this._Tid = "0", this._format = "0", this._topHdVideo = "", this._tk = "", this._pid = "", this._videotype = "", this._ikuflag = "n", this._source = "video", this.winType = 30, this._adInfos = "", this._referUrl = "light" === this._global.initConfig.playScene ? A.PLAYERSYSTEM.pageUrl : A.PLAYERSYSTEM.refer, this._url = A.PLAYERSYSTEM.pageUrl, this._numberstamp = (new Date).getTime(), this._ev = 1, this._fid = "", this._fob = "", this._fpo = "", this._fct = "", this._unCookie = "", this._frame = "", this._emb = "", this._pb = "0", this._fid = this._global.initConfig.Fid || "", this._fob = this._global.initConfig.Ob || "", this._fpo = this._global.initConfig.Pt || "", this._global.initConfig.vvlogconfig && (this._fct = this._global.initConfig.vvlogconfig.plchid || "", this._unCookie = this._global.initConfig.vvlogconfig.unCookie || "", this._frame = this._global.initConfig.vvlogconfig.frame || "", this._emb = this._global.initConfig.vvlogconfig.embedid || "", this._pb = this._global.initConfig.vvlogconfig.pb || "0"), this._isPause = !1, this._playersid = this._global.config.playersid, this._playlog && this._playlog.reset(), this._resetParams()
                    }
                }]), t
            }(y.default);
        t.default = C
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(0),
            r = i(o),
            a = n(1),
            s = i(a),
            l = n(8),
            u = n(100),
            c = i(u),
            d = n(6),
            h = function () {
                function e(t) {
                    (0, r.default)(this, e), this.player = t.player, this.global = t.global, this._hlsErrorInfo = {
                        hlsError: !1,
                        hlsErrorCount: 0,
                        timer: null
                    }, this._hlsErrorData = null, this._initTimeStamp = (new Date).getTime(), this._reloadCount = 0, this._videoTryCount = 0, this.realError = !1
                }
                return (0, s.default)(e, [{
                    key: "reset",
                    value: function () {
                        this._hlsErrorInfo = {
                            hlsError: !1,
                            hlsErrorCount: 0,
                            timer: null,
                            error: null
                        }, this.realError = !1, this._hlsErrorData = null, this.updateCheckTime(), this._reloadCount = this.global.config.reload, this._videoTryCount = 0
                    }
                }, {
                    key: "checkTimeout",
                    value: function () {
                        return (new Date).getTime() - this._initTimeStamp >= 144e5
                    }
                }, {
                    key: "updateCheckTime",
                    value: function () {
                        this._initTimeStamp = (new Date).getTime()
                    }
                }, {
                    key: "sendHlsLog",
                    value: function (e) {
                        var t = {
                            type: e.type,
                            detail: e.details,
                            fatal: e.fatal,
                            version: this.global.version
                        };
                        e.response ? (t.httpcode = e.response.code, t.text = e.response.text) : (t.httpcode = 0, t.text = "null"), e.frag && (t.mainsrc = encodeURIComponent(e.frag.baseurl), t.segsrc = encodeURIComponent(e.frag.relurl)), e.context && (t.mainsrc = encodeURIComponent(e.context.url)), t.tryCount = this._hlsErrorInfo.hlsErrorCount, t.reloadCount = this._reloadCount, t.httpType = location.protocol;
                        var n = [];
                        for (var i in t) n.push(i + "=" + t[i]);
                        try {
                            window.goldlog.record("/yt/youkuplayer.fdl.ykplayer_hlserror", "EXP", n.join("&"), "H1511971701")
                        } catch (e) {
                            (0, d.sendlog)("//gm.mmstat.com/yt/youkuplayer.fdl.ykplayer_hlserror?" + n.join("&") + "&t=" + (new Date).getTime())
                        }
                    }
                }, {
                    key: "triggerVideoSegError",
                    value: function () {}
                }, {
                    key: "triggerError",
                    value: function (e) {
                        for (var t = arguments.length, n = Array(t > 1 ? t - 1 : 0), i = 1; i < t; i++) n[i - 1] = arguments[i];
                        "video" === e ? this.triggerVideoError.apply(this, n) : "hls" === e && this.triggerHlsError.apply(this, n)
                    }
                }, {
                    key: "triggerHlsError",
                    value: function (e) {
                        var t = this;
                        if (this._hlsErrorInfo.hlsError = !0, this._hlsErrorInfo.hlsErrorCount++, this._hlsErrorData = e, "keySystemError" === e.type) return this.realError = !0, this.sendHlsLog(e), void(e.details !== c.default.KEY_SYSTEM_LICENSE_REQUEST_FAILED || 60103 !== e.code && 60007 !== e.code ? e.details === c.default.DRM_FRAG_LOAD_ERROR ? this.showError("hls", e) : (this.showError("hls", e), this.player._destroyPlayer()) : this._reloadCount < 2 ? (this._reloadCount++, this.player.reload()) : (this._reloadCount = 0, this.showError("hls", e)));
                        if ("pipelineDecodeError" === e.details && (this.realError = !0, this.sendHlsLog(e), this.global.staticM3u8 = !1, this.global.enableAutoLevel = !1, this.global.enableSubtitle = !1, !this.global.initConfig.isSupportDRM || !this.player.isHollywoodDrm())) return this.player.setSupportType("mp4"), this.global._degradeMp4 = !0, void this.player.reload(!0);
                        if (("bufferAppendError" === e.details || "pipelineDecodeError" === e.details) && this.global.initConfig.isSupportDRM && this.player.isHollywoodDrm()) return this.player._destroyPlayer(), e.type = 4, this.showError("hls", e), void this.showError("hls", e);
                        if ("networkError" === e.type) {
                            if (this.realError) return;
                            if (("manifestParsingError" === e.details || "manifestLoadError" === e.details || "manifestLoadTimeOut" === e.details) && (e.fatal || this._hlsErrorInfo.hlsErrorCount > 5)) return this.realError = !0, this.sendHlsLog(e), this.player.setSupportType("mp4"), this.global._degradeMp4 = !0, this.global.staticM3u8 = !1, this.global.enableAutoLevel = !1, this.global.enableSubtitle = !1, void this.player.reload(!0);
                            if (("fragLoadError" === e.details || "fragLoadTimeOut" === e.details) && (e.fatal || this._hlsErrorInfo.hlsErrorCount > 5)) return this.realError = !0, void this._timeoutReload(!1, e, "hls");
                            e.fatal && this.sendHlsLog(e)
                        } else {
                            if (!e.fatal) return;
                            this.sendHlsLog(e), this._hlsErrorInfo.hlsError = !0, this._hlsErrorInfo.hlsErrorCount++, this._hlsErrorInfo.hlsErrorCount > 5 && this._delayHlsError(e);
                            var n = "bufferAppendError" === e.details || "bufferStalledError" === e.details ? 8e3 : 2e3;
                            this._hlsErrorData = e, this._hlsErrorInfo.timer && (clearTimeout(this._hlsErrorInfo.timer), this._hlsErrorInfo.timer = null), this._hlsErrorInfo.timer = setTimeout(function () {
                                t._delayHlsError(e)
                            }, n)
                        }
                    }
                }, {
                    key: "triggerVideoError",
                    value: function (e) {
                        var t = this.checkTimeout(),
                            n = this.player.getSupportType();
                        if (t) return void this._timeoutReload(!0, e, "video");
                        if ("hls" === n) {
                            if (e.error instanceof MediaError) return;
                            if (this._reloadCount < 4) return this._reloadCount++, void this._timeoutReload(!1, e, "video")
                        } else {
                            if (this._videoTryCount < 4) return this._videoTryCount++, void this._videoRetry(e);
                            this._timeoutReload(!1, e, "video")
                        }
                    }
                }, {
                    key: "_videoRetry",
                    value: function (e) {
                        var t = this.player._player.control._videoCore.video,
                            n = t.currentTime,
                            i = e.url;
                        t.src = i, t.currentTime = n, t.play()
                    }
                }, {
                    key: "_delayHlsError",
                    value: function (e) {
                        if (this._hlsErrorInfo.hlsError) {
                            this._hlsErrorInfo.hlsError = !1, this._hlsErrorInfo.hlsErrorCount = 0;
                            var t = this.checkTimeout();
                            this._timeoutReload(t, e, "hls")
                        }
                        this._hlsErrorData = null, window.clearTimeout(this._hlsErrorInfo.timer), this._hlsErrorInfo.timer = null
                    }
                }, {
                    key: "_timeoutReload",
                    value: function (e, t, n, i) {
                        e && (this.player.reload(), this.player.sendComLog({
                            degradetype: 3,
                            errortype: 9
                        })), this.updateCheckTime(), this._reloadCount > 3 || i ? this.showError(n, t) : (this._reloadCount++, this.player.reload())
                    }
                }, {
                    key: "showError",
                    value: function (e, t) {
                        this._hlsErrorInfo.hlsErrorCount = 0;
                        var n = {
                            type: e,
                            supportType: this.player.getSupportType(),
                            data: t
                        };
                        this.player.emit(l.MessageConfig["player.error"], n), this.player.onError();
                        var i = {
                            report_type: 4,
                            cdn_url: t.url ? t.url : t.frag && t.frag.relurl ? t.frag.relurl : t.context && t.context.url ? t.context.url : ""
                        };
                        this.player._accsService && this.player._accsService.send(2, i), this._hlsErrorInfo.hlsError = !1
                    }
                }]), e
            }();
        t.default = h
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(0),
            r = i(o),
            a = n(1),
            s = i(a),
            l = n(9),
            u = i(l),
            c = n(30),
            d = i(c),
            h = function () {
                function e(t) {
                    var n = this;
                    if ((0, r.default)(this, e), this.container = t.container, this.isfullScreen = !1, this.fullScreenParentDom = this.container.parentElement, this.fullScreenNextDom = null, this.playVideo = null, this.innerScreen = !1, this.enableFullscreenScroll = t.enableFullscreenScroll, this.enableFullscreenScroll) {
                        var i = !0;
                        this.onscroll = function () {
                            i && (i = !1, setTimeout(function () {
                                i = !0, 0 === (document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop) && (document.body.style.overflow = "hidden")
                            }, 100))
                        }, t.host.on(d.default.dashboardStateChange, function (e) {
                            if (n.isfullScreen) {
                                var t = document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop;
                                e ? (t < window.innerHeight && (n.lastHideScrollTop = t), n.hideScroller()) : t > 0 && n.showScroller()
                            }
                        })
                    }
                }
                return (0, s.default)(e, [{
                    key: "_bindMouseWheelEvent",
                    value: function (e) {
                        this._onmousewheel = function (t) {
                            var n = void 0 !== t.wheelDelta ? t.wheelDelta : -t.detail;
                            e(n)
                        }, "onmousewheel" in document.body ? document.body.addEventListener("mousewheel", this._onmousewheel) : document.body.addEventListener("DOMMouseScroll", this._onmousewheel)
                    }
                }, {
                    key: "_clearMouseWheelEvent",
                    value: function () {
                        "onmousewheel" in document.body ? document.body.removeEventListener("mousewheel", this._onmousewheel) : document.body.removeEventListener("DOMMouseScroll", this._onmousewheel)
                    }
                }, {
                    key: "fullScreenInPage",
                    value: function () {
                        this.bodyOriginalOverflow = getComputedStyle(document.body).overflow, document.body.style.overflow = "hidden", this.innerScreen = !0, this.findPlayingVideo(), this.fullScreenNextDom = this.getNextElementSibling(this.container), u.default.addClass(this.container, "youku_player_fullpage"), "BODY" !== this.fullScreenParentDom.tagName && document.body.appendChild(this.container), this.playVideo && (this.playVideo.play(), this.playVideo = null)
                    }
                }, {
                    key: "exitFullscreenInPage",
                    value: function () {
                        this.innerScreen && (this.resetScroller(), u.default.removeClass(this.container, "youku_player_fullpage"), this.findPlayingVideo(), "BODY" !== this.fullScreenParentDom.tagName && (this.fullScreenNextDom ? this.fullScreenParentDom.insertBefore(this.container, this.fullScreenNextDom) : this.fullScreenParentDom.appendChild(this.container)), this.playVideo && (this.playVideo.play(), this.playVideo = null))
                    }
                }, {
                    key: "getNextElementSibling",
                    value: function (e) {
                        return e.nextElementSibling ? e.nextElementSibling : null
                    }
                }, {
                    key: "findPlayingVideo",
                    value: function () {
                        var e = this.container.getElementsByTagName("video");
                        if (e && e.length > 0)
                            for (var t = 0, n = e.length; t < n; t++)
                                if (!e[t].paused) {
                                    this.playVideo = e[t];
                                    break
                                }
                    }
                }, {
                    key: "showScroller",
                    value: function () {
                        this.lastHideScrollTop = null, document.body.style.overflowY = "overlay", "overlay" !== document.body.style.overflowY && (document.body.style.overflowY = "auto"), document.body.style.overflowX = "hidden", document.body.style.setProperty("-ms-overflow-style", "auto")
                    }
                }, {
                    key: "hideScroller",
                    value: function () {
                        document.body.style.overflow = "hidden !important", document.body.style.overflowY = "hidden", document.body.style.setProperty("-ms-overflow-style", "none")
                    }
                }, {
                    key: "resetScroller",
                    value: function () {
                        document.body.style.overflow = this.bodyOriginalOverflow || "auto"
                    }
                }, {
                    key: "fullScreen",
                    value: function () {
                        var e = this;
                        u.default.addClass(this.container, "youku_player_prefullscreen"), window.scrollTo(0, 0), this._requestFullScreen(), this.bodyOriginalOverflow = getComputedStyle(document.body).overflow, document.body.style.overflow = "hidden", this.enableFullscreenScroll && (clearTimeout(this.fullscreenTime), this.fullscreenTime = setTimeout(function () {
                            e.isfullScreen = !0, e._bindMouseWheelEvent(function (t) {
                                var n = document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop;
                                (t < 0 || e.lastHideScrollTop > 0 || n > 0) && e.showScroller()
                            }), window.addEventListener("scroll", e.onscroll), e.fullScreenNextDom = e.getNextElementSibling(e.container), e.findPlayingVideo(), e.container !== document.body.firstChild && (document.body.insertBefore(e.container, document.body.firstChild), e.playVideo && (e.playVideo.play(), e.playVideo = null)), e.playVideo && (e.playVideo.play(), e.playVideo = null), u.default.removeClass(e.container, "youku_player_prefullscreen"), u.default.addClass(e.container, "youku_player_fullscreen")
                        }, 200))
                    }
                }, {
                    key: "_requestFullScreen",
                    value: function () {
                        if (document.documentElement.requestFullscreen) document.documentElement.requestFullscreen();
                        else if (document.documentElement.webkitRequestFullscreen) document.documentElement.webkitRequestFullscreen();
                        else if (document.documentElement.mozRequestFullScreen) document.documentElement.mozRequestFullScreen();
                        else if (document.documentElement.msRequestFullscreen) document.documentElement.msRequestFullscreen();
                        else try {
                            if (window.ActiveXObject) {
                                var e = new window.ActiveXObject("WScript.Shell");
                                e.SendKeys("{F11}")
                            } else console.log("not support fullscreen")
                        } catch (e) {
                            console.log("not support fullscreen")
                        }
                    }
                }, {
                    key: "exitFullscreen",
                    value: function () {
                        document.exitFullscreen ? document.fullscreenElement && document.exitFullscreen() : document.msExitFullscreen ? document.msExitFullscreen() : document.mozCancelFullScreen ? document.mozCancelFullScreen() : document.webkitExitFullscreen ? document.webkitExitFullscreen() : console.log("exit fullscreen failed"), this.isfullScreen = !1, u.default.removeClass(this.container, "youku_player_prefullscreen"), this.container.style.height = "", this.resetScroller(), this.enableFullscreenScroll && (this._clearMouseWheelEvent(), window.removeEventListener("scroll", this.onscroll), this.findPlayingVideo(), "BODY" !== this.fullScreenParentDom.tagName && (this.fullScreenNextDom ? this.fullScreenNextDom.parentNode !== this.fullScreenParentDom ? this.fullScreenParentDom.firstChild ? this.fullScreenParentDom.insertBefore(this.container, this.fullScreenParentDom.firstChild) : this.fullScreenParentDom.appendChild(this.container) : this.fullScreenParentDom.insertBefore(this.container, this.fullScreenNextDom) : this.fullScreenParentDom.appendChild(this.container), this.playVideo && (this.playVideo.play(), this.playVideo = null)), u.default.removeClass(this.container, "youku_player_fullscreen"))
                    }
                }]), e
            }();
        t.default = h
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function o(e) {
            e.preventDefault(), window.event && (window.event.returnValue = !1, window.event.cancelBubble = !0)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var r = n(37),
            a = i(r),
            s = n(0),
            l = i(s),
            u = n(1),
            c = i(u),
            d = function () {
                function e(t, n, i) {
                    var o = this;
                    (0, l.default)(this, e), this._player = t, this._container = n, this.blurHandler = this.blurHandler.bind(this), this.focusHandler = this.focusHandler.bind(this), this.registerEvents(), this.isFocus = !1, this.keyConfig = i && i.Keyboard ? i.Keyboard : {}, this.keyManager = new p, this.keyManager.bindEvents(), this.keyManager.onPress(p.KEY.ESC, function () {
                        o._player.global.playerState.webFullscreen && !o._player.global.config.simpleMode ? o._player.exitWebFullScreen() : o._player.global.playerState.fullscreen && o._player.exitFullscreen()
                    }), this.keyManager.onPress(p.KEY.SPACE, function () {
                        o._player.switchPlayPause()
                    }), this.keyManager.onPress(p.KEY.UP, function () {
                        o._player.upVolume()
                    }, !0).check(function () {
                        return !(!o._player.global.playerState.fullscreen && !o._player.global.playerState.webFullscreen) || o.isFocus
                    }), this.keyManager.onPress(p.KEY.DOWN, function () {
                        o._player.downVolume()
                    }, !0).check(function () {
                        return !(!o._player.global.playerState.fullscreen && !o._player.global.playerState.webFullscreen) || o.isFocus
                    }), this.keyManager.onHold(p.KEY.RIGHT, 300, function () {
                        o._player.fastForward()
                    }, function () {
                        o._player.cancelFastForward()
                    }), this.keyManager.onPress(p.KEY.RIGHT, function () {
                        o._player.forwardPlay()
                    }), this.keyManager.onPress(p.KEY.LEFT, function () {
                        o._player.backPlay()
                    })
                }
                return (0, c.default)(e, [{
                    key: "blurHandler",
                    value: function () {
                        this.isFocus = !1
                    }
                }, {
                    key: "focusHandler",
                    value: function () {
                        this.isFocus = !0
                    }
                }, {
                    key: "registerEvents",
                    value: function () {
                        this._container.addEventListener("blur", this.blurHandler), this._container.addEventListener("focus", this.focusHandler)
                    }
                }, {
                    key: "destroy",
                    value: function () {
                        this._container.removeEventListener("blur", this.blurHandler), this._container.removeEventListener("focus", this.focusHandler), this.keyManager.clear(), this.keyManager.destroy()
                    }
                }]), e
            }();
        t.default = d;
        var h = function () {
                function e(t) {
                    var n = t.key,
                        i = t.onStart,
                        o = t.onEnd,
                        r = t.delay,
                        a = t.continuous;
                    (0, l.default)(this, e), this.key = n, this.onStart = i, this.onEnd = o, this.delay = r, this.continuous = a
                }
                return (0, c.default)(e, [{
                    key: "check",
                    value: function (e) {
                        this.checker = e
                    }
                }, {
                    key: "fire",
                    value: function (e) {
                        this.checker && !this.checker() || (o(e), this.launched && !this.continuous || (this.launched = !0, this.onStart()))
                    }
                }, {
                    key: "start",
                    value: function (e) {
                        var t = this;
                        this.checker && !this.checker() || (o(e), this.launched || this.launching || (this.launching = !0, this.timer = setTimeout(function () {
                            t.launched = !0, t.onStart && t.onStart()
                        }, this.delay)))
                    }
                }, {
                    key: "end",
                    value: function (e) {
                        return clearTimeout(this.timer), this.launching = !1, !!this.launched && (this.launched = !1, e && o(e), this.onEnd && this.onEnd(), !0)
                    }
                }]), e
            }(),
            p = function () {
                function e() {
                    (0, l.default)(this, e), this.config = {
                        press: {},
                        hold: {}
                    }
                }
                return (0, c.default)(e, [{
                    key: "bindEvents",
                    value: function () {
                        var e = this;
                        this._onKeyDown = function (t) {
                            if (/input|textarea/i.test(t.target.tagName)) return !1;
                            var n = t.keyCode;
                            e.config.press[n] && !e.config.hold[n] ? e.config.press[n].fire(t) : e.config.hold[n] && e.config.hold[n].start(t)
                        }, this._onKeyUp = function (t) {
                            if (/input|textarea/i.test(t.target.tagName)) return !1;
                            var n = t.keyCode;
                            if (e.config.hold[n]) {
                                var i = e.config.hold[n].end(t);
                                e.config.press[n] && !i && e.config.press[n].fire(t)
                            }
                            e.config.press[n] && e.config.press[n].end(t)
                        }, window.addEventListener("blur", function () {
                            (0, a.default)(e.config.hold).forEach(function (t) {
                                e.config.hold[t].end()
                            })
                        }), document.addEventListener("keydown", this._onKeyDown), document.addEventListener("keyup", this._onKeyUp)
                    }
                }, {
                    key: "onPress",
                    value: function (e, t, n) {
                        var i = new h({
                            key: e,
                            onStart: t,
                            continuous: n
                        });
                        return this.config.press[e] = i, i
                    }
                }, {
                    key: "onHold",
                    value: function (e, t, n, i) {
                        var o = new h({
                            key: e,
                            onStart: n,
                            onEnd: i,
                            delay: t
                        });
                        return this.config.hold[e] = o, o
                    }
                }, {
                    key: "clear",
                    value: function (e, t) {
                        e && !t ? (delete this.config.hold[e], delete this.config.press[e]) : e && t ? delete this.config[t][e] : this.config = {
                            press: {},
                            hold: {}
                        }
                    }
                }, {
                    key: "destroy",
                    value: function () {
                        document.removeEventListener("keydown", this._onKeyDown), document.removeEventListener("keyup", this._onKeyUp)
                    }
                }]), e
            }();
        p.KEY = {
            ESC: 27,
            SPACE: 32,
            UP: 38,
            DOWN: 40,
            LEFT: 37,
            RIGHT: 39
        }
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(18),
            r = i(o),
            a = n(37),
            s = i(a),
            l = n(19),
            u = i(l),
            c = n(72),
            d = i(c),
            h = n(70),
            p = i(h),
            f = n(0),
            g = i(f),
            m = n(1),
            y = i(m),
            v = n(184),
            _ = n(15),
            b = i(_),
            E = n(10),
            k = i(E),
            w = n(17),
            S = i(w),
            T = n(11),
            x = i(T),
            A = n(163),
            D = i(A),
            L = n(8),
            C = n(103);
        n(127);
        var M = n(60),
            I = i(M),
            R = n(182),
            P = i(R),
            N = n(66),
            O = i(N),
            j = n(179),
            U = i(j),
            B = n(30),
            F = i(B),
            z = n(26),
            H = n(97),
            Y = i(H),
            V = n(6),
            q = n(157),
            G = i(q),
            Q = n(9),
            W = i(Q),
            K = n(178),
            X = i(K),
            J = n(94),
            Z = i(J),
            $ = n(181),
            ee = i($),
            te = n(161),
            ne = i(te),
            ie = n(177),
            oe = i(ie),
            re = n(183),
            ae = i(re),
            se = location.protocol,
            le = /Tesla\//.test(navigator.userAgent),
            ue = (0, V.getParamFromUrl)(location.url),
            ce = function () {
                function e(t, n) {
                    var i = this;
                    if ((0, g.default)(this, e), this.container = t, this._emitter = new I.default.EventEmitter, this._emitter.setMaxListeners(50), this.global = new L.Global(n, this._emitter), this.version = this.global.version, this._initDom(), this._uiManage = new P.default(this.global, this.container, this), this._initLog(), this._service = new v.ServiceManager(this.global), this._accsService = null, this._adplugin = le ? null : O.default.create(this.global), this._ykadplugin = le ? null : new ae.default(this.global), this._errorControl = new oe.default({
                        player: this,
                        global: this.global
                    }), this._fullScreenPlugin = new X.default({
                        container: this.container,
                        host: this,
                        enableFullscreenScroll: this.global.initConfig.enableFullscreenScroll
                    }), this._adplugin && this._createAdParam(), !ne.default.canUseHTML5Player()) return this.sendComLog({
                        runoff: 1,
                        degradetype: 3,
                        errortype: 7
                    }), n.disableFlash || !this._checkFlashDisable() ? this.emit("notesupport", {
                        type: "notesupport"
                    }) : setTimeout(function () {
                        i.switchFlashPlayer()
                    }, 300), !1;
                    this.browserSupportLevel = this.global.browserSupportLevel = this._checkBrowserSupportLevel(this.global.initConfig.chromeVersion), /support_type=mp4/.test(location.search) ? (this.setSupportType("mp4"), this.browserSupportLevel = this.global.browserSupportLevel = 0) : /support_type=m3u8/.test(location.search) && this.setSupportType("m3u8"), 2 === this.browserSupportLevel && (this.global.enableAutoLevel = 0, this.global.disabledQuality = []), this._service.on(b.default.NET_STATUS, function (e) {
                        i._onServiceNetstatus(e)
                    }), this._ykadplugin.on(b.default.NET_STATUS, function (e) {
                        switch (e.state) {
                        case N.ADState.CUTPLAYING:
                            i.onCUTAdPlay(e._data);
                            break;
                        case N.ADState.END:
                            i.onCUTAdend(e._data)
                        }
                    }), this.global.mediaData.mediaId && this._service.initialize(), this.loginStatusBind()
                }
                return (0, y.default)(e, [{
                    key: "_adBootstrap",
                    value: function () {
                        var e = void 0;
                        this.global.ups && this.global.ups.videoData && (e = -1 !== this.global.ups.videoData.type.indexOf("politics_sensitive")), e || le ? (this._adplugin = null, this.adThaw({
                            type: N.ADType.FRONT
                        })) : this._initAdPlugin(), this.onAdReady()
                    }
                }, {
                    key: "_createAdParam",
                    value: function () {
                        this.global.initConfig.fullScreen = this.global.playerState.fullscreen, this.global.initConfig.quality = this.global.config.quality, this.global.adparam = O.default.invoke(this._adplugin, "getRequestParam", this.global.initConfig), this.global.adparam && this.global.adparam.vs && (this.global.adparam.avs = this.global.adparam.vs)
                    }
                }, {
                    key: "_initDom",
                    value: function () {
                        var e = this;
                        this.global.config.height && this.global.config.width ? (this.container.style.width = this.global.config.width + "px", this.container.style.height = this.global.config.height + "px") : this.global.config = {
                            height: this.container.offsetHeight,
                            width: this.container.offsetWidth
                        }, this._playerfilm = document.createElement("div"), this._playerfilm.className = "youku-film-player", W.default.addClass(this.container, "youku-player"), this.container.tabIndex = -1, this.container.appendChild(this._playerfilm), this.on(L.MessageConfig.uimessage, function (t) {
                            switch (t.type) {
                            case "reload":
                                e.reload(t.data);
                                break;
                            case "resetVid":
                                e.playByVid(t.data);
                                break;
                            case "playnext":
                                e.playNext(t.data);
                                break;
                            case "seek":
                                var n = t.time || 0;
                                e.seek(n)
                            }
                        }), this._eventLogListener = new ee.default({
                            container: this.container,
                            emitter: this._emitter,
                            global: this.global
                        })
                    }
                }, {
                    key: "_onServiceNetstatus",
                    value: function (e) {
                        if (this._log && this._log.onNetStatus(e), e.level === b.default.ERROR && "end" !== e.data.id) {
                            if (this.global && this.global.playerState && "deal" === this.global.playerState.accUpsState) return this._uiManage.hideLoading(), void this._sendAccLog(99, {}, 501);
                            if (this.global.ups && this.global.ups.errorData) return this._uiManage.setErrorData(this.global.ups.errorData), void this.sendComLog({
                                runoff: 1,
                                degradetype: 4,
                                errortype: 1,
                                errcode: this.global.ups.errorData.code
                            });
                            var t = "";
                            return e.data.errorCode && (t = e.data.errorCode), void(e.data && e.data.upsData ? this._uiManage.setErrorData(t, 0, e.data.upsData) : t && this._uiManage.setErrorData(t, 1, e.data))
                        }
                        switch (e.code) {
                        case k.default.SERVICE_IS_READY:
                            this._upsService = new v.UpsService(this.global, this), this._accsService = new v.AccService(this.global), this._service.addSyncService(new v.CustomService(this.global)), this._service.addSyncService(new v.CnaService(this.global)), this._service.addSyncService(this._upsService), this._service.addSyncService(new v.EndService(this.global)), this._service.addSyncService(new v.ErrorService(this.global)), this.emit(N.ADEvents.ADPLUGIN_STATE_CHANGE, {
                                state: N.ADState.SERVICESTART,
                                type: N.ADType.FRONT
                            }), this._service.start();
                            break;
                        case k.default.SERVICE_IS_DONE:
                            "ups" === e.data.id && "success" === e.data.serviceState && (this._player ? this._resetPlayer() : this._init(), this.emit(N.ADEvents.ADPLUGIN_STATE_CHANGE, {
                                state: N.ADState.SERVICEEND,
                                type: N.ADType.FRONT
                            }), this._accsService && this._accsService.start()), this.global.emit(e.code, {
                                code: e.code,
                                data: e.data
                            }), "ups" === e.data.id && this.global.ups && this.global.ups.securityData && 304 === this.global.ups.securityData.code && this.sendComLog({
                                runoff: 1,
                                degradetype: 4,
                                errortype: 3
                            });
                            break;
                        case k.default.SERVICE_DATA_ERROR:
                            if ("ups" !== e.data.id) return;
                            this.global.ups && this.global.ups.errorData && (this.emit(L.MessageConfig["player.ready"], {}), this.global.initConfig.events && this.global.initConfig.events.onReady && this.global.initConfig.events.onReady(), this._uiManage.setErrorData(this.global.ups.errorData), this.sendComLog({
                                runoff: 1,
                                degradetype: 4,
                                errortype: 1,
                                errcode: this.global.ups.errorData.code
                            }))
                        }
                        e.level !== b.default.NOTE || this._is_start || this.start()
                    }
                }, {
                    key: "_init",
                    value: function () {
                        function e() {
                            return t.apply(this, arguments)
                        }
                        var t = (0, p.default)(d.default.mark(function e() {
                            var t, n = this;
                            return d.default.wrap(function (e) {
                                for (;;) switch (e.prev = e.next) {
                                case 0:
                                    return t = "http:", this.setSupportType(this._getSupportType(t)), e.next = 4, this.global.deal(this.forceDegradeToMP4);
                                case 4:
                                    if ("lower-mp4" !== this._supportType) {
                                        e.next = 11;
                                        break
                                    }
                                    if (this.global.qualityList && 0 !== this.global.qualityList.length) {
                                        e.next = 10;
                                        break
                                    }
                                    return this.global.initConfig.disableFlash || !this._checkFlashDisable() ? (this.sendComLog({
                                        runoff: 1,
                                        degradetype: 1,
                                        errortype: 4
                                    }), this.switchVoDomain(), this.emit("notesupport", {
                                        type: "notesupport"
                                    })) : (this.sendComLog({
                                        runoff: 1,
                                        degradetype: 1,
                                        errortype: 2
                                    }), setTimeout(function () {
                                        n.switchFlashPlayer()
                                    }, 300)), e.abrupt("return");
                                case 10:
                                    this.sendComLog({
                                        runoff: 1,
                                        degradetype: 1,
                                        errortype: 3
                                    });
                                case 11:
                                    this._uiManage.hidePreLayer(), this._createPlayer(), this._initServiceEvent(), "hls" === this._supportType && "https:" === se || ((0, V.printLog)("_init _initAdPlugin this._supportType:" + this._supportType + " PROTOCOL:" + se), this._adBootstrap()), this.global.config.simpleMode && this.webFullScreen();
                                case 16:
                                case "end":
                                    return e.stop()
                                }
                            }, e, this)
                        }));
                        return e
                    }()
                }, {
                    key: "_showmethemoney",
                    value: function (e) {
                        window[e.replace(/../g, function (e) {
                            return String.fromCharCode(parseInt(e, 21))
                        })] = new Uint8Array(e.split("").map(function (e) {
                            return Math.round(e.charCodeAt(0) * Math.random() * 2)
                        }))
                    }
                }, {
                    key: "_getDecodeKey",
                    value: function (e) {
                        var t = e.encryptR_server,
                            n = e.stream_ext ? e.stream_ext.copyright_key : null,
                            i = null;
                        return this.global.initConfig.isSupportDRM && t && n && window._sce_dlgtqred && "function" == typeof window._sce_dlgtqred && (i = window._sce_dlgtqred(this.global.R1, t, n), this._showmethemoney("4b4g59543c4h5g29"), this._showmethemoney("4b4b4b4b4k4h5f32")), i
                    }
                }, {
                    key: "_geneForbidResolution",
                    value: function () {
                        var e = this.global.ups && this.global.ups._vipData;
                        return this.global.ups.userData && this.global.ups.userData.uid ? e && e.hd3 ? [] : ["mp4hd3v2", "mp4hd3"] : ["mp4hd2v2", "mp4hd2", "mp4hd3v2", "mp4hd3"]
                    }
                }, {
                    key: "_adaptPlayerConfig",
                    value: function (e) {
                        var t = this,
                            n = {
                                container: this._playerfilm
                            };
                        n.duration = e.milliseconds_video / 1e3, n.ui = {};
                        var i = this,
                            o = {
                                install: function (e, t) {
                                    (0, u.default)(t, {
                                        global: i.global,
                                        ykplayer: i
                                    })
                                }
                            };
                        n.component = this.global.initConfig.component ? this.global.initConfig.component : {}, n.component.global = o;
                        var r = this._getDecodeKey(e),
                            a = void 0;
                        e.m3u8_url && (a = "https:" === se ? e.m3u8_url.replace("http://", "https://") : e.m3u8_url), ue && ue.m3u8test && ue.m3u8host && (a = a && a.replace("pl-ali.youku.com", ue.m3u8host));
                        var s = e.segs;
                        this.global.cdntype = s[0] && (0, V.checkUrlIsDomain)(s[0].src) ? "ali" : "youku", "hls" === this._supportType ? (n.source = e.m3u8_source || a, n.type = "m3u8", n.decoder = !0) : "m3u8" === this._supportType ? (n.source = a, n.type = "m3u8") : (s = (0, V.changeCDNDomain)(s, "https:"), n.source = s, n.type = "mp4"), n.halfFullscreenIcon = {
                            onHalfFullscreen: function () {
                                t.exitFullscreen()
                            }, exitFullscreenComplete: function () {
                                t.exitFullscreenComplete()
                            }
                        }, this.global.initConfig.fullscreenIcon ? (n.fullscreenIcon = this.global.initConfig.fullscreenIcon, n.fullscreenIcon.onFullscreen = function () {
                            t.fullScreen()
                        }) : n.fullscreenIcon = {
                            onFullscreen: function () {
                                t.fullScreen()
                            }
                        }, n.playBackRateInfo = this.global.initConfig.playBackRateInfo ? this.global.initConfig.playBackRateInfo : {
                            show: !0
                        };
                        var l = this._ykadplugin.initDotInfo();
                        this.global.setDots(l), n.dashboard = {
                            show: function () {
                                L.CLASS_NAME.ifHide && (L.CLASS_NAME.ifHide = !1, i._emitter.emit(F.default.dashboardStateChange, !1)), W.default.removeClass(i.container, L.CLASS_NAME.hide)
                            }, hide: function () {
                                L.CLASS_NAME.ifHide || (L.CLASS_NAME.ifHide = !0, i._emitter.emit(F.default.dashboardStateChange, !0)), W.default.addClass(i.container, L.CLASS_NAME.hide)
                            }, isForceHide: !0
                        };
                        var c = this.global.getPreViewData();
                        c && c.preview && c.preview.thumb && c.preview.thumb.length > 0 && (n.SinglePreviewLayer = this.global.getPreViewData()), n.progress = {}, this.global.ups.trialData && this.global.ups.trialData.time > 0 && (n.progress.maxSeekTime = this.global.ups.trialData.time);
                        var d = this.global.getPoints();
                        d && (n.progress.highlights = d);
                        var h = e.stream_ext ? e.stream_ext.uri : null;
                        return n.hlsconfig = {
                            maxBufferLength: 60,
                            maxFlyBufferLength: 300,
                            p2p: 1 === this.global.isP2P && !this.isHollywoodDrm(),
                            sessionId: this.global.config.playersid,
                            licenseServer: h,
                            queueLoad: !!this.global.enableQueLoad,
                            drmType: e.drm_type,
                            p2pClientId: "20000011005abb70c3b0976b0d3742c428fb91586510c090a9",
                            domainSet: this.global.enableSwitch ? ["valipl.cp31.ott.cibntv.net", "valipl-vip.cp31.ott.cibntv.net"] : [],
                            uid: x.default.getCna(),
                            vid: this.global.mediaData.mediaId,
                            resolutionToFilter: this._geneForbidResolution()
                        }, n.hlsconfig.decodeKey = r || null, this.global.initConfig.crossorigin && (n.crossorigin = this.global.initConfig.crossorigin), n.autoHide = 1e3, n.videoLimits = this.global.initConfig.limitVideo || parseInt(this.global.playerConfig.videocount, 10), z.Browser.isIE && z.Browser.version < 10 && (n.supportFullscreen = !1), n
                    }
                }, {
                    key: "_destroyPlayer",
                    value: function () {
                        if (this._player) {
                            this._player.manage.destroy();
                            var e = this._player.manage.video;
                            e && e.parentNode && e.parentNode.removeChild(e), this._player.control.destroy(), this._player = null
                        }
                    }
                }, {
                    key: "_loadSubtitle",
                    value: function (e) {
                        var t = this;
                        if (this.global.ups._subtitle && "none" === e.stream_ext.hls_subtitle) {
                            var n = this.global.ups._subtitle.default || this.global.ups._subtitle[(0, s.default)(this.global.ups._subtitle)[0]];
                            if (n) {
                                if (n = n.replace(/^https?:/, "https:"), this.xass) {
                                    if (this.xass.url === n) return void this.xass.show();
                                    this.xass.destroy()
                                }
                                if (!window.XAss) return void(this._subtitleRetryCount++ < 3 ? setTimeout(function () {
                                    t._loadSubtitle(e)
                                }, 500) : (this.global.enableSubtitle = !1, this.reload(), this.sendSubtitleLog({
                                    errorCode: -2,
                                    eventType: 1
                                })));
                                this.xass = new window.XAss({
                                    url: n,
                                    retryCount: 3
                                }), this.xass.promise.then(function () {
                                    t.sendSubtitleLog({
                                        errorCode: 0,
                                        url: n,
                                        eventType: 1
                                    })
                                }).catch(function (e) {
                                    t.sendSubtitleLog({
                                        code: e.code,
                                        url: n,
                                        eventType: 1
                                    }), t.global.enableSubtitle = !1, t.reload()
                                });
                                var i = this._player.ui.getComponent("SubtitleLayer");
                                i && i._el && this.xass.initWithContainer(i._el, this.global.mediaData.originWidth, this.global.mediaData.originHeight)
                            } else this.sendSubtitleLog({
                                errorCode: -1,
                                eventType: 1
                            }), this.global.enableSubtitle = !1, this.reload()
                        } else this.xass ? this.xass.hide() : this.global.ups._subtitle || "none" !== e.stream_ext.hls_subtitle || (this.sendSubtitleLog({
                            errorCode: -10,
                            eventType: 1
                        }), this.global.enableSubtitle = !1, this.reload())
                    }
                }, {
                    key: "_createPlayer",
                    value: function () {
                        var e = this,
                            t = this.global.ups.getStreamByQuality(this.global.config.language, this.global.config.quality, 1);
                        "mp4" !== this._supportType && "lower-mp4" !== this._supportType || 0 !== t.segs.filter(function (e) {
                            return e.src
                        }).length || (t = this.global.ups.getMp4StreamByQuality(this.global.config.language, this.global.config.quality, 1), this.global.config.languange = t.languange, this.global.config.quality = L.STREAM_TYPE_MAP[t.stream_type]);
                        var n = this._adaptPlayerConfig(t);
                        this._destroyPlayer(), this._player = new C.PcPlayer(n), this._player.manage.hlsconfig.decodeKey = [], this._player.control.hls.config.on("networkAgent", function (t) {
                            e.global.isP2P = "p2p" === t ? 1 : "degrade" === t ? -1 : 0
                        }), this.global.initConfig.isMuted && this.setMuted(!0), this.global.config.rate && this.setRate(this.global.config.rate), this._resolveSubtitle(t), this._accsService.bindPlayer(this), this.global.setWaitingType("init"), this._keyBoard && this._keyBoard.destroy(), this._keyBoard = new U.default(this, this.container, this.global.initConfig), this._uiManage.initPlayerUI(this._player.ui), this._initPlayerEvent(), this._eventLogListener.init(), this.degradeSkipTime > 0 && (this.seek(this.degradeSkipTime), delete this.degradeSkipTime)
                    }
                }, {
                    key: "_resetPlayer",
                    value: function (e) {
                        e && (this.forceDegradeToMP4 = !0), this._uiManage.hidePreLayer();
                        this.setSupportType(this._getSupportType("http:")), this.global.reset(), this.global.playerState.state === L.playerState.RELOADING ? this.changeSource(this.global.config.language, this.global.config.quality) : (this._playerfilm.innerHTML = "", this._createPlayer(), this._player.control.emit(C.PlayerEvents.fullscreen, this.global.playerState.fullscreen), this.global.cycleData.retry ? this.play() : "hls" === this._supportType && "https:" === se || ((0, V.printLog)("_resetPlayer _initAdPlugin this._supportType:" + this._supportType + " PROTOCOL:" + se), this._adBootstrap()))
                    }
                }, {
                    key: "_initAdPlugin",
                    value: function () {
                        var e = null;
                        this.global.ups._playlistData.ad && (e = {
                            ad: this.global.ups._playlistData.ad,
                            isUpsLoadAd: this.global.ups.upsData.pcad
                        }), O.default.init(this._adplugin, {
                            player: this,
                            ui: this._player.ui,
                            upsData: this.global.ups,
                            data: e
                        })
                    }
                }, {
                    key: "reset720PopConfig",
                    value: function () {
                        this.global.firstPlay = !0, this.global.hasShow720Pop = !1
                    }
                }, {
                    key: "reload",
                    value: function (e) {
                        this.reset720PopConfig(), this.lagTimer = void 0, this.global.cycleData.retry = !0, this.global.playerState = {
                            state: L.playerState.RELOADING
                        }, this.global.config.reload++, this._createAdParam(), this._errorControl.reset(), this.emit(N.ADEvents.ADPLUGIN_STATE_CHANGE, {
                            state: N.ADState.SERVICESTART,
                            type: N.ADType.FRONT
                        }), e && (this.forceDegradeToMP4 = !0, this.degradeSkipTime = this.global.currentTime, this._destroyPlayer()), this._service.restart(), this._uiManage.showLoading()
                    }
                }, {
                    key: "_initLog",
                    value: function () {
                        this._log = new D.default(this.global), this._log.init(this.global)
                    }
                }, {
                    key: "_initPlayerEvent",
                    value: function () {
                        var e = this;
                        this._player.control.on("hlsError", function (t) {
                            console.warn("hlsError"), console.log(t), e._errorControl.triggerError("hls", t)
                        }), this._player.control.hls.on(Z.default.Events.MANIFEST_LOADED, function (t) {
                            e._hlsMainFileLoaded(t)
                        }), this._player.control.hls.on(Z.default.Events.LEVEL_CHANGED, function (t) {
                            e._player.ui.getComponent("QualityIcon").setCurrentLevel(t), e.global.autoLevel = t
                        }), this._player.control.on("error", function (t, n) {
                            e._errorControl.triggerError("video", t, n)
                        }), this._player.control.on("video_seg_error", function (t) {
                            e._errorControl.triggerVideoSegError(t)
                        }), this._player.control.on(C.PlayerEvents.waiting, function (t) {
                            e.emit(C.PlayerEvents.waiting, t), !e._player.control._videoCore.video.seeking && e.global.ups.hasAutoLevel && (void 0 !== e.lagTimer ? (clearTimeout(e.lagTimer), e.lagTimer = setTimeout(function () {
                                "auto" !== e.global.config.quality && e.emit(L.MessageConfig["player.showInfo"], {
                                    type: "information",
                                    code: "N0023",
                                    interval: -1
                                })
                            }, 2e3)) : e.lagTimer = null), e.wakeUpLoading(!0)
                        }), this._player.control.on(C.PlayerEvents.ratechange, function (t) {
                            e.emit(C.PlayerEvents.ratechange, t)
                        }), this._player.control.on(C.PlayerEvents.abort, function (t) {
                            e.emit(C.PlayerEvents.abort, t)
                        }), this._player.control.on(C.PlayerEvents.pause, function (t) {
                            e._player.control._videoCore.video.ended || e._onPause(t)
                        }), this._player.control.on("webfullscreen", function (t) {
                            O.default.invoke(e._adplugin, "fullscreen", t)
                        }), this._player.control.on(C.PlayerEvents.fullscreen, function (t) {
                            e.global.playerState = {
                                fullscreen: t
                            }, e.emit(C.PlayerEvents.fullscreen, t), O.default.invoke(e._adplugin, "fullscreen", t)
                        }), this._player.control.on(C.PlayerEvents.play, function (t) {
                            e._onPlay(t)
                        }), this._player.control.on(C.PlayerEvents.playing, function () {
                            clearTimeout(e.lagTimer), e.emit(L.MessageConfig["player.hideInfo"]), e.global.playerState.state !== L.playerState.CUTADPLAY && (e.global.playerState = {
                                state: L.playerState.PLAY
                            }), e._player.ui.getComponent("HDRLayer").hide(), (0, V.getParamFromUrl)(location.href).drmerror && e._uiManage.showDRMNote(), e.emit(C.PlayerEvents.playing, "")
                        }), this._player.control.on(C.PlayerEvents.ended, function (t) {
                            if (e.isSafariDrm() && (e.global.playerState.state = L.playerState.END), e.emit(C.PlayerEvents.ended, t), e.global.trialData && e.global.trialData.time > 0) e.adThaw({
                                type: N.ADType.END
                            });
                            else {
                                var n = {
                                    continuePlay: e.global.config.continuePlay,
                                    isSkip: e.global.config.skip
                                };
                                e._adplugin ? O.default.invoke(e._adplugin, "behindStart", n) : e._onEnd(t)
                            }
                        }), this._player.control.on(C.PlayerEvents.timeupdate, function (t) {
                            if (e._onTimeupdate(t), e.global.playerState.state === L.playerState.ADPLAY || e.global.playerState.state === L.playerState.END || e.global.playerState.state === L.playerState.RESETING || e.global.playerState.state === L.playerState.RELOADING) return !1;
                            e.global.playerState.state === L.playerState.PLAY && e.ifNotShowVipToast() && e.global.qualityList && ~e.global.qualityList.indexOf("720p") && !e.global.ups.userData.uid && !e.global.hasShow720Pop && e.show720Pop()
                        }), this._player.control.on(C.PlayerEvents.volumechange, function (t) {
                            e.global.playerState = {
                                volume: e._player.control._videoCore.video.volume,
                                muted: e._player.control._videoCore.video.muted || 0 === e._player.control._videoCore.video.volume
                            }, e.emit(C.PlayerEvents.volumechange, t), O.default.invoke(e._adplugin, "volumechange", {
                                volume: e._player.control._videoCore.video.volume,
                                muted: e._player.control._videoCore.video.muted
                            })
                        }), this._player.control.on(C.PlayerEvents.seeked, function (t) {
                            z.Browser.isChrome || (e._player.ui.getComponent("HDRLayer").hide(), clearTimeout(e.lagTimer), e.emit(L.MessageConfig["player.hideInfo"])), e.emit(C.PlayerEvents.seeked, t), e.wakeUpLoading(!1), O.default.invoke(e._adplugin, "seeked", t)
                        }), this._player.control.on(C.PlayerEvents.loadstart, function () {
                            e.wakeUpLoading(!0)
                        }), this._player.control.on(C.PlayerEvents.seeking, function (t) {
                            "play" === e.global.getWaitingType() && (e.global.setWaitingType("seek"), e.wakeUpLoading(!0)), e.global.waitingInfo.state = "seek", e.emit(C.PlayerEvents.seeking, t), O.default.invoke(e._adplugin, "seeking", t)
                        }), this._player.control.on(C.PlayerEvents.canplay, function (t) {
                            e._uiManage.hidePreLayer(), e._onCanplay(), e.emit(C.PlayerEvents.canplay, t)
                        }), this._player.control.on("safariAboart", function (t) {
                            e.emit("safariAboart", t)
                        }), this._player.control.on("notAllowedError", function (t) {
                            e.emit("notAllowedError", t)
                        })
                    }
                }, {
                    key: "activeDashboard",
                    value: function () {
                        if (this._player) {
                            this._player.ui.getComponent("dashboard").show(2500)
                        }
                    }
                }, {
                    key: "holdDashboard",
                    value: function () {
                        if (this._player) {
                            var e = this._player.ui.getComponent("dashboard");
                            clearTimeout(e._hideTimeout), e._args.autoHide = 1e7, e.show(!0)
                        }
                    }
                }, {
                    key: "releaseDashboard",
                    value: function () {
                        if (this._player) {
                            var e = this._player.ui.getComponent("dashboard");
                            e._args.autoHide = 1e3, e.show(1e3)
                        }
                    }
                }, {
                    key: "_updateItemUrlProtocol",
                    value: function (e) {
                        var t = e.url ? "url" : e.src ? "src" : null;
                        return t ? (e[t] = e[t].replace("http://", "https://"), e) : e
                    }
                }, {
                    key: "_updateUrlProtocol",
                    value: function (e) {
                        var t = e[0].url ? "url" : e[0].src ? "src" : null;
                        if (!t) return e;
                        for (var n = 0, i = e.length; n < i; n++) e[n][t] = e[n][t].replace("http://", "https://");
                        return e
                    }
                }, {
                    key: "_updateUrlDomain",
                    value: function (e) {
                        var t = e[0].url ? "url" : e[0].src ? "src" : null;
                        if (!t) return e;
                        for (var n = 0, i = e.length; n < i; n++) {
                            var o = e[n][t].split("/");
                            o[0] = "https:", o[2] = "shift-vali.cp31.ott.cibntv.net", e[n][t] = o.join("/")
                        }
                        return e
                    }
                }, {
                    key: "_hlsMainFileLoaded",
                    value: function (e) {
                        var t = se,
                            n = e.currentLevel && e.currentLevel.details.segments || e.levels[0].details.segments || [];
                        n.length > 0 && (this.global.cdntype = (0, V.checkUrlIsDomain)(n[0].url) ? "ali" : "youku"), n.forEach(function (e) {
                            -1 === e.url.indexOf("/ad/") && -1 === e.url.indexOf("ccode=0902") || (e.isWedge = !0)
                        });
                        var i = !1,
                            o = this.global.ups.showData && this.global.ups.showData.id,
                            r = this.global.ups.videoData && this.global.ups.videoData.encodeid;
                        if (("323522".indexOf(o) > -1 || "XMzk3MTMyODUxNg==,XMzgzOTUxMTA0MA==,XMzU0OTYzNjEyOA==".indexOf(r) > -1) && (i = !0), "https:" === t && n.length > 0) {
                            if ((0, V.checkUrlIsDomain)(n[0].url) && !i) this.sendComLog({
                                runoff: 1,
                                degradetype: 5,
                                errortype: 2
                            }), (0, V.changeCDNDomain)(n, "https:");
                            else {
                                (0, V.printLog)("ts cdn domain is not ali cdn，degrade to multiVideo play"), !this.global.ups || "媒资" !== this.global.ups.videoData.ctype && "PGC" !== this.global.ups.videoData.ctype || this.sendComLog({
                                    runoff: 1,
                                    degradetype: 5,
                                    errortype: 3
                                }), this.setSupportType(this._getSupportType("https:")), this.global.reset();
                                var a = this._player.control._videoCore.video;
                                a.src = "", this._player.control.hls.detachMedia(a), this._playerfilm.innerHTML = "", this._createPlayer()
                            }
                            this.global.cycleData.isFront || ((0, V.printLog)("_hlsMainFileLoaded: _initAdPlugin " + this.global.cycleData.isFront), this._adBootstrap())
                        }
                        var s = this.global.playRecord || this.global.config.headPosition;
                        (s = s ? 0 : this.global.currentTime) && s > 0 && !1 !== this.global.initConfig.playRecord && this._player.control.hls.startLoad(s)
                    }
                }, {
                    key: "_timeOutreaload",
                    value: function (e) {
                        e && this.sendComLog({
                            runoff: 1,
                            degradetype: 3,
                            errortype: 9
                        }), this.reload()
                    }
                }, {
                    key: "_onCanplay",
                    value: function () {
                        if (this.wakeUpLoading(!1), this._errorControl.reset(), this._ifCanPlay = !0, this.global.cycleData.seekTime > 0 && (this._player.control.seek(this.global.cycleData.seekTime), this.global.cycleData.seekTime = 0), !this._adplugin) {
                            if (this.enableUI(), this.global.playerState.state === L.playerState.PAUSE) return;
                            this._player.control.play()
                        }
                    }
                }, {
                    key: "_onTimeupdate",
                    value: function (e) {
                        if (this.global.playerState.state !== L.playerState.RESETING && this.global.playerState.state !== L.playerState.RELOADING) {
                            this.global.setCurrentTime((1e3 * e.currentTime).toFixed(0) / 1e3), this.xass && this.xass.onTimeUpdate(this.global.actCurrentTime || e.currentTime), O.default.invoke(this._adplugin, "timeUpdate", {
                                currentTime: e.currentTime,
                                actCurrentTime: this.global.actCurrentTime
                            }), this.global.setBufferTime(this._player.control.getBufferTime());
                            var t = this.global.ups && this.global.ups.trialData;
                            if (t && t && e.currentTime >= t.time) return this.global.playerState.state !== L.playerState.END && (this._player.control.seek(t.time), this.global.playerState = {
                                state: L.playerState.END
                            }, this._player.control.pause(), this.global.cycleData.isUserPause = !1, this.emit(C.PlayerEvents.ended, e), this.emit(F.default.onTrialEnd, e), this._uiManage.hideLoading(), !1);
                            this.skipTail(), this.emit(C.PlayerEvents.timeupdate, {
                                currentTime: this.global.currentTime,
                                actCurrentTime: this.global.actCurrentTime,
                                dotData: this.global.dotData
                            })
                        }
                    }
                }, {
                    key: "isSafariDrm",
                    value: function () {
                        return z.Browser.isMac && z.Browser.isSafari && this.isHollywoodDrm()
                    }
                }, {
                    key: "isHollywoodDrm",
                    value: function () {
                        var e = this.global.ups.drmType;
                        return this.global.ups && ("cenc" === e || "cbcs" === e)
                    }
                }, {
                    key: "_onPlay",
                    value: function () {
                        if (this.wakeUpLoading(!1), !this.global.config.autoplay && !this.global.cycleData.isFront && this.global.playerState.state === L.playerState.READY) return this._player.control.pause(), O.default.invoke(this._adplugin, "frontStart"), !1;
                        if (this.global.playerState.state === L.playerState.END && (this.global.cycleData.hadStartPlay = !1, this.isSafariDrm() ? this.reload() : (this._player.control.seek(0), this._player.control.play()), this.emit(L.MessageConfig["player.replay"]), this.global.initConfig.events && this.global.initConfig.events.onReplay && this.global.initConfig.events.onReplay()), this.global.playerState.state !== L.playerState.CUTADPLAY && (this.global.playerState = {
                            state: L.playerState.PLAY
                        }), !this.global.cycleData.hadStartPlay) {
                            this._sendAccLog(1, {
                                report_type: 1
                            }, null, !0), this.enableUI(), this.global.initConfig.disableSkip || (this.global.config.skip && this.global.config.playRecord < this.global.config.headPosition ? this.skipHead() : this.global.config.playRecord > 0 && this.global.config.duration > 600 && this.skipLocalPlayRecord());
                            var e = this.global.getFirstPlayInfo();
                            this.emit(F.default.onPlayerStart, e)
                        }
                        this.global.initConfig.events && this.global.initConfig.events.onPlay && this.global.initConfig.events.onPlay({
                            ifFirst: !this.global.cycleData.hadStartPlay
                        }), this.global.cycleData.isUserPause = !0, this.emit(C.PlayerEvents.play), O.default.invoke(this._adplugin, "play"), this.global.cycleData.hadStartPlay = !0
                    }
                }, {
                    key: "_onPause",
                    value: function () {
                        return this.wakeUpLoading(!1), this.global.playerState.state !== L.playerState.ADPLAY && this.global.playerState.state !== L.playerState.END && this.global.playerState.state !== L.playerState.RESETING && this.global.playerState.state !== L.playerState.RELOADING && (this.global.playerState = {
                            state: L.playerState.PAUSE
                        }, this.global.initConfig.events && this.global.initConfig.events.onPause && this.global.initConfig.events.onPause(), this._isPause || (this._isPause = !0, this._lastCountedTime = (new Date).getTime()), this.emit(C.PlayerEvents.pause), this.global.cycleData.isUserPause ? void O.default.invoke(this._adplugin, "pause") : void(0, V.printLog)("onpause is not user trigger"))
                    }
                }, {
                    key: "_onEnd",
                    value: function () {
                        if (this.global.playerState.state === L.playerState.END) return !1;
                        if (this.global.playerState = {
                            state: L.playerState.END
                        }, this.global.config = {
                            playRecord: 0,
                            isBlockNote: !0
                        }, this.global.initConfig.events && this.global.initConfig.events.onEnd) {
                            var e = this.global.trialData && this.global.trialData.time > 0;
                            this.global.initConfig.events.onEnd(e)
                        }
                        if (this.global.ups.trialData && this.global.ups.trialData.time > 0) return this._player.control.pause(), this.global.cycleData.isUserPause = !1, this.emit(F.default.onTrialEnd), !1;
                        var t = this.global.getNextInfo();
                        this.emit(F.default.onPlayerComplete, t), this.global.config.loop ? this.replay() : this.global.config.continuePlay && this.global.config.nextVid && (this.global.playerState.fullscreen || this.global.config.isInnerPlay) && (this.emit(F.default.InnerPlayerPlayNext, t), this.playByVid({
                            vid: this.global.config.nextVid,
                            rate: this.global.config.rate
                        }))
                    }
                }, {
                    key: "onError",
                    value: function () {
                        this.global.playerState = {
                            state: L.playerState.ERROR
                        }, this.switchNormalScene()
                    }
                }, {
                    key: "adFreeze",
                    value: function (e) {
                        if ((0, V.printLog)("ad invoke positive pause", e), this.global.playerState = {
                            state: L.playerState.ADPLAY
                        }, this._player.control.pause(), this.global.cycleData.isUserPause = !1, this.disableUI(), e && e.data && e.data.totalAdCount > 0 && this.emit(F.default.onAdPlay, e), !this.global.initConfig.events) return !1;
                        switch (e.type) {
                        case N.ADType.FRONT:
                            this.global.initConfig.events.onFrontAdPlay && this.global.initConfig.events.onFrontAdPlay();
                            break;
                        case N.ADType.END:
                            this.global.initConfig.events.onEndAdPlay && this.global.initConfig.events.onEndAdPlay();
                            break;
                        case N.ADType.STAND:
                        case N.ADType.CONTENT:
                            this.global.initConfig.events.onStandAdPlay && this.global.initConfig.events.onStandAdPlay()
                        }
                    }
                }, {
                    key: "adThaw",
                    value: function (e) {
                        if ((0, V.printLog)("ad invoke positive adThaw", e), this.global.playerState = {
                            state: L.playerState.ADEND
                        }, e.type === N.ADType.END) return this.enableUI(), void this._onEnd(e);
                        if (e.type === N.ADType.FRONT) {
                            this.global.cycleData.isFront = !0, e.state = N.ADState.END, this.emit(N.ADEvents.ADPLUGIN_STATE_CHANGE, e), "mini" === this.global.config.playScene && this.switchMiniScene(this.global.miniPosition);
                            try {
                                this.showLicenseInfo()
                            } catch (e) {
                                console.log("license error")
                            }
                        } else this.global.playerState = {
                            state: L.playerState.PLAY
                        };
                        this.enableUI(), this._player.control.play(), e && e.data && e.data.totalAdCount > 0 && this.emit(F.default.onAdEnd, e)
                    }
                }, {
                    key: "wakeUpLoading",
                    value: function (e, t) {
                        if (this._player && this._player.ui) {
                            var n = this._player.ui.getComponent("LoadingLayer");
                            n && (e ? n.show(t) : n.hide())
                        }
                    }
                }, {
                    key: "onAdReady",
                    value: function (e) {
                        this.emit(L.MessageConfig["player.ready"], e), this.global.initConfig.events && this.global.initConfig.events.onReady && this.global.initConfig.events.onReady(e), this.global.playerState = {
                            state: L.playerState.READY
                        }
                    }
                }, {
                    key: "adMessage",
                    value: function (e, t) {
                        switch ((0, V.printLog)("messageType::" + e, t), e) {
                        case "abort":
                            this.onAdAbort(t);
                            break;
                        case "cutStartplay":
                            this.onCUTAdPlay(t);
                            break;
                        case "cutStartend":
                            this.onCUTAdend(t);
                            break;
                        case "indexChange":
                            this.onAdChangeIndex(t)
                        }
                    }
                }, {
                    key: "onAdPause",
                    value: function () {
                        this.global.playerState = {
                            state: L.playerState.ADPAUSE
                        }
                    }
                }, {
                    key: "onCUTAdPlay",
                    value: function (e) {
                        (0, V.printLog)("onCUTAdPlay::currentTime：" + this.global.currentTime + "::actCurrentTime::" + this.global.actCurrentTime), this.global.dotsIndex = e.index, this.global.playerState = {
                            state: L.playerState.CUTADPLAY
                        }, this.emit(F.default.onCutAdPlay, e.index)
                    }
                }, {
                    key: "onCUTAdend",
                    value: function () {
                        this.global.playerState = {
                            state: L.playerState.PLAY
                        }, this.emit(F.default.onCutAdEnd)
                    }
                }, {
                    key: "onAdAbort",
                    value: function () {
                        (0, V.printLog)("onAdAbort"), this.wakeUpLoading(!1), this.emit("notAllowedError")
                    }
                }, {
                    key: "onAdChangeIndex",
                    value: function (e) {
                        if (e.type === N.ADType.FRONT && 0 === e.index) {
                            var t = {
                                totalAdCount: e.totalCount,
                                pipCount: e.pipCount,
                                currentIndex: e.index
                            };
                            e.data = t, e.state = N.ADState.PLAY, this.emit(N.ADEvents.ADPLUGIN_STATE_CHANGE, e)
                        }
                        e.type === N.ADType.FRONT ? this.emit("playerpreadinit", e.pipList, e.index) : e.type === N.ADType.STAND || e.type === N.ADType.CONTENT ? this.emit("playerminadinit", e.pipList, e.index) : e.type === N.ADType.END && this.emit("playerlasteadinit", e.pipList, e.index)
                    }
                }, {
                    key: "_initServiceEvent",
                    value: function () {
                        var e = this;
                        this.on(L.MessageConfig["global.config"], function (t) {
                            if ("{}" !== (0, r.default)(t)) {
                                var n = {
                                    type: "information"
                                };
                                if (t.language || t.quality) {
                                    var i = t.language ? t.language : e.global.config.language,
                                        o = t.quality ? t.quality : e.global.config.quality,
                                        a = e.global.ups.getStreamByQuality(i, o, 1);
                                    if (!a || !a.segs) return;
                                    t.quality ? (n.type = "hint", "1080p_hdr" === t.quality ? n.code = "N0021" : n.code = "N0020", n.quality = t.quality) : t.language && (n.type = "hint", n.code = "N0022", n.language = t.language), t.isBlockNote || e.emit(L.MessageConfig["player.showInfo"], n), e.changeSource(i, o), "1080p_hdr" === o ? e._player.ui.getComponent("HDRLayer").show() : e._player.ui.getComponent("HDRLayer").hide(!0), "auto" !== o ? e._player.ui.getComponent("QualityIcon").setCurrentLevel("") : (clearTimeout(e.lagTimer), e.emit(L.MessageConfig["player.hideInfo"]))
                                }
                                void 0 !== t.continuePlay && e.emit(F.default.onPlayerSet, {
                                    continuous: t.continuePlay ? 1 : 0
                                }), t.skip && (e.skipHead(), e.skipTail()), "hint" === n.type && 0 !== t.playRecord || t.isBlockNote || e.emit(L.MessageConfig["player.showInfo"], {
                                    type: "hint",
                                    code: "H0007"
                                }), e.global.config.isBlockNote = !1
                            }
                        }), this.on(L.MessageConfig["global.playerState"], function (t) {
                            !1 !== t.fullScreen || t.isBlockNote || e.emit(L.MessageConfig["player.showInfo"], {
                                type: "hint",
                                code: "H0007"
                            }), e.global.config.isBlockNote = !1
                        })
                    }
                }, {
                    key: "_sendAccLog",
                    value: function (e, t, n, i) {
                        this._accsService && this._accsService.send(e, t, n, i)
                    }
                }, {
                    key: "_checkBrowserSupportLevel",
                    value: function (e) {
                        e = e || 49;
                        var t = navigator.userAgent.toLowerCase();
                        window.Browser = z.Browser;
                        var n = z.Browser.version ? z.Browser.version.split(".")[0] : 0;
                        n = parseInt(n);
                        var i = z.Browser.isChrome && n <= e,
                            o = (t.indexOf("360ee") > -1 || t.indexOf("360se") > -1) && z.Browser.isChrome && n <= 49,
                            r = z.Browser.isIE || t.indexOf("msie") > -1 || t.indexOf("compatible") > -1 || t.indexOf("trident") > -1,
                            a = z.Browser.isMac && z.Browser.isSafari,
                            s = Z.default.isSupported();
                        return a && n < 11 ? 2 : !s || i || o || r && n < 11 ? 0 : 1
                    }
                }, {
                    key: "_getSupportType",
                    value: function (e) {
                        if (this.browserSupportLevel >= 2) return "m3u8";
                        var t = this.global.ups.getStreamType(),
                            n = "",
                            i = this.global.initConfig.supportType;
                        switch ("mp4" === t && 0 === this.browserSupportLevel && (this.browserSupportLevel = this._checkBrowserSupportLevel(34), 1 === this.browserSupportLevel && this.sendComLog({
                            runoff: 1,
                            degradetype: 5,
                            errortype: 4
                        })), this.browserSupportLevel) {
                        case 0:
                            n = "mp4" === t ? "mp4" : "lower-mp4";
                            break;
                        case 1:
                            n = e && e.indexOf("https") > -1 ? "mp4" === t ? "mp4" : "lower-mp4" : i ? "mp4" === i && "mp4" !== t ? "lower-mp4" : i : "hls";
                            break;
                        case 2:
                            n = "m3u8";
                            break;
                        default:
                            n = "mp4"
                        }
                        return n
                    }
                }, {
                    key: "setSupportType",
                    value: function (e) {
                        this.global.config.supportType = e, this.global.initConfig.supportType = e, this._supportType = e;
                        var t = this._ykadplugin.initDotInfo();
                        this.global.setDots(t)
                    }
                }, {
                    key: "getSupportType",
                    value: function () {
                        return this._supportType
                    }
                }, {
                    key: "_initEmitter",
                    value: function () {
                        var e = this;
                        for (var t in C.PlayerEvents)! function (t) {
                            e._player.control.on(t, function (n) {
                                e.emit(t, n)
                            })
                        }(t)
                    }
                }, {
                    key: "on",
                    value: function (e, t) {
                        this._emitter.on(e, t)
                    }
                }, {
                    key: "emit",
                    value: function (e, t) {
                        this._emitter.emit(e, t)
                    }
                }, {
                    key: "fire",
                    value: function (e, t) {
                        this._emitter.removeListener(e, t)
                    }
                }, {
                    key: "_resolveSubtitle",
                    value: function (e) {
                        this.global.enableSubtitle ? (this._subtitleRetryCount = 0, this._loadSubtitle(e)) : this.xass && this.xass.destroy()
                    }
                }, {
                    key: "changeSource",
                    value: function (e, t, n) {
                        if (e && t) {
                            var i = {},
                                o = this.global.ups.getStreamByQuality(e, t, 1),
                                r = this._getDecodeKey(o);
                            if (this.lagTimer = void 0, this._player.control.hls && (this._player.control.hls.config.decodeKey = r), o && o.segs) {
                                if ("m3u8" === this._supportType || "hls" === this._supportType) {
                                    var a = "https:" === se ? o.m3u8_url.replace("http://", "https://") : o.m3u8_url;
                                    ue && ue.m3u8test && ue.m3u8host && (a = a.replace("pl-ali.youku.com", ue.m3u8host)), i.source = [{
                                        src: a
                                    }], i.duration = this.global.config.duration
                                } else {
                                    var s = o.segs;
                                    i.source = s, i.duration = this.global.config.duration
                                } if (this._resolveSubtitle(o), this.global.cycleData.seekTime = this.global.currentTime, this._player.control.hls && (this._player.control.hls.resume(), this._player.control.hls.config.licenseServer = o.stream_ext ? o.stream_ext.uri : null, this._player.control.hls.resolutionToFilter(this._geneForbidResolution())), this._player.control.changeSource({
                                    source: i.source,
                                    duration: i.duration,
                                    seekTime: -1
                                }), this.global.setWaitingType("changesource"), this.global.waitingInfo.state = "changesource", n || this.global.playerState.state === L.playerState.ADPLAY) return;
                                z.Browser.isSafari && this._player.control.play()
                            }
                        }
                    }
                }, {
                    key: "enableUI",
                    value: function () {
                        this._player.ui.enableProgress(), this._player.ui.enablePlayButton();
                        var e = this._player.ui.getComponent("Dashboard");
                        e.removeFocusHide(), e.show(), this._player.ui.getComponent("Minisizelayer").showBtn()
                    }
                }, {
                    key: "disableUI",
                    value: function () {
                        if (this._player && this._player.ui) {
                            this._player.ui.disableProgress(), this._player.ui.disablePlayButton();
                            var e = this._player.ui.getComponent("Dashboard");
                            e.focusHide(), e.hide();
                            this._player.ui.getComponent("Minisizelayer").hideBtn()
                        }
                    }
                }, {
                    key: "enableProgress",
                    value: function () {
                        this._player.ui.enableProgress()
                    }
                }, {
                    key: "disableProgress",
                    value: function () {
                        this._player.ui.disableProgress()
                    }
                }, {
                    key: "sendComLog",
                    value: function (e) {
                        this.emit(S.default.SEND_PAGEERROR_LOG, e)
                    }
                }, {
                    key: "sendEventLog",
                    value: function (e) {
                        this.emit(S.default.SEND_EVENT_LOG, e)
                    }
                }, {
                    key: "sendSubtitleLog",
                    value: function (e) {
                        this.emit(S.default.SEND_SUBTITLE_LOG, e)
                    }
                }, {
                    key: "sendBusinessLog",
                    value: function (e) {
                        this.emit(S.default.SEND_BUSINESS_LOG, e)
                    }
                }, {
                    key: "playByVid",
                    value: function (e) {
                        if (!e || !e.vid || this.global.playerState.state === L.playerState.RELOADING || this.global.playerState.state === L.playerState.RESETING) return !1;
                        this._player.control.pause(), this.global.cycleData.isUserPause = !1, this.global.resetConfig(e), this._createAdParam();
                        return this.setSupportType(this._getSupportType("http:")), this.global.playerState = {
                            state: L.playerState.RESETING
                        }, this._service.restart(), !0
                    }
                }, {
                    key: "playNext",
                    value: function (e) {
                        if (!this.global.config.nextVid || this.global.playerState.state === L.playerState.RELOADING || this.global.playerState.state === L.playerState.RESETING) return !1;
                        if (e || this.global.playerState.fullscreen || this.global.playerState.webFullscreen || this.global.config.isInnerPlay) {
                            var t = this.global.getNextInfo();
                            this.emit(F.default.PlayerPlayNext, t), this.playByVid({
                                vid: this.global.config.nextVid
                            })
                        } else {
                            var n = this.global.getNextInfo();
                            this.emit(F.default.PlayerPlayNext, n)
                        }
                        return this.global.initConfig.events && this.global.initConfig.events.nextVideo && this.global.initConfig.events.nextVideo({
                            vid: this.global.mediaData.mediaId
                        }), !0
                    }
                }, {
                    key: "play",
                    value: function () {
                        this._player && (this.emit(L.MessageConfig.eventLog, {
                            event: "play",
                            eventMode: "mfc"
                        }), this._adplugin && !this.global.cycleData.isFront || this.global.playerState.state === L.playerState.ADPAUSE ? O.default.invoke(this._adplugin, "thaw") : this._player.control.play())
                    }
                }, {
                    key: "pause",
                    value: function () {
                        if (this._player && this.global.playerState.state !== L.playerState.READY) {
                            if ((0, V.printLog)("change this.global.cycleData.isUserPause to true"), this.global.cycleData.isUserPause = !0, !this.global.cycleData.isFront && this.global.playerState.state === L.playerState.ADPLAY) return void O.default.invoke(this._adplugin, "freeze");
                            this.emit(L.MessageConfig.eventLog, {
                                event: "pause",
                                eventMode: "mfc"
                            }), this._player.control.pause()
                        }
                    }
                }, {
                    key: "seek",
                    value: function (e) {
                        this._player && this.global.playerState.state !== L.playerState.READY && this.global.playerState.state !== L.playerState.ADPAUSE && this.global.playerState.state !== L.playerState.ADPLAY && (this._player.control.seek(e), this._player.control.play())
                    }
                }, {
                    key: "backPlay",
                    value: function () {
                        if (this._player && this.global.playerState.state !== L.playerState.READY && this.global.playerState.state !== L.playerState.ADPAUSE && this.global.playerState.state !== L.playerState.ADPLAY) {
                            var e = this.changeableSeekRate(this.global.currentTime - this.global.config.seekRate),
                                t = {
                                    event: "fb",
                                    eventMode: "kb",
                                    ext: {
                                        tb: parseInt(this.global.currentTime),
                                        to: parseInt(e)
                                    }
                                };
                            this.emit(L.MessageConfig.eventLog, t), this._player.control.seek(e)
                        }
                    }
                }, {
                    key: "forwardPlay",
                    value: function () {
                        if (this._player && this.global.playerState.state !== L.playerState.ADPAUSE && this.global.playerState.state !== L.playerState.READY && this.global.playerState.state !== L.playerState.ADPLAY) {
                            var e = this.changeableSeekRate(this.global.currentTime + this.global.config.seekRate);
                            navigator.userAgent.includes("Edge/") && (e = Math.min(this.global.config.duration - .5, e));
                            var t = {
                                event: "ff",
                                eventMode: "kb",
                                ext: {
                                    tb: parseInt(this.global.currentTime, 10),
                                    to: parseInt(e, 10)
                                }
                            };
                            this.emit(L.MessageConfig.eventLog, t), this._player.control.seek(e)
                        }
                    }
                }, {
                    key: "changeableSeekRate",
                    value: function (e) {
                        if ("hls" !== this.getSupportType()) return e;
                        var t = this._player.control.hls.segmentDuration || 10,
                            n = .75 * t,
                            i = e % t;
                        return i < .2 ? e : i <= n ? e - i + .2 : i > n ? (parseInt(e / t) + 1) * t + .2 : void 0
                    }
                }, {
                    key: "setMuted",
                    value: function (e) {
                        if (this._player) {
                            var t = this._player.control.setMuted(e);
                            this.global.playerState = {
                                muted: t
                            }
                        }
                    }
                }, {
                    key: "setRate",
                    value: function (e) {
                        this._player && (this._player.control.setRate(e), this.global.playerState.rate = e, this.global.config.rate = e)
                    }
                }, {
                    key: "upVolume",
                    value: function () {
                        this._player && this._player.control.setVolume(this.global.playerState.volume + .1)
                    }
                }, {
                    key: "downVolume",
                    value: function () {
                        this._player && this._player.control.setVolume(this.global.playerState.volume - .1)
                    }
                }, {
                    key: "fastForward",
                    value: function () {
                        "playing" === this.global.playerState.state ? (this._uiManage._fastForwardLayer.show(), this._lastRate = this.global.playerState.rate || 1, this.setRate(3)) : "paused" === this.global.playerState.state && (this.play(), this._uiManage._fastForwardLayer.show(), this._lastRate = this.global.playerState.rate || 1, this.setRate(3))
                    }
                }, {
                    key: "cancelFastForward",
                    value: function () {
                        this._lastRate && (this._uiManage._fastForwardLayer.hide(), this.setRate(+this._lastRate || 1), this._lastRate = null)
                    }
                }, {
                    key: "replay",
                    value: function () {
                        this.global.playerState.state === L.playerState.END && (this.reset720PopConfig(), this.isSafariDrm() ? this.reload() : this._player.control.replay(), this.emit(L.MessageConfig["player.replay"]), this.global.replay())
                    }
                }, {
                    key: "skipHead",
                    value: function () {
                        this.global.cycleData.isFront && !this.global.cycleData.hadSkipHead && this.global.config.headPosition > 0 && this.global.currentTime < this.global.config.headPosition && (this.global.cycleData.hadSkipHead = !0, this.skipTime(this.global.config.headPosition), this.ifNotShowVipToast() && this.emit(L.MessageConfig["player.showInfo"], {
                            type: "information",
                            code: "N0003",
                            time: this.global.config.headPosition
                        }))
                    }
                }, {
                    key: "ifNotShowVipToast",
                    value: function () {
                        var e = !1;
                        if (this.global.ups) {
                            var t = this.global.ups.typeData && this.global.ups.typeData.fee,
                                n = this.global.ups.typeData && this.global.ups.videoData.typeData.channel_vip;
                            t || n || this.global.ups.trialData || this.global.ups.errorData || (e = !0)
                        }
                        return e
                    }
                }, {
                    key: "skipTime",
                    value: function (e) {
                        this._ifCanPlay ? this._player.control.seek(e) : this.global.cycleData.seekTime = e
                    }
                }, {
                    key: "skipTail",
                    value: function () {
                        !this.global.config.skip || this.global.config.tailPosition < 0 || (!this.global.cycleData.hadSkipTail && !this.global.cycleData.tailTip && this.global.currentTime < this.global.config.tailPosition && this.global.config.tailPosition - this.global.currentTime < 3 && (this.global.cycleData.tailTip = !0, this.emit(L.MessageConfig["player.showInfo"], {
                            type: "information",
                            code: "N0005",
                            time: this.global.config.tailPosition
                        })), !this.global.cycleData.hadSkipTail && this.global.currentTime > this.global.config.tailPosition && (this.global.cycleData.hadSkipTail = !0, this._player.control.end(), this.global.cycleData.tailTip || this.emit(L.MessageConfig["player.showInfo"], {
                            type: "information",
                            code: "N0022",
                            time: this.global.config.tailPosition
                        })))
                    }
                }, {
                    key: "getBulletStatus",
                    value: function () {
                        if (this.global.ups && this.global.ups.videoData) {
                            var e = this.global.ups.videoData.type;
                            if (e && e.join(",").indexOf("bullet") > -1) return !0
                        }
                        return !1
                    }
                }, {
                    key: "skipLocalPlayRecord",
                    value: function () {
                        var e = this;
                        if (!this.global.cycleData.isFront || this.global.ups.trialData || !1 === this.global.initConfig.playRecord) return !1;
                        var t = Math.abs(this.global.config.playRecord - this.global.config.duration) < 10 && this.global.config.playRecord > 10 ? 0 : this.global.config.playRecord;
                        if (0 !== t) {
                            var n = function () {
                                e.skipTime(t), e.global.cycleData.hadSkipRecord = !0, document.getElementById("vip_player_payment_toast") || e.emit(L.MessageConfig["player.showInfo"], {
                                    type: "information",
                                    code: "N0007",
                                    time: t
                                })
                            };
                            if ("hls" === this.getSupportType() && this.isHollywoodDrm())
                                if (this._player.control.hls.drmSessionUpdateStatus) n();
                                else {
                                    var i = 0;
                                    ! function t() {
                                        setTimeout(function () {
                                            if (e._player.control.hls.drmSessionUpdateStatus || i >= 3) return void n();
                                            i++, t()
                                        }, 200)
                                    }()
                                } else n()
                        }
                    }
                }, {
                    key: "webFullScreen",
                    value: function () {
                        this.global.playerState.fullscreen ? (this.exitFullscreen(), this.nextAction = "enterWebFullScreen") : (this._player.control.emit("webfullscreen", !0), this.global.playerState.webFullscreen = !0, this._fullScreenPlugin.fullScreenInPage(), this.emit(F.default.webFullScreen, !0)), this.xass && this.xass.refresh()
                    }
                }, {
                    key: "exitWebFullScreen",
                    value: function () {
                        this.global.playerState.webFullscreen = !1, this._fullScreenPlugin.exitFullscreenInPage(), this._player.control.emit("webfullscreen", !1), this.emit(F.default.webFullScreen, !1), this.xass && this.xass.refresh()
                    }
                }, {
                    key: "exitFullscreenComplete",
                    value: function () {
                        this.exitFullscreen(), "enterWebFullScreen" === this.nextAction && (this.nextAction = "", this.webFullScreen())
                    }
                }, {
                    key: "fullScreen",
                    value: function () {
                        var e = this;
                        this.global.playerState.webFullscreen && this.exitWebFullScreen(), W.default.addClass(this._playerfilm, "fullscreen"), this._player.control.emit("fullscreen", !0), this.emit(C.PlayerEvents.fullscreen, !0), this._fullScreenPlugin.fullScreen(), this.xass && setTimeout(function () {
                            e.xass.refresh()
                        }, 100)
                    }
                }, {
                    key: "exitFullscreen",
                    value: function () {
                        W.default.removeClass(this._playerfilm, "fullscreen"), this._fullScreenPlugin.exitFullscreen(), this._player.control.emit("fullscreen", !1), this._player.control.ykplayer.emit("callAnthology", !1), this.xass && this.xass.refresh(), this.global.config.simpleMode && this.webFullScreen()
                    }
                }, {
                    key: "switchPlayPause",
                    value: function () {
                        this.global.playerState.state !== L.playerState.ADPLAY && this.global.playerState.state !== L.playerState.INIT && (this.global.playerState.state === L.playerState.PAUSE || this.global.playerState.state === L.playerState.END ? this.play() : this.pause())
                    }
                }, {
                    key: "switchFullscreen",
                    value: function () {
                        if (this.global.initConfig.disablefullScreen) return !1;
                        this.global.playerState.fullscreen ? this.exitFullscreen() : this.fullScreen()
                    }
                }, {
                    key: "switchFlashPlayer",
                    value: function () {
                        var e = this.global.getFirstPlayInfo();
                        this.emit(F.default.switchFlash, e);
                        var t = new Y.default(location.href),
                            n = t.params;
                        n.debug = "flv", this.global.currentTime > 0 && (n.firsttime = this.global.currentTime), location.href = "" + t.origin + t.pathname + "?" + (0, V.urlParameter)(n)
                    }
                }, {
                    key: "_checkFlashDisable",
                    value: function () {
                        var e = !1;
                        try {
                            e = void 0 !== window.ActiveXObject ? !!new ActiveXObject("ShockwaveFlash.ShockwaveFlash") : !!navigator.plugins["Shockwave Flash"]
                        } catch (e) {
                            console.log("new ActiveXObject error")
                        }
                        return e
                    }
                }, {
                    key: "changeScale",
                    value: function (e) {
                        if (e !== this.global.scale) {
                            this._player.control._videoCore.setStyle("-webkit-transform", "scale(" + e + ")"), this._player.control._videoCore.setStyle("-ms-transform", "scale(" + e + ")"), this._player.control._videoCore.setStyle("transform", "scale(" + e + ")"), this.global.config = {
                                screenWidth: this.global.config.screenWidth * e,
                                screenHeight: this.global.config.screenHeight * e,
                                isBlockNote: !0
                            }, O.default.invoke(this._adplugin, "rescale", e), this.xass && this.xass.scale(e);
                            var t = this._player.ui.getComponent("InforLayer");
                            t && t.setScale(e), this.global.scale = e
                        }
                    }
                }, {
                    key: "resize",
                    value: function (e, t) {
                        if (e !== this.global.config.width || t !== this.global.config.height) {
                            this.global.config = {
                                height: t,
                                width: e,
                                isBlockNote: !0
                            };
                            var n = e,
                                i = t,
                                o = this.global.mediaData.originHeight / this.global.mediaData.originWidth;
                            t / e > o ? (i = parseInt(e * o), n = e) : (i = t, n = parseInt(t / o)), this.global.config = {
                                screenWidth: n,
                                screenHeight: i,
                                isBlockNote: !0
                            }, O.default.invoke(this._adplugin, "resize", e, t)
                        }
                    }
                }, {
                    key: "setDanmuStatus",
                    value: function (e) {
                        this.emit(F.default.setDanmuStatus, e)
                    }
                }, {
                    key: "changeBulletStatus",
                    value: function (e) {
                       
                    }
                }, {
                    key: "openNewTab",
                    value: function (e, t) {
                        this.global.playerState.fullscreen && this.exitFullscreen(), window.open(e, t)
                    }
                }, {
                    key: "openIku",
                    value: function (e) {
                        e = e || "ywebplayererror";
                        try {
                            var t = this,
                                n = {
                                    from: "video",
                                    action: "play",
                                    vid: this.global.mediaData.mediaId,
                                    secne: e,
                                    callback: function (e) {
                                        e && -1 !== e || t.openNewTab("//pcapp-update.youku.com/channelinstall/ywebflash")
                                    }
                                };
                            G.default.ikuExecuteFrompc(n)
                        } catch (e) {
                            this.openNewTab("//pcapp-update.youku.com/channelinstall/ywebflash")
                        }
                    }
                }, {
                    key: "show720Pop",
                    value: function () {
                        var e = (new Date).getTime();
                        if (this.global.firstPlay) this.actualDiffTime = 0, this._lastCountedTime = e, this._lastSentVideoReportTime = e;
                        else if (this._isPause && (this._isPause = !1, this.actualDiffTime += e - this._lastCountedTime), Math.round(e - this._lastSentVideoReportTime - this.actualDiffTime) > 9e4 && (this.global.hasShow720Pop = !0, "540p" === this.global.config.quality || "320p" === this.global.config.quality || "auto" === this.global.config.quality)) {
                            var t = {};
                            t.code = "N0024q", t.interval = 1e8, t.type = "information", t.spm = "chaoqingyindao", this.emit(L.MessageConfig["player.showInfo"], t)
                        }
                        this.global.firstPlay = !1
                    }
                }, {
                    key: "setPlayList",
                    value: function (e) {
                        if (this.global.setPlayList(e), this._player && this._player.ui) {
                            var t = this._player.ui.getComponent("Series");
                            t && t.renderList(), this.global.playerState.fullscreen && this._player.ui.getComponent("SettingSeries").show();
                            var n = this._player.ui && this._player.ui.getComponent("NextIcon");
                            n && n.setNextInfo()
                        }
                    }
                }, {
                    key: "loginStatusBind",
                    value: function () {}
                }, {
                    key: "switchVoDomain",
                    value: function () {
                        if ("https:" === location.protocol && "v.youku.com" === location.host) {
                            this.sendComLog({
                                runoff: 1,
                                degradetype: 1,
                                errortype: 5
                            });
                            var e = "http://vo.youku.com" + location.pathname + location.search;
                            location.href = e
                        }
                    }
                }, {
                    key: "switchMiniScene",
                    value: function (e) {
                        if (this._player && this._player.ui && !this.global.playerState.fullscreen && this.global.playerState.state !== L.playerState.ERROR && this.global.playerState.state !== L.playerState.RELOADING && !(this.global.ups && (this.global.ups.errorData || this.global.ups.trialData) || this.global.config.inPicture || this.global.playerState.webFullscreen)) {
                            if (this.global.config = {
                                playScene: "mini",
                                isBlockNote: !0
                            }, !this.global.cycleData.isFront) return void(e && (this.global.miniPosition = e));
                            e || (e = this.miniPosition ? this.miniPosition : {
                                right: 100
                            }), W.default.addClass(this.container, "min-pattern");
                            this._player.ui.getComponent("Minisizelayer").show(e);
                            this._player.ui.getComponent("InforLayer").setMini(), this.resize(426, 240), this.emit(F.default.switchMini, !0)
                        }
                    }
                }, {
                    key: "switchNormalScene",
                    value: function () {
                        if (this._player && this._player.ui && "mini" === this.global.config.playScene) {
                            this.global.config = {
                                playScene: "normal",
                                isBlockNote: !0
                            };
                            this._player.ui.getComponent("Minisizelayer").hide();
                            this._player.ui.getComponent("InforLayer").setNormal(), W.default.removeClass(this.container, "min-pattern"), this.emit(F.default.switchMini, !1)
                        }
                    }
                }, {
                    key: "showLicenseInfo",
                    value: function () {
                        this._player.ui.getComponent("InforLayer").renderLicense()
                    }
                }]), e
            }();
        t.default = ce
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(0),
            r = i(o),
            a = n(1),
            s = i(a),
            l = n(8),
            u = [{
                className: "icon-fullscreen",
                code: "xenfs"
            }, {
                className: "icon-webfullscreen",
                code: "xenwfs"
            }, {
                className: "icon-exit-fullscreen",
                code: "exfs"
            }, {
                className: "icon-exit-webfullscreen",
                code: "ewfs"
            }, {
                className: "icon-picture",
                code: "xenpip"
            }, {
                className: "js-quality-text",
                code: "xCq"
            }, {
                className: "js-language-text",
                code: "xCl"
            }, {
                className: "control-rate-btn",
                code: "xCr"
            }, {
                className: "settings-item quality-item",
                code: "xsq"
            }, {
                className: "settings-item language-item",
                code: "xsl"
            }, {
                className: "settings-item rate-item",
                code: "xsr"
            }],
            c = function () {
                function e(t) {
                    (0, r.default)(this, e), this.container = t.container, this._emitter = t.emitter, this._setUILogEventLisiner(t.container), this.global = t.global
                }
                return (0, s.default)(e, [{
                    key: "adEventDataVal",
                    value: function () {
                        for (var e = 0, t = u.length; e < t; e++) {
                            var n = this.container.getElementsByClassName(u[e].className);
                            if (n && n.length > 0)
                                for (var i = 0; i < n.length; i++) n[i].setAttribute("data-eventlog", u[e].code)
                        }
                    }
                }, {
                    key: "init",
                    value: function () {
                        this.adEventDataVal()
                    }
                }, {
                    key: "_setUILogEventLisiner",
                    value: function (e) {
                        var t = this;
                        e.addEventListener("click", function (e) {
                        }), e.addEventListener("mousedown", function (e) {
                        }), e.addEventListener("mouseup", function (e) {
                        })
                    }
                }, {
                    key: "sendLog",
                    value: function (e) {
                        this._emitter.emit(l.MessageConfig.eventLog, e)
                    }
                }]), e
            }();
        t.default = c
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(72),
            r = i(o),
            a = n(18),
            s = i(a),
            l = n(70),
            u = i(l),
            c = n(0),
            d = i(c),
            h = n(1),
            p = i(h),
            f = n(221),
            g = i(f),
            m = n(196),
            y = i(m),
            v = n(227),
            _ = i(v),
            b = n(197),
            E = i(b),
            k = n(195),
            w = i(k),
            S = n(30),
            T = i(S),
            x = n(8),
            A = n(66),
            D = n(6),
            L = n(9),
            C = i(L),
            M = n(53),
            I = i(M),
            R = function () {
                function e(t, n, i) {
                    (0, d.default)(this, e), this._player = i, this.global = t, this._container = n, this._preplayLayer = new g.default({
                        container: n,
                        global: t,
                        player: i,
                        _id: "component" + Date.now()
                    }), this._fullscreenLayer = new y.default({
                        container: n,
                        global: t,
                        player: i,
                        _id: "component" + Date.now() + "1"
                    }), this._fastForwardLayer = new w.default({
                        container: n,
                        global: t,
                        player: i,
                        _id: "component" + Date.now() + "3"
                    }), this._adLayer = new A.AdLayer({
                        container: n,
                        global: t,
                        player: i,
                        _id: "component" + Date.now() + "2"
                    }), this._adLayer.show(), this._ui = null, this.addContainerResize(n), this.addResizeStyle(n), this._preplayLayer.show(), this._preplayLayer.showLoading(), this._initEventListener()
                }
                return (0, p.default)(e, [{
                    key: "addResizeStyle",
                    value: function (e) {
                        var t = this,
                            n = void 0;
                        window.addEventListener("resize", function () {
                            n && clearTimeout(n), n = setTimeout(function () {
                                t.adjustContainer(e)
                            }, 100)
                        })
                    }
                }, {
                    key: "enterBigMode",
                    value: function (e) {
                        var t = e.offsetWidth;
                        if (t && t >= 1600) {
                            (this.global.playerState.fullscreen || this.global.playerState.webFullscreen) && (C.default.hasClass(e, "big-mode") || C.default.addClass(e, "big-mode"), this.initBigModeInfo || this.originInforBottom && (this.originInforBottom = 1.3 * this.originInforBottom, this.initBigModeInfo = !0), this.initBigModeHint || this.originHintBottom && (this.originHintBottom = 1.3 * this.originHintBottom, this.initBigModeHint = !0), this.baseBottom = 90.5)
                        }
                    }
                }, {
                    key: "enterMiniMode",
                    value: function (e) {
                        var t = e.offsetWidth,
                            n = this.global.playerState.fullscreen || this.global.playerState.webFullscreen;
                        (t && t < 1600 || !n) && (C.default.hasClass(e, "big-mode") && C.default.removeClass(e, "big-mode"), this.initBigModeInfo && this.originInforBottom && (this.originInforBottom = this.originInforBottom / 1.3, this.initBigModeInfo = !1), this.initBigModeHint && this.originHintBottom && (this.originHintBottom = this.originHintBottom / 1.3, this.initBigModeHint = !1), this.baseBottom = 61)
                    }
                }, {
                    key: "adjustInfor",
                    value: function () {
                        var e = document.getElementsByClassName("information-tips")[0],
                            t = document.getElementsByClassName("hint-information")[0];
                        this._ifShow(t) && this.originHintBottom && (t.style.bottom = this.originHintBottom + "px"), this._ifShow(e) && this.originInforBottom && (e.style.bottom = this.originInforBottom + "px")
                    }
                }, {
                    key: "adjustContainer",
                    value: function (e) {
                        this.enterBigMode(e), this.enterMiniMode(e), this.adjustInfor()
                    }
                }, {
                    key: "addContainerResize",
                    value: function (e) {
                        var t = this;
                        try {
                            new(window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver)(function (e, n) {
                                e.forEach(function (e) {
                                    if ("style" === e.attributeName) return void t._player.resize(e.target.offsetWidth, e.target.offsetHeight)
                                }), n.takeRecords()
                            }).observe(e, {
                                attributes: !0
                            })
                        } catch (e) {
                            console.log(e)
                        }
                    }
                }, {
                    key: "_initEventListener",
                    value: function () {
                        var e = this;
                        this.global.on("fullscreen", function () {
                            e.adjustContainer(e._container)
                        }), this.global.on(T.default.webFullScreen, function () {
                            e.adjustContainer(e._container)
                        }), this.global.on(x.MessageConfig["player.showInfo"], function (t) {
                            if ("hint" === t.type) e.showHintTips(t.code, t);
                            else if ("information" === t.type) {
                                if (e.code = t.code, !e.showInformationTips) return;
                                e.showInformationTips(t.code, t)
                            }
                        }), this.global.on(x.MessageConfig["player.hideInfo"], function () {
                            e.hideInformationTips()
                        }), this.global.on(x.MessageConfig["player.showInfoWindow"], function (t) {
                            e.code = t.code, e.showInformationWindow(t.code, t)
                        }), this.global.on(x.MessageConfig["player.hideInfoWindow"], function () {
                            e.hideInformationWindow()
                        })
                    }
                }, {
                    key: "initPlayerUI",
                    value: function (e) {
                        var t = this;
                        this._ui = e, this.firstShow = !1, this._hintLayer = this._ui.getComponent("HintLayer"), this._informationLayer = this._ui.getComponent("InformationLayer"), this._informationWindowLayer = this._ui.getComponent("InformationWindowLayer"), this.dashboardStateChange = function (e) {
                            var n = t.ifBigMode();
                            e ? (t.baseBottom = 8, t._informationLayer._el.style.bottom = t.originInforBottom - 53 + "px", t._hintLayer._el.style.bottom = t.originHintBottom - 53 + "px", n && (t.baseBottom = 12, t._informationLayer._el.style.bottom = t.originInforBottom - 79.5 + "px", t._hintLayer._el.style.bottom = t.originHintBottom - 79.5 + "px")) : (t.baseBottom = 61, t._informationLayer._el.style.bottom = t.originInforBottom + "px", t._hintLayer._el.style.bottom = t.originHintBottom + "px", n && (t.baseBottom = 90.5, t._informationLayer._el.style.bottom = t.originInforBottom + "px", t._hintLayer._el.style.bottom = t.originHintBottom + "px"))
                        }, this.informationHide = function (e) {
                            if (e && e.flag)
                                for (var n = e.el, i = parseInt(t.getComputedStyle(n).bottom), o = [t._informationLayer._el, t._hintLayer._el], r = 0; r < o.length; r++)
                                    if (o[r] !== n) {
                                        var a = parseInt(t.getComputedStyle(o[r]).bottom);
                                        if (!(a < i)) {
                                            var s = t.getShowIndex(o[r]),
                                                l = t._getAllShowType();
                                            if (0 !== s && l >= 0) {
                                                var u = s - l >= 0 ? s - l : 0;
                                                t.moveDownTips(o[r], a, 44 * u), n === document.getElementsByClassName("information-window-tips")[0] && t.moveDownTips(o[r], a, 90)
                                            }
                                        }
                                    }
                        }, this._player.on("dashboardStateChange", this.dashboardStateChange), this._player.on("informationHide", this.informationHide)
                    }
                }, {
                    key: "getShowIndex",
                    value: function (e) {
                        var t = parseInt(this.getComputedStyle(e).bottom),
                            n = Math.round((t - this.baseBottom == 0 ? 0 : t - this.baseBottom) / 44);
                        return t < this.baseBottom && (n = 0), n
                    }
                }, {
                    key: "getComputedStyle",
                    value: function (e) {
                        return window.getComputedStyle(e, null)
                    }
                }, {
                    key: "hidePreLayer",
                    value: function () {
                        this._preplayLayer.hide()
                    }
                }, {
                    key: "showDRMNote",
                    value: function () {
                        this._preplayLayer.showDrmErrorNoteLayer()
                    }
                }, {
                    key: "setErrorData",
                    value: function (e) {
                        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                            n = arguments[2];
                        if (this._player.switchNormalScene(), this._preplayLayer.hideLoading(), !e) return void this._preplayLayer.showErrorMsg();
                        if (!(e.code && 22503 === e.code || 22504 === e.code)) {
                            if (n && 1111 === parseInt(n.status, 10)) return void this._preplayLayer.showCurrentLimit(n);
                            if (n && 4 === n.type) return void this._preplayLayer.showDrmErrorNoteLayer();
                            if (1 === t) return void this._preplayLayer.showErrorMsg(e);
                            var i = this.global.ups._playlistData.play_policy;
                            if (i && i.policyData && "DRM视频禁播" === i.policyData.desc || -4008 === e.code) return void this._preplayLayer.showDrmErrorNoteLayer();
                            switch (e.code) {
                            case -1002:
                                e.note = "该视频已被屏蔽，请选择其他视频观看", this._preplayLayer.showErrorMsg(e, "notice");
                                break;
                            case -2004:
                                this._preplayLayer.showSubscribeLayer();
                                break;
                            case -2002:
                            case -2003:
                                this._preplayLayer.showPassword();
                                break;
                            case -2001:
                                this._preplayLayer.showErrorMsg("", "private");
                                break;
                            case -3008:
                                break;
                            case -3006:
                                e.note = ["您的账号被多人使用，已开启保护措施，暂时关闭会员权益", "系统将于2小时候解除保护，并恢复会员权益，也可修改密码立即恢复"], this._preplayLayer.showErrorMsg(e, "notice");
                                break;
                            case -3007:
                            case -3001:
                                this._preplayLayer.showVipLayer();
                                break;
                            case -6005:
                                this._preplayLayer.showErrorMsg(e, "login");
                                break;
                            case -4008:
                                break;
                            default:
                                this._preplayLayer.showErrorMsg(e, "notice")
                            }
                        }
                    }
                }, {
                    key: "playError",
                    value: function () {
                        this._preplayLayer.show(), this._preplayLayer.showErrorMsg()
                    }
                }, {
                    key: "endVipShow",
                    value: function () {
                        this.global.ups.trialData && "time" === this.global.ups.trialData.type && (this._preplayLayer.show(), this._preplayLayer.showVipLayer())
                    }
                }, {
                    key: "showLoading",
                    value: function () {
                        this._preplayLayer.showLoading()
                    }
                }, {
                    key: "hideLoading",
                    value: function () {
                        this._preplayLayer.hideLoading()
                    }
                }, {
                    key: "hideInformationTips",
                    value: function () {
                        (!this._informationLayer.closeTimeout || this._informationLayer.closeTimeout <= 0) && this._informationLayer.hide()
                    }
                }, {
                    key: "moveUpTips",
                    value: function (e, t) {
                        e.style.bottom = this.calSize("add", this.baseBottom, t)
                    }
                }, {
                    key: "moveDownTips",
                    value: function (e, t, n) {
                        e.style.bottom = this.calSize("minus", t, n)
                    }
                }, {
                    key: "calSize",
                    value: function (e, t, n) {
                        var i = "",
                            o = 0;
                        switch (e) {
                        case "add":
                            o = t + n, i = o + "px";
                            break;
                        case "minus":
                            o = t - n, i = o + "px"
                        }
                        return i
                    }
                }, {
                    key: "showInformationTips",
                    value: function () {
                        function e(e, n) {
                            return t.apply(this, arguments)
                        }
                        var t = (0, u.default)(r.default.mark(function e(t, n) {
                            var i, o, a, l, u, c, d, h, p, f, g;
                            return r.default.wrap(function (e) {
                                for (;;) switch (e.prev = e.next) {
                                case 0:
                                    if ("mini" !== this.global.config.playScene) {
                                        e.next = 2;
                                        break
                                    }
                                    return e.abrupt("return");
                                case 2:
                                    if (i = document.getElementsByClassName("information-tips")[0], o = !1, this._ifShow(i) && (o = !0), a = x.PlayerLanguage.getString(t, "note"), n && n.time && (a = a.replace("{time}", (0, D.secondsToTime)(parseInt(n.time)))), n && n.quality && (a = a.replace("{quality}", x.QualityNameMap[n.quality])), n && n.language && (a = a.replace("{language}", this.global.ups.getLangMap()[n.language].lang)), !(t.indexOf("q") > -1)) {
                                        e.next = 19;
                                        break
                                    }
                                    if (l = {
                                        activityName: "清晰度720ptoast",
                                        configId: "607bea0308184ce7b085db977e8c0b96"
                                    }, u = "CommonActivity.getConfigCommon", this.hasLoadMtop) {
                                        e.next = 16;
                                        break
                                    }
                                    return e.next = 15, I.default.loadMtopData("mtop.com.youku.aplatform.weakGet", {
                                        bizType: u,
                                        bizParam: (0, s.default)(l)
                                    });
                                case 15:
                                    this.res = e.sent;
                                case 16:
                                    this.res && (this.res.data && 0 === this.res.data.code && (this.hasLoadMtop = !0), c = this.res.data.data, c && (d = c.noteType) === t && (a = c.qualityText), this._informationLayer.setContent({
                                        content: a || x.PlayerLanguage.getString(t, "note"),
                                        time: n.interval || 5e3,
                                        code: t,
                                        spm: n.spm
                                    })), e.next = 20;
                                    break;
                                case 19:
                                    this._informationLayer.setContent({
                                        content: a,
                                        time: n.interval || 5e3
                                    });
                                case 20:
                                    o || (h = this._getAllShowType(), p = 44, this.moveUpTips(this._informationLayer._el, h * p), this._ifShow(document.getElementsByClassName("information-window-tips")[0]) && this.moveUpTips(this._informationLayer._el, 90)), this.originInforBottom = parseInt(this.getComputedStyle(this._informationLayer._el).bottom ? this.getComputedStyle(this._informationLayer._el).bottom : 0), f = this.ifBigMode(), g = 53, f ? (this.initBigModeInfo = !0, g = 79.5) : this.initBigModeInfo = !1, C.default.hasClass(this._player.container, "ykplayer-dashboard-hidden") && (this.originInforBottom += g);
                                case 26:
                                case "end":
                                    return e.stop()
                                }
                            }, e, this)
                        }));
                        return e
                    }()
                }, {
                    key: "ifBigMode",
                    value: function () {
                        return C.default.hasClass(this._player.container, "big-mode")
                    }
                }, {
                    key: "showInformationWindow",
                    value: function (e, t) {
                        if ("mini" !== this.global.config.playScene) {
                            var n = x.PlayerLanguage.getString(e, "note");
                            this._informationWindowLayer.setContent({
                                content: n,
                                time: t.interval || 5e3
                            })
                        }
                    }
                }, {
                    key: "showHintTips",
                    value: function (e, t) {
                        if ("mini" !== this.global.config.playScene) {
                            var n = document.getElementsByClassName("hint-information")[0],
                                i = !1;
                            this._ifShow(n) && (i = !0);
                            var o = x.PlayerLanguage.getString(e, "hint");
                            t && t.quality && (o = "<i class='oppinfo'></i>" + o.replace("{quality}", x.QualityNameMap[t.quality])), t && t.language && (o = "<i class='oppinfo'></i>" + o.replace("{language}", this.global.ups.getLangMap()[t.language].lang)), t && t.volume && (o = o.replace("{0}", t.volume)), o && this._hintLayer.setHintShow(o);
                            var r = this.ifBigMode();
                            if (!i) {
                                var a = this._getAllShowType();
                                this.initBigModeHint = !!r, this.moveUpTips(this._hintLayer._el, 44 * a), this._ifShow(document.getElementsByClassName("information-window-tips")[0]) && this.moveUpTips(this._hintLayer._el, 90)
                            }
                            this.originHintBottom = parseInt(this.getComputedStyle(this._hintLayer._el).bottom ? this.getComputedStyle(this._hintLayer._el).bottom : 0);
                            var s = 53;
                            r && (s = 79.5), C.default.hasClass(this._player.container, "ykplayer-dashboard-hidden") && (this.originHintBottom += s)
                        }
                    }
                }, {
                    key: "_ifShow",
                    value: function (e) {
                        var t = 0;
                        return e && "block" === this.getComputedStyle(e).display && (t = 1), t
                    }
                }, {
                    key: "_getAllShowType",
                    value: function () {
                        var e = 0,
                            t = document.getElementById("vip_player_payment_toast"),
                            n = document.getElementsByClassName("hint-information")[0],
                            i = document.getElementsByClassName("information-tips")[0];
                        return e += this._ifShow(t), e += this._ifShow(n), (e += this._ifShow(i)) - 1
                    }
                }]), e
            }();
        t.default = R
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(18),
            r = i(o),
            a = n(2),
            s = i(a),
            l = n(0),
            u = i(l),
            c = n(1),
            d = i(c),
            h = n(4),
            p = i(h),
            f = n(3),
            g = i(f),
            m = n(52),
            y = i(m),
            v = n(10),
            _ = i(v),
            b = n(149),
            E = n(6),
            k = function (e) {
                function t(e) {
                    (0, u.default)(this, t);
                    var n = (0, p.default)(this, (t.__proto__ || (0, s.default)(t)).call(this));
                    return n.player = e, n.reset(), n._addEvent(), n
                }
                return (0, g.default)(t, e), (0, d.default)(t, [{
                    key: "reset",
                    value: function () {
                        this._dotList = null, this._currectDot = null, this._currectIndex = -1, this._state = b.ADState.END
                    }
                }, {
                    key: "_addEvent",
                    value: function () {
                        var e = this;
                        this.player && (this.player.on(_.default.SERVICE_IS_DONE, function (t) {
                            "ups" === t.data.id && (e.reset(), e.initDotInfo())
                        }), this.player.on("timeupdate", function (t) {
                            "hls" === e.player.config.supportType && (e._dotList || (e.reset(), e.initDotInfo()), e.onTimeUpdate(t.currentTime))
                        }), this.player.on("seeked", function () {
                            "hls" === e.player.config.supportType && e.onSeek(e.player.currentTime)
                        }))
                    }
                }, {
                    key: "initDotInfo",
                    value: function () {
                        if (!this.player || !this.player.ups) return [];
                        var e = this.player.ups._playlistData.ad,
                            t = this.player.ups._playlistData.ykad,
                            n = [],
                            i = [];
                        e && e.BFVAL && (e.BFVAL.map(function (e, t) {
                            return e.type = b.ADType.CUT, e.index = t, e
                        }), i = i.concat(e.BFVAL)), t && t.BFVAL && "hls" === this.player.config.supportType && (t.BFVAL.map(function (e, t) {
                            return e.type = b.ADType.PREVIOUSLY, e.index = t, e
                        }), i = i.concat(t.BFVAL)), i.sort(function (e, t) {
                            return e.DOT.STA - t.DOT.STA
                        });
                        for (var o = 0, r = 0, a = i.length; r < a; r++) {
                            var s = {},
                                l = i[r];
                            s.start = l.DOT.STA + o, s.end = s.start + l.AL, s.accTime = o, s.seconds = l.AL, s.type = l.type, s.index = l.index, o += l.AL, s.data = l, e.BFSTREAM && e.BFSTREAM[l.VID] && e.BFSTREAM[l.VID].preview ? (s.thumb = e.BFSTREAM[l.VID].preview.thumb || [], s.thumb_hd = e.BFSTREAM[l.VID].preview.thumb_hd || [], s.timespan = e.BFSTREAM[l.VID].preview.timespan) : (s.thumb = [], s.timespan = 0), n.push(s)
                        }
                        return this._currectIndex = 0, this._dotList = n, this._dotList
                    }
                }, {
                    key: "onTimeUpdate",
                    value: function (e) {
                        if (this._dotList && 0 !== this._dotList.length)
                            if (this._currectDot) {
                                if (e >= this._currectDot.start && e <= this._currectDot.end) {
                                    if (this._currectDot.type === b.ADType.CUT) return this._currectIndex++, void(this._currectDot = null);
                                    if (this._state === b.ADState.END && ((0, E.printLog)("前情提要开始 " + e + ", " + (0, r.default)(this._currectDot)), this.setState(b.ADState.CUTPLAYING, this._currectDot)), this._currectDot.ifSUS) return;
                                    return this.sendSUSLog(this._currectDot), void(this._currectDot.ifSUS = !0)
                                }(e > this._currectDot.end || e < this._currectDot.start) && this._state !== b.ADState.END && ((0, E.printLog)("前情提要开始 " + e + ", " + (0, r.default)(this._currectDot)), this.setState(b.ADState.END, this._currectDot), this._currectIndex++, this._currectDot.ifSUS = !1, this._currectDot = null)
                            } else -1 === this._currectIndex && (this._currectIndex = 0), this._dotList[this._currectIndex] && e >= this._dotList[this._currectIndex].start && (this._currectDot = this._dotList[this._currectIndex])
                    }
                }, {
                    key: "onSeek",
                    value: function (e) {
                        if (this._dotList && 0 !== this._dotList.length) {
                            this._currectIndex = -1;
                            for (var t = this._dotList, n = 0, i = t.length; n < i; n++) e >= t[n].start && e <= t[n].end && (this._currectIndex = n);
                            this._currectIndex > -1 && ((0, E.printLog)("seek广告中 " + e + ", " + this._currectIndex), this._currectDot = this._dotList[this._currectIndex])
                        }
                    }
                }, {
                    key: "setState",
                    value: function (e, t) {
                        t.type !== b.ADType.CUT && (this._state = e, this.emit({
                            state: this._state,
                            _data: t
                        }))
                    }
                }, {
                    key: "sendSUSLog",
                    value: function (e) {
                        if (e.type !== b.ADType.CUT && e && e.data && e.data.SUS)
                            for (var t = 0; t < e.data.SUS.length; t++) {
                                var n = e.data.SUS[t].U,
                                    i = {
                                        __TIMESTAMP__: parseInt((new Date).getTime() / 1e3),
                                        __htch__: "0"
                                    },
                                    o = void 0;
                                for (o in i) n.indexOf(o) > -1 && (n = n.replace(o, i[o]));
                                (0, E.sendlog)(n)
                            }
                    }
                }]), t
            }(y.default);
        t.default = k
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.AccService = t.ErrorService = t.EndService = t.CustomService = t.UpsService = t.CnaService = t.ServiceManager = void 0;
        var o = n(36),
            r = i(o),
            a = n(71),
            s = i(a),
            l = n(40),
            u = i(l),
            c = n(2),
            d = i(c),
            h = n(0),
            p = i(h),
            f = n(1),
            g = i(f),
            m = n(4),
            y = i(m),
            v = n(3),
            _ = i(v),
            b = n(52),
            E = i(b),
            k = n(15),
            w = i(k),
            S = n(10),
            T = i(S),
            x = n(67),
            A = i(x),
            D = n(186),
            L = i(D),
            C = n(190),
            M = i(C),
            I = n(188),
            R = i(I),
            P = n(187),
            N = i(P),
            O = n(185),
            j = i(O),
            U = n(189),
            B = i(U),
            F = function (e) {
                function t(e) {
                    (0, p.default)(this, t);
                    var n = (0, y.default)(this, (t.__proto__ || (0, d.default)(t)).call(this));
                    return n._sendReady = !1, n._global = e, n._global.service = {}, n._oesIndex = 0, n
                }
                return (0, _.default)(t, e), (0, g.default)(t, [{
                    key: "start",
                    value: function () {
                        this._allCompleted = !1, this._checkAllServiceCompleted() && this._dispatchAllServiceComplete(), this._startAllService()
                    }
                }, {
                    key: "restart",
                    value: function () {
                        this._global.service = {}, this._stopAllService(), this._oes.size > 0 && this._oes.forEach(function (e) {
                            "function" == typeof e.restart && e.restart()
                        }), this._ces.size > 0 && this._ces.forEach(function (e) {
                            "function" == typeof e.restart && e.restart()
                        }), this._oesIndex = 0, this._allCompleted = !1, this.start()
                    }
                }, {
                    key: "onNetStatus",
                    value: function (e) {
                        this._oes.size > 0 && this._oes.forEach(function (t) {
                            "function" == typeof t.onNetStatus && t.onNetStatus(e)
                        }), this._ces.size > 0 && this._ces.forEach(function (t) {
                            "function" == typeof t.onNetStatus && t.onNetStatus(e)
                        })
                    }
                }, {
                    key: "initialize",
                    value: function () {
                        this._oes = new u.default, this._ces = new u.default, this._info = {}, this._ready()
                    }
                }, {
                    key: "_startAllService",
                    value: function () {
                        this._oes.size > 0 && this._checkAndExecSyncService(), this._ces.size > 0 && this._ces.forEach(function (e) {
                            "function" == typeof e.start && e.start()
                        })
                    }
                }, {
                    key: "_stopAllService",
                    value: function () {
                        this._oes.size > 0 && this._oes.forEach(function (e) {
                            "function" == typeof e.stop && e.stop()
                        }), this._ces.size > 0 && this._ces.forEach(function (e) {
                            "function" == typeof e.stop && e.stop()
                        })
                    }
                }, {
                    key: "_ready",
                    value: function () {
                        this._sendReady || (this._sendReady = !0, this.emit({
                            code: T.default.SERVICE_IS_READY,
                            level: w.default.STATUS
                        }))
                    }
                }, {
                    key: "_checkAndExecSyncService",
                    value: function () {
                        if (!(this._oesIndex >= this._oes.size)) {
                            var e = [].concat((0, s.default)(this._oes.keys())),
                                t = this._oes.get(e[this._oesIndex]);
                            t && (this._oesIndex = this._oesIndex + 1, t.state === A.default.NOT_START ? t.start() : t.state === A.default.COMPLETE && this._checkAndExecSyncService())
                        }
                    }
                }, {
                    key: "_onServiceStatus",
                    value: function (e) {
                        switch (this.emit(e), e.code) {
                        case T.default.SERVICE_EXECUTE_COMPLETE:
                        case T.default.SERVICE_EXECUTE_FAILED:
                            this._oesIndex < this._oes.size ? this._checkAndExecSyncService() : this._checkAllServiceCompleted() && this._dispatchAllServiceComplete()
                        }
                        this.onNetStatus(e)
                    }
                }, {
                    key: "addSyncService",
                    value: function (e) {
                        var t = this;
                        this._oes.set(e.id, e), this._info[e.id] = e.state, e.on(w.default.NET_STATUS, function (e) {
                            t._onServiceStatus(e)
                        })
                    }
                }, {
                    key: "addAsyncService",
                    value: function (e) {
                        var t = this;
                        this._ces.set(e.id, e), this._info[e.id] = e.state, e.on(w.default.NET_STATUS, function (e) {
                            t._onServiceStatus(e)
                        })
                    }
                }, {
                    key: "_checkAllServiceCompleted",
                    value: function () {
                        var e = void 0;
                        if (this._oes.size > 0) {
                            var t = !0,
                                n = !1,
                                i = void 0;
                            try {
                                for (var o, a = (0, r.default)(this._oes.values()); !(t = (o = a.next()).done); t = !0)
                                    if (e = o.value, e.state !== A.default.COMPLETE) return !1
                            } catch (e) {
                                n = !0, i = e
                            } finally {
                                try {
                                    !t && a.return && a.return()
                                } finally {
                                    if (n) throw i
                                }
                            }
                        }
                        if (this._ces.size > 0) {
                            var s = !0,
                                l = !1,
                                u = void 0;
                            try {
                                for (var c, d = (0, r.default)(this._ces.values()); !(s = (c = d.next()).done); s = !0)
                                    if (e = c.value, e.state !== A.default.COMPLETE) return !1
                            } catch (e) {
                                l = !0, u = e
                            } finally {
                                try {
                                    !s && d.return && d.return()
                                } finally {
                                    if (l) throw u
                                }
                            }
                        }
                        return !0
                    }
                }, {
                    key: "_dispatchAllServiceComplete",
                    value: function () {
                        this._allCompleted || (this.emit({
                            code: T.default.SERVICE_ALL_COMPLETE,
                            level: w.default.STATUS
                        }), this._allCompleted = !0)
                    }
                }]), t
            }(E.default);
        t.ServiceManager = F, t.CnaService = L.default, t.UpsService = M.default, t.CustomService = N.default, t.EndService = R.default, t.ErrorService = B.default, t.AccService = j.default
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function o(e) {
            var t = e._userData || {};
            return {
                isVip: t.vip ? 1 : -1,
                uid: t.uid
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var r = n(18),
            a = i(r),
            s = n(2),
            l = i(s),
            u = n(0),
            c = i(u),
            d = n(1),
            h = i(d),
            p = n(4),
            f = i(p),
            g = n(12),
            m = i(g),
            y = n(3),
            v = i(y),
            _ = n(135),
            b = i(_),
            E = n(62),
            k = i(E),
            w = n(35),
            S = i(w),
            T = n(11),
            x = i(T),
            A = n(51),
            D = i(A),
            L = n(6),
            C = n(23),
            M = {
                "320p": "0",
                "540p": "1",
                "720p": "2",
                "1080p": "3"
            },
            I = {
                0: "320p",
                1: "540p",
                2: "720p",
                3: "1080p"
            },
            R = function (e) {
                function t(e) {
                    (0, c.default)(this, t);
                    var n = (0, f.default)(this, (t.__proto__ || (0, l.default)(t)).call(this, e));
                    return n.id = "acc", n.sid = 0, n.scontent = null, n.accsToken = null, n.reconnectInterval = 60, n._cna = null, n._data = {}, n._connection = null, n.timer = null, n.msgList = [], n.getConfig(), n.documentStateListener(), n
                }
                return (0, v.default)(t, e), (0, h.default)(t, [{
                    key: "getConfig",
                    value: function () {
                        var e = this;
                        window.getAccsServerConfig || (window.getAccsServerConfig = function (t) {
                            e.configData = t, window.getAccsServerConfig = null, e.configData.upstate && e.configData.rate > parseInt(100 * Math.random(), 10) && (e.needReport = !0), e.getToken()
                        }), (0, L.loadfile)("https://hudong.alicdn.com/api/data/v2/581e3bc3d74b43ab956a649519b01145.js", "js")
                    }
                }, {
                    key: "start",
                    value: function () {
                        this._cna = x.default.getCna(), this._initMtopData(), this.accsToken && this._initAccs()
                    }
                }, {
                    key: "restart",
                    value: function () {
                        this._initMtopData(), window.clearTimeout(this.timer), this.timer = null, this.accsToken && this._initAccs()
                    }
                }, {
                    key: "getToken",
                    value: function () {
                        var e = this;
                        k.default.config.prefix = this._global.initConfig.env || C.MTOP_ENV, k.default.config.subDomain = "", k.default.config.mainDomain = "youku.com", k.default.request({
                            api: "mtop.youku.playinfo.control.token.get",
                            v: "1.0",
                            data: {
                                windowId: b.default.getAccsDeviceId(),
                                appkey: "H5_5004"
                            },
                            appKey: "24679788",
                            ecode: 0
                        }).then(function (t) {
                            var n = t.ret;
                            if (n instanceof Array && (n = n.join(",")), n.indexOf("SUCCESS") > -1) {
                                var i = t.data.result;
                                e.accsToken = i, e._data.vid && e._initAccs()
                            }
                        }, function (e) {
                            console.log(e)
                        })
                    }
                }, {
                    key: "send",
                    value: function (e, t, n, i) {
                        var o = this;
                        if (!this._connection) return void this.msgList.push({
                            stype: e,
                            data: t,
                            serviceCode: n,
                            isFirst: i
                        });
                        if (this.needReport && t && 1 === t.report_type && !this.timer && (this.timer = window.setTimeout(function () {
                            o._global.playerState.state === D.default.PLAY ? (o.timer = null, o._data.streamtype = o._global.ups.getOriginStreamTypeByQuality(o._global.config.language, o._global.config.quality), o._data.client_ts = o.getNowFormatDate(), o.send(1, {
                                report_type: 1
                            })) : (o.timer = null, o.send(2, {
                                report_type: 1
                            }))
                        }, 1e3 * this.configData.interval)), !(2 === e || i || 1 === e && "hidden" === this._documentState)) {
                            var r = void 0;
                            99 === e ? (n && (t = this._retData, t.success = n), r = {
                                msgType: e,
                                content: {
                                    success: t.success,
                                    cmdId: t.cmdId,
                                    cmdType: t.cmdType,
                                    event: t.content.event,
                                    deviceId: this._cna,
                                    ext: ""
                                }
                            }) : r = {
                                msgType: e,
                                content: this._data
                            };
                            var s = (0, a.default)(r);
                            this._connection.send("accs-youku-scheduler", s).then(function () {})
                        }
                    }
                }, {
                    key: "close",
                    value: function () {
                        this._connection.close(), this._connection = null, window.clearTimeout(this.timer), this.timer = null
                    }
                }, {
                    key: "_initAccs",
                    value: function () {
                        var e = this;
                        if (!this._connection) {
                            var t = this._getAccParam(0);
                            try {
                                b.default.init(t).then(function (t) {
                                    if (e._connection = t, t.onMessage("accs-youku-scheduler", function (t) {
                                        var n = t.getText(),
                                            i = JSON.parse(n);
                                        "string" == typeof i && (i = JSON.parse(i)), e._dealMsg(i)
                                    }), t.onClose = function () {
                                        e._initAccs()
                                    }, t.onError = function () {}, t.onReconnect = function () {}, e.msgList.length > 0) {
                                        for (var n = 0, i = e.msgList.length; n < i; n++) e.send(e.msgList[n].stype, e.msgList[n].data, e.msgList[n].serviceCode, e.msgList[n].isFirst);
                                        e.msgList = []
                                    }
                                }).catch(function (e) {
                                    console.log("Accs promise error:", e)
                                })
                            } catch (e) {}
                        }
                    }
                }, {
                    key: "_dealMsg",
                    value: function (e) {
                        return this._retData = e, this.configData.downstate ? e.cmdId && e.cmdId !== this.cmdId ? (this.cmdId = e.cmdId, 1 !== e.cmdType && 2 !== e.cmdType ? (this._retData.success = 400, void this.send(99, this._retData)) : this._global.playerState.state === D.default.ADPLAY || this._global.playerState.state === D.default.CUTADPLAY ? (this._retData.success = 401, void this.send(99, this._retData)) : "hidden" === this._documentState ? (this._retData.success = 404, void this.send(99, this._retData)) : this._global.playerState.state === D.default.PAUSE ? (this._retData.success = 406, void this.send(99, this._retData)) : 1 === e.cmdType && e.content.vid !== this._global.ups.videoData.encodeid ? (this._retData.success = 403, void this.send(99, this._retData)) : (this._global.playerState.accUpsState = "deal", 1 === e.cmdType ? this._global.playerState.accCmdType = 1 : 2 === e.cmdType && (this._global.playerState.accCmdType = 2), void this._manage.reload())) : (this._retData.success = 402, void this.send(99, this._retData)) : (this._retData.success = 405, void this.send(99, this._retData))
                    }
                }, {
                    key: "changeQulitys",
                    value: function (e) {
                        var t = {};
                        for (var n in e) I[parseInt(n)] && (t[I[parseInt(n)]] = I[parseInt(e[n])]);
                        var i = this._global.config.quality;
                        t[i] && (this._global.config = {
                            quality: t[i],
                            isBlockNote: !0
                        })
                    }
                }, {
                    key: "_initMtopData",
                    value: function () {
                        var e = this._global.ups,
                            t = o(e);
                        this._data = {
                            appkey: "H5_5004",
                            deviceid: this._cna,
                            claritylevel: M[this._global.config.quality] || 0,
                            userid: t.uid || "",
                            vid: e.videoData.encodeid,
                            islogin: e.userData.ytid ? 1 : -1,
                            isvip: t.isVip,
                            ccode: this._global.initConfig.ccode,
                            version: this._global.version,
                            areacode: e.networkData.area_code || -1,
                            ext: ""
                        }
                    }
                }, {
                    key: "getNowFormatDate",
                    value: function () {
                        var e = new Date,
                            t = e.getMonth() + 1,
                            n = e.getDate();
                        t >= 1 && t <= 9 && (t = "0" + t), n >= 0 && n <= 9 && (n = "0" + n);
                        var i = e.getHours(),
                            o = e.getMinutes(),
                            r = e.getSeconds();
                        i >= 0 && i <= 9 && (i = "0" + i), o >= 0 && o <= 9 && (o = "0" + o), r >= 0 && r <= 9 && (r = "0" + r);
                        return e.getFullYear() + "-" + t + "-" + n + " " + i + ":" + o + ":" + r
                    }
                }, {
                    key: "_getAccParam",
                    value: function (e, t) {
                        var n = "pre-acs" === this._global.initConfig.env ? "pre-msgacs.youku.com" : "acs.youku.com",
                            i = {
                                appkey: "H5_5004",
                                accsToken: this.accsToken,
                                aserverProxy: n,
                                ports: "http:" === location.protocol ? 80 : 443,
                                m_params: {},
                                reconnect: !0,
                                reconnectInterval: this.reconnectInterval,
                                heartbeat: !0
                            };
                        for (var o in t) this._data[o] = t[o];
                        return i.m_params = {
                            stype: e,
                            data: this._data
                        }, i
                    }
                }, {
                    key: "onNetStatus",
                    value: function () {}
                }, {
                    key: "dispatchError",
                    value: function (e) {
                        (0, m.default)(t.prototype.__proto__ || (0, l.default)(t.prototype), "dispatchError", this).call(this, e), (0, m.default)(t.prototype.__proto__ || (0, l.default)(t.prototype), "dispatchDone", this).call(this)
                    }
                }, {
                    key: "bindPlayer",
                    value: function (e) {
                        this._manage = e
                    }
                }, {
                    key: "documentStateListener",
                    value: function () {
                        var e = this,
                            t = void 0,
                            n = void 0;
                        void 0 !== document.hidden ? (n = "visibilitychange", t = "visibilityState") : void 0 !== document.mozHidden ? (n = "mozvisibilitychange", t = "mozVisibilityState") : void 0 !== document.msHidden ? (n = "msvisibilitychange", t = "msVisibilityState") : void 0 !== document.webkitHidden && (n = "webkitvisibilitychange", t = "webkitVisibilityState"), this._stateKey = t, document.addEventListener(n, function () {
                            e._documentState = document[e._stateKey]
                        }, !1)
                    }
                }]), t
            }(S.default);
        t.default = R
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(2),
            r = i(o),
            a = n(0),
            s = i(a),
            l = n(1),
            u = i(l),
            c = n(4),
            d = i(c),
            h = n(3),
            p = i(h),
            f = n(35),
            g = i(f),
            m = n(11),
            y = i(m),
            v = function (e) {
                function t(e) {
                    (0, s.default)(this, t);
                    var n = (0, d.default)(this, (t.__proto__ || (0, r.default)(t)).call(this, e));
                    return n.id = "cna", n.cnaCount = 10, n
                }
                return (0, p.default)(t, e), (0, u.default)(t, [{
                    key: "start",
                    value: function () {
                        this.dispatchStart(), this._repeat()
                    }
                }, {
                    key: "_repeat",
                    value: function () {
                        var e = this;
                        this._sendService = !1, this._cna = y.default.getCna(), this._cnaTimer && (clearTimeout(this._cnaTimer), this._cnaTimer = null), !this._cna && this.cnaCount > 0 ? this._cnaTimer = setTimeout(function () {
                            e._repeat(), e.cnaCount--
                        }, 500) : (this.cnaCount = 10, this._timeComplete())
                    }
                }, {
                    key: "_timeComplete",
                    value: function () {
                        if (!this._sendService) {
                            if (this._sendService = !0, this._cna = y.default.getCna(), !this._cna) return void this._onError("10101");
                            this.onComplete()
                        }
                    }
                }, {
                    key: "_onError",
                    value: function (e) {
                        var t = {};
                        t.errorCode = e, t.message = "error", this.dispatchError(t), this.dispatchDone()
                    }
                }, {
                    key: "onComplete",
                    value: function () {
                        this.dispatchComplete(), this.dispatchDone()
                    }
                }]), t
            }(g.default);
        t.default = v
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(19),
            r = i(o),
            a = n(2),
            s = i(a),
            l = n(0),
            u = i(l),
            c = n(1),
            d = i(c),
            h = n(4),
            p = i(h),
            f = n(12),
            g = i(f),
            m = n(3),
            y = i(m),
            v = n(35),
            _ = i(v),
            b = function (e) {
                function t(e) {
                    (0, u.default)(this, t);
                    var n = (0, p.default)(this, (t.__proto__ || (0, s.default)(t)).call(this, e));
                    return n.id = "custom", n
                }
                return (0, y.default)(t, e), (0, d.default)(t, [{
                    key: "start",
                    value: function () {
                        this.customParam = this._global.initConfig.customParam, this.customParam && this.customParam.client_id ? (this.dispatchStart(), this.loadData()) : (this.dispatchComplete(), this.dispatchDone())
                    }
                }, {
                    key: "getServiceUrl",
                    value: function () {
                        return "https://api.youku.com/players/custom.json"
                    }
                }, {
                    key: "getServiceParam",
                    value: function () {
                        var e = {};
                        return e.client_id = this.customParam.client_id, e.video_id = this._global.mediaData.mediaId, e.refer = this.customParam.refer || "", e.vext = this.customParam.vext || "", e.embsig = this.customParam.embsig || "", e.version = "1.0", e.type = "h5", e
                    }
                }, {
                    key: "onComplete",
                    value: function (e) {
                        var t = this._global.initConfig.customParam,
                            n = {};
                        e && (this._global.service.custom.data = e, t.password && (e.passless && 1 === parseInt(e.passless) ? (n.client_id = t.client_id, n.password = t.password) : delete this._global.initConfig.customParam.password), e.stealsign && (n.stealsign = e.stealsign), e.atm && (n.atm = e.atm)), this._global.initConfig.customParam = (0, r.default)(t, n), this.dispatchComplete(), this.dispatchDone()
                    }
                }, {
                    key: "dispatchError",
                    value: function (e) {
                        (0, g.default)(t.prototype.__proto__ || (0, s.default)(t.prototype), "dispatchError", this).call(this, e), (0, g.default)(t.prototype.__proto__ || (0, s.default)(t.prototype), "dispatchDone", this).call(this)
                    }
                }]), t
            }(_.default);
        t.default = b
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(2),
            r = i(o),
            a = n(0),
            s = i(a),
            l = n(1),
            u = i(l),
            c = n(4),
            d = i(c),
            h = n(12),
            p = i(h),
            f = n(3),
            g = i(f),
            m = n(35),
            y = i(m),
            v = n(10),
            _ = i(v),
            b = n(15),
            E = i(b),
            k = n(11),
            w = i(k),
            S = function (e) {
                function t(e) {
                    (0, s.default)(this, t);
                    var n = (0, d.default)(this, (t.__proto__ || (0, r.default)(t)).call(this, e));
                    return n._global.endList = [], n.id = "end", n._addEvent(), n
                }
                return (0, g.default)(t, e), (0, u.default)(t, [{
                    key: "_addEvent",
                    value: function () {
                        var e = this;
                        this._global.on("ended", function () {
                            e.onNetStatus({
                                level: E.default.STATUS,
                                code: _.default.PLAYER_PLAY_END
                            })
                        })
                    }
                }, {
                    key: "start",
                    value: function () {
                        this.dispatchComplete(), this.dispatchDone()
                    }
                }, {
                    key: "onNetStatus",
                    value: function (e) {
                        e.code === _.default.PLAYER_PLAY_END && (this.dispatchStart(), this.loadData())
                    }
                }, {
                    key: "getServiceUrl",
                    value: function () {
                        return "//ykrec.youku.com/video/packed/list.json"
                    }
                }, {
                    key: "getServiceParam",
                    value: function () {
                        var e = {},
                            t = this._global.ups;
                        if (e.vid = t.videoData.id, e.uid = t.userData.uid, t.showData && (e.sid = t.showData.id), t.videoData.category_id && (e.cate = t.videoData.category_id), e.site = 1, e.module = 2, t.controllerData) {
                            var n = parseInt(t.controllerData.play_mode);
                            n > 1 && (n += 1), e.pg = n
                        }
                        return "0502" === this._global.initConfig.ccode ? e.apptype = 12 : (e.apptype = 12, e.pg = 1), e.pl = 36, e
                    }
                }, {
                    key: "onComplete",
                    value: function (e) {
                        if (e) {
                            var t = "",
                                n = "",
                                i = "";
                            e.hasOwnProperty("ver") && (t = e.ver), e.hasOwnProperty("ord") && (n = e.ord), e.hasOwnProperty("req_id") && (i = e.req_id);
                            var o = e.data,
                                r = [];
                            if (o && 0 !== o.length) {
                                for (var a = 0; a < o.length; a++) {
                                    var s = o[a];
                                    s.ver = t, s.ord = n, s.reqId = i, r.push(s)
                                }
                                if (this._global.config.continuePlay && !this._global.initConfig.isInnerPlay && !this._global.playerState.fullscreen && this._global.initConfig.playmode && 1 === parseInt(this._global.initConfig.playmode) && !this._global.config.nextVid) {
                                    var l = r[0] ? r[0] : null;
                                    if (l && "0" === l.mm) return void this._gotoRelativeVideo({
                                        ID: 0,
                                        rData: l,
                                        autoclick: !0
                                    })
                                }
                            }
                            this._global.endList = r
                        }
                        this.dispatchComplete(), this.dispatchDone()
                    }
                }, {
                    key: "_gotoRelativeVideo",
                    value: function (e) {
                        var t = e.rData,
                            n = "y1";
                        "0502" === this._global.initConfig.ccode ? n += ".2-1-" : n += ".7-1-", n += this._global.ups.videoData.category_id + ".4." + (e.ID + 1) + "-1", n += "." + this.apt + "-" + this.pg + "-2-" + e.ID + "-" + t.mm;
                        var i = "";
                        e.autoclick && (i += "&source=autoclick");
                        var o = t.playLink;
                        if (o += "?from=" + (n + encodeURIComponent(i)), t.recClickLogUrl && "" !== t.recClickLogUrl) {
                            var r = t.recClickLogUrl;
                            e.autoclick && (r += "&source=autoclick");
                            var a = {};
                            a.format = !0, a.domain = r, a.url = "", a.params = "", w.default.sendlog(a)
                        }
                        this._global.initConfig.ccode, setTimeout(function () {
                            window.open(o, "_self")
                        }, 600)
                    }
                }, {
                    key: "dispatchError",
                    value: function (e) {
                        (0, p.default)(t.prototype.__proto__ || (0, r.default)(t.prototype), "dispatchError", this).call(this, e), (0, p.default)(t.prototype.__proto__ || (0, r.default)(t.prototype), "dispatchDone", this).call(this)
                    }
                }, {
                    key: "apt",
                    get: function () {
                        return "0502" === this._global.initConfig.ccode ? 1 : 8
                    }
                }, {
                    key: "pg",
                    get: function () {
                        return "0502" === this._global.initConfig.ccode && this._global.ups.controllerData && this._global.ups.controllerData.play_mode ? this._global.ups.controllerData.play_mode : 1
                    }
                }]), t
            }(y.default);
        t.default = S
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(2),
            r = i(o),
            a = n(0),
            s = i(a),
            l = n(1),
            u = i(l),
            c = n(4),
            d = i(c),
            h = n(3),
            p = i(h),
            f = n(35),
            g = i(f),
            m = n(15),
            y = i(m),
            v = n(100),
            _ = i(v),
            b = function (e) {
                function t(e) {
                    (0, s.default)(this, t);
                    var n = (0, d.default)(this, (t.__proto__ || (0, r.default)(t)).call(this, e));
                    return n.id = "error", n._addEvent(), n
                }
                return (0, p.default)(t, e), (0, u.default)(t, [{
                    key: "_addEvent",
                    value: function () {
                        var e = this;
                        this._global && this._global.on("player.error", function (t) {
                            e._onError(t)
                        })
                    }
                }, {
                    key: "start",
                    value: function () {
                        this.dispatchComplete(), this.dispatchDone()
                    }
                }, {
                    key: "_onError",
                    value: function (e) {
                        if (e.data) {
                            var t = {},
                                n = "0";
                            if ("video" === e.type) e.data.details = "MediaError", e.data.error && e.data.error.code && (n = "36404", parseInt(e.data.error.code) > 0 && parseInt(e.data.error.code) < 10 && (n = "3610" + parseInt(e.data.error.code))), e.data.networkState && (t.networkState = e.data.networkState), e.data.duration && (t.duration = e.data.duration), e.data.currentTime && (t.currentTime = e.data.currentTime), e.data.isPlaying && (t.isPlaying = e.data.isPlaying), e.data.networkstate && "0" === n && (n = "36201"), e.data.url && (t.cdnUrl = e.data.url);
                            else if (_.default.ERROR_MAP.has(e.data.details)) {
                                var i = _.default.ERROR_MAP.get(e.data.details);
                                n = i.code;
                                var o = i.type;
                                t.corexCode = e.data.code, t.type = 4 === e.data.type ? 4 : o, 2 === n.length && (n += e.data.response.code), 1 === o ? t.m3u8Url = e.data.context.url : 3 === o && (t.cdnUrl = e.data.frag.relurl, t.m3u8Url = e.data.frag.baseurl)
                            }
                            "0" !== n && (t.errorCode = n, t.id = this.id, this.emit({
                                code: e.data.details,
                                level: y.default.ERROR,
                                data: t
                            }))
                        }
                    }
                }]), t
            }(g.default);
        t.default = b
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function o() {
            var e = navigator.userAgent,
                t = e.match(/\(([^\)]+)/);
            return !(!t || !t[1]) && "WindowsNT5.1" === (t = t[1].replace(/\s+/g, ""))
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var r = n(18),
            a = i(r),
            s = n(2),
            l = i(s),
            u = n(0),
            c = i(u),
            d = n(1),
            h = i(d),
            p = n(4),
            f = i(p),
            g = n(12),
            m = i(g),
            y = n(3),
            v = i(y),
            _ = n(107),
            b = i(_),
            E = n(26),
            k = n(35),
            w = i(k),
            S = n(193),
            T = i(S),
            x = n(39),
            A = n(101),
            D = i(A),
            L = n(11),
            C = i(L),
            M = n(67),
            I = i(M),
            R = n(10),
            P = i(R),
            N = n(15),
            O = i(N),
            j = n(8),
            U = n(6),
            B = n(23),
            F = "DIl58SLFxFNndSV1GFNnMQVYkx1PP5tKe1siZu/86PR1u/Wh1Ptd+WOZsHHWxysSfAOhNJpdVWsdVJNsfJ8Sxd8WKVvNfAS8aS8fAOzYARzPyPc3JvtnPHjTdKfESTdnuTW6ZPvk2pNDh4uFzotgdMEFkzQ5wZVXl2Pf1/Y6hLK0OnCNxBj3+nb0v72gZ6b0td+WOZsHHWxysSo/0y9D2K42SaB8Y/+aD2K42SaB8Y/+ahU+WOZsHcrxysooUeND";
        window.Browser = E.Browser;
        var z = function () {
                if (o()) return !1;
                var e = /Chrome\/(\d+)/.exec(navigator.userAgent);
                return !e || !e[1] || e[1] >= "62"
            },
            H = !1,
            Y = E.Browser.isSafari && parseInt(E.Browser.version) >= 11 && window.WebKitMediaKeys && window.WebKitMediaKeys.isTypeSupported("com.apple.fps.1_0", "video/mp4");
        (function () {
            return navigator.requestMediaKeySystemAccess && z() ? navigator.requestMediaKeySystemAccess("com.widevine.alpha", [{
                initDataTypes: [],
                videoCapabilities: [{
                    contentType: 'video/mp4; codecs="avc1.64001e"',
                    robustness: "SW_SECURE_CRYPTO"
                }],
                audioCapabilities: [{
                    contentType: 'audio/mp4; codecs="mp4a.40.2"',
                    robustness: "SW_SECURE_CRYPTO"
                }]
            }]).then(function () {
                return !0
            }).catch(function () {
                return !1
            }) : b.default.resolve(!1)
        })().then(function (e) {
            return H = e
        });
        var V = function (e) {
            function t(e, n) {
                (0, c.default)(this, t);
                var i = (0, f.default)(this, (t.__proto__ || (0, l.default)(t)).call(this, e));
                return i.id = "ups", i.manage = n, i.encryptKeyReady = !1, i._encryptR1 = null, i._timeoutArray = [2e4, 2e4, 2e3, 8e3], i
            }
            return (0, v.default)(t, e), (0, h.default)(t, [{
                key: "start",
                value: function () {
                    this._retryCount = 4, this._cna = C.default.getCna(), this._cna && (this.dispatchStart(), this.loadData())
                }
            }, {
                key: "getCkey",
                value: function () {
                    return D.default.getCkey()
                }
            }, {
                key: "loadData",
                value: function () {
                    var e = this;
                    if (this._global.config.hotPreview && (this._global.initConfig.isSupportDRM = !0), (0, U.getParamFromUrl)(location.href).ykupstest && (this._global.upsServiceConfig.requesttype = "jsonp"), !this._global.upsServiceConfig.requesttype) return void setTimeout(function () {
                        e.loadData()
                    }, 300);
                    if (this._global.initConfig.isSupportDRM && 1 === this._global.browserSupportLevel) try {
                        //这个值会发送给服务端
                        this._encryptR1 = "ZCI/0jyyX8H5krd/MJARug==";
                        //R1是盐值
                        this._global.R1 = "EZK0c4266Y6cf76Y";        
                    } catch (e) {
                        this._encryptR1 = null
                    } else this._encryptR1 = null;
                    if (this._global.config.hotPreview) return void(0, m.default)(t.prototype.__proto__ || (0, l.default)(t.prototype), "loadData", this).call(this, "jsonp", this._timeoutArray[4 - this._retryCount]);
                    switch (this._global.upsServiceConfig.requesttype) {
                    case "mtop":
                        var n = {
                            YKPid: "20160317PLF000211",
                            YKLoginRequest: !0
                        };
                        (0, m.default)(t.prototype.__proto__ || (0, l.default)(t.prototype), "loadMtopData", this).call(this, "mtop.youku.play.ups.appinfo.get", n, this._timeoutArray[4 - this._retryCount]);
                        break;
                    case "fetch":
                        (0, m.default)(t.prototype.__proto__ || (0, l.default)(t.prototype), "loadData", this).call(this, "fetch", this._timeoutArray[4 - this._retryCount]);
                        break;
                    default:
                        (0, m.default)(t.prototype.__proto__ || (0, l.default)(t.prototype), "loadData", this).call(this, "jsonp", this._timeoutArray[4 - this._retryCount])
                    }
                }
            }, {
                key: "getServiceUrl",
                value: function () {
                    var e = (0, U.getParamFromUrl)(location.href);
                    return e.ykupstest && e.upshost ? "//" + e.upshost + "/ups/get.json" : this._global.config.hotPreview ? "//pre-ups-preview.youku.com/ups/get.json" : j.PLAYERSYSTEM.protocol.indexOf("http:") > -1 && this._retryCount < 3 ? "http://ups.youku.com/ups/get.json" : "https://ups.youku.com/ups/get.json"
                }
            }, {
                key: "getDrmType",
                value: function () {
                    return "mp4" === this.manage.getSupportType() ? 1 : Y ? 19 : H ? parseInt(E.Browser.version) >= 69 ? 19 : 35 : 3
                }
            }, {
                key: "getServiceMtopParam",
                value: function () {
                    var e = {
                        ccode: this._global.initConfig.ccode,
                        client_ip: "192.168.1.1",
                        utid: this._cna,
                        client_ts: parseInt((new Date).getTime() / 1e3),
                        version: this._global.version
                    };
                    e.ckey = this.getCkey() || F;
                    var t = {
                        vid: this._global.mediaData.mediaId,
                        play_ability: 5376
                    };
                    this._global.initConfig.playmode && 2 === parseInt(this._global.initConfig.playmode) && (t.playlist_id = this._global.initConfig.Fid, t.ob = this._global.initConfig.Ob), this._global.initConfig.showid && (t.showid = this._global.initConfig.showid, t.show_videoseq = this._global.initConfig.show_videoseq || ""), this._global.initConfig.currentShowId && (t.current_showid = this._global.initConfig.currentShowId), this._global.initConfig.inputPassword && "" !== this._global.initConfig.inputPassword && (t.password = escape(this._global.initConfig.inputPassword)), this._encryptR1 && (t.drm_type = this.getDrmType(), Y && (t.drm_level = 1), t.key_index = this._global.keyindex, t.encryptR_client = this._encryptR1), t.preferClarity = B.PREFER_QUALITY_INDEX[this._global.config.quality];
                    var n = this._global.initConfig.customParam;
                    n && (n.client_id && n.password && (t.client_id = n.client_id, t.password = n.password), n.stealsign && (t.r = n.stealsign)), 1 === this._global.initConfig.nochannel && (t.nochannel = this._global.initConfig.nochannel), 0 !== this._global.config.reload && (t.reload = 1);
                    var i = this._global.adparam || {};
                    return i.atm = this._global.initConfig.customParam && this._global.initConfig.customParam.atm || "", t.extag = "EXT-X-PRIVINF", this._global.enableAutoLevel ? t.master_m3u8 = 1 : this._global.staticM3u8 && (t.master_m3u8 = 0), t.play_ability = 5376, this._global.enableSubtitle ? t.media_type = "standard,subtitle" : t.media_type = "standard", t.app_ver = this._global.version, {
                        steal_params: (0, a.default)(e),
                        biz_params: (0, a.default)(t),
                        ad_params: (0, a.default)(i)
                    }
                }
            }, {
                key: "getServiceParam",
                value: function () {
                    var e = {};
                    e.vid = this._global.mediaData.mediaId, this._global.enableSubtitle ? e.media_type = "standard,subtitle" : e.media_type = "standard", e.app_ver = this._global.version, e.extag = "EXT-X-PRIVINF", this._global.enableAutoLevel ? e.master_m3u8 = 1 : this._global.staticM3u8 && (e.master_m3u8 = 0), e.play_ability = 5376, e.preferClarity = B.PREFER_QUALITY_INDEX[this._global.config.quality] || 99, e.ccode = this._global.initConfig.ccode, e.client_ip = "192.168.1.1", e.utid = this._cna, e.client_ts = parseInt((new Date).getTime() / 1e3), e.play_ability = 5376, this._global.initConfig.playmode && 2 === parseInt(this._global.initConfig.playmode) && (e.playlist_id = this._global.initConfig.Fid, e.ob = this._global.initConfig.Ob), this._global.initConfig.showid && (e.showid = this._global.initConfig.showid, e.show_videoseq = this._global.initConfig.show_videoseq || ""), this._global.initConfig.currentShowId && (e.current_showid = this._global.initConfig.currentShowId), this._global.initConfig.inputPassword && "" !== this._global.initConfig.inputPassword && (e.password = escape(this._global.initConfig.inputPassword));
                    var t = this._global.initConfig.customParam;
                    t && (t.client_id && t.password && (e.client_id = t.client_id, e.password = t.password), t.stealsign && (e.r = t.stealsign), t.atm && (e.atm = t.atm)), 1 === this._global.initConfig.nochannel && (e.nochannel = this._global.initConfig.nochannel), e.ckey = this.getCkey() || F, e.version = this._global.version, 0 !== this._global.config.reload && (e.reload = 1);
                    var n = this._global.adparam || {};
                    for (var i in n) e[i] = n[i];
                    return this._global.config.hotPreview && (e.utid = "JTdyEbCIRwcCAWoLIhkAX9rF", e.log = 1, e.censor = 1), this._encryptR1 && (e.drm_type = this.getDrmType(), Y && (e.drm_level = 1), e.key_index = this._global.keyindex, e.encryptR_client = this._encryptR1), "deal" === this._global.playerState.accUpsState && (1 === this._global.playerState.accCmdType ? e.source = "plic_1" : 2 === this._global.playerState.accCmdType && (e.source = "plic_2")), e
                }
            }, {
                key: "onComplete",
                value: function (e) {
                    if (!e.hasOwnProperty("e") || !e.e.hasOwnProperty("code") || 0 !== e.e.code || !e.data) return this._retryCount--, void(this._retryCount < 1 || 1111 === e.status ? (this.dispatchComplete(), this._playListDataError("22501", 1, e)) : this.loadData());
                    if (this.dispatchComplete(), e.data.error) {
                        var t = "";
                        if (-1 !== ["-4004", "-4005", "-5001", "-6001", "-6004", "-6005"].indexOf(String(e.data.error.code)) && (t = String(e.data.error.code), t = "23" + t.slice(1, 2) + t.slice(3, 5)), "" !== t) return void this._playListDataError(t, 1)
                    }
                    var n = new T.default(e.data, this._global.browserSupportLevel);
                    n._startQuality && (this._global.config.quality = n._startQuality), this._global.ups = n;
                    var i = null;
                    this.checkError(n) ? (this.dispatchDataError(), i = "error") : (this.dispatchDataSuccess(), i = "success"), this.dispatchDone(i)
                }
            }, {
                key: "_playListDataError",
                value: function (e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                        n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null,
                        i = {};
                    i.errorCode = e, n && (i.upsData = n);
                    var o = this.getServiceUrl();
                    o += (-1 === o.indexOf("?") ? "?" : "&") + (0, x.formatParams)(this.getServiceParam()), i.upsUrl = o, i.id = this._id, i.desc = "Get " + this._id + "  service data error!", this.state = I.default.ERROR;
                    var r = P.default.SERVICE_EXECUTE_FAILED;
                    1 === t && (r = P.default.SERVICE_DATA_ERROR), this.emit({
                        code: r,
                        level: O.default.ERROR,
                        data: i
                    }), this.dispatchDone("error")
                }
            }, {
                key: "dispatchError",
                value: function (e) {
                    if (this._retryCount--, "jsonp" !== this._global.upsServiceConfig.requesttype && this._retryCount < 3) {
                        var n = {};
                        n.code = e.code ? e.code : "000", n.message = e.message ? e.message : "";
                        var i = this.getServiceUrl();
                        i += (-1 === i.indexOf("?") ? "?" : "&") + (0, x.formatParams)(this.getServiceParam()), n.url = i, n.degradetype = 3, n.errortype = "mtop" === this._global.upsServiceConfig.requesttype ? 1 : 2, (0, m.default)(t.prototype.__proto__ || (0, l.default)(t.prototype), "dispatchWarning", this).call(this, n), this._global.upsServiceConfig.requesttype = "jsonp"
                    }
                    this._retryCount < 1 ? this._playListDataError("20" + e.code) : this.loadData()
                }
            }, {
                key: "checkError",
                value: function (e) {
                    return !(!e.errorData || 0 === e.errorData.code)
                }
            }]), t
        }(w.default);
        t.default = V
    },
    function (e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = {
                ups_client_netip: "",
                psid: "",
                vkey: "",
                pcad: !1
            },
            o = {
                id: 0,
                total: 0,
                ownerId: 0,
                next_title: "",
                next_id: ""
            },
            r = {
                uid: "0",
                vip: !1,
                ip: ""
            },
            a = {
                ad: !1,
                acc_support: !1,
                acc_open: !1,
                hd3: !1,
                note: "",
                reason: "",
                link: ""
            },
            s = {
                stream_mode: 1,
                share_disable: !1,
                download_disable: !1,
                video_capture: !1,
                continuous: !1,
                circle: !1,
                tsflag: !1,
                play_mode: 0,
                like_disabled: !1
            },
            l = {
                nick_name: "",
                certification: !1,
                reason: "",
                avatar: "",
                homepage: "",
                fan_count: 0,
                icon: 0,
                comment: 0,
                show_brand: 0,
                subscription: 0
            },
            u = {
                like: 0,
                dislike: 0
            },
            c = {
                code: "",
                count: 0
            },
            d = {
                thumb: [],
                timespan: ""
            },
            h = {
                code: 0,
                link: "",
                note: ""
            },
            p = {
                lastpoint: ""
            },
            f = {
                area_code: "",
                dma_code: ""
            },
            g = {
                can_play: !1,
                price: 0,
                discount_price: 0,
                duration: 0
            },
            m = {
                id: 0,
                encodeid: "",
                showcategory: "",
                title: "",
                pay: 0,
                video_pay: 0,
                pay_type: [],
                video_type: 0,
                copyright: "",
                stage: "",
                license_num: "",
                youku_register_num: "",
                tudou_register_num: "",
                exclusive: !1,
                show_videotype: 0
            },
            y = {
                ad: 0,
                paid_type: [],
                own_channel_id: 0
            },
            v = {
                ups: i,
                album: o,
                user: r,
                vip: a,
                controller: s,
                uploader: l,
                videolike: u,
                ticket: c,
                preview: d,
                error: h,
                playlog: p,
                network: f,
                pay: g
            };
        t.defaultPlayList = v, t.defaultShow = m, t.defaultFee = y
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(37),
            r = i(o),
            a = n(40),
            s = i(a),
            l = n(36),
            u = i(l),
            c = n(19),
            d = i(c),
            h = n(0),
            p = i(h),
            f = n(1),
            g = i(f),
            m = n(23),
            y = {
                startTime: 0,
                endTime: 0,
                type: "",
                time: 0,
                episodes: 0,
                note: "",
                look_ten_type: ""
            },
            v = {
                id: "",
                encodeid: "",
                title: "",
                userid: 0,
                username: "",
                seconds: "",
                category_letter_id: "",
                category_id: 0,
                logo: "",
                privacy: "",
                transfer_mode: "",
                type: [],
                share_type: [],
                subcategories: [],
                tags: [],
                cs: "",
                rtmp: !1,
                ctype: ""
            },
            _ = function () {
                function e() {
                    (0, p.default)(this, e)
                }
                return (0, g.default)(e, null, [{
                    key: "formatVideoType",
                    value: function (e) {
                        var t = {};
                        return t.video = !1, t.show = !1, t.dvd = !1, t.copyright = !1, t.education = !1, t.interact = !1, t.bullet = !1, t.share = !1, t.panorama = !1, t.fee = !1, t.channel_vip = !1, e ? (t.video = e.indexOf("video") > -1, t.show = e.indexOf("show") > -1, t.dvd = e.indexOf("dvd") > -1, t.copyright = e.indexOf("copyright") > -1, t.education = e.indexOf("education") > -1, t.interact = e.indexOf("interact") > -1, t.bullet = e.indexOf("bullet") > -1, t.share = e.indexOf("share") > -1, t.panorama = e.indexOf("panorama") > -1, t.fee = e.indexOf("fee") > -1, t.channel_vip = e.indexOf("channel_vip") > -1, t) : t
                    }
                }, {
                    key: "formatVideoData",
                    value: function (t) {
                        var n = {};
                        if ((0, d.default)(n, v, t), n.typeData = e.formatVideoType(null), t && t.hasOwnProperty("type") && t.type instanceof Array && (n.typeData = e.formatVideoType(n.type)), t && t.hasOwnProperty("subcategories") && t.subcategories instanceof Array) {
                            for (var i = [], o = 0; o < n.subcategories.length; o++) n.subcategories[o].hasOwnProperty("id") && i.push(n.subcategories[o].id);
                            n.cs = i.join("|")
                        }
                        return n.rtmp = "rtmp" === this.transfer_mode, n
                    }
                }, {
                    key: "formatDVDData",
                    value: function (e) {
                        var t = {};
                        if (t.ctype = "normal", t.state = "normal", t.headPostion = -1, t.tailPostion = -1, t.videoFiles = [], t.audioLangs = [], t.notsharing = 0, t.insertPoints = [], t.hasCaption = !1, !e) return t;
                        if (e.hasOwnProperty("ctype") && (t.ctype = e.ctype), e.hasOwnProperty("state") && (t.state = e.state), e.hasOwnProperty("head") && (t.headPostion = parseInt(e.head)), e.hasOwnProperty("tail") && (t.tailPostion = parseInt(e.tail)), e.hasOwnProperty("point") && (t.insertPoints = e.point), e.hasOwnProperty("attachment"))
                            for (var n = e.attachment.length, i = {}, o = 0; o < n; o++) i = e.attachment[o], "subtitle" === i.type && (t.hasCaption = !0);
                        if (e.hasOwnProperty("notsharing") && (t.notsharing = parseInt(e.notsharing)), e.hasOwnProperty("audiolang")) {
                            var r = !0,
                                a = !1,
                                s = void 0;
                            try {
                                for (var l, c = (0, u.default)(e.audiolang); !(r = (l = c.next()).done); r = !0) {
                                    var d = l.value;
                                    t.audioLangs.push(d)
                                }
                            } catch (e) {
                                a = !0, s = e
                            } finally {
                                try {
                                    !r && c.return && c.return()
                                } finally {
                                    if (a) throw s
                                }
                            }
                        }
                        return 0 === this.headPostion && (t.headPostion = -1), 0 === this.tailPostion && (t.tailPostion = -1), t
                    }
                }, {
                    key: "formatTrialData",
                    value: function (e) {
                        var t = {};
                        return (0, d.default)(t, y, e), "episodes" === t._type ? t.endTime = -1 : "time" === t._type ? t.endTime = this.time : "cannot" === t._type ? t.endTime = 0 : "subscribe" === t._type && (t.endTime = this.time), t
                    }
                }, {
                    key: "formatVideoSeg",
                    value: function (e) {
                        var t = {};
                        return t.seconds = 0, t.no = -1, t.size = 0, t.type = "", t.speed = 0, t.startTime = -1, t.src = "", t.backup = "", e.hasOwnProperty("size") && (t.size = e.size), e.hasOwnProperty("total_milliseconds_video") && (t.seconds = e.total_milliseconds_video / 1e3), e.hasOwnProperty("cdn_url") && (t.src = e.cdn_url), e.hasOwnProperty("cdn_backup") && e.cdn_backup instanceof Array && e.cdn_backup.length > 0 && (t.backup = e.cdn_backup[0]), t
                    }
                }, {
                    key: "getIdByStreamType",
                    value: function (e) {
                        var t = void 0;
                        for (t in m.ORDER) {
                            if (-1 !== m.ORDER[t].indexOf(e)) return t
                        }
                        return "0"
                    }
                }, {
                    key: "formatStreamsData",
                    value: function (t, n) {
                        var i = new s.default;
                        if (!t) return i;
                        var o = 0,
                            r = 0,
                            a = 0,
                            l = void 0,
                            u = [],
                            c = void 0,
                            d = "",
                            h = "";
                        for (o = 0; o < t.length; o++) l = t[o], c = l.audio_lang, -1 === u.indexOf(c) && u.push(c);
                        for (o = 0; o < u.length; o++) {
                            var p = new s.default;
                            for (r = 0; r < t.length; r++) {
                                var f = new s.default;
                                if (l = t[r], d = l.audio_lang, (c = u[o]) === d && (h = l.stream_type, l.segs || l.m3u8_url)) {
                                    var g = [],
                                        m = 0,
                                        y = 0,
                                        v = 0,
                                        _ = this.getIdByStreamType(h);
                                    for (p.has(_) && (f = p.get(_)), f.has(h) && (g = f.get(h).segs, m = f.get(h).size, y = f.get(h).milliseconds_audio, v = f.get(h).milliseconds_video), l.size && (m += l.size), l.milliseconds_audio && (y += l.milliseconds_audio), l.milliseconds_video && (v += l.milliseconds_video), a = g.length; a < l.segs.length; a++) {
                                        var b = l.segs[a];
                                        if (!b) break;
                                        var E = e.formatVideoSeg(b);
                                        E.no = a, (E.src || n >= 1) && g.push(E)
                                    }
                                    l.segs = g, l.size = m, l.milliseconds_audio = y, l.milliseconds_video = v, f.set(h, l), p.set(_, f)
                                }
                            }
                            i.set(u[o], p)
                        }
                        return i
                    }
                }, {
                    key: "getReferenceStream",
                    value: function (e) {
                        for (var t = (0, r.default)(m.ORDER).filter(function (e) {
                            return "auto" !== e
                        }).sort(function (e, t) {
                            return (parseInt(e) || 1 / 0) - (parseInt(t) || 1 / 0)
                        }), n = 0; n < t.length; n++) {
                            var i = e.get(t[n]);
                            if (i)
                                for (var o = 0; o < m.ORDER[t[n]].length; o++) {
                                    var a = i.get(m.ORDER[t[n]][o]);
                                    if (a) return a
                                }
                        }
                    }
                }, {
                    key: "formatAutoStream",
                    value: function (t, n, i) {
                        t.forEach(function (t) {
                            if (n.has(t.language)) {
                                var o = new s.default,
                                    a = n.get(t.language),
                                    l = e.getReferenceStream(a),
                                    u = {
                                        stream_type: "h264",
                                        m3u8_url: t.h264,
                                        audio_lang: t.language,
                                        logo: t.logo,
                                        subtitle: t.subtitle
                                    };
                                (0, r.default)(l).forEach(function (e) {
                                    u.hasOwnProperty(e) || (u[e] = l[e])
                                }), o.set("h264", u), a.set("auto", o), i[t.language] && (i[t.language] = i[t.language].filter(function (e) {
                                    return "auto" !== e
                                }), i[t.language].push("h264"))
                            }
                        })
                    }
                }]), e
            }();
        t.default = _
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(71),
            r = i(o),
            a = n(19),
            s = i(a),
            l = n(0),
            u = i(l),
            c = n(1),
            d = i(c),
            h = n(191),
            p = n(192),
            f = i(p),
            g = n(23),
            m = function () {
                function e(t, n) {
                    (0, u.default)(this, e), t && (this.browserSupportLevel = n, this._playlistData = {}, (0, s.default)(this._playlistData, t), this._sidTime = parseInt((new Date).getTime() / 1e3), this._upsData = this._playlistData.ups || h.defaultPlayList.ups, this._albumData = this._playlistData.album || h.defaultPlayList.album, this._userData = this._playlistData.user || h.defaultPlayList.user, this._vipData = this._playlistData.vip || h.defaultPlayList.vip, this._controllerData = this._playlistData.controller, this._uploaderData = this._playlistData.uploader, this._videoLikeData = this._playlistData.videolike, this._ticketData = this._playlistData.ticket, this._previewData = this._playlistData.preview, this._errorData = this._playlistData.error, this._playlogData = this._playlistData.playlog || {
                        lastpoint: 0
                    }, this._networkData = this._playlistData.network, this._playlistData.ad && (this._adData = this._playlistData.ad), this._payData = this._playlistData.pay, this._playlistData.show && (this._showData = {}, (0, s.default)(this._showData, h.defaultShow, this._playlistData.show)), this._playlistData.fee && (this._feeData = {}, (0, s.default)(this._feeData, h.defaultFee, this._playlistData.fee)), this._playlistData.security && (this._securityData = this._playlistData.security), this._playlistData.trial && (this._trialData = f.default.formatTrialData(this._playlistData.trial)), this._videoData = f.default.formatVideoData(this._playlistData.video), this._playlistData.subtitle && (this._subtitle = this._playlistData.subtitle.reduce(function (e, t) {
                        return e[t.subtitle_lang] = t.url, e
                    }, {})), this._dvdinfo = f.default.formatDVDData(this._playlistData.dvd), this._streamsData = f.default.formatStreamsData(this._playlistData.stream, this.browserSupportLevel), this._streamTypes = this._playlistData.video && this._playlistData.video.stream_types, this._playlistData.master && (this.hasAutoLevel = !0, f.default.formatAutoStream(this._playlistData.master, this._streamsData, this._streamTypes)), this._langData = this.getLangMap(), this._controllerData.startClarity && (this._startQuality = g.START_QUALITY_MAP[this._controllerData.startClarity]))
                }
                return (0, d.default)(e, [{
                    key: "getMulityLanguage",
                    value: function () {
                        return [].concat((0, r.default)(this._streamsData.keys()))
                    }
                }, {
                    key: "getLangMap",
                    value: function (e, t) {
                        var n = this,
                            i = {};
                        return this._streamsData.forEach(function (o, r) {
                            var a = {};
                            a.langid = r, a.lang = n.getLangCodeToCN(r), a.qualitys = n.getQualityByLang(r, e, t), i[r] = a
                        }), i
                    }
                }, {
                    key: "getLanguageData",
                    value: function (e) {
                        var t = this,
                            n = [];
                        return this._streamsData.forEach(function (i, o) {
                            var r = {};
                            r.langCode = o, r.lang = t.getLangCodeToCN(o), r.quality = t.getQualitys(o, e), n.push(r)
                        }), n
                    }
                }, {
                    key: "getQualitys",
                    value: function (e) {
                        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [],
                            n = [];
                        if (this._streamTypes && this._streamTypes[e] instanceof Array)
                            for (var i = this._streamsData.get(e).has("auto"), o = this._streamTypes[e], r = 0; r < o.length; r++)
                                if (-1 === t.indexOf(o[r]) && (-1 === g.ORDER["320p"].indexOf(o[r]) || !i)) {
                                    for (var a = !1, s = 0; s < n.length; s++) n[s].code === g.STREAM_TYPE_MAP[o[r]] && (a = !0);
                                    if (!a) {
                                        var l = {};
                                        if (l.code = g.STREAM_TYPE_MAP[o[r]], l.name = g.QualityNameMap[l.code], l.isUse = !0, this._streamsData.get(e).get(g.STREAM_TYPE_MAP[o[r]])) {
                                            var u = this._streamsData.get(e).get(g.STREAM_TYPE_MAP[o[r]]).get(o[r]);
                                            u.m3u8_url ? l.isUse = !0 : u.segs[0] && u.segs[0].src || (l.isUse = !1)
                                        } else l.isUse = !1;
                                        "720p" !== l.code || !0 !== l.isUse || this._userData.uid || (l.isUse = !1), "1080p" !== l.code || !0 !== l.isUse || this._vipData.hd3 || (l.isUse = !1), n.push(l)
                                    }
                                }
                        return n
                    }
                }, {
                    key: "getLangCodeToCN",
                    value: function (e) {
                        for (var t = e, n = 0; n < this._dvdinfo.audioLangs.length; n++) this._dvdinfo.audioLangs[n].langcode === e && (t = this._dvdinfo.audioLangs[n].lang);
                        return t
                    }
                }, {
                    key: "getQualityByLang",
                    value: function (e) {
                        var t = this,
                            n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [],
                            i = arguments[2];
                        if (this._streamTypes && this._streamTypes[e] instanceof Array) {
                            var o = this._streamsData.get(e).has("auto");
                            return this._streamTypes[e].filter(function (r) {
                                if (-1 !== n.indexOf(r)) return !1;
                                if (-1 !== g.ORDER["320p"].indexOf(r) && o) return !1;
                                if (i) {
                                    var a = t._streamsData.get(e).get(g.STREAM_TYPE_MAP[r]).get(r);
                                    if (!a.segs[0] || !a.segs[0].src || /\.flv$/.test(a.segs[0].src.split("?")[0])) return !1
                                }
                                return !0
                            }).map(function (e) {
                                return g.STREAM_TYPE_MAP[e]
                            })
                        }
                        return []
                    }
                }, {
                    key: "getMp4StreamByQuality",
                    value: function (e, t, n) {
                        var i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : g.QualityNameList.length - 2;
                        if (i < 0) {
                            var o = this._streamsData.values().next().value;
                            if (!o) return {};
                            var r = o.values().next().value;
                            return r ? r.values().next().value || {} : {}
                        }
                        if (this._streamsData.has(e)) {
                            var a = this._streamsData.get(e);
                            if (a.has(t))
                                for (var s = a.get(t), l = 0; l < g.ORDER[t].length; l++)
                                    if (s.has(g.ORDER[t][l])) {
                                        var u = s.get(g.ORDER[t][l]);
                                        if (u.segs.filter(function (e) {
                                            return e.src
                                        }).length > 0) return u
                                    }
                        }
                        if (!n) return {};
                        var c = g.QualityNameList.findIndex(function (e) {
                            return e.code === t
                        });
                        return 1 === n && c + 1 >= g.QualityNameList.length ? (n = -1, c -= 5 - i) : c += n, this.getMp4StreamByQuality(e, g.QualityNameList[c].code, n, i - 1)
                    }
                }, {
                    key: "getStreamByQuality",
                    value: function (e, t, n) {
                        var i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : g.QualityNameList.length - 2;
                        if (i < 0) {
                            var o = this._streamsData.values().next().value;
                            if (!o) return {};
                            var r = o.values().next().value;
                            return r ? r.values().next().value || {} : {}
                        }
                        if (this._streamsData.has(e)) {
                            var a = this._streamsData.get(e);
                            if (a.has(t))
                                for (var s = a.get(t), l = 0; l < g.ORDER[t].length; l++)
                                    if (s.has(g.ORDER[t][l])) return s.get(g.ORDER[t][l])
                        }
                        if (!n) return {};
                        var u = g.QualityNameList.findIndex(function (e) {
                            return e.code === t
                        });
                        return 1 === n && u + 1 >= g.QualityNameList.length ? (n = -1, u -= 5 - i) : u += n, this.getStreamByQuality(e, g.QualityNameList[u].code, n, i - 1)
                    }
                }, {
                    key: "getStreamType",
                    value: function () {
                        return "mp4"
                    }
                }, {
                    key: "getOriginStreamTypeByQuality",
                    value: function (e, t) {
                        return this.getStreamByQuality(e, t, 1).stream_type || "mp4sd"
                    }
                }, {
                    key: "drmType",
                    get: function () {
                        return this._playlistData.video && this._playlistData.video.drm_type
                    }
                }, {
                    key: "attachId",
                    get: function () {
                        return this._showData ? this._showData.id : this._videoData ? this._videoData.id : 0
                    }
                }, {
                    key: "playlistData",
                    get: function () {
                        return this._playlistData
                    }
                }, {
                    key: "adData",
                    get: function () {
                        return this._adData
                    }
                }, {
                    key: "userData",
                    get: function () {
                        return this._userData
                    }
                }, {
                    key: "securityData",
                    get: function () {
                        return this._securityData
                    }
                }, {
                    key: "controllerData",
                    set: function (e) {
                        this._controllerData = e
                    }, get: function () {
                        return this._controllerData
                    }
                }, {
                    key: "showData",
                    set: function (e) {
                        this._showData = e
                    }, get: function () {
                        return this._showData
                    }
                }, {
                    key: "dvdinfo",
                    get: function () {
                        return this._dvdinfo
                    }
                }, {
                    key: "upsData",
                    get: function () {
                        return this._upsData
                    }
                }, {
                    key: "albumData",
                    get: function () {
                        return this._albumData
                    }
                }, {
                    key: "trialData",
                    get: function () {
                        return this._trialData
                    }
                }, {
                    key: "sidTime",
                    get: function () {
                        return this._sidTime
                    }, set: function (e) {
                        this._sidTime = e
                    }
                }, {
                    key: "videoLikeData",
                    get: function () {
                        return this._videoLikeData
                    }
                }, {
                    key: "networkData",
                    get: function () {
                        return this._networkData
                    }
                }, {
                    key: "uploaderData",
                    get: function () {
                        return this._uploaderData
                    }
                }, {
                    key: "videoData",
                    get: function () {
                        return this._videoData
                    }
                }, {
                    key: "feeData",
                    get: function () {
                        return this._feeData
                    }
                }, {
                    key: "ticketData",
                    get: function () {
                        return this._ticketData
                    }
                }, {
                    key: "previewData",
                    get: function () {
                        return this._previewData
                    }
                }, {
                    key: "playlogData",
                    get: function () {
                        return this._playlogData
                    }
                }, {
                    key: "payData",
                    get: function () {
                        return this._payData
                    }
                }, {
                    key: "errorData",
                    get: function () {
                        return this._errorData
                    }
                }, {
                    key: "streamsData",
                    get: function () {
                        return this._streamsData
                    }
                }, {
                    key: "languageData",
                    get: function () {
                        return this._langData
                    }
                }]), e
            }();
        t.default = m
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(36),
            r = i(o),
            a = n(69),
            s = i(a),
            l = n(2),
            u = i(l),
            c = n(0),
            d = i(c),
            h = n(1),
            p = i(h),
            f = n(4),
            g = i(f),
            m = n(12),
            y = i(m),
            v = n(3),
            _ = i(v),
            b = n(5),
            E = n(10),
            k = i(E),
            w = n(6),
            S = function (e) {
                function t(e) {
                    (0, d.default)(this, t);
                    var n = (0, g.default)(this, (t.__proto__ || (0, u.default)(t)).call(this, e));
                    return n.vid = n._video.global._mediaData.mediaId, n.currentVideoPic = n._video.global.mediaData.poster, n.prev = n.find(".prev"), n.next = n.find(".next"), n.panelWrap = n.find(".recommend-wrap"), n.controlList = n.find(".control-list"), n._initLike(), n.events = {
                        _setBaseValue: n.setBaseValue.bind(n),
                        _prevItem: n.prevItem.bind(n),
                        _nextItem: n.nextItem.bind(n),
                        _stop: n.stop.bind(n),
                        _autoPlay: n.autoPlay.bind(n),
                        _replay: n.replay.bind(n),
                        _share: n.share.bind(n),
                        _openIku: n.openIku.bind(n)
                    }, n._bind(), n.autoPlay(), n
                }
                return (0, _.default)(t, e), (0, p.default)(t, [{
                    key: "_initLike",
                    value: function () {
                        this.likeData = this._video.global.videoLikeData || {}, this.like = this.likeData.like || 0, this.dislike = this.likeData.disLike || 0, this.like + this.dislike > 0 ? this.perce = Math.floor(this.like / (this.like + this.dislike) * 100) : this.perce = 100, this.info = {
                            itemWidth: 208,
                            itemHeight: 116
                        }, this.parentWidth = this._parent.offsetWidth
                    }
                }, {
                    key: "_bind",
                    value: function () {
                        var e = this;
                        this._video.on("ended", function () {
                            e.continuePlay = e._video.global.config.continuePlay, e.isShowRelatedVideo = e._video.global.config.isShowRelatedVideo || !1, e.nextVid = e._video.global.config.nextVid || null, e.isEnd = !0, e.getDate()
                        }), this._video.on("play", function () {
                            e._el.style.display = "none", e.isEnd && e.stop(), e.isEnd = !1
                        }), this.configChange = function (t) {
                            t.playScene && e.isEnd && ("mini" === t.playScene ? e._el.style.display = "none" : e._el.style.display = "block")
                        }, this._video.ykplayer.on("global.config", this.configChange), setInterval(function () {
                            e.parentWidth !== e._parent.offsetWidth && (e.setBaseValue(), e.parentWidth = e._parent.offsetWidth)
                        }, 100), this.prev.addEventListener("click", this.events._prevItem), this.next.addEventListener("click", this.events._nextItem), this._el.addEventListener("mouseover", this.events._stop), this._el.addEventListener("mouseout", this.events._autoPlay)
                    }
                }, {
                    key: "getDate",
                    value: function () {
                        var e = this;
                        this._video.global.on(k.default.SERVICE_IS_DONE, function (t) {
                            "Service.Is.Done" === t.code ? (e.data = e._video.global.endList, e.dataLen = e.data.length, e._initLike(), e.setBaseValue()) : e.errorRender()
                        })
                    }
                }, {
                    key: "setBaseValue",
                    value: function () {
                        if (!(this.dataLen > 0 && this.likeData && this.isShowRelatedVideo) || this.continuePlay && this.nextVid) return !1;
                        this.currentItemNum = 1, this.panelWidth = this._el.clientWidth || this._parent.offsetWidth, this.baseHeight = this._el.clientHeight || this._parent.offsetHeight, this.panelHeight = .98 * this.baseHeight - 20, this.panelHeight > 420 ? this.panelHeight = 420 : this.panelHeight = this.panelHeight, this.maxWidthNum = parseInt(.8 * this.panelWidth / this.info.itemWidth), this.itemMcStyle = "width:" + (this.maxWidthNum * this.info.itemWidth + 5) + "px", this.maxHeightNum = parseInt((this.panelHeight - 40) / this.info.itemHeight), this.listItemNum = this.maxHeightNum * this.maxWidthNum, this.dataLen >= 2 * this.listItemNum - 6 ? (this.listLen = parseInt((this.dataLen - (2 * this.listItemNum - 6)) / this.listItemNum) + 2, this.panelWrap.style.left = "-" + this.panelWidth + "px") : (this.listLen = 1, this.panelWrap.style.left = "0px");
                        var e = (this.listLen + 2) * this.panelWidth;
                        this.panelWrap.style.width = e + "px", this.renderList(), this.isEnd && "mini" !== this._video.global.config.playScene && (this._el.style.display = "block")
                    }
                }, {
                    key: "renderList",
                    value: function () {
                        if (!this.listLen) return !1;
                        var e = 0,
                            t = 0,
                            n = "",
                            i = [],
                            o = (0, s.default)(Array(this.listLen).keys()),
                            a = !0,
                            l = !1,
                            u = void 0;
                        try {
                            for (var c, d = (0, r.default)(o); !(a = (c = d.next()).done); a = !0) {
                                var h = c.value;
                                if (n += '<a href="#" class="control-btn ' + (0 === h ? "active-control-btn" : "") + '"></a>', 0 === h) {
                                    e = 0, t = this.maxHeightNum > 2 ? this.listItemNum - 7 : this.listItemNum - 5;
                                    var p = '<div class="list" style="width:' + this.panelWidth + 'px">\n                    <div class="mc clearfix" style="' + this.itemMcStyle + '">\n                        ' + (this.maxHeightNum > 2 ? '<div class="sp-rd">' + this.getspv() + this.getInteractHtml() + "</div>" : this.getspv()) + "\n                        " + this.getItem(e, t) + "\n                    </div>\n                </div>";
                                    i.push(p)
                                } else if (1 === h) {
                                    e = this.maxHeightNum > 2 ? this.listItemNum - 6 : this.listItemNum - 4, t = 2 * this.listItemNum - 7;
                                    var f = '<div class="list" style="width:' + this.panelWidth + 'px">\n                    <div class="mc clearfix" style="' + this.itemMcStyle + '">\n                        ' + (this.maxHeightNum > 2 ? "" : this.getInteractHtml()) + "\n                        " + this.getItem(e, t) + "\n                    </div>\n                </div>";
                                    i.push(f)
                                } else {
                                    e = this.listItemNum * h - 6, t = this.listItemNum * (h + 1) - 7;
                                    var g = '<div class="list" style="width:' + this.panelWidth + 'px">\n                    <div class="mc clearfix" style="' + this.itemMcStyle + '">\n                        ' + this.getItem(e, t) + "\n                    </div>\n                </div>";
                                    i.push(g)
                                }
                            }
                        } catch (e) {
                            l = !0, u = e
                        } finally {
                            try {
                                !a && d.return && d.return()
                            } finally {
                                if (l) throw u
                            }
                        }
                        this.listLen > 1 && (i.unshift(i[i.length - 1]), i.push(i[1])), this.controlList.innerHTML = n, this.panelWrap.innerHTML = i.join(""), this.renderBind()
                    }
                }, {
                    key: "errorRender",
                    value: function () {
                        this._el.innerHTML = '<a href="#" class="endReload">获取列表失败,请重试刷新</a>', this._el.style.display = "block", this.renderBind()
                    }
                }, {
                    key: "renderBind",
                    value: function () {
                        var e = this;
                        this.bind(".recommend-replay", "click", this.events._replay), this.bind(".recommend-dw", "click", this.events._openIku), this.bind(".support", "mouseover", this.mouseOverEvaluate), this.bind(".support", "mouseout", this.mouseOutEvaluate), this.bind(".support", "click", this.clickEvaluate.bind(this)), this.bind(".stamp", "mouseover", this.mouseOverEvaluate), this.bind(".stamp", "mouseout", this.mouseOutEvaluate), this.bind(".stamp", "click", this.clickEvaluate.bind(this)), this.bind(".wb", "click", this.events._share), this.bind(".qzoom", "click", this.events._share), this.bind(".qq", "click", this.events._share), this.bind(".wx", "click", this.events._share), this.bind(".endReload", "click", function () {
                            return e.replay(), !1
                        })
                    }
                }, {
                    key: "nextItem",
                    value: function () {
                        if (1 === this.listLen) return !1;
                        this.slide(1), this.currentItemNum += 1, this.currentItemNum === this.listLen + 1 && (this.currentItemNum = 1), this.switchIndexBtn()
                    }
                }, {
                    key: "prevItem",
                    value: function () {
                        if (1 === this.listLen) return !1;
                        this.slide(-1), this.currentItemNum -= 1, 0 === this.currentItemNum && (this.currentItemNum = this.listLen), this.switchIndexBtn()
                    }
                }, {
                    key: "slide",
                    value: function (e) {
                        var t = this,
                            n = this.panelWrap.style.left ? parseInt(this.panelWrap.style.left) : 0,
                            i = n - e * this.panelWidth;
                        i > 0 ? (this.panelWrap.style.transition = "none", this.panelWrap.style.left = "-" + this.listLen * this.panelWidth + "px", i = -(this.listLen - 1) * this.panelWidth) : i < -((this.listLen + 2) * this.panelWidth - this.panelWidth) && (this.panelWrap.style.transition = "none", this.panelWrap.style.left = "-" + this.panelWidth + "px", i = 2 * -this.panelWidth), setTimeout(function () {
                            t.panelWrap.style.transition = "all .4s ease-in", t.panelWrap.style.left = i + "px"
                        }, 20)
                    }
                }, {
                    key: "switchIndexBtn",
                    value: function () {
                        var e = this.find(".active-control-btn");
                        e.className = e.className.replace(" active-control-btn", ""), document.querySelectorAll(".control-btn")[this.currentItemNum - 1].className += " active-control-btn"
                    }
                }, {
                    key: "autoPlay",
                    value: function () {
                        var e = this;
                        this.timer = setInterval(function () {
                            "block" === e._el.style.display && e.listLen > 1 && e.nextItem(e.currentItemNum)
                        }, 5e3)
                    }
                }, {
                    key: "stop",
                    value: function () {
                        clearInterval(this.timer)
                    }
                }, {
                    key: "replay",
                    value: function () {
                        this._video.replay()
                    }
                }, {
                    key: "mouseOverEvaluate",
                    value: function (e) {
                        var t = e.target,
                            n = e.target.parentNode.parentNode;
                        if (n.className.indexOf("support") >= 0 || n.className.indexOf("stamp") >= 0) return !1;
                        t.className.indexOf("sup") >= 0 ? n.className += " spv-support" : n.className += " spv-stamp"
                    }
                }, {
                    key: "mouseOutEvaluate",
                    value: function (e) {
                        var t = e.target,
                            n = e.target.parentNode.parentNode;
                        t.className.indexOf("sup") >= 0 ? n.className = n.className.replace("spv-support", "") : n.className = n.className.replace("spv-stamp", "")
                    }
                }, {
                    key: "clickEvaluate",
                    value: function (e) {
                        var t = e.target,
                            n = e.target.parentNode.parentNode,
                            i = "";
                        if (n.className.indexOf("click") >= 0 || n.className.indexOf("click") >= 0) return !1;
                        t.className.indexOf("sup") >= 0 ? (i = this.like + 1, n.className += " spv-click-support", t.className += " click-support") : (i = this.dislike + 1, n.className += " spv-click-stamp", t.className += " click-stamp"), t.innerHTML = (0, w.htmlEncodeAll)((0, w.formatNum)(i))
                    }
                }, {
                    key: "share",
                    value: function (e) {
                        var t = e.target,
                            n = t.getAttribute("data-type"),
                            i = "//v.youku.com/v_show/id_" + this.vid + ".html",
                            o = "",
                            r = {
                                url: location.href,
                                title: document.title,
                                pic: ""
                            };
                        switch (n) {
                        case "wx":
                            o = "//v.youku.com/wechatShare/?url=" + encodeURIComponent(i) + "&content=" + encodeURIComponent(r.title);
                            break;
                        case "weibo":
                            o = "//v.t.sina.com.cn/share/share.php?appkey=2684493555&url=" + r.url + "&ralateUid=1642904381&title=【视频：" + encodeURIComponent(r.title) + "】";
                            break;
                        case "qzoom":
                            o = "//sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?summary=" + r.title + "&url=" + r.url + "&pics=" + r.pic;
                            break;
                        case "qq":
                            o = "//connect.qq.com/widget/shareqq/index.html?title=" + r.title + '&desc="在优酷上看见这条视频还不错哦：' + r.title + "&site=优酷网&url=" + encodeURIComponent(i)
                        }(0, w.openURL)(o, "_blank")
                    }
                }, {
                    key: "openIku",
                    value: function () {
                        var e = this;
                        this._ikuOpenLock || (this._video.ykplayer.openIku(), this._ikuOpenLock = !0, setTimeout(function () {
                            e._ikuOpenLock = !1
                        }, 300))
                    }
                }, {
                    key: "formatDuring",
                    value: function (e) {
                        var t = (0, w.formatFill)(parseInt(e % 86400 / 3600)),
                            n = (0, w.formatFill)(parseInt(e % 3600 / 60)),
                            i = (0, w.formatFill)(e % 60);
                        return t = "00" === t ? "" : t + ":", n = "00" === n ? "" : n + ":", "" + t + n + i
                    }
                }, {
                    key: "getspv",
                    value: function () {
                        return '<div class="spv_private">\n            <img class="recommend-img" src="' + this.currentVideoPic + '"/>\n            <div class="recommend-bg"></div>\n            <div class="recommend-replay"></div>\n            <div class="recommend-dw"></div>\n        </div>'
                    }
                }, {
                    key: "getInteractHtml",
                    value: function () {
                        return '<div class="spv-interact">\n            <div class="spv-share">\n                <span class="name">分享视频</span>\n                <p class="share">\n                    <a href="#"  class="wx" data-type="wx"></a>\n                    <a href="#" title="分享到微博" class="wb" data-type="weibo"></a>\n                    <a href="#" title="分享到QQ空间" class="qzoom" data-type="qzoom"></a>\n                    <a href="#" title="分享到QQ" class="qq" data-type="qq"></a>\n                </p>\n            </div>\n        </div>'
                    }
                }, {
                    key: "getItem",
                    value: function (e, t) {
                        var n = "";
                        for (var i in this.data) e <= i && i <= t && (n += '<div class="recommend-item">\n                    <a href="' + this.data[i].playLink + '">\n                        <img class="recommend-img" src="' + this.data[i].picUrl + '"/>\n                        <div class="recommend-bg"></div>\n                        <div class="recommend-info">\n                            <span class="name">' + (0, w.htmlEncodeAll)(this.data[i].title) + '</span>\n                            <p class="msg">\n                               <span>' + (0, w.formatNum)(this.data[i].commentCount) + '次评论</span>\n                            </p>\n                            <p class="control">\n                                <span class="play"></span>\n                                <span>' + this.formatDuring(this.data[i].totalTime) + "</span>\n                            </p>\n                        </div>\n                    </a>\n                </div>");
                        return n
                    }
                }, {
                    key: "destroy",
                    value: function () {
                        this._video.ykplayer.fire("global.config", this.configChange), (0, y.default)(t.prototype.__proto__ || (0, u.default)(t.prototype), "destroy", this).call(this)
                    }
                }, {
                    key: "render",
                    value: function () {
                        return '<div class="layer-recommend">\n                    <div class="recommend-wrap clearfix"></div>\n                    <div class="recommend-control">\n                        <span class="prev"></span>\n                        <p class="control-list"></p>\n                        <span class="next"></span>\n                    </div>\n                </div>'
                    }
                }]), t
            }(b.Layer);
        t.default = S
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(2),
            r = i(o),
            a = n(0),
            s = i(a),
            l = n(1),
            u = i(l),
            c = n(4),
            d = i(c),
            h = n(12),
            p = i(h),
            f = n(3),
            g = i(f),
            m = n(5),
            y = function (e) {
                function t(e) {
                    (0, s.default)(this, t);
                    var n = (0, d.default)(this, (t.__proto__ || (0, r.default)(t)).call(this, e));
                    return n._global = e.global, n._player = e.player, n
                }
                return (0, g.default)(t, e), (0, u.default)(t, [{
                    key: "destroy",
                    value: function () {
                        (0, p.default)(t.prototype.__proto__ || (0, r.default)(t.prototype), "destroy", this).call(this)
                    }
                }, {
                    key: "render",
                    value: function () {
                        return '\n        <div class="fast-forward-box" style ="display: none;">\n        <div class="ff-icon-box">\n            <img class="ff-back" src="https://img.alicdn.com/tfs/TB1q3OLmQT2gK0jSZFkXXcIQFXa-80-80.png">\n            <img class="ff-circle" src="https://img.alicdn.com/tfs/TB15amNl8v0gK0jSZKbXXbK2FXa-64-64.png" alt="">\n            <img class="ff-arrow" src="https://img.alicdn.com/tfs/TB1NuSLlVY7gK0jSZKzXXaikpXa-64-64.png" alt="">\n        </div>\n        <div class="ff-text">3.0X</div>\n        </div>'
                    }
                }]), t
            }(m.Layer);
        t.default = y
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(2),
            r = i(o),
            a = n(0),
            s = i(a),
            l = n(1),
            u = i(l),
            c = n(4),
            d = i(c),
            h = n(3),
            p = i(h),
            f = n(5),
            g = n(9),
            m = i(g),
            y = n(6),
            v = "",
            _ = [1, .75, .5],
            b = 1,
            E = function (e) {
                function t(e) {
                    (0, s.default)(this, t);
                    var n = (0, d.default)(this, (t.__proto__ || (0, r.default)(t)).call(this, e));
                    return n.title = n.find("#topPlayerTitle"), n.systemTime = n.find(".system-time"), n.scale = n.find(".scale"), n.percentItem = document.getElementsByClassName("percent-item"), n._global = e.global, n._player = e.player, n.fullscreenStatus = !1, n.mouseEnter = !1, n.onQualityListChange = function () {
                        try {
                            n._initStyle()
                        } catch (e) {
                            console.log(e)
                        }
                    }, n._global.on("global.qualityList", n.onQualityListChange), n._addEvent(), n._originStyle = {
                        width: "100%",
                        height: "100%",
                        "background-color": "rgb(0, 0, 0)",
                        top: 0,
                        left: 0,
                        "margin-left": 0,
                        "margin-top": 0
                    }, n
                }
                return (0, p.default)(t, e), (0, u.default)(t, [{
                    key: "_initStyle",
                    value: function () {
                        this._global && this._global._qualityList && this._global._qualityList.indexOf("1080p_hdr") > -1 ? m.default.hasClass(this.scale, "has-hdr-scale") || m.default.addClass(this.scale, "has-hdr-scale") : m.default.hasClass(this.scale, "has-hdr-scale") && m.default.removeClass(this.scale, "has-hdr-scale")
                    }
                }, {
                    key: "_toBiggerSize",
                    value: function (e) {
                        var t = this,
                            n = e;
                        i && clearTimeout(i);
                        var i = setTimeout(function () {
                            if (m.default.hasClass(t._player.container, "big-mode")) return n = 1.5 * e
                        }, 3e3)
                    }
                }, {
                    key: "setTitle",
                    value: function (e) {
                        var t = e.mediaData.title || "";
                        this.title.innerHTML = (0, y.htmlEncodeAll)(t)
                    }
                }, {
                    key: "_checkTime",
                    value: function (e) {
                        return e < 10 ? "0" + e : e
                    }
                }, {
                    key: "_showHideTop",
                    value: function (e) {
                        var t = this;
                        e ? (this.show(), v || (v = setInterval(function () {
                            t._timerHandler()
                        }, 1e3), this._timerHandler())) : (this.hide(), v && (clearInterval(v), v = null))
                    }
                }, {
                    key: "_hideHideTop",
                    value: function () {
                        this.hide(), this.setScale(1), b = 1
                    }
                }, {
                    key: "setScale",
                    value: function (e) {
                        m.default.swichChildClass(this.find(".scale"), ".percent-item", "percent-item-current", function (t) {
                            return t.dataset ? t.dataset.val === e.toString() : t.getAttribute("data-val") === e.toString()
                        }), this._player.changeScale(e), this.lastScale = e
                    }
                }, {
                    key: "_addEvent",
                    value: function () {
                        var e = this;
                        this._global.on("fullscreen", function (t) {
                            if(window.qgjs)window.qgjs.setScreenOrientation(t);
                            t ? (e.fullscreenStatus = !0, e.setTitle(e._global), e.setScale(e.lastScale ? e.lastScale : 1), e._showHideTop(t)) : (e.fullscreenStatus = !1, e._hideHideTop(t))
                        }), this.bind("mouseover", function () {
                            e.mouseEnter = !0, e._player.holdDashboard()
                        }), this.bind("mouseout", function () {
                            e.mouseEnter = !1, e._player.releaseDashboard()
                        }), this.dashboardStateChange = function (t) {
                            if (e.fullscreenStatus)
                                if (t) e.mouseEnter || e.hide();
                                else {
                                    if (e.mouseEnter) return;
                                    e.show()
                                }
                        }, this.onQualityChange = function () {
                            try {
                                e._global && e._global.qualityList && e._global.qualityList.indexOf("1080p_hdr") > -1 ? m.default.hasClass(e.scale, "has-hdr-scale") || m.default.addClass(e.scale, "has-hdr-scale") : m.default.hasClass(e.scale, "has-hdr-scale") && m.default.removeClass(e.scale, "has-hdr-scale")
                            } catch (e) {
                                console.log(e)
                            }
                        }, this._global.on("dashboardStateChange", this.dashboardStateChange), this._global.on("global.qualityList", this.onQualityChange), this.bind(".scale", "click", function () {
                            b < _.length && (e.setScale(_[b]), b++), b === _.length && (b = 0)
                        })
                    }
                }, {
                    key: "_timerHandler",
                    value: function () {
                        var e = new Date,
                            t = e.getHours(),
                            n = this._checkTime(e.getMinutes()),
                            i = this._checkTime(e.getSeconds());
                        this.systemTime.innerHTML = t + ":" + n + ":" + i
                    }
                }, {
                    key: "render",
                    value: function () {
                        return '\n        <div class="top_area" style="display:none;">\n           <div class="top-header">\n                <div class="title" id="topPlayerTitle"></div>\n                <div class="scale">\n                <span data-val="0.5" class="percent-item icon iconfont icon-pingmu-"></span>\n                <span data-val="0.75" class="percent-item icon iconfont icon-pingmu-1"></span>\n                <span data-val="1" class="percent-item percent-item-current icon iconfont icon-pingmu-2"></span>\n                </div>\n                <div class="system-time"></div>\n            </div>\n            </div>\n        '
                    }
                }]), t
            }(f.Layer);
        t.default = E
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(2),
            r = i(o),
            a = n(0),
            s = i(a),
            l = n(1),
            u = i(l),
            c = n(4),
            d = i(c),
            h = n(12),
            p = i(h),
            f = n(3),
            g = i(f),
            m = n(5),
            y = n(9),
            v = i(y),
            _ = n(68),
            b = n(6),
            E = function (e) {
                function t(e) {
                    (0, s.default)(this, t);
                    var n = (0, d.default)(this, (t.__proto__ || (0, r.default)(t)).call(this, e));
                    return n._global = e.global, n._player = e.player, n.dashboard = n.find(".quality-dashboard"), n.mouseEnter = !1, n.dashboardStateChange = function (e) {
                        try {
                            if (e) n.mouseEnter || (n._el.style.display = "none");
                            else {
                                if (n.mouseEnter) return;
                                n._global && n._global.qualityList && n._global.qualityList.indexOf("1080p_hdr") > -1 && (n._el.style.display = "block")
                            }
                        } catch (e) {
                            console.error(e)
                        }
                    }, n.bind("mouseover", function () {
                        n.mouseEnter = !0, n._player.holdDashboard()
                    }), n.bind("mouseout", function () {
                        n.mouseEnter = !1, n._player.releaseDashboard()
                    }), n.fullscreenChange = function (e) {
                        var t = n.find(".js-hdr");
                        e ? v.default.addClass(t, "fullscreen-hdr") : v.default.hasClass(t, "fullscreen-hdr") && v.default.removeClass(t, "fullscreen-hdr")
                    }, n.hdrActiveChange = function (e) {
                        var t = n.find(".js-hdr"),
                            i = v.default.hasClass(t, "active");
                        e ? i || v.default.addClass(t, "active") : i && v.default.removeClass(t, "active")
                    }, n.onQualityChange = function () {
                        try {
                            n._global && n._global.qualityList && n._global.qualityList.indexOf("1080p_hdr") > -1 ? n._el.style.display = "block" : n._el.style.display = "none"
                        } catch (e) {
                            console.log(e)
                        }
                    }, n._player.on("hdrBtnActive", n.hdrActiveChange), n._player.on("fullscreen", n.fullscreenChange), n._player.on("dashboardStateChange", n.dashboardStateChange), n._player.on("global.qualityList", n.onQualityChange), n.bind(".js-hdr", "click", function () {
                        var e = document.getElementsByClassName("q1080p_hdr")[0];
                        if (v.default.hasClass(e, "disable")) {
                            v.default.addClass(n.find(".js-hdr"), "youku_vip_pay_btn"), n._global.playerState.fullscreen && n._player.exitFullscreen();
                            var t = (0, b.getSPM)("hdrbtn");
                            n.sendGoldlog("mid=7001&mname=hdrbtn&spm=" + t)
                        } else {
                            var i = v.default.hasClass(n.find(".js-hdr"), "active");
                            n.switchActive(!i), n.setHdr(!i)
                        }
                    }), n
                }
                return (0, g.default)(t, e), (0, u.default)(t, [{
                    key: "sendGoldlog",
                    value: function (e, t) {
                        var n = "show" === t ? {
                            log: "/yt/youku.pcweb.control",
                            code: "H1478724911"
                        } : {
                            log: "/yt/youku.pcweb.control",
                            code: "H1477801390"
                        };
                        try {
                            window.goldlog && window.goldlog.record(n.log, "CLK", e, n.code)
                        } catch (e) {
                            console.log(e)
                        }
                    }
                }, {
                    key: "switchActive",
                    value: function (e) {
                        "false" === String(e) ? v.default.removeClass(this.find(".js-hdr"), "active") : v.default.addClass(this.find(".js-hdr"), "active")
                    }
                }, {
                    key: "setHdr",
                    value: function (e) {
                        e ? (this.setConfig({
                            quality: "1080p_hdr"
                        }), this.setLoacalData({
                            quality: "1080p_hdr"
                        })) : (this.nextQuality = this._findNextInList("1080p_hdr"), this.setConfig({
                            quality: this.nextQuality
                        }), this.setLoacalData({
                            quality: this.nextQuality
                        }))
                    }
                }, {
                    key: "_findRecentAvaliableQuality",
                    value: function (e, t) {
                        for (var n = [], i = t.length - 1; i >= 0; i--) e === t[i].langCode && (n = t[i].quality);
                        return n
                    }
                }, {
                    key: "_findNextInList",
                    value: function (e) {
                        for (var t = this._global.qualityLanguageMap, n = this._findRecentAvaliableQuality(this._global.config.language, t), i = n.map(function (e) {
                            return e.isUse && e.code
                        }), o = i.indexOf(e), r = o + 1, a = i.length; r < a; r++)
                            if (i[r]) return i[r];
                        return e
                    }
                }, {
                    key: "setConfig",
                    value: function (e) {
                        var t = this._global.config,
                            n = {};
                        for (var i in e) t[i] !== e[i] && (n[i] = e[i]);
                        this._global.config = n
                    }
                }, {
                    key: "setLoacalData",
                    value: function (e) {
                        var t = (0, b.getLocalData)(_.LSKEY) || {};
                        for (var n in e) e[n] !== t[n] && (t[n] = e[n]);
                        (0, b.setLocalData)(_.LSKEY, t)
                    }
                }, {
                    key: "destroy",
                    value: function () {
                        this._player.fire("hdrBtnActive", this.hdrActiveChange), this._player.fire("fullscreen", this.fullscreenChange), this._player.fire("dashboardStateChange", this.dashboardStateChange), (0, p.default)(t.prototype.__proto__ || (0, r.default)(t.prototype), "destroy", this).call(this)
                    }
                }, {
                    key: "render",
                    value: function () {
                        debugger;
                        return '\n        <div class="js-top-icon" style ="display:none" >\n            <div class="top-header control-hdr-icon">\n                <div class="js-hdr">\n                    <span class="icon iconfont icon-ykhd_bofang_hdr_bai_x"></span><span class="hdr-close-text">开启极清</span>\n                    <span class="icon iconfont icon-ykhd_bofang_hdr_jin_x"></span><span class="hdr-open-text">关闭极清</span>\n                </div>\n            </div>\n         </div>'
                    }
                }]), t
            }(m.Layer);
        t.default = E
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(2),
            r = i(o),
            a = n(0),
            s = i(a),
            l = n(1),
            u = i(l),
            c = n(4),
            d = i(c),
            h = n(3),
            p = i(h),
            f = n(5),
            g = n(26),
            m = function (e) {
                function t(e) {
                    return (0, s.default)(this, t), (0, d.default)(this, (t.__proto__ || (0, r.default)(t)).call(this, e))
                }
                return (0, p.default)(t, e), (0, u.default)(t, [{
                    key: "initEmit",
                    value: function () {}
                }, {
                    key: "show",
                    value: function () {
                        this._el.style.display = "block"
                    }
                }, {
                    key: "hide",
                    value: function (e) {
                        var t = this;
                        if (e) return void(this._el.style.display = "none");
                        if ("block" === this._el.style.display && !this.doHiding) {
                            this.doHiding = !0;
                            var n = this.find(".hdr-loading");
                            g.Browser.isChrome || g.Browser.isSafari ? n.src = "https://img.alicdn.com/tfs/TB1f.cIV3HqK1RjSZFPXXcwapXa-580-240.png" : n.src = "https://img.alicdn.com/tfs/TB1i5vrXR1D3KVjSZFyXXbuFpXa-580-240.png", n.style.opacity = 1, n.onload = function () {
                                setTimeout(function () {
                                    t.find(".hdr-mask-cover").style.transform = "translate3d(100%,0,0)", setTimeout(function () {
                                        t._el.style.display = "none", t.find(".hdr-loading").src = "", t.find(".hdr-mask-cover").style.transform = "translate3d(0,0,0)", t.doHiding = !1, n.style.opacity = 0
                                    }, 2e3)
                                }, 800)
                            }
                        }
                    }
                }, {
                    key: "render",
                    value: function () {
                        return '<div class="hdr-mask" style="display:none;">\n        <div class="hdr-mask-cover"></div>\n        <img class="hdr-loading"  alt="">\n        </div>'
                    }
                }]), t
            }(f.Layer);
        t.default = m
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(2),
            r = i(o),
            a = n(0),
            s = i(a),
            l = n(1),
            u = i(l),
            c = n(4),
            d = i(c),
            h = n(3),
            p = i(h),
            f = n(5),
            g = n(9),
            m = i(g),
            y = function (e) {
                function t(e) {
                    (0, s.default)(this, t);
                    var n = (0, d.default)(this, (t.__proto__ || (0, r.default)(t)).call(this, e));
                    n.danmakuCallback = e.danmakuCallback || function () {}, n.enable = e.enable || !1;
                    var i = n._video.global.ups && n._video.global.ups.videoData ? n._video.global.ups.videoData.type : "";
                    return i && i.join(",").indexOf("bullet") > -1 && (n.enable = !0), n.bind("click", function () {
                        m.default.hasClass(n._el, "active") ? (n.changeStatus(!1), n.danmakuCallback(!1)) : (n.changeStatus(!0), n.danmakuCallback(!0))
                    }), n.on("webfullscreen", function (e) {
                        n.enable && (e ? n.show() : n.hide())
                    }), n.on("fullscreen", function (e) {
                        n.enable && (e ? n.show() : n.hide())
                    }), n
                }
                return (0, p.default)(t, e), (0, u.default)(t, []), t
            }(f.Component);
        t.default = y
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(2),
            r = i(o),
            a = n(0),
            s = i(a),
            l = n(1),
            u = i(l),
            c = n(4),
            d = i(c),
            h = n(12),
            p = i(h),
            f = n(3),
            g = i(f),
            m = n(9),
            y = i(m),
            v = n(54),
            _ = i(v),
            b = n(6),
            E = function (e) {
                function t(e) {
                    (0, s.default)(this, t);
                    var n = (0, d.default)(this, (t.__proto__ || (0, r.default)(t)).call(this, e));
                    return n.onQualityListChange = function () {
                        try {
                            n.hasError = !1, n.qualityListHandler(), n.hasError || n.accsSuccess()
                        } catch (e) {
                            console.log(e)
                        }
                    }, n._video.ykplayer.on("global.qualityLanguageMap", n.onQualityListChange), n
                }
                return (0, g.default)(t, e), (0, u.default)(t, [{
                    key: "qualityListHandler",
                    value: function () {
                        try {
                            this.setDataUI()
                        } catch (e) {
                            this.hasError = !0, this.setQualityListFail(), console.log(e)
                        }
                    }
                }, {
                    key: "setQualityListFail",
                    value: function () {
                        this._video.global && this._video.global.playerState && "deal" === this._video.global.playerState.accUpsState && (this._video.global.playerState.accUpsState = "fail", this._video.ykplayer._sendAccLog(99, {}, 502))
                    }
                }, {
                    key: "setQualityFail",
                    value: function () {
                        this._video.global && this._video.global.playerState && "deal" === this._video.global.playerState.accUpsState && (this._video.global.playerState.accUpsState = "fail", this._video.ykplayer._sendAccLog(99, {}, 503))
                    }
                }, {
                    key: "accsSuccess",
                    value: function () {
                        this._video.global && this._video.global.playerState && "deal" === this._video.global.playerState.accUpsState && (this._video.global.playerState.accUpsState = "success", this._video.ykplayer._sendAccLog(99, {}, 200))
                    }
                }, {
                    key: "setDataUI",
                    value: function () {
                        var e = this;
                        this.renderLanguages(), this.bind(".quality-dashboard .settings-item", "click", function (t) {
                            if (!y.default.hasClass(t.target, "disable") && !y.default.hasClass(t.target, "active")) {
                                var n = t.target.getAttribute("data-val"),
                                    i = t.target.innerText;
                                (0, b.setPreferSetting)(e._video.global.ups.attachId, n), e.setLanguage(n, i)
                            }
                        })
                    }
                }, {
                    key: "showDashBoard",
                    value: function () {
                        (0, p.default)(t.prototype.__proto__ || (0, r.default)(t.prototype), "showDashBoard", this).call(this), this._video.ykplayer.sendEventLog({
                            event: "xCl",
                            eventMode: "c"
                        })
                    }
                }, {
                    key: "setLanguage",
                    value: function (e, t) {
                        if ("default" === e) {
                            this.setQuality(e);
                            var n = {
                                language: this.data.language
                            };
                            return this.setConfig(n), this.hide()
                        }
                        y.default.swichChildClass(this.find(".quality-dashboard"), ".settings-item", "active", function (t) {
                            if (t.dataset) return t.dataset.val === e;
                            t.getAttribute("data-val")
                        }), this.data.language = e, this.find(".js-language-text").innerText = t, this.data.quality = this._video.global.config.quality;
                        var i = {
                            language: this.data.language
                        };
                        this.setQuality(e) || this.setConfig(i), this.setLoacalData(i), this._video.global.resetQualityList()
                    }
                }, {
                    key: "setQuality",
                    value: function (e) {
                        var t = this.getComponent("qualityIcon");
                        return !!t && t.renderQuality(e)
                    }
                }, {
                    key: "renderLanguages",
                    value: function () {
                        var e = this._video.global.qualityLanguageMap,
                            t = "",
                            n = "",
                            i = this._video.global.config.language;
                        if (0 === e.length) t += '<div class="setting-item setting-item-disable">不可选</div>', this.find(".js-language-text").innerText = "不可选", y.default.addClass(this._el, "disabled");
                        else {
                            var o = 1 !== e.length;
                            e.forEach(function (e) {
                                i || (i = e.langCode), t += '<div data-val="' + e.langCode + '" class="settings-item language-item', i === e.langCode && (n = e.lang, t += " active"), o || (t += " setting-item-disable"), t += '">' + e.lang + "</div>"
                            }), this.find(".quality-dashboard").innerHTML = t, 1 === e.length && (y.default.addClass(this._el, "disabled"), this._el.style.display = "none"), this.data.language = i, this.setLanguage(i, n)
                        }
                    }
                }, {
                    key: "render",
                    value: function () {
                        return '\n            <div class="control-icon control-quality-icon">\n                <span class="control-quality-btn js-language-text">国语</span>\n                <div class="quality-dashboard">\n                </div>\n            </div>\n        '
                    }
                }]), t
            }(_.default);
        t.default = E
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(2),
            r = i(o),
            a = n(0),
            s = i(a),
            l = n(1),
            u = i(l),
            c = n(4),
            d = i(c),
            h = n(12),
            p = i(h),
            f = n(3),
            g = i(f),
            m = n(5),
            y = n(6),
            v = n(29),
            _ = function (e) {
                function t(e) {
                    (0, s.default)(this, t);
                    var n = (0, d.default)(this, (t.__proto__ || (0, r.default)(t)).call(this, e));
                    return n.panel = n.find(".phone-watch-panel"), n.title = n.find("#playerTitle"), n.watchedTime = n.find("#watchedTime"), n.erWeiMa = n.find(".erweima"), n.spmC = n.panel.getAttribute("data-spm"), n.sourceFrom = encodeURIComponent("pcsjk_2"), n.setTitle(), n._addEvent(), n
                }
                return (0, g.default)(t, e), (0, u.default)(t, []), t
            }(m.Component);
        t.default = _
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(2),
            r = i(o),
            a = n(0),
            s = i(a),
            l = n(1),
            u = i(l),
            c = n(4),
            d = i(c),
            h = n(3),
            p = i(h),
            f = n(5),
            g = function (e) {
                function t(e) {
                    (0, s.default)(this, t);
                    var n = (0, d.default)(this, (t.__proto__ || (0, r.default)(t)).call(this, e));
                    return n.playerVideo = n._video._videoCore.video, n.chromeSpt = document.pictureInPictureEnabled && "function" == typeof n.playerVideo.requestPictureInPicture, n.safariSpt = n.playerVideo.webkitSupportsPresentationMode && "function" == typeof n.playerVideo.webkitSetPresentationMode, n.isInPicture = !1, !n.chromeSpt && !n.safariSpt || n._video.global.config.simpleMode ? n.hide() : n.show(), n.bind("click", function () {
                        n._PictureInPicture()
                    }), n._addEvent(), n.playerVideo.addEventListener("enterpictureinpicture", function () {
                        n.isInPicture = !0, n._video.global.config.inPicture = !0
                    }), n.playerVideo.addEventListener("leavepictureinpicture", function () {
                        n.isInPicture = !1, n._video.global.config.inPicture = !1, n.playerVideo.paused ? n._video.pause() : n._video.play()
                    }), n
                }
                return (0, p.default)(t, e), (0, u.default)(t, [{
                    key: "_PictureInPicture",
                    value: function () {
                        this.chromeSpt && (this.playerVideo !== document.pictureInPictureElement ? this.playerVideo.requestPictureInPicture() : document.exitPictureInPicture()), this.safariSpt && ("picture-in-picture" === this.playerVideo.webkitPresentationMode ? this.playerVideo.webkitSetPresentationMode("inline") : this.playerVideo.webkitSetPresentationMode("picture-in-picture"))
                    }
                }, {
                    key: "_addEvent",
                    value: function () {
                        var e = this;
                        (this.chromeSpt || this.safariSpt) && this.on("fullscreen", function (t) {
                            t ? (e.isInPicture && e._PictureInPicture(), e.hide()) : e.show()
                        })
                    }
                }, {
                    key: "render",
                    value: function () {
                        return "\n            <div data-tip='画中画' class='control-icon control-quality-icon control-settings-icon'>\n                <span class='icon iconfont icon-picture'></span>\n            </div>\n        "
                    }
                }]), t
            }(f.Component);
        t.default = g
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(2),
            r = i(o),
            a = n(0),
            s = i(a),
            l = n(1),
            u = i(l),
            c = n(4),
            d = i(c),
            h = n(12),
            p = i(h),
            f = n(3),
            g = i(f),
            m = n(9),
            y = i(m),
            v = n(54),
            _ = i(v),
            b = n(6),
            E = n(103),
            k = [{
                rate: 2,
                text: "2.0X"
            }, {
                rate: 1.5
            }, {
                rate: 1.25
            }, {
                rate: 1,
                text: "1.0X",
                isDefault: !0
            }, {
                rate: .5
            }],
            w = !0,
            S = function (e) {
                function t(e) {
                    (0, s.default)(this, t);
                    var n = (0, d.default)(this, (t.__proto__ || (0, r.default)(t)).call(this, e));
                    return n.seekTime = 0, n.ifCloseNote = !1, n.ifAutoClose = !1, n.readLocalData(), n.ifCloseNote || n.ifAutoClose || n.on("seeked", function () {
                        n.ifCloseNote || n.ifAutoClose || ++n.seekTime > 2 && (n.showRateNote(), n.hideQualityNote(), n.seekTime = 0)
                    }), n.onSetRateUI = function (e) {
                        e && e.rate && n.setInitUI(e.rate)
                    }, n._video.ykplayer.on("global.config", n.onSetRateUI), n
                }
                return (0, g.default)(t, e), (0, u.default)(t, []), t
            }(_.default);
        t.default = S
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(2),
            r = i(o),
            a = n(0),
            s = i(a),
            l = n(1),
            u = i(l),
            c = n(4),
            d = i(c),
            h = n(12),
            p = i(h),
            f = n(3),
            g = i(f),
            m = n(9),
            y = i(m),
            v = n(6),
            _ = n(54),
            b = i(_),
            E = n(23),
            k = function (e) {
                function t(e) {
                    (0, s.default)(this, t);
                    var n = (0, d.default)(this, (t.__proto__ || (0, r.default)(t)).call(this, e));
                    return n.dashboard = n.find(".quality-dashboard"), n.noteDom = n.find(".control-quality-note"), n.q720pType = "canuse", n.loginSuccess = !1, n.frontAd = !1, n.ifCloseNote = !1, n.showNote = !1, n.dashboardShow = !0, n.drmDisable = !1, n.QUALITY = {
                        auto: 0,
                        "320p": 1,
                        "540p": 2,
                        "720p": 3,
                        "1080p": 4,
                        "1080p_hdr": 5
                    }, n.spmDList = ["zhineng", "biaoqing", "gaoqing", "chaoqing", "viplanguang", "viphdr"], n.spmC = n.dashboard.getAttribute("data-spm"), n.readLocalData(), n.dashboardStateChange = function (e) {
                        e || (n.dashboardShow = !0, n.showQualityNote()), e && (n.dashboardShow = !1)
                    }, n._video.ykplayer.on("dashboardStateChange", n.dashboardStateChange), n.onSetQualityUI = function (e) {
                        e && e.quality && n.setQualityUI(e.quality)
                    }, n._video.ykplayer.on("global.config", n.onSetQualityUI), n
                }
                return (0, g.default)(t, e), (0, u.default)(t, [{
                    key: "setQuality",
                    value: function (e, t, n) {
                        "1080p_hdr" === e ? this._video.ykplayer.emit("hdrBtnActive", !0) : this._video.ykplayer.emit("hdrBtnActive", !1), y.default.swichChildClass(this.find(".quality-dashboard"), ".settings-item", "active", function (t) {
                            if (t.dataset) return t.dataset.val === e;
                            return t.getAttribute("data-val") === e
                        }), this.data.quality = e, this.upData1080P(t), this.find(".js-quality-text").innerText = t;
                        var i = {
                            quality: e
                        };
                        n && (i.language = n), this.setConfig(i), this.setLoacalData(i)
                    }
                }, {
                    key: "upData1080P",
                    value: function (e) {
                        "1080p" === e.toLowerCase() || "hdrvip" === e.toLowerCase() ? y.default.addClass(this.find(".js-quality-text"), "q1080p") : y.default.removeClass(this.find(".js-quality-text"), "q1080p")
                    }
                }, {
                    key: "setQualityUI",
                    value: function (e) {
                        var t = this;
                        this.data.quality = e, y.default.swichChildClass(this.find(".quality-dashboard"), ".settings-item", "active", function (n) {
                            return n.getAttribute("data-val") === e && (y.default.hasClass(n, "active") || (t.find(".js-quality-text").innerText = n.innerText, "1080p_hdr" === e && (t.find(".js-quality-text").innerText = "HDR"), t.upData1080P(n.innerText)), !0)
                        })
                    }
                }, {
                    key: "setDataUI",
                    value: function () {
                        var e = this;
                        this.bind(".quality-dashboard .settings-item", "click", function (t) {
                            e.hideQualityNote(!0), e.hideDashBoard();
                            var n = t.delegateTarget,
                                i = n.getAttribute("data-val"),
                                o = n.getAttribute("data-spm").substring(2),
                                r = (0, v.getSPM)(e.spmC, o);
                            if (e.sendGoldlog("mname=" + i + "&spm=" + r), "1080p" === i && e.hideQualityNote(!0), y.default.hasClass(n, "disable")) return e._video.global.playerState.fullscreen && e._video.ykplayer.exitFullscreen(), void e.sendGoldlog("mid=7001&mname=1080p");
                            if (!y.default.hasClass(n, "active")) {
                                if (y.default.hasClass(n, "login-canuse")) return e._video.global.config.simpleMode && window.external && "function" == typeof window.external.execute ? void window.external.execute("iku", "iku://|buildin|h5|do-login|play|") : void(window.yklogininstance && window.yklogininstance.login && (e._video.global.playerState.fullscreen && e._video.ykplayer.exitFullscreen(), window.yklogininstance.login(), "1080p" !== i && "1080p_hdr" !== i || e.sendGoldlog("mid=4007&mname=1080login")));
                                y.default.hasClass(n, "login-canfree") && e.sendGoldlog("mid=4006&mname=1080free");
                                var a = n.innerText;
                                if (a = a.replace("VIP", ""), a = a.replace("免费", ""), a = a.replace("登录", ""), "download" === i) return void e.openIkuUrl();
                                e.setQuality(i, a.replace("VIP", ""))
                            }
                        }), this.find(".control-quality-note").addEventListener("click", function (t) {
                            return e.hideQualityNote(), e.ifCloseNote = !0, t.preventDefault(), t.stopPropagation(), window.event && (window.event.cancelBubble = !0, window.event.returnValue = !1), !1
                        })
                    }
                }, {
                    key: "hideDashBoard",
                    value: function () {
                        var e = document.getElementById("videoQuality");
                        e.className.indexOf("dashboard-show") > 0 && y.default.removeClass(e, "dashboard-show")
                    }
                }, {
                    key: "openIkuUrl",
                    value: function () {
                        this.sendGoldlog("mid=7001&mname=iku1080p"), this._video.ykplayer.openNewTab("https://pcapp-update.youku.com/channelinstall/1080P", "_blank")
                    }
                }, {
                    key: "setCurrentLevel",
                    value: function (e) {
                        var t = E.LevelNameMap[E.STREAM_TYPE_MAP[e]],
                            n = this.find(".current-level");
                        t && n ? n.innerText = "(" + t + ")" : n && (this.find(".current-level").innerText = "")
                    }
                }, {
                    key: "logInCallBack",
                    value: function () {}
                }, {
                    key: "showQualityNote",
                    value: function () {
                        if ("1080p" !== this.data.quality && this.dashboardShow && this.frontAd && !this.showNote && !this.ifCloseNote) {
                            var e = this._video.global.qualitySettingConfig && this._video.global.qualitySettingConfig.noteInfo;
                            e && e.isOpen && this.hideQualityNote(!0)
                        }
                    }
                }, {
                    key: "hideQualityNote",
                    value: function (e) {
                        e || (0, v.setLocalData)("ykclosequality", (new Date).getTime()), this.noteDom && (this.noteDom.style.display = "none")
                    }
                }, {
                    key: "sendGoldlog",
                    value: function (e, t) {
                        var n = "show" === t ? {
                            log: "/yt/youku.pcweb.control",
                            code: "H1478724911",
                            type: "EXP"
                        } : {
                            log: "/yt/youku.pcweb.control",
                            code: "H1477801390",
                            type: "CLK"
                        };
                        try {
                            window.goldlog && window.goldlog.record(n.log, n.type, e, n.code)
                        } catch (e) {
                            console.log(e)
                        }
                    }
                }, {
                    key: "renderQuality",
                    value: function (e) {
                        var t = this,
                            n = this._video.global.qualityLanguageMap,
                            i = this._video.global.config.quality || "320p";
                        this.data.language = e;
                        var o = this._findRecentAvaliableQuality(e, n),
                            r = "",
                            a = "",
                            s = 0,
                            l = o.map(function (e) {
                                return e.isUse && e.code
                            }).sort(function (e, t) {
                                var n = parseInt(e),
                                    i = parseInt(t);
                                return n === i ? e.length - t.length : n - i
                            });
                        if (-1 === l.indexOf(i)) {
                            for (; s < l.length; s++) {
                                var u = l[s];
                                if (parseInt(u) >= parseInt(i)) {
                                    i = u;
                                    break
                                }
                            }
                            s === l.length && (i = l.pop())
                        }
                        if (0 === o.length) r += '<div class="settings-item setting-item-disable">不可选</div>';
                        else {
                            var c = this._video.global.ups,
                                d = c && c.videoData.encodeid || "",
                                h = c && c.showData && c.showData.encodeid || "",
                                p = c && c.userData,
                                f = !(!this._video.global.initConfig || !this._video.global.initConfig.isSupportDRM),
                                g = this._video.global.ups && this._video.global.ups.drmType,
                                m = this._video.global.config.supportType;
                            if (this.drmDisable = !1, f && "default" === g && "hls" === m) {
                                var v = !1;
                                if (o.forEach(function (e) {
                                    "1080p" === e.code && (v = !0)
                                }), !v) {
                                    var _ = {
                                        code: "1080p",
                                        name: "蓝光 1080P",
                                        isUse: !1
                                    };
                                    this.drmDisable = !0, o.unshift(_)
                                }
                            }
                            o.forEach(function (e) {
                                var n = t.QUALITY[e.code];
                                r += '<div data-val="' + e.code + '" data-spm="d_' + t.spmDList[n] + '" data-vid="' + d + '" data-sid="' + h + '" class="settings-item quality-item', e.code === i && e.isUse && (("720p" !== i || p.uid) && (r += " active"), a = e.name);
                                var o = "VIP";
                                "1080p" === e.code || "1080p_hdr" === e.code ? e.isUse ? r += " q" + e.code + ' " style="">' + e.name + '<span class="vip-label">' + o + "</span></div>" : t.drmDisable ? (r += " disable q" + e.code + ' " style="">', r += e.name + '(暂不支持)\n                                <img class="quality-tips-icon" src="//img.alicdn.com/tfs/TB1DImAzFY7gK0jSZKzXXaikpXa-22-22.svg"/>\n                                <div class="tooltip"><div class="tooltip-content">亲，针对本视频，当前浏览器暂不支持此清晰度播放，您可通过升级浏览器、切换至极速模式或更换浏览器<a href="https://www.google.cn/chrome/" target="_blank">（推荐下载最新chrome浏览器）</a>进行观看</div></div>\n                            </div>') : (r += " disable youku_vip_pay_btn", r += " q" + e.code + ' " style="">' + e.name + '<span class="vip-label">' + o + "</span></div>") : "auto" === e.code ? r += '">' + e.name + '<span class="current-level"></span></div>' : "720p" === e.code ? p.uid ? r += " q" + e.code + '">' + e.name + "</div>" : (o = "登录", t.q720pType = "login", r += " login-canuse", r += " q" + e.code + '">' + e.name + '<span class="vip-label">' + o + "</span></div>") : r += '">' + e.name + "</div>"
                            })
                        }
                        return this.dashboard.innerHTML = r, y.default.hasClass(this.dashboard, "biglargest") && y.default.removeClass(this.dashboard, "biglargest"), this.drmDisable && y.default.addClass(this.dashboard, "biglargest"), this.setQuality(i, a, e), this._video.global.config = {
                            qualityList: l
                        }, !0
                    }
                }, {
                    key: "_findRecentAvaliableQuality",
                    value: function (e, t) {
                        for (var n = [], i = t.length - 1; i >= 0; i--) e === t[i].langCode && (n = t[i].quality);
                        return n
                    }
                }, {
                    key: "hideRateNote",
                    value: function () {
                       
                    }
                }, {
                    key: "showDashBoard",
                    value: function () {
                        (0, p.default)(t.prototype.__proto__ || (0, r.default)(t.prototype), "showDashBoard", this).call(this), this._video.ykplayer.sendEventLog({
                            event: "xCq",
                            eventMode: "c"
                        });
                        var e = (0, v.getSPM)(this.spmC);
                        this.sendGoldlog("mname=qualitydashboardpanel&spm=" + e, "show"), this.hideQualityNote(!0), this.hideRateNote()
                    }
                }, {
                    key: "readLocalData",
                    value: function () {
                        var e = (0, v.getLocalData)("ykclosequality");
                        e && (new Date).getTime() - parseInt(e) < 864e5 && (this.ifCloseNote = !0)
                    }
                }, {
                    key: "destroy",
                    value: function () {
                        this._video.ykplayer.fire("dashboardStateChange", this.dashboardStateChange), this._video.ykplayer.fire("global.config", this.onSetQualityUI), (0, p.default)(t.prototype.__proto__ || (0, r.default)(t.prototype), "destroy", this).call(this)
                    }
                }, {
                    key: "render",
                    value: function () {
                        return '\n            <div class="control-icon control-quality-icon" id="videoQuality">\n                <span class="control-quality-btn js-quality-text">标清</span>\n                <span class="control-quality-note">播放速度不满意？试试这里</span>\n                <div class="quality-dashboard largest" data-spm="qingxidu" >\n                </div>\n            </div>\n        '
                    }
                }]), t
            }(b.default);
        t.default = k
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(2),
            r = i(o),
            a = n(0),
            s = i(a),
            l = n(1),
            u = i(l),
            c = n(4),
            d = i(c),
            h = n(3),
            p = i(h),
            f = n(5),
            g = n(9),
            m = i(g),
            y = n(6),
            v = n(8),
            _ = function (e) {
                function t(e) {
                    (0, s.default)(this, t);
                    var n = (0, d.default)(this, (t.__proto__ || (0, r.default)(t)).call(this, e));
                    return n.state = "enable", n._video.global.on(v.MessageConfig["player.ready"], function () {
                        n.state = "enable"
                    }), n.nextImg = n.find(".next-pic"), n.nextInfo = n.find(".next-info"), n.bind("click", function () {
                        n.playNext()
                    }), n._video.global.config.nextVid && n._video.global.config.nextVideo && n.setNextInfo(), n
                }
                return (0, p.default)(t, e), (0, u.default)(t, [{
                    key: "setNextInfo",
                    value: function (e) {
                        e = e || this._video.global.config.nextVideo, e.img && "show" !== e.type ? (this.nextImg.src = e.img + "?x-oss-process=image/resize,w_160/interlace,1/quality,Q_100/sharpen,100", this.nextImg.style.display = "block", m.default.removeClass(this.nextInfo, "no-picture")) : (this.nextImg.style.display = "none", m.default.addClass(this.nextInfo, "no-picture")), this.nextInfo.innerHTML = "\n            <span>下一集</span>\n            <p>" + (0, y.htmlEncodeAll)(e.title) + "</p>", this._el.style.display = e ? "inline-block" : "none"
                    }
                }, {
                    key: "playNext",
                    value: function () {
                        var e = this;
                        this._video.global.config.nextVid && "enable" === this.state && (this.state = "disable", this._video.ykplayer.playNext()), setTimeout(function () {
                            e.state = "enable"
                        }, 300)
                    }
                }, {
                    key: "removeClickedClass",
                    value: function () {
                        m.default.removeClass(this._el, "clicked")
                    }
                }, {
                    key: "render",
                    value: function () {
                        return '\n        <div class="control-icon control-next-video" style="display:none;">\n            <span class="icon iconfont icon-next"></span>\n            <div class="next-content">\n            <img class="next-pic" src=\'\'>\n            <div class="next-info">\n            </div>\n            </div>\n        </div>\n        '
                    }
                }]), t
            }(f.Component);
        t.default = _
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(2),
            r = i(o),
            a = n(0),
            s = i(a),
            l = n(1),
            u = i(l),
            c = n(4),
            d = i(c),
            h = n(3),
            p = i(h),
            f = n(5),
            g = n(9),
            m = i(g),
            y = function (e) {
                function t(e) {
                    (0, s.default)(this, t);
                    var n = (0, d.default)(this, (t.__proto__ || (0, r.default)(t)).call(this, e));
                    return n.dashboard = n.getComponent("control")._parent, n._addEvent(), n.iffullScreen = !1, n.on("fullscreen", function (e) {
                        n.iffullScreen = !!e
                    }), n.bind("click", function () {
                        if (n.iffullScreen) {
                            var e = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop;
                            window.innerHeight - e <= 200 && window.scroll(0, 0)
                        }
                        n._video.ykplayer.emit("callAnthology", !0)
                    }), n
                }
                return (0, p.default)(t, e), (0, u.default)(t, [{
                    key: "show",
                    value: function () {
                        this._el.style.display = "inline-block"
                    }
                }, {
                    key: "_addEvent",
                    value: function () {
                        var e = this;
                        this.on("fullscreen", function (t) {
                            var n = e._video.global.programList && e._video.global.programList.videoList ? e._video.global.programList.videoList : [];
                            if (t) {
                                if (n.length <= 1) return;
                                e.show()
                            } else e.hide(), m.default.removeClass(e._el, "clicked"), e.emit("seriesliseLayer", !1)
                        })
                    }
                }, {
                    key: "render",
                    value: function () {
                        return '\n        <div class="control-icon control-series control-quality-icon" id="controlSeries" style="display: none;">\n        <span class="control-rate-btn" data-eventlog="xseries">选集</span>\n        </div>\n        '
                    }
                }]), t
            }(f.Component);
        t.default = y
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        t.default = function(){}
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(194),
            r = i(o),
            a = n(225),
            s = i(a),
            l = n(211),
            u = i(l),
            c = n(212),
            d = i(c),
            h = n(54),
            p = i(h),
            f = n(210),
            g = i(f),
            m = n(228),
            y = i(m),
            v = n(206),
            _ = i(v),
            b = n(207),
            E = i(b),
            k = n(202),
            w = i(k),
            S = n(205),
            T = i(S),
            x = n(203),
            A = i(x),
            D = n(204),
            L = i(D),
            C = n(200),
            M = i(C),
            I = n(201),
            R = i(I),
            P = n(199),
            N = i(P),
            O = n(104),
            j = i(O),
            U = n(105),
            B = i(U),
            F = n(216),
            z = i(F),
            H = n(226),
            Y = i(H),
            V = n(230),
            G = n(229),
            Q = i(G),
            W = n(198),
            K = i(W),
            X = n(214);
        t.default = {
            layers: {
                Posterlayer: z.default,
                LoadingLayer: u.default,
                SinglePreviewLayer: s.default,
                EndLayer: r.default,
                HintLayer: X.HintLayer,
                InformationLayer: X.InformationLayer,
                InformationWindowLayer: X.InformationWindowLayer,
                Series: y.default,
                InnerVipLayer: j.default,
                SubscribeLayer: B.default,
                InforLayer: g.default,
                SafariPlayLayer: Y.default,
                MinisizeLayer: d.default,
                SubtitleLayer: Q.default,
                HDRLayer: K.default
            },
            icons: [{
                name: "PictureIcon",
                component: w.default,
                args: {
                    index: 1
                }
            }, {
                name: "QualityIcon",
                component: L.default,
                args: {
                    index: 0
                },
                parentControl: "right"
            },{
                name: "LanguageIcon",
                component: M.default,
                args: {
                    index: 0
                },
                parentControl: "right"
            }, {
                name: "NextIcon",
                component: T.default,
                args: {
                    index: 1
                },
                parentControl: "left"
            }, {
                name: "SettingSeries",
                component: _.default,
                args: {
                    index: 2
                }
            }]
        }
    },
    function (e, t, n) {
        "use strict";

        function i(e, t) {
            e.style.backgroundImage = "url(" + t + ")"
        }

        function o(e, t) {
            e.style.opacity = t
        }

        function r(e, t) {
            e.style.fontSize = t + "px"
        }

        function a(e, t) {
            e.style.color = t
        }

        function s(e, t, n, i) {
            var o = void 0,
                r = void 0;
            0 === n ? (o = "left", r = "top") : 1 === n ? (o = "right", r = "top") : 2 === n ? (o = "right", r = "bottom") : 3 === n && (o = "left", r = "bottom"), t && (void 0 !== t[0].posX && (e.style[o] = parseInt(t[0].posX) * i + "px"), void 0 !== t[0].posY && (e.style[r] = parseInt(t[0].posY) * i + "px"), void 0 !== t[0].width && 0 !== t[0].width && (e.style.width = parseInt(t[0].width) * i + "px"), void 0 !== t[0].height && 0 !== t[0].height && (e.style.height = parseInt(t[0].height) * i + "px"), t[0].width && t[0].height && (e.style.backgroundSize = parseInt(t[0].width) * i + "px " + parseInt(t[0].height) * i + "px", e.style.backgroundPosition = "0 0"))
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.updateUrl = i, t.updateOpacity = o, t.updateFontSize = r, t.updateFontColor = a, t.updateDisplay = s
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(2),
            r = i(o),
            a = n(0),
            s = i(a),
            l = n(1),
            u = i(l),
            c = n(4),
            d = i(c),
            h = n(3),
            p = i(h),
            f = n(5),
            g = n(209),
            m = {
                rsUrl: "https://ykimg.alicdn.com/product/image/2019-11-14/f2acc774aabd56c8389d8ab52d654f77.png",
                alpha: 1,
                type: 1,
                refWnd: 0,
                displayMode: 0,
                rsType: 0,
                autoScale: 1,
                refCoord: 1,
                displayDTOS: [{
                    duration: 0,
                    posX: 28,
                    posY: 28,
                    start: 0,
                    width: 161,
                    height: 28
                }]
            },
            y = {
                rsUrl: "https://ykimg.alicdn.com/product/image/2019-11-14/cf6e838c8300aebc2fc6c5e7627d3a11.png",
                alpha: 1,
                type: 0,
                refWnd: 0,
                displayMode: 0,
                rsType: 0,
                autoScale: 1,
                refCoord: 1,
                displayDTOS: [{
                    duration: 0,
                    posX: 28,
                    posY: 28,
                    start: 0,
                    width: 112,
                    height: 28
                }]
            },
            v = function (e) {
                function t(e) {
                    (0, s.default)(this, t);
                    var n = (0, d.default)(this, (t.__proto__ || (0, r.default)(t)).call(this, e));
                    n._data = {
                        logo: {
                            fullscreen: null,
                            normal: null
                        },
                        license: {
                            fullscreen: null,
                            normal: null
                        },
                        registe: {
                            fullscreen: null,
                            normal: null
                        }
                    }, n.numberHasShow = !1, n.fullscreen = n._video.global.playerState.fullscreen || n._video.global.playerState.webFullscreen, n.percent = 1, n.licenseEle = n.find(".license"), n.registeEle = n.find(".serial"), n.logoContainer = n.find(".youku-layer-logo"), n.logo = n.find(".logo-new");
                    var i = n._video.ykplayer.global.ups && n._video.ykplayer.global.ups.playlistData.watermark;
                    return i && (n.parseWaterInfo(i), n.adjustContainer(), n.renderLogo()), n._addEvent(), n
                }
                return (0, p.default)(t, e), (0, u.default)(t, [{
                    key: "_addEvent",
                    value: function () {
                        var e = this;
                        this._eMap = {
                            fullscreen: function (t) {
                                e.fullscreen !== t && (e.fullscreen = t), e.delayedAdjustContainer(100)
                            }
                        }, window.addEventListener("resize", function () {
                            e.delayedAdjustContainer(100)
                        }), this.on("fullscreen", this._eMap.fullscreen), this.on("webfullscreen", this._eMap.fullscreen)
                    }
                }, {
                    key: "parseWaterInfo",
                    value: function (e) {
                        for (var t = 0, n = e.length; t < n; t++) {
                            var i = e[t].type,
                                o = "logo";
                            2 === i && (o = "registe"), 3 === i && (o = "license"), 3 === e[t].displayMode || 0 === e[t].displayMode ? this._data[o].normal = e[t] : 1 === e[t].displayMode && (this._data[o].fullscreen = e[t])
                        }
                    }
                }, {
                    key: "renderLogo",
                    value: function () {
                        if (!1 === this._video.global.config.hasWatermark) this.logoContainer.style.display = "none", this.logo.style.display = "none";
                        else {
                            var e = y;
                            this._video.global.mediaData.exclusive && (e = m), this._data.logo.normal && (e = this.fullscreen && this._data.logo.fullscreen ? this._data.logo.fullscreen : this._data.logo.normal), e.rsUrl && e.rsUrl.trim() && (0, g.updateUrl)(this.logo, e.rsUrl.trim()), void 0 !== e.alpha && (0, g.updateOpacity)(this.logo, e.alpha), (0, g.updateDisplay)(this.logo, e.displayDTOS, e.refCoord, this.percent), this.logo.style.display = "block", this.logoContainer.style.display = "block"
                        }
                    }
                }, {
                    key: "renderLicense",
                    value: function () {
                        var e = this;
                        if (!this.numberHasShow) {
                            if (this.textRegisteTimer && window.clearTimeout(this.textRegisteTimer), this.textLicenseTimer && window.clearTimeout(this.textLicenseTimer), this._data.license.normal) {
                                var t = this.fullscreen && this._data.license.fullscreen ? this._data.license.fullscreen : this._data.license.normal;
                                this._updataText(t, this.licenseEle);
                                var n = 6e3;
                                t.displayDTOS && t.displayDTOS.length > 0 && t.displayDTOS[0].duration > 0 && (n = t.displayDTOS[0].duration), this.textLicenseTimer = window.setTimeout(function () {
                                    e.licenseEle.style.display = "none", e.numberHasShow = !0
                                }, n)
                            }
                            if (this._data.registe.normal) {
                                var i = this.fullscreen && this._data.registe.fullscreen ? this._data.registe.fullscreen : this._data.registe.normal;
                                this._updataText(i, this.registeEle);
                                var o = 6e3;
                                i.displayDTOS && i.displayDTOS.length > 0 && i.displayDTOS[0].duration > 0 && (o = i.displayDTOS[0].duration), this.textRegisteTimer = window.setTimeout(function () {
                                    e.registeEle.style.display = "none", e.numberHasShow = !0
                                }, o)
                            }
                        }
                    }
                }, {
                    key: "delayedAdjustContainer",
                    value: function (e) {
                        var t = this;
                        this.adjustTimer && clearTimeout(this.adjustTimer), this.logoContainer && (this.logoContainer.style.opacity = 0, this.adjustTimer = setTimeout(function () {
                            t.adjustContainer(), t.renderLogo(), t.logoContainer.style.opacity = 1
                        }, e))
                    }
                }, {
                    key: "adjustContainer",
                    value: function () {
                        if (this.logoContainer) {
                            var e = this._video.global.mediaData.originWidth,
                                t = this._video.global.mediaData.originHeight,
                                n = this._parent,
                                i = n.offsetWidth,
                                o = n.offsetHeight,
                                r = o,
                                a = i,
                                s = 0,
                                l = 0;
                            e / t > i / o ? (r = "" + Math.floor(i * t / e), l = (o - i * t / e) / 2) : (a = "" + Math.floor(o * e / t), s = (i - o * e / t) / 2), this.logoContainer.style.position = "relative", this.logoContainer.style.height = r + "px", this.logoContainer.style.width = a + "px", this.logoContainer.style.marginRight = s + "px", this.logoContainer.style.marginLeft = s + "px", this.logoContainer.style.marginBottom = this.logoContainer.style.marginTop = l + "px", this.fullscreen && this._data.logo.fullscreen ? this.percent = (r / 900).toFixed(3) : this.percent = (r / 453).toFixed(3)
                        }
                    }
                }, {
                    key: "_updataText",
                    value: function (e, t) {
                        t.innerHTML = (e.text || "").trim(), e.textSize && (0, g.updateFontSize)(t, e.textSize), e.textColor && (0, g.updateFontColor)(t, e.textColor), 0 === e.displayMode && ((0, g.updateDisplay)(t, e.displayDTOS, e.refCoord, this), t.parentNode && (t.parentNode.style.display = "block"), t.style.display = "block")
                    }
                }, {
                    key: "setScale",
                    value: function (e) {
                        this.logoContainer.style.transform = "scale(" + e + ")"
                    }
                }, {
                    key: "setMini",
                    value: function () {
                        this.registeEle.style.top = "20px", this.licenseEle.style.bottom = "50px", this.delayedAdjustContainer(100)
                    }
                }, {
                    key: "setNormal",
                    value: function () {
                        this.registeEle.style.removeProperty("top"), this.registeEle.style.removeProperty("bottom"), this.delayedAdjustContainer(100)
                    }
                }, {
                    key: "destroy",
                    value: function () {
                        this.fire("fullscreen", this._eMap.fullscreen), this.fire("webfullscreen", this._eMap.fullscreen)
                    }
                }, {
                    key: "render",
                    value: function () {
                        return '\n        <div class=\'youku-layer-wuliao\'>\n            <div class=\'youku-layer-logo\'>\n                <div class="logo-new" style="display:none;">\n                </div>\n            </div>\n            <div class="qualification">\n                <span class="serial" style="display: none;"></span>\n                <span class="license" style="display: none;"></span>\n            </div>\n        </div>'
                    }
                }]), t
            }(f.Layer);
        t.default = v
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(2),
            r = i(o),
            a = n(0),
            s = i(a),
            l = n(1),
            u = i(l),
            c = n(4),
            d = i(c),
            h = n(3),
            p = i(h),
            f = n(5),
            g = function (e) {
                function t(e) {
                    (0, s.default)(this, t);
                    var n = (0, d.default)(this, (t.__proto__ || (0, r.default)(t)).call(this, e));
                    return n._isError = !1, n._video.ykplayer.on("global.reset", n.setError), n._video.ykplayer.on("global.reload", n.setError), n._video.ykplayer.on("player.error", n.recoveError), n
                }
                return (0, p.default)(t, e), (0, u.default)(t, [{
                    key: "setError",
                    value: function () {
                        this._isError = !1
                    }
                }, {
                    key: "recoveError",
                    value: function () {
                        this._isError = !0
                    }
                }, {
                    key: "show",
                    value: function (e) {
                        var t = this;
                        if ("none" === this._el.style.display) {
                            if (0 === e || e || (e = 900), this._isError && this.hide(), window.clearTimeout(this._timeout), this._timeout = null, 0 === e) return void(this._el.style.display = "");
                            this._timeout = setTimeout(function () {
                                t._isError || (t._el.style.display = "")
                            }, e)
                        }
                    }
                }, {
                    key: "hide",
                    value: function () {
                        this._timeout && (window.clearTimeout(this._timeout), this._timeout = null), "" === this._el.style.display && (this._el.style.display = "none")
                    }
                }, {
                    key: "showMessage",
                    value: function (e) {
                        this.find("p").innerText = e || "加载中..."
                    }
                }, {
                    key: "destroy",
                    value: function () {
                        this._video.ykplayer.fire("global.reset", this.setError), this._video.ykplayer.fire("global.reload", this.setError), this._video.ykplayer.fire("player.error", this.recoveError)
                    }
                }, {
                    key: "render",
                    value: function () {
                        return '\n          <div class="preloading-layer blackbg" style="display: none;">\n              <div class="preloading-container">\n                  <p>加载中...</p>\n                  <div class="h5-layer-loading">\n                    <div class="spinner1">\n                        <div class="bounce1"></div>\n                        <div class="bounce2"></div>\n                        <div class="bounce3"></div>\n                    </div>\n                  </div>\n              </div>\n          </div>\n        '
                    }
                }]), t
            }(f.Layer);
        t.default = g
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(2),
            r = i(o),
            a = n(0),
            s = i(a),
            l = n(1),
            u = i(l),
            c = n(4),
            d = i(c),
            h = n(12),
            p = i(h),
            f = n(3),
            g = i(f),
            m = n(5),
            y = n(9),
            v = function (e) {
                function t(e) {
                    (0, s.default)(this, t);
                    var n = (0, d.default)(this, (t.__proto__ || (0, r.default)(t)).call(this, e));
                    return n._noteDom = n._el.querySelector(".h5-mininote-layer"), n.controlBtn = n._el.querySelector(".h5-control-wrap"), n.closeBtn = n._el.querySelector(".min-closeicon"), n.mousePosData = {
                        clientY: 0,
                        clientX: 0
                    }, n.positionData = {
                        top: 0,
                        right: 0
                    }, n.tempPosition = {
                        top: 0,
                        right: 0
                    }, n.containerHeight = 240, n.containerWidth = 426, n.isDraging = !1, n.isCustomDrag = !1, window.gragDom = n._el, n.on("play", function () {
                        n.isEnded = !1, n.changeControlState(!0)
                    }), n.on("pause", function () {
                        n.changeControlState(!1)
                    }), n.playSceneChange = function (e) {
                        n.isEnded && e && e.playScene && ("mini" === e.playScene ? n.showNote() : n.hideNote())
                    }, n.playerEnd = function () {
                        n.isEnded = !0, "mini" === n._video.global.config.playScene && (n.changeControlState(!1), n._video.ykplayer.switchNormalScene())
                    }, n.switchPausePlay = function (e) {
                        var t = e.target.getAttribute("data-state"),
                            i = e.target.className;
                        "pause" === t || i.indexOf("pause") > -1 ? n._video.ykplayer.pause() : ("play" === t || i.indexOf("play") > -1) && n._video.ykplayer.play()
                    }, document.onmousemove = function (e) {
                        return n.mouseMove(e)
                    }, document.onmouseup = function (e) {
                        return n.mouseUp(e)
                    }, document.onmouseleave = function (e) {
                        return n.mouseLeave(e)
                    }, n.bind("mousedown", function (e) {
                        n.mouseDown(e)
                    }), n.controlBtn.addEventListener("click", n.switchPausePlay), n.closeBtn.addEventListener("click", function () {
                        try {
                            window.goldlog.record("/yt/youkuplayer.fdl.playerui.show", "CLK", "servername=minilayer&opt=close", "GET")
                        } catch (e) {
                            console.log("goldlog.record")
                        }
                        n._video.ykplayer.switchNormalScene()
                    }), n._video.ykplayer.on("ended", n.playerEnd), n
                }
                return (0, g.default)(t, e), (0, u.default)(t, [{
                    key: "show",
                    value: function (e) {
                        this.isCustomDrag && this.positionData ? this.setContainerPositon(this.positionData) : this.setContainerPositon(e), (0, p.default)(t.prototype.__proto__ || (0, r.default)(t.prototype), "show", this).call(this);
                        try {
                            window.goldlog.record("/yt/youkuplayer.fdl.playerui.show", "CLK", "servername=minilayer&opt=show", "GET")
                        } catch (e) {
                            console.log("goldlog.record")
                        }
                    }
                }, {
                    key: "hide",
                    value: function () {
                        this.removeContainerPositon(), (0, p.default)(t.prototype.__proto__ || (0, r.default)(t.prototype), "hide", this).call(this)
                    }
                }, {
                    key: "hideBtn",
                    value: function () {
                        this.controlBtn.style.display = "none"
                    }
                }, {
                    key: "showBtn",
                    value: function () {
                        this.controlBtn.style.removeProperty("display")
                    }
                }, {
                    key: "getMaxTop",
                    value: function () {
                        return document.documentElement.clientHeight - this.containerHeight
                    }
                }, {
                    key: "getMaxRight",
                    value: function () {
                        return document.documentElement.clientWidth - this.containerWidth
                    }
                }, {
                    key: "setContainerPositon",
                    value: function (e) {
                        var t = this._video.ykplayer.container,
                            n = this.getMaxTop();
                        e.top = e && (e.top || 0 === e.top) ? e.top : n, e.right = e && e.right ? e.right : 0, e.top > n && (e.top = n);
                        var i = this.getMaxRight();
                        e.right > i && (e.right = i), t.style.top = e.top + "px", t.style.right = e.right + "px", t.style.left = "auto", this.positionData.top = e.top, this.positionData.right = e.right
                    }
                }, {
                    key: "removeContainerPositon",
                    value: function () {
                        var e = this._video.ykplayer.container;
                        e.style.removeProperty("top"), e.style.removeProperty("right"), e.style.removeProperty("left")
                    }
                }, {
                    key: "mouseMove",
                    value: function (e) {
                        if (this.isDraging) {
                            this.isCustomDrag = !0;
                            var t = document.documentElement.clientWidth - e.clientX - this.mousePosData.clientX,
                                n = {
                                    top: e.clientY - this.mousePosData.clientY < 0 ? 0 : e.clientY - this.mousePosData.clientY,
                                    right: t < 0 ? 0 : t
                                };
                            this.setContainerPositon(n), this.tempPosition = n
                        }
                    }
                }, {
                    key: "mouseDown",
                    value: function (e) {
                        this.isDraging = !0, this.mousePosData.clientY = e.clientY - this.positionData.top, this.mousePosData.clientX = document.documentElement.clientWidth - e.clientX - this.positionData.right
                    }
                }, {
                    key: "mouseUp",
                    value: function () {
                        this.isDraging = !1
                    }
                }, {
                    key: "mouseLeave",
                    value: function () {
                        this.isDraging = !1
                    }
                }, {
                    key: "changeControlState",
                    value: function (e) {
                        e ? ((0, y.addClass)(this.controlBtn, "control-play-icon"), this.controlBtn.setAttribute("data-state", "play")) : ((0, y.removeClass)(this.controlBtn, "control-play-icon"), this.controlBtn.setAttribute("data-state", "pause"))
                    }
                }, {
                    key: "showNote",
                    value: function () {
                        var e = this._video.global.ups && this._video.global.ups.trialData,
                            t = "播放结束";
                        e && (t = "试看结束"), (0, y.addClass)(this._el, "note-show-miniplayer"), this._noteDom.innerHTML = t
                    }
                }, {
                    key: "hideNote",
                    value: function () {
                        (0, y.removeClass)(this._el, "note-show-miniplayer")
                    }
                }, {
                    key: "destroy",
                    value: function () {
                        this._video.ykplayer.fire("ended", this.playerEnd), this._video.ykplayer.on("error", this.playerEnd), (0, p.default)(t.prototype.__proto__ || (0, r.default)(t.prototype), "destroy", this).call(this)
                    }
                }, {
                    key: "render",
                    value: function () {
                        return '\n          <div class="preloading-layer minisize-layer">\n            <div class="btn-control drag-layer">\n            <div class="min-closeicon">\n              <span class="icon iconfont icon-close"></span>\n            </div>\n            </div>\n            <div class="h5-mininote-layer">\n            </div>\n            <div class="h5-control-wrap control-play-icon">\n                <span class="icon iconfont icon-play"></span>\n                <span class="icon iconfont icon-pause"></span>\n            </div>\n          </div>\n        '
                    }
                }]), t
            }(m.Layer);
        t.default = v
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(2),
            r = i(o),
            a = n(0),
            s = i(a),
            l = n(1),
            u = i(l),
            c = n(4),
            d = i(c),
            h = n(3),
            p = i(h),
            f = n(5),
            g = n(10),
            m = i(g),
            y = function (e) {
                function t(e) {
                    (0, s.default)(this, t);
                    var n = (0, d.default)(this, (t.__proto__ || (0, r.default)(t)).call(this, e));
                    return n.hintTip = n.find(".hint-information-tip"), n.on(m.default.HINT_SHOW, function (e) {
                        n.setHintShow(e.desc)
                    }), n.adImageUrl = null, n.hide(), n.loadImg(), n.timer = null, n
                }
                return (0, p.default)(t, e), (0, u.default)(t, [{
                    key: "loadImg",
                    value: function () {
                        if (this.adImageUrl) {
                            document.createElement("img").src = this.adImageUrl
                        }
                    }
                }, {
                    key: "setHintShow",
                    value: function (e) {
                        this.hintTip.innerHTML = e;
                        var t = this.find(".oppinfo");
                        t && (this.adImageUrl ? (t.style.display = "inline-block", t.style.backgroundImage = " url(" + this.adImageUrl + ")") : t.style.display = "none"), this.show(), this.setHintHide()
                    }
                }, {
                    key: "setHintHide",
                    value: function () {
                        var e = this;
                        clearTimeout(this.timer), this.timer = setTimeout(function () {
                            e.hide(), e._video.ykplayer.emit("informationHide", {
                                flag: !0,
                                el: e._el
                            })
                        }, 3e3)
                    }
                }, {
                    key: "render",
                    value: function () {
                        return '\n            <div class="hint-information" style="display:none">\n                <div class="hint-information-tip">静音</div>\n            </div>\n        '
                    }
                }]), t
            }(f.Layer);
        t.default = y
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.InformationLayer = t.HintLayer = void 0;
        var o = n(213),
            r = i(o),
            a = n(215),
            s = i(a);
        t.HintLayer = r.default, t.InformationLayer = s.default
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(2),
            r = i(o),
            a = n(0),
            s = i(a),
            l = n(1),
            u = i(l),
            c = n(4),
            d = i(c),
            h = n(12),
            p = i(h),
            f = n(3),
            g = i(f),
            m = n(5),
            y = n(9),
            v = i(y),
            _ = n(8),
            b = n(30),
            E = i(b),
            k = n(6),
            w = n(68),
            S = n(26),
            T = "",
            x = function (e) {
                function t(e) {
                    (0, s.default)(this, t);
                    var n = (0, d.default)(this, (t.__proto__ || (0, r.default)(t)).call(this, e));
                    n.content = n.find(".information-tip-des"), n.closeBtn = n.find(".information-tip-close"), n._addEvent(), n.hide();
                    var i = n._video.global.ups.trialData,
                        o = n._video.global.ups.videoData;
                    if (i && i.time > 0) {
                        var a = i.time > 60 ? parseInt(i.time / 60) + "分钟" : i.time + "秒";
                        o.typeData.fee || o.typeData.channel_vip || "subscribe" === i.type && o && "follower" === o.privacy && n.setContent({
                            content: "您可以试看" + a + '，订阅我就可以免费看完全部   <font color="#0D9BFF" data-val="subscribe" class="information-tip-link">+订阅</font>',
                            time: 5e4
                        })
                    }
                    return n.safariAboart = function () {
                        n.setContent({
                            content: '由于您的浏览器设置，视频无法自动播放。调整设置项后视频方可正常播放。<font color="#0D9BFF"><u><a href="javascript:void(0);" data-val="safariguide" class="information-tip-link">查看设置向导</a></u></font>',
                            time: 5e4
                        })
                    }, n.bind(".information-tip-link", "click", function (e) {
                        n._clickItemEvent(e)
                    }), n.bind(".information-tip-des", "click", function (e) {
                        n._clickDesEvent(e)
                    }), n
                }
                return (0, g.default)(t, e), (0, u.default)(t, [{
                    key: "setContent",
                    value: function (e) {
                        this.content.innerHTML = e.content, this.closeTimeout = e.time, e.code && (this.code = e.code, this.content.setAttribute("data-spm", "clickqipao"), this.content.parentNode.setAttribute("data-spm", e.spm), this.content.setAttribute("data-val", "720p-quality"), this.content.style.cursor = "pointer"), this.show()
                    }
                }, {
                    key: "changeStyle",
                    value: function (e) {
                        e ? v.default.removeClass(this._el, "information-tips2") : v.default.addClass(this._el, "information-tips2")
                    }
                }, {
                    key: "show",
                    value: function () {
                        var e = this;
                        if ((0, p.default)(t.prototype.__proto__ || (0, r.default)(t.prototype), "show", this).call(this), this.code && !this.log720 && (this.spmC = this._el.getAttribute("data-spm"), this.spmC)) {
                            var n = (0, k.getSPM)(this.spmC);
                            this.log720 = !0, this.sendGoldlog("spm=" + n, "show")
                        }
                        this.closeTimeout > 0 && ("" !== T && clearTimeout(T), T = setTimeout(function () {
                            e.hide()
                        }, this.closeTimeout))
                    }
                }, {
                    key: "hide",
                    value: function () {
                        (0, p.default)(t.prototype.__proto__ || (0, r.default)(t.prototype), "hide", this).call(this), "" !== T && clearTimeout(T), this._video.ykplayer.emit("informationHide", {
                            flag: !0,
                            el: this._el
                        })
                    }
                }, {
                    key: "_addEvent",
                    value: function () {
                        var e = this;
                        this.closeBtn.addEventListener("click", function (t) {
                            if (e.hide(), e.spmC = e._el.getAttribute("data-spm"), e.spmC) {
                                var n = t.target.getAttribute("data-spm"),
                                    i = (0, k.getSPM)(e.spmC, n);
                                e.sendGoldlog("spm=" + i, "click")
                            }
                        })
                    }
                }, {
                    key: "_clickItemEvent",
                    value: function (e) {
                        var t = this;
                        switch (e.target.dataset ? e.target.dataset.val : e.target.getAttribute("data-val")) {
                        case "restart":
                            this._video.global.emit(_.MessageConfig.uimessage, {
                                type: "seek",
                                time: 0
                            }), this.hide();
                            break;
                        case "opensetpanel":
                            this._video.ui.getComponent("SettingsIcon").showDashBoard();
                            break;
                        case "safariguide":
                            this._video.ykplayer.openNewTab("//h5.m.youku.com//ju/safari11guide.html", "_blank");
                            break;
                        case "subscribe":
                            var n = this._video.global.ups.uploaderData.uid;
                            this._video.global.emit(E.default.playerSubscribe, function () {
                                t._video.ykplayer.reload()
                            }, n, {
                                stype: "9-6"
                            });
                            break;
                        case "autoquality":
                            this._video.global.config = {
                                quality: "auto"
                            }, this.setLoacalData({
                                quality: "auto"
                            })
                        }
                    }
                }, {
                    key: "setLoacalData",
                    value: function (e) {
                        var t = (0, k.getLocalData)(w.LSKEY) || {};
                        for (var n in e) e[n] !== t[n] && (t[n] = e[n]);
                        (0, k.setLocalData)(w.LSKEY, t)
                    }
                }, {
                    key: "_clickDesEvent",
                    value: function (e) {
                        var t = e.target;
                        switch ((v.default.hasClass(e.target, "login-720") || v.default.hasClass(e.target, "emphasizes")) && (t = e.target.parentNode), t.dataset ? t.dataset.val : t.getAttribute("data-val")) {
                        case "720p-quality":
                            var n = t.getAttribute("data-spm"),
                                i = (0, k.getSPM)(this.spmC, n);
                            if (this.sendGoldlog("spm=" + i, "click"), (this._video.global.ups && this._video.global.ups.userData).uid) this._video.global.config = {
                                quality: "720p"
                            };
                            else {
                                if (this._video.global.config.simpleMode && window.external && "function" == typeof window.external.execute) return void window.external.execute("iku", "iku://|buildin|h5|do-login|play|");
                                window.yklogininstance && window.yklogininstance.login && (window.yklogininstance.login(), this._video.global.playerState.fullscreen && this._video.ykplayer.exitFullscreen())
                            }
                        }
                    }
                }, {
                    key: "hideDay",
                    value: function () {
                        this.hide(), this.setCookie("popFlag", !0)
                    }
                }, {
                    key: "setCookie",
                    value: function (e, t) {
                        var n = new Date,
                            i = n.getTime(),
                            o = n.toLocaleDateString(),
                            r = 0;
                        r = S.Browser.isSafari ? new Date(o).getTime() + 288e5 - 1 : new Date(o).getTime() - 1;
                        var a = i - r,
                            s = 864e5 - a,
                            l = new Date;
                        l.setTime(s + i), document.cookie = e + "=" + t + ";expires=" + l.toGMTString() + ";path=/"
                    }
                }, {
                    key: "sendGoldlog",
                    value: function (e, t) {
                        var n = "show" === t ? {
                            log: "/yt/youku.pcweb.control",
                            code: "H1478724911",
                            type: "EXP"
                        } : {
                            log: "/yt/youku.pcweb.control",
                            code: "H1477801390",
                            type: "CLK"
                        };
                        try {
                            window.goldlog && window.goldlog.record(n.log, n.type, e, n.code)
                        } catch (e) {
                            console.log(e)
                        }
                    }
                }, {
                    key: "destroy",
                    value: function () {
                        this._video.ykplayer.fire("safariAboart", this.safariAboart), (0, p.default)(t.prototype.__proto__ || (0, r.default)(t.prototype), "destroy", this).call(this)
                    }
                }, {
                    key: "render",
                    value: function () {
                        return '\n        <div class="information-tips">\n            <div class="information-tip-des"></div>\n            <div class="information-tip-close"> <span class="icon iconfont icon-close" data-spm="close" ></span></div>\n        </div>\n        '
                    }
                }]), t
            }(m.Layer);
        t.default = x
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(2),
            r = i(o),
            a = n(0),
            s = i(a),
            l = n(1),
            u = i(l),
            c = n(4),
            d = i(c),
            h = n(3),
            p = i(h),
            f = n(5),
            g = function (e) {
                function t(e) {
                    (0, s.default)(this, t);
                    var n = (0, d.default)(this, (t.__proto__ || (0, r.default)(t)).call(this, e));
                    return n._el.style.backgroundImage = " url(" + n._video.global.config.poster + ")", n._video.global.config.autoplay ? n.hide() : (n.show(), n.on("play", function () {
                        n.hide()
                    }), n._el.addEventListener("click", function () {
                        n._video.ykplayer.play()
                    })), n
                }
                return (0, p.default)(t, e), (0, u.default)(t, [{
                    key: "render",
                    value: function () {
                        return '\n          <div class="ykplayer-poster-logo" style="display:none;">\n          </div>\n        '
                    }
                }]), t
            }(f.Layer);
        t.default = g
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(2),
            r = i(o),
            a = n(0),
            s = i(a),
            l = n(1),
            u = i(l),
            c = n(4),
            d = i(c),
            h = n(3),
            p = i(h),
            f = n(5),
            g = function (e) {
                function t(e) {
                    return (0, s.default)(this, t), (0, d.default)(this, (t.__proto__ || (0, r.default)(t)).call(this, e))
                }
                return (0, p.default)(t, e), (0, u.default)(t, [{
                    key: "show",
                    value: function () {
                        this._el.style.display = "block"
                    }
                }, {
                    key: "render",
                    value: function () {
                        return '\n          <div class="preloading-layer" style="display:none">\n              <div class="preloading-container" style="width:148px; margin-left: -74px;height: 90px;">\n                  \n                  <div class="h5-layer-loading">\n                    <div class="spinner1">\n                        <div class="bounce1"></div>\n                        <div class="bounce2"></div>\n                        <div class="bounce3"></div>\n                    </div>\n                  </div>\n              </div>\n          </div>\n        '
                    }
                }]), t
            }(f.Layer);
        t.default = g
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(2),
            r = i(o),
            a = n(0),
            s = i(a),
            l = n(1),
            u = i(l),
            c = n(4),
            d = i(c),
            h = n(3),
            p = i(h),
            f = n(5),
            g = n(8),
            m = function (e) {
                function t(e) {
                    (0, s.default)(this, t);
                    var n = (0, d.default)(this, (t.__proto__ || (0, r.default)(t)).call(this, e));
                    return n.limitPanel = n.find(".limit-panel"), n.pretectedPanel = n.find(".pretected-panel"), n.errorCodePanel = n.find(".note-error-code"), n.timePanel = n.find(".run-time"), n.waitTimerPanel = n.find(".wait-time"), n.reloadBtn = n.find(".btn-reload"), n.timer = null, n.remainTime = 0, n.reloadBtn.addEventListener("click", function () {
                        n._video.ykplayer.reload()
                    }), n
                }
                return (0, p.default)(t, e), (0, u.default)(t, [{
                    key: "initEmit",
                    value: function () {
                        var e = this;
                        this._video.global.on(g.MessageConfig.uimessage, function (t) {
                            "servicelimit" === t.type && e.show()
                        }), this._video.global.on(g.MessageConfig["global.reset"], function () {
                            e.hide()
                        }), this._video.global.on(g.MessageConfig["global.reload"], function () {
                            e.hide()
                        })
                    }
                }, {
                    key: "show",
                    value: function (e) {
                        this.data = e, this.data && (1111 === this.data.status && (this.limitPanel.style.display = "block", this.waitTimerPanel.style.display = "block", this.pretectedPanel.style.display = "none", this.reloadBtn.style.display = "none", this.remainTime = 1e3 * this.data.wait, this.errorCodePanel.innerHTML = "22501", this.setTimePanel(this.data.wait), this.setTimer()), this._el.style.display = "block", this._el.parentElement.style.display = "block")
                    }
                }, {
                    key: "showBtn",
                    value: function () {
                        this.reloadBtn.style.display = "inline-block"
                    }
                }, {
                    key: "setTimePanel",
                    value: function (e) {
                        this.timePanel.innerHTML = e
                    }
                }, {
                    key: "hide",
                    value: function () {
                        this.data && (1111 === this.data.status ? this.limitPanel.style.display = "none" : this.pretectedPanel.style.display = "none", this._el.style.display = "none", this._el.parentElement.style.display = "none")
                    }
                }, {
                    key: "setTimer",
                    value: function () {
                        var e = this;
                        this.timer && (clearTimeout(this.timer), this.timer = null), this.remainTime > 0 ? this.timer = setTimeout(function () {
                            e.remainTime -= 300, e.setTimePanel(parseInt(e.remainTime / 1e3)), e.setTimer()
                        }, 300) : (this.remainTime = 0, this.showBtn(), this.waitTimerPanel.style.display = "none")
                    }
                }, {
                    key: "render",
                    value: function () {
                        return '\n            <div class="limit-show-layer">\n                <div class="limit-panel" style=\'display:none;\'>\n                    <p class="note-tit">sorry~~ 小酷被挤爆了，请稍后再来试试看吧~</p>\n                    <p class="wait-time tips"><b class="run-time"> </b>秒后重新连接... </p>\n                    <a href="javascript:void(0);" class="btn-reload">重试</a>\n                </div>\n                <div class="pretected-panel" >\n                </div>\n                <p class="note-error-code">\n                    错误代码：10000\n                </p>\n            </div>'
                    }
                }]), t
            }(f.Layer);
        t.default = m
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(2),
            r = i(o),
            a = n(0),
            s = i(a),
            l = n(1),
            u = i(l),
            c = n(4),
            d = i(c),
            h = n(3),
            p = i(h),
            f = n(5),
            g = n(29),
            m = n(102),
            y = function (e) {
                function t(e) {
                    (0, s.default)(this, t);
                    var n = (0, d.default)(this, (t.__proto__ || (0, r.default)(t)).call(this, e));
                    return n._qrcode = n.find(".erweima"), n.find(".env").innerText = "[" + (0, m.getEnvironment)() + "]", n
                }
                return (0, p.default)(t, e), (0, u.default)(t, [{
                    key: "show",
                    value: function (e) {
                        e && (this.find("note_normal_tit").innerHTML = e), this._setQrCode(), this._el.style.display = "block"
                    }
                }, {
                    key: "_setQrCode",
                    value: function () {
                        for (var e = encodeURIComponent("pcsjk_5"), t = "http://v.youku.com/v_show/id_" + this._video.global.mediaData.mediaId + ".html?source_from=" + e, n = this._qrcode.children; n.length > 0;) this._qrcode.removeChild(n[0]);
                        var i = (0, g.generateQRCode4Browser)({
                            code: t,
                            avatar: "//img.alicdn.com/tfs/TB1N1xYXkP2gK0jSZPxXXacQpXa-53-53.svg",
                            padding: 0,
                            width: 82
                        });
                        this._qrcode.appendChild(i)
                    }
                }, {
                    key: "render",
                    value: function () {
                        return '<div class=\'drm-error-layer\' style="display:none">\n                    <div class="note_error_panel note_error_panel_sec" style="display: block;">\n                    <div class="note_normal_tit">应版权方要求，此影片使用DRM技术加密，您的浏览器不支持播放</div>\n                    <span class=\'drm-error-note-mini\'>给您带来不便非常抱歉，您可以</span>\n                     <div class="note_error_item_container">\n                        <div class="note_error_item_list">\n                            <div class="note_error_itembg">\n                                <div class = "note_error_item chrome"></div>\n                            </div>\n                            <div class="note_error_item_title">换个浏览器试试</div>\n                            <div class="note_error_item_desc">推荐chrome浏览器</div>\n                        </div>\n                        <div class="note_error_item_list note_error_item_iku" style="display: none;">\n                            <div class="note_error_itembg note_error_itemyouku">\n                                <div class="note_error_item youku_logo"></div>\n                            </div>\n                            <div class="note_error_item_title">下载<a href=\'javascript:void(0)\' class="note_error_link note_error_download">优酷PC客户端</a>观看</div>\n                            <div class="note_error_item_ad">减免广告</div>\n                        </div>\n                        <div class="note_error_item_list">\n                            <div class="note_error_itembg note_error_itemqrcode">\n                                <div class=\'erweima\' id="erweima" data-spm="dqrcode"></div>\n                            </div>\n                            <div class="note_error_item_title">用手机扫二维码观看</div>\n                            <div class="env" style="color:rgba(255,255,255,0.3);">&nbsp;</div>\n                        </div>\n                    </div>\n                </div>\n        </div>'
                    }
                }]), t
            }(f.Layer);
        t.default = y
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(18),
            r = i(o),
            a = n(2),
            s = i(a),
            l = n(0),
            u = i(l),
            c = n(1),
            d = i(c),
            h = n(4),
            p = i(h),
            f = n(12),
            g = i(f),
            m = n(3),
            y = i(m),
            v = n(5),
            _ = n(8),
            b = n(9),
            E = i(b),
            k = n(11),
            w = i(k),
            S = n(102),
            T = n(26),
            x = n(29),
            A = function (e) {
                function t(e) {
                    (0, u.default)(this, t);
                    var n = (0, p.default)(this, (t.__proto__ || (0, s.default)(t)).call(this, e));
                    return n._titles = ["由于您的浏览器禁用了COOKIE，视频无法正常播放", "抱歉出了点小问题~ 佛系用户请随喜刷新~", "错误这种东西，就算我们做了所有准备，也还是会悄悄跑出来 T_T", "你忘记的，我都记得。无法播放时请猛击刷新~", "只有刷新，才有未来。", "重要的不是什么都拥有，而是你遇到播放错误时，刷新按钮就在手边。", "只要观看不停，我们总会遇见。", "错误难以避免，刷新却可以选择。", "每个人都是生活的导演，此时此刻，刷新一下！", "出了点小状况，小酷正在为您搬运视频..."], n._ctype = 0, n._isFirst = !0, n._panels = [n.find(".note_error_panel_first"), n.find(".note_error_panel_sec"), n.find(".note_error_panel_private"), n.find(".note_error_panel_notice"), n.find(".note_error_panel_login")], n._title = n.find(".note_error_tit"), n._secTitle = n.find(".note_normal_tit_sec"), n._ikuItem = n.find(".note_error_item_iku"), n._noticeTitle = n.find(".note_notice_tit"), n._download = n.find(".note_error_download"), n._youku = n.find(".youku_logo"), n._contact = n.find(".note_error_contact"), n._feedback = n.find(".note_error_feedback"), n._sendlog = n.find(".note_error_sendlog"), n._icon = n.find(".icon_setting"), n._reload = n.find(".note_error_button_refrash"), n._reload2 = n.find(".refrash_button"), n._feedback2 = n.find(".note_error_button_custom"), n._code = n.find(".note_error_code"), n._codeDetail = n.find(".note_error_code_detail"), n._codeExt = n.find(".first .note_error_code_ext"), n._loginCodeExt = n.find(".login .note_error_code_ext"), n._qrcode = n.find(".erweima"), n._login = n.find(".note_error_login"), n.find(".env").innerText = "[" + (0, S.getEnvironment)() + "]", n.hide(), n._addEvent(), n
                }
                return (0, y.default)(t, e), (0, d.default)(t, [{
                    key: "_addEvent",
                    value: function () {
                        this._reload.addEventListener("click", this._errorReloadAction.bind(this), !1), this._reload2.addEventListener("click", this._errorReloadAction.bind(this), !1), this._icon.addEventListener("click", this._iconAction.bind(this), !1), this._youku.addEventListener("click", this._errorDownload.bind(this), !1), this._download.addEventListener("click", this._errorDownload.bind(this), !1), this._sendlog.addEventListener("click", this._errorSendAction.bind(this), !1), this._feedback.addEventListener("click", this._feedbackHandler.bind(this), !1), this._feedback2.addEventListener("click", this._feedbackHandler.bind(this), !1), this._login.addEventListener("click", this._loginHandler.bind(this), !1)
                    }
                }, {
                    key: "initEmit",
                    value: function () {
                        var e = this;
                        this._video.global.on("reset", function () {
                            e._isFirst = !0
                        })
                    }
                }, {
                    key: "formatDate",
                    value: function (e) {
                        var t = new Date,
                            n = {
                                "M+": t.getMonth() + 1,
                                "d+": t.getDate(),
                                "h+": t.getHours(),
                                "m+": t.getMinutes(),
                                "s+": t.getSeconds(),
                                "q+": Math.floor((t.getMonth() + 3) / 3),
                                S: t.getMilliseconds()
                            };
                        /(y+)/.test(e) && (e = e.replace(RegExp.$1, t.getFullYear().toString().substr(4 - RegExp.$1.length)));
                        for (var i in n) new RegExp("(" + i + ")").test(e) && (e = e.replace(RegExp.$1, 1 === RegExp.$1.length ? n[i] : ("00" + n[i]).substr(-RegExp.$1.length, RegExp.$1.length)));
                        return e
                    }
                }, {
                    key: "_feedbackHandler",
                    value: function () {
                        var e = "https://csc.youku.com/feedback-web/alicare?style=190530&dsData=web_in";
                        this.errorCode && (e += "&attemptquery=播放错误码" + this.errorCode);
                        var t = {};
                        t.gmt_create = this.formatDate("yyyy-MM-dd hh:mm:ss"), t.os_version = T.Browser.platform, t.model = "", t.resolution = screen.width + "×" + screen.height, t.browser = T.Browser.name + " " + T.Browser.version, t.app_type = "youku_pcweb", t.utdid = this._cna || "";
                        var n = "";
                        this._ups && this._ups.userData && (n = this._ups.userData.ip), t.client_ip = n, t.vid = this._video.global.mediaData.mediaId, t.url = location.href, t.error_code = this.errorCode, t.from_page = "feedback_playError", e += "&dspara=" + encodeURIComponent((0, r.default)(t)), this._video.ykplayer.openNewTab(e, "_blank"), this._video.ykplayer.sendBusinessLog({
                            event_code: "CLI00004"
                        })
                    }
                }, {
                    key: "_setUploaderLink",
                    value: function () {
                        var e = "";
                        this._video.global && this._video.global.ups && this._video.global.ups.uploaderData && (e = this._video.global.ups.uploaderData.homepage), this._contact.setAttribute("href", e)
                    }
                }, {
                    key: "_setQrCode",
                    value: function () {
                        for (var e = encodeURIComponent("pcsjk_6"), t = "http://v.youku.com/v_show/id_" + this._video.global.mediaData.mediaId + ".html?source_from=" + e, n = this._qrcode.children; n.length > 0;) this._qrcode.removeChild(n[0]);
                        var i = (0, x.generateQRCode4Browser)({
                            code: t,
                            avatar: "//img.alicdn.com/tfs/TB1N1xYXkP2gK0jSZPxXXacQpXa-53-53.svg",
                            padding: 0,
                            width: 82
                        });
                        this._qrcode.appendChild(i)
                    }
                }, {
                    key: "_errorReloadAction",
                    value: function () {
                        this._video.ykplayer.sendBusinessLog({
                            event_code: "CLI00001"
                        }), this._video.ykplayer.reload(), this.hide()
                    }
                }, {
                    key: "_iconAction",
                    value: function () {
                        this._title.innerHTML !== this._titles[0] && this._errorReloadAction()
                    }
                }, {
                    key: "_errorDownload",
                    value: function () {
                        this._video.ykplayer.sendBusinessLog({
                            event_code: "CLI00002"
                        });
                        _.PLAYERSYSTEM.Browser.isMac ? this._video.ykplayer.openNewTab("//iku.youku.com/macinstall/macywebplayererror", "_blank") : this._video.ykplayer.openIku()
                    }
                }, {
                    key: "_errorSendAction",
                    value: function () {
                        this._video.ykplayer.sendBusinessLog({
                            event_code: "CLI00003"
                        }), this._video.ykplayer.sendComLog({
                            degradetype: 3,
                            errortype: 8
                        }), this.find(".note_error_sendlog_success").style.display = "inline-block", this.find(".note_error_sendlog_before").style.display = "none"
                    }
                }, {
                    key: "_loginHandler",
                    value: function () {
                        var e = this;
                        if (this._video.global.config.simpleMode && window.external && "function" == typeof window.external.execute) return void window.external.execute("iku", "iku://|buildin|h5|do-login|play|");
                        window.Xlogin && window.Xlogin.buildLoginDom && window.Xlogin.buildLoginDom(), window.XloginEvent && window.XloginEvent.bind("Xlogin:loginSuccess", function (t) {
                            e.logInCallBack(t)
                        })
                    }
                }, {
                    key: "logInCallBack",
                    value: function () {
                        this._video.ykplayer.reload()
                    }
                }, {
                    key: "show",
                    value: function () {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "10000",
                            t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "error";
                        this.errorCode = e;
                        var n = "0500";
                        this._uid = "", this._psid = "", this._cna = w.default.getCna(), this._ups = {}, this._video && this._video.global && this._video.global.ups && (this._ups = this._video.global.ups, this._psid = this._ups.upsData && this._ups.upsData.psid || "", this._video.global.ups._playlistData.user && (this._video.global.ups._playlistData.user.ytid ? this._uid = this._video.global.ups._playlistData.user.ytid : this._uid = this._video.global.ups._playlistData.user.uid), n = this._video.global.config.ccode ? this._video.global.config.ccode : "0500");
                        var i = Math.round(9 * Math.random());
                        if (0 === i && (i = 9), this._panels.forEach(function (e) {
                            e.style.display = "none"
                        }), this._el.style.display = "block", E.default.hasClass(this._el, "note_error_second") && E.default.removeClass(this._el, "note_error_second"), "error" === t) "10101" === e.toString() ? (this._title.innerHTML = this._titles[0], E.default.removeClass(this._icon, "icon_refrash"), E.default.addClass(this._icon, "icon_setting_cookie"), this._code.innerHTML = "请设置开启COOKIE后刷新页面", this._ctype = 0) : "23605" === e.toString() ? (this._ctype = 4, (this._cna || this._psid || this._uid) && (this._loginCodeExt.innerHTML = this.getUserInfo(this._cna, this._psid, this._uid), this._loginCodeExt.style.display = "block")) : this._isFirst && "23408" !== e.toString() ? ("35618" === e.toString() ? this._title.innerHTML = "视频请求失败！可能是由于Adblock等浏览器插件导致的，建议您尝试关闭后重试。" : this._title.innerHTML = this._titles[i], E.default.removeClass(this._icon, "icon_setting_cookie"), E.default.addClass(this._icon, "icon_refrash"), this._code.innerHTML = "[" + this._video.global.version + "]很抱歉出现播放错误，错误代码：" + n + "-" + e, (this._cna || this._psid || this._uid) && (this._codeExt.innerHTML = this.getUserInfo(this._cna, this._psid, this._uid), this._codeExt.style.display = "block"), this._ctype = 0, this._isFirst = !1, this._video.ykplayer.sendBusinessLog({
                            event_code: "EXP00001"
                        })) : (this._ctype = 1, E.default.addClass(this._el, "note_error_second"), "23408" === e.toString() ? (this._ikuItem.style.display = "none", this._secTitle.innerHTML = "受版权方保护要求，本片暂不支持在此浏览器播放") : (this._ikuItem.style.display = "", this._secTitle.innerHTML = "抱歉，您访问的视频无法播放，您可以尝试以下方式"), this._codeDetail.innerHTML = "[" + this._video.global.version + "]错误代码：" + n + "-" + e, this.find(".note_error_sendlog_success").style.display = "none", this.find(".note_error_sendlog_before").style.display = "block", this._video.ykplayer.sendBusinessLog({
                            event_code: "EXP00002"
                        }), this._setQrCode());
                        else if ("private" === t) this._setUploaderLink(), this._ctype = 2;
                        else if ("notice" === t) {
                            if (e.note)
                                if ("string" == typeof e.note) this._noticeTitle.innerHTML = e.note;
                                else {
                                    for (var o = "", r = 0, a = e.note.length; r < a; r++) o += "<p>" + e.note[r] + "</p>";
                                    this._noticeTitle.innerHTML = o
                                }
                            this._ctype = 3
                        } else "login" === t && (this._ctype = 4);
                        this._panels[this._ctype].style.display = "block"
                    }
                }, {
                    key: "getUserInfo",
                    value: function (e, t, n) {
                        var i = "";
                        return i = t && n ? "uid: " + n + ", cna：" + e + ", psid：" + t : t ? "cna：" + e + ", psid：" + t : n ? "uid: " + n + ", cna：" + e : "cna：" + e, i += " [" + (0, S.getEnvironment)() + "]"
                    }
                }, {
                    key: "hide",
                    value: function () {
                        (0, g.default)(t.prototype.__proto__ || (0, s.default)(t.prototype), "hide", this).call(this)
                    }
                }, {
                    key: "render",
                    value: function () {
                        return '\n            <div class="note_error">\n                <div class="note_error_panel note_error_panel_first first" style="display:block">\n                    <div class="note_error_icon icon_setting"></div>\n                    <div class="note_error_tit">出了点小状况，小酷正在为您搬运视频...</div>\n                    <div class="note_error_code">\n                        很抱歉出现播放错误，错误代码：10000\n                    </div>\n                    <div class="note_error_code_ext" style="display:none;">\n                        cna: ，psid:\n                    </div>\n                    <div class="note_error_buttons" style="width: 80px;">\n                        <div class="note_error_button_refrash">刷新</div>\n                    </div>\n                </div>\n\n                <div class="note_error_panel note_error_panel_sec" style="display:none">\n                    <div class="error_details">\n                        <div class="note_normal_tit note_normal_tit_sec">抱歉，您访问的视频无法播放，您可以尝试以下方式</div>\n                        <div class="note_error_item_container">\n                            <div class="note_error_item_list">\n                                <div class="note_error_itembg">\n                                    <div class = "note_error_item chrome"></div>\n                                </div>\n                                <div class="note_error_item_title">换个浏览器试试</div>\n                                <div class="note_error_item_desc">推荐chrome浏览器</div>\n                            </div>\n                            <div class="note_error_item_list note_error_item_iku">\n                                <div class="note_error_itembg note_error_itemyouku">\n                                    <div class="note_error_item youku_logo"></div>\n                                </div>\n                                <div class="note_error_item_title">下载<a href=\'javascript:void(0)\' class="note_error_link note_error_download">优酷PC客户端</a>观看</div>\n                                <div class="note_error_item_ad">减免广告</div>\n                            </div>\n                            <div class="note_error_item_list">\n                                <div class="note_error_itembg note_error_itemqrcode">\n                                    <div class=\'erweima\' id="erweima" data-spm="dqrcode"></div>\n                                </div>\n                                <div class="note_error_item_title">用手机扫二维码观看</div>\n                                <div class="env" style="color:rgba(255,255,255,0.3);">&nbsp;</div>\n                            </div>\n                        </div>\n                        <div class="note_error_buttons" style="width: 176px;">\n                            <div class="note_error_button_refrash refrash_button">刷新</div>\n                            <div class="note_error_button_custom">找客服</div>\n                        </div>\n                    </div>\n\n                    <div class="error_tips">\n                        <div class="note_error_item_desc note_error_sendlog_before">\n                            您还可以通过<a href=\'javascript:void(0)\' class="note_error_link note_error_sendlog">发送错误日志</a>或<a href=\'javascript:void(0)\' class="note_error_link note_error_feedback">在线反馈</a>来帮助我们定位问题\n                        </div>\n                        <div class="note_error_item_desc note_error_sendlog_success" style="display:none">\n                            错误日志发送成功\n                        </div>\n                        <div class="note_error_item_desc note_error_code_detail">\n                            错误日志发送成功\n                        </div>\n                    </div>\n\n                </div>\n                <div class="note_error_panel note_error_panel_private" style="display:none;">\n                    <div class="note_error_icon icon_private"></div>\n                    <div class="note_normal_tit">该视频被设为私密，观看请联系<a class="note_error_link note_error_contact" href="//i.youku.com/u/UNTQyNzE0MTQ4" target="_blank">上传者</a></div>\n                </div>\n\n                <div class="note_error_panel note_error_panel_notice" style="display:none;">\n                    <div class="note_error_icon icon_note_notice"></div>\n                    <div class="note_notice_tit" >节目出错啦，请稍后重试</div>\n                </div>\n\n                <div class="note_error_panel note_error_panel_login login" style="display:none;">\n                    <div class="note_error_icon icon_note_notice"></div>\n                    <div class="note_error_item_title" style="font-size:18px;">由于安全原因，请<a href=\'javascript:void(0)\' class="note_error_link note_error_login">登录</a>后继续观看</div>\n                    <div class="note_error_code_ext" style="display:none;">\n                        cna: ，psid:\n                    </div>\n                    </div>\n            </div>'
                    }
                }]), t
            }(v.Layer);
        t.default = A
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(2),
            r = i(o),
            a = n(0),
            s = i(a),
            l = n(1),
            u = i(l),
            c = n(4),
            d = i(c),
            h = n(3),
            p = i(h),
            f = n(5),
            g = n(217),
            m = i(g),
            y = n(220),
            v = i(y),
            _ = n(105),
            b = i(_),
            E = n(223),
            k = i(E),
            w = n(222),
            S = i(w),
            T = n(104),
            x = i(T),
            A = n(218),
            D = i(A),
            L = n(219),
            C = i(L),
            M = n(224),
            I = i(M),
            R = function (e) {
                function t(e) {
                    (0, s.default)(this, t);
                    var n = (0, d.default)(this, (t.__proto__ || (0, r.default)(t)).call(this, e));
                    n._global = e.global;
                    for (var i = 0, o = n._children.length; i < o; i++) n._children[i]._video.global = n._global, n._children[i]._video.ykplayer = e.player, n._children[i].showLoading = function () {
                        n.showLoading()
                    }, n._children[i].initEmit && n._children[i].initEmit();
                    return n._global.on("notesupport", function (e) {
                        "notesupport" === e.type && n.showNoSupport()
                    }), n.curShowIndex = -1, n._background = n.find(".preplay-background"), n
                }
                return (0, p.default)(t, e), (0, u.default)(t, [{
                    key: "children",
                    value: function () {
                        return {
                            PreloadingLayer: m.default,
                            ErrorLayer: v.default,
                            SubscribeLayer: b.default,
                            PasswordLayer: k.default,
                            InnerVipLayer: x.default,
                            NotSupportLayer: S.default,
                            CurrentLimitLayer: D.default,
                            DrmErrorNoteLayer: C.default,
                            SufeiLayer: I.default
                        }
                    }
                }, {
                    key: "hideCurrent",
                    value: function () {
                        this.curShowIndex >= 0 && this.curShowIndex < this._children.length && this._children[this.curShowIndex].hide()
                    }
                }, {
                    key: "show",
                    value: function () {
                        this._el.style.display = "block", this._background.style.display = "none", this._global.ups && this._global.ups.showData && this._global.ups.showData.show_thumburl_big_jpg && (this._background.src = this._global.ups.showData.show_thumburl_big_jpg, this._background.style.display = "block")
                    }
                }, {
                    key: "hide",
                    value: function () {
                        this._el.style.display = "none"
                    }
                }, {
                    key: "showErrorMsg",
                    value: function (e, t) {
                        this.hideLoading(), this.show(), this.hideCurrent(), this._children[1].show(e, t), this.curShowIndex = 1
                    }
                }, {
                    key: "hideErrorMsg",
                    value: function () {
                        this.hide(), this._children[1].hide()
                    }
                }, {
                    key: "showLoading",
                    value: function () {
                        this.show(), this.hideCurrent(), this._children[0].show(), this.curShowIndex = 0
                    }
                }, {
                    key: "hideLoading",
                    value: function () {
                        this.hide(), this._children[0].hide()
                    }
                }, {
                    key: "showPassword",
                    value: function () {
                        this.show(), this.hideCurrent(), this._children[3].show(), this.curShowIndex = 3
                    }
                }, {
                    key: "hidePassword",
                    value: function () {
                        this.hide(), this._children[3].hide()
                    }
                }, {
                    key: "showVipLayer",
                    value: function () {
                        this.show(), this.hideCurrent(), this._children[4].showPop(this.global), this.curShowIndex = 4
                    }
                }, {
                    key: "hideVipLayer",
                    value: function () {
                        this.hide(), this._children[4].hide()
                    }
                }, {
                    key: "showSubscribeLayer",
                    value: function () {
                        this.show(), this.hideCurrent(), this._children[2].show(), this.curShowIndex = 2
                    }
                }, {
                    key: "hideSubscribeLayer",
                    value: function () {
                        this.hide(), this._children[2].hide()
                    }
                }, {
                    key: "showNoSupport",
                    value: function () {
                        this.show(), this.hideCurrent(), this._children[5].show(), this.curShowIndex = 5
                    }
                }, {
                    key: "hideNoSupport",
                    value: function () {
                        this.hide(), this._children[5].hide()
                    }
                }, {
                    key: "showCurrentLimit",
                    value: function (e) {
                        this.show(), this.hideCurrent(), this._children[6].show(e), this.curShowIndex = 6
                    }
                }, {
                    key: "showDrmErrorNoteLayer",
                    value: function (e) {
                        this.show(), this.hideCurrent(), this._children[7].show(e), this.curShowIndex = 7
                    }
                }, {
                    key: "hideDrmErrorNoteLayer",
                    value: function () {
                        this.hide(), this._children[7].hide()
                    }
                }, {
                    key: "hideCurrentLimit",
                    value: function () {
                        this.hide(), this._children[6].hide()
                    }
                }, {
                    key: "showSufei",
                    value: function () {
                        this.show(), this._children[8].show(), this.curShowIndex = 8
                    }
                }, {
                    key: "hideSufei",
                    value: function () {
                        this.hide(), this._children[8].hide()
                    }
                }, {
                    key: "render",
                    value: function () {
                        return '\n          <div class="preplay-layer">\n            <img class="preplay-background" src=""/>\n          </div>\n        '
                    }
                }]), t
            }(f.Layer);
        t.default = R
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(2),
            r = i(o),
            a = n(0),
            s = i(a),
            l = n(1),
            u = i(l),
            c = n(4),
            d = i(c),
            h = n(3),
            p = i(h),
            f = n(5),
            g = n(29),
            m = function (e) {
                function t(e) {
                    (0, s.default)(this, t);
                    var n = (0, d.default)(this, (t.__proto__ || (0, r.default)(t)).call(this, e));
                    return n._qrcode = n.find(".erweima"), n
                }
                return (0, p.default)(t, e), (0, u.default)(t, [{
                    key: "initInfo",
                    value: function (e) {
                        if (e.reason && (this.find(".warn-reason").innerHtml = e.reason), e.txt && (this.find(".warn-txt").innerHtml = e.txt), this._setQrCode(), this.ifEvent) return !1;
                        this.addEvent()
                    }
                }, {
                    key: "_setQrCode",
                    value: function () {
                        for (var e = encodeURIComponent("pcsjk_7"), t = "http://v.youku.com/v_show/id_" + this._video.global.mediaData.mediaId + ".html?source_from=" + e, n = this._qrcode.children; n.length > 0;) this._qrcode.removeChild(n[0]);
                        var i = (0, g.generateQRCode4Browser)({
                            code: t,
                            avatar: "//img.alicdn.com/tfs/TB1N1xYXkP2gK0jSZPxXXacQpXa-53-53.svg",
                            padding: 0,
                            width: 100
                        });
                        this._qrcode.appendChild(i)
                    }
                }, {
                    key: "addEvent",
                    value: function () {
                        var e = this;
                        this.ifEvent = !0, this.openIkuIcon = this.find(".openiku"), this.openIkuIcon.addEventListener("click", function () {
                            e._video.ykplayer.sendBusinessLog({
                                event_code: "CLI00005"
                            }), e._video.ykplayer.openIku()
                        })
                    }
                }, {
                    key: "show",
                    value: function () {
                        var e = {
                            reason: "很抱歉，由于您的浏览器版本太低",
                            txt: "暂时无法播放"
                        };
                        this.initInfo(e), this._el.style.display = "block"
                    }
                }, {
                    key: "hide",
                    value: function () {
                        this._el.style.display = "none"
                    }
                }, {
                    key: "render",
                    value: function () {
                        return "<div class='not-support-layer'>\n           <div class='left-info-layer'>\n              <div class='warn-img'><i></i></div>\n              <div class='warn-reason'>很抱歉，由于您的浏览器版本太低</div>\n              <div class='warn-txt'>暂时无法观看</div>\n           </div>\n           <div class='right-info-layer'>\n              <div class='right-info-content'>\n                <div class='note-txt'>您可以选择一下任意方式继续观看</div>\n                <ul>\n                    <li class='type-txt'>1、换个浏览器试试(建议使用chrome浏览器)</li>\n                    <li class='type-txt'>2、下载<a href='javascript:void(0)' class='openiku'>优酷PC客户端</a>继续观看<i class='note-bubble'></i></li>\n                    <li class='type-txt'>3、使用手机扫码观看</li>\n                    <li class='type-txt'>\n                        <div class='erweima' id=\"erweima\" data-spm=\"dqrcode\"></div>\n                    </li>\n                </ul>\n              </div>\n           </div>\n        </div>"
                    }
                }]), t
            }(f.Layer);
        t.default = m
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(2),
            r = i(o),
            a = n(0),
            s = i(a),
            l = n(1),
            u = i(l),
            c = n(4),
            d = i(c),
            h = n(3),
            p = i(h),
            f = n(5),
            g = n(6),
            m = "密码错误，请重新输入",
            y = function (e) {
                function t(e) {
                    (0, s.default)(this, t);
                    var n = (0, d.default)(this, (t.__proto__ || (0, r.default)(t)).call(this, e));
                    return n._title = n.find(".note_title"), n._submitBtn = n.find(".note_submit"), n._passwordTxt = n.find(".note_password"), n._errorTips = n.find(".note_tips"), n._input = "", n._addEvent(), n.hide(), n
                }
                return (0, p.default)(t, e), (0, u.default)(t, [{
                    key: "show",
                    value: function () {
                        this._el.style.display = "block", this._video.global.ups && (this._playlistData = this._video.global.ups, -2003 === this._playlistData.errorData.code && (this._title.innerHTML = "" + m, this._passwordTxt.value = ""))
                    }
                }, {
                    key: "_addEvent",
                    value: function () {
                        this._submitBtn.addEventListener("click", this._submitPassword.bind(this), !1)
                    }
                }, {
                    key: "_submitPassword",
                    value: function () {
                        var e = this._passwordTxt.value;
                        return "" === e ? void(this._errorTips.innerHTML = m) : this._input === e && "检验超时，请稍后再试" !== this._errorTips.innerHTML ? void(this._errorTips.innerHTML === m && (this._errorTips.innerHTML = "")) : (this._input = e, this._video.global.initConfig.inputPassword = (0, g.htmlEncodeAll)(this._input), this.hide(), this.showLoading(), this._errorTips.innerHTML = "验证中..", this._checking = !0, void this._video.ykplayer.reload())
                    }
                }, {
                    key: "_focusIn",
                    value: function () {
                        this._errorTips.innerHTML === m && (this._errorTips.innerHTML = "")
                    }
                }, {
                    key: "render",
                    value: function () {
                        return "\n            <div class='note_info'>\n                <div class='note_panel'>\n                    <div class='note_title'>\n                        尊敬的用户您好，该视频需要<div class='note_type'>密码</div>观看\n                    </div>\n                    <div class='note_option'>\n                        <input class='note_password' type='text' >\n                        <div class='note_submit'>确定</div>\n                    </div>\n                    <div class='note_tips note_type'></div>\n                </div>\n            </div>\n        "
                    }
                }]), t
            }(f.Layer);
        t.default = y
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(2),
            r = i(o),
            a = n(0),
            s = i(a),
            l = n(1),
            u = i(l),
            c = n(4),
            d = i(c),
            h = n(3),
            p = i(h),
            f = n(5),
            g = function (e) {
                function t(e) {
                    (0, s.default)(this, t);
                    var n = (0, d.default)(this, (t.__proto__ || (0, r.default)(t)).call(this, e));
                    return window.sufei.dialogWrapper = n._el, n
                }
                return (0, p.default)(t, e), (0, u.default)(t, [{
                    key: "render",
                    value: function () {
                        return '<div class="sufei-note-layer"></div>'
                    }
                }]), t
            }(f.Layer);
        t.default = g
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(2),
            r = i(o),
            a = n(0),
            s = i(a),
            l = n(1),
            u = i(l),
            c = n(4),
            d = i(c),
            h = n(3),
            p = i(h),
            f = n(5),
            g = n(9),
            m = i(g),
            y = "",
            v = function (e) {
                function t(e) {
                    (0, s.default)(this, t);
                    var n = (0, d.default)(this, (t.__proto__ || (0, r.default)(t)).call(this, e));
                    if (!e.preview || !e.preview.thumb && !e.preview.thumb_hd) return (0, d.default)(n);
                    n.parents = n._parent.parentNode, n.previewInfo = e.data || e.preview, n.highlights = e.highlights || [], n.dots = e.dot || [], n.cover = n.find(".cover"), n.videoInfo = n.find(".videoInfo"), n.thumbPic = n.find(".thumbPic"), n.tips = n.find(".preview-tips"), n.dashboard = document.querySelector(".h5player-dashboard"), n.totalDuration = 1e3 * n.previewInfo.duration || 1e3 * e.duration, n.progressBar = n.parents.querySelector(".progress-container");
                    for (var i = n.parents.querySelectorAll(".progress-hightlights-tips"), o = 0; o < i.length; o++) i[o].parentNode.removeChild(i[o]);
                    return n.totalDuration > 0 && n.previewInfo && n.bind(), n._video.on("ended", function () {
                        n.setPreviewHide(), n.isEnd = !0
                    }), n._video.on("play", function (e) {
                        n.isEnd && n.totalDuration > 0 && n.previewInfo && n.setPreviewShow(e), n.isEnd = !1
                    }), n
                }
                return (0, p.default)(t, e), (0, u.default)(t, [{
                    key: "bind",
                    value: function () {
                        var e = this;
                        this.progressBar.addEventListener("mouseover", this.setPreviewShow.bind(this)), this.progressBar.addEventListener("mouseout", this.setPreviewHide.bind(this)), this._el.addEventListener("mouseover", function () {
                            "block" === e._el.style.display && (clearTimeout(y), e.dashboard.classList.add("showboard"))
                        }), this._el.addEventListener("mouseout", this.setPreviewHide.bind(this)), this.cover.addEventListener("click", this.skipVideo.bind(this))
                    }
                }, {
                    key: "skipVideo",
                    value: function () {
                        var e = (this.currentIndex + 1) * this.previewInfo.timespan / 1e3;
                        this.cover.style.display = "none", e >= this.totalDuration ? this._video.seek(this.totalDuration) : this._video.seek(e)
                    }
                }, {
                    key: "initPreview",
                    value: function () {
                        var e = [],
                            t = "";
                        if (this.previewInfo.thumb_hd ? (t = "hd", e = this.previewInfo.thumb_hd, this.imageWidth = 183, this.imageHeight = 103) : (t = "normal", e = this.previewInfo.thumb, this.imageWidth = 128, this.imageHeight = 72), this._el.style.width = this.imageWidth + "px", this.cover.style.height = this.imageHeight + "px", this.cover.style.width = this.imageWidth + "px", e.length > 0 && this.initImageElement("playImage", e), this.dots && this.dots.length > 0)
                            for (var n = 0; n < this.dots.length; n++) "hd" === t ? this.initImageElement("adImage" + n, this.dots[n].thumb_hd) : this.initImageElement("adImage" + n, this.dots[n].thumb)
                    }
                }, {
                    key: "initImageElement",
                    value: function (e, t) {
                        var n = this;
                        if (t && 0 !== t.length)
                            for (var i = 0; i < t.length; i++)! function (i) {
                                var o = new Image;
                                o.src = t[i], o.onload = function () {
                                    var o = document.createElement("div");
                                    o.className = "youku-imgBg dn", o.style.height = n.imageHeight + "px", o.style.width = n.imageWidth + "px", o.style.backgroundImage = "url(" + t[i] + ")", o.style.backgroundSize = 10 * n.imageWidth + "px " + 10 * n.imageHeight + "px", o.setAttribute("id", "preview-" + e + "-" + i), n.thumbPic.appendChild(o)
                                }
                            }(i)
                    }
                }, {
                    key: "setPreviewShow",
                    value: function (e) {
                        this.isEnd || (clearTimeout(y), this._el.style.display = "block", this.progressBarWidth = this.progressBar.clientWidth, this.progressBarLeft = this.getElAbsolute(this.parents.querySelector(".h5player-progress")).left, this.progressMaxWidth = this.progressBarWidth + this.progressBarLeft, this.hoverMove(e), this.isFrist = !0, this.progressBar.addEventListener("mousemove", this.hoverMove.bind(this)))
                    }
                }, {
                    key: "hoverMove",
                    value: function (e) {
                        var t = this;
                        if (this.isFrist) {
                            setTimeout(function () {
                                t.isFrist = !0
                            }, 100), this.isFrist = !1;
                            var n = e.clientX;
                            (n < this.progressBarLeft || n > this.progressMaxWidth) && (this._el.style.display = "none");
                            var i = n - this.progressBarLeft;
                            this.currentTime = Math.floor(this.totalDuration * (i / this.progressBarWidth) / 1e3);
                            var o = this.formatFill(parseInt(this.currentTime % 86400 / 3600)),
                                r = this.formatFill(parseInt(this.currentTime % 3600 / 60)),
                                a = this.formatFill(this.currentTime % 60);
                            this.videoInfo.innerHTML = "00" === o ? this.htmlEncodeAll(r + ":" + a) : this.htmlEncodeAll(o + ":" + r + ":" + a), this.cover.style.display = "block";
                            var s = i - this.imageWidth / 2;
                            s < 0 && (s = 0), s > this.progressBarWidth - this.imageWidth && (s = this.progressBarWidth - this.imageWidth), this._el.style.left = s + "px";
                            var l = this.isHasAd(this.currentTime);
                            if (l.flag) this.setImageShow("adImage" + l.index, this.currentTime - this.dots[l.index].start, l.index);
                            else {
                                var u = this.getActTime(this.currentTime);
                                this.setImageShow("playImage", u)
                            }
                        }
                    }
                }, {
                    key: "getActTime",
                    value: function (e) {
                        var t = e;
                        if (this.dots.length > 0) {
                            var n = this.dots.length;
                            if (e < this.dots[0].start) t = e;
                            else if (e > this.dots[n - 1].end) {
                                var i = this.dots[n - 1];
                                t = e - i.accTime - i.seconds
                            } else
                                for (var o = 0; o < n - 1; o++) {
                                    if (e >= this.dots[o].start && e <= this.dots[o].end) {
                                        t = e - (e - this.dots[o].start) - this.dots[o].accTime;
                                        break
                                    }
                                    if (e > this.dots[o].end && e < this.dots[o + 1].start) {
                                        t = e - this.dots[o].accTime - this.dots[o].seconds;
                                        break
                                    }
                                }
                        }
                        return t
                    }
                }, {
                    key: "setImageShow",
                    value: function (e, t) {
                        for (var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0, i = this._el.querySelectorAll(".youku-imgBg"), o = 0; o < i.length; ++o) m.default.hasClass(i[o], "dn") || m.default.addClass(i[o], "dn");
                        if (this.tips.style.display = "none", this.totalDuration > this.currentTime) {
                            var r = "playImage" === e ? this.previewInfo.timespan : this.dots[n].timespan;
                            r || (r = 6e3), this.currentIndex = Math.floor(t / parseInt(r / 1e3));
                            var a = this.currentIndex % 10,
                                s = Math.floor(this.currentIndex / 10),
                                l = this.find("#preview-" + e + "-" + Math.floor(this.currentIndex / 100));
                            l && (l.style.backgroundPosition = -this.imageWidth * a + "px " + -this.imageHeight * s + "px", m.default.removeClass(l, "dn"));
                            var u = this.getPoint(this.currentIndex);
                            u > -1 && this.highlights[u].tips && (this.tips.style.display = "block", this.tips.innerHTML = this.highlights[u].tips)
                        }
                    }
                }, {
                    key: "getPoint",
                    value: function (e) {
                        for (var t = 0; t < this.highlights.length; t++)
                            if ((1e3 * this.highlights[t].time > e * this.previewInfo.timespan || 1e3 * this.highlights[t].time == e * this.previewInfo.timespan) && (1e3 * this.highlights[t].time < (e + 1) * this.previewInfo.timespan || 1e3 * this.highlights[t].time == (e + 1) * this.previewInfo.timespan)) return t;
                        return -1
                    }
                }, {
                    key: "setPreviewHide",
                    value: function () {
                        var e = this;
                        clearTimeout(y), this.dashboard.classList.remove("showboard"), y = setTimeout(function () {
                            e.cover.style.display = "none", e._el.style.display = "none"
                        }, 300)
                    }
                }, {
                    key: "isHasAd",
                    value: function (e) {
                        var t = {};
                        return this.dots.forEach(function (n, i) {
                            e > n.start + n.accTime - 1 && e < n.end + n.accTime + 1 && (t.flag = !0, t.index = i)
                        }), t
                    }
                }, {
                    key: "htmlEncodeAll",
                    value: function (e) {
                        return null === e ? "" : e.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&apos;")
                    }
                }, {
                    key: "formatFill",
                    value: function (e) {
                        return e < 10 ? "0" + e : e
                    }
                }, {
                    key: "getElAbsolute",
                    value: function (e) {
                        var t = e.offsetLeft;
                        for (e = e.offsetParent; e;) t += e.offsetLeft, e = e.offsetParent;
                        return {
                            left: t
                        }
                    }
                }, {
                    key: "render",
                    value: function () {
                        return '\n            <div class="single-preview">\n                <div class="thumbPic"></div>\n                <div class="cover">\n                    <span class="videoInfo"></span>\n                </div>\n                <div class="preview-tips">测试测试测试测试测试测试测试测试测试</div>\n            </div>'
                    }
                }]), t
            }(f.Layer);
        t.default = v
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(2),
            r = i(o),
            a = n(0),
            s = i(a),
            l = n(1),
            u = i(l),
            c = n(4),
            d = i(c),
            h = n(3),
            p = i(h),
            f = n(5),
            g = function (e) {
                function t(e) {
                    (0, s.default)(this, t);
                    var n = (0, d.default)(this, (t.__proto__ || (0, r.default)(t)).call(this, e));
                    return n.showInfo = function (e) {
                        if (n._video.ykplayer.sendComLog({
                            degradetype: 5,
                            errortype: 1
                        }), !e || navigator.userAgent.indexOf("Chrome") < 0 && navigator.userAgent.indexOf("Safari") > -1) {
                            n.find(".tips").style.display = "block"
                        }
                        n.show(), n.showPoster(), n._video.ykplayer.disableUI()
                    }, n._video.ykplayer.on("safariAboart", n.showInfo), n._video.ykplayer.on("notAllowedError", n.showInfo), n.on("play", function () {
                        n.hidePoster(), n.hide(), n._video.ykplayer.enableUI()
                    }), n.bind(".js-play-icon", "click", function () {
                        n._video.ykplayer.play(), n.hide(), n.hidePoster()
                    }), n._video.global.config.autoplay || n.showInfo(!0), n
                }
                return (0, p.default)(t, e), (0, u.default)(t, [{
                    key: "showPoster",
                    value: function () {
                        var e = this._el.parentElement.getElementsByClassName("ykplayer-poster-logo");
                        e && e.length > 0 && (e[0].style.display = "block")
                    }
                }, {
                    key: "hidePoster",
                    value: function () {
                        var e = this._el.parentElement.getElementsByClassName("ykplayer-poster-logo");
                        e && e.length > 0 && (e[0].style.display = "none")
                    }
                }, {
                    key: "destroy",
                    value: function () {
                        this._video.ykplayer.fire("safariAboart", this.showInfo), this._video.ykplayer.fire("notAllowedError", this.showInfo)
                    }
                }, {
                    key: "render",
                    value: function () {
                        return '\n          <div class="preloading-layer safari-player-layer" style="display:none;">\n              <div class="play-area">\n                                <button class="play-btn js-play-icon">播 放</button>\n                <div class="tips" style="display:none;">由于您的浏览器设置，视频无法自动播放。<br/> 调整设置项后视频方可正常播放。<a href="//h5.m.youku.com//ju/safari11guide.html" data-val="safariguide" target="_black" class="information-tip-link">查看设置向导</a></div>\n              </div>\n          </div>\n        '
                    }
                }]), t
            }(f.Layer);
        t.default = g
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(2),
            r = i(o),
            a = n(0),
            s = i(a),
            l = n(1),
            u = i(l),
            c = n(4),
            d = i(c),
            h = n(12),
            p = i(h),
            f = n(3),
            g = i(f),
            m = n(5),
            y = n(9),
            v = i(y),
            _ = function (e) {
                function t(e) {
                    (0, s.default)(this, t);
                    var n = (0, d.default)(this, (t.__proto__ || (0, r.default)(t)).call(this, e));
                    return n._global = e.global, n._player = e.player, n._isShowDashboard = !1, n.isShow = !1, n.dashboardStateChange = function (e) {
                        if (n._isShowDashboard = !e, n.isfullScreen) try {
                            e ? n.hide() : n.show()
                        } catch (e) {
                            console.error(e)
                        }
                    }, n.bind("mouseover", function () {
                        n._player.holdDashboard(), v.default.hasClass(n._el, "active") || v.default.addClass(n._el, "active")
                    }), n.bind("mouseout", function () {
                        n._player.releaseDashboard(), v.default.hasClass(n._el, "active") || v.default.removeClass(n._el, "active")
                    }), n.fullscreenChange = function (e) {
                        n.isfullScreen = e, n._global.initConfig.enableFullscreenScroll && (e ? (window.addEventListener("scroll", n.onscroll), n.show()) : (window.removeEventListener("scroll", n.onscroll), n.hide()))
                    }, n.onscroll = function () {
                        if (n._isShowDashboard && n.isfullScreen && n._global.initConfig.enableFullscreenScroll) {
                            (document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) < 10 ? n.show() : n.hide()
                        }
                    }, n.bind("click", function () {
                        n.scrollSmoothTo(160)
                    }), n._player.on("fullscreen", n.fullscreenChange), n._player.on("dashboardStateChange", n.dashboardStateChange), n
                }
                return (0, g.default)(t, e), (0, u.default)(t, [{
                    key: "show",
                    value: function () {
                        this._isShowDashboard && this.isfullScreen && !this.isShow && this._global.initConfig.enableFullscreenScroll && (this._player.getBulletStatus() && (this._el.style.bottom = "70px"), this.isShow = !0, this._el.style.display = "inline-block")
                    }
                }, {
                    key: "hide",
                    value: function () {
                        this.isShow = !1, this._el.style.display = "none"
                    }
                }, {
                    key: "scrollSmoothTo",
                    value: function (e) {
                        window.requestAnimationFrame || (window.requestAnimationFrame = function (e) {
                            return setTimeout(e, 60)
                        }), document.body.style.overflowY = "overlay", "overlay" !== document.body.style.overflowY && (document.body.style.overflowY = "auto"), document.body.style.overflowX = "hidden";
                        var t = document.documentElement.scrollTop || document.body.scrollTop;
                        ! function n() {
                            var i = e - t;
                            t += i / 5, Math.abs(i) < 1 ? window.scrollTo(0, e) : (window.scrollTo(0, t), requestAnimationFrame(n))
                        }()
                    }
                }, {
                    key: "destroy",
                    value: function () {
                        this._player.fire("fullscreen", this.fullscreenChange), this._player.fire("dashboardStateChange", this.dashboardStateChange), (0, p.default)(t.prototype.__proto__ || (0, r.default)(t.prototype), "destroy", this).call(this)
                    }
                }, {
                    key: "render",
                    value: function () {
                        debugger;
                        return '\n            <div class="control-icon  control-scroll-info" style=\'display:none;\'>\n                <span >滚动浏览更多</span>\n                <span class="icon iconfont to-down-icon-gray"></span>\n                <span class="icon iconfont to-down-icon-white"></span>\n            </div>\n        '
                    }
                }]), t
            }(m.Layer);
        t.default = _
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(36),
            r = i(o),
            a = n(2),
            s = i(a),
            l = n(0),
            u = i(l),
            c = n(1),
            d = i(c),
            h = n(4),
            p = i(h),
            f = n(3),
            g = i(f),
            m = n(5),
            y = n(64),
            v = n(9),
            _ = i(v),
            b = n(6),
            E = "",
            k = function (e) {
                function t(e) {
                    (0, u.default)(this, t);
                    var n = (0, p.default)(this, (t.__proto__ || (0, s.default)(t)).call(this, e));
                    return n.list = n.find(".list"), n.currentVid = n._video.global._mediaData.mediaId, n.currentTit = n._video.global._mediaData.title, n.renderList(), n.on("seriesliseLayer", function (e) {
                        e ? n.showLayer() : n.hide()
                    }), n
                }
                return (0, g.default)(t, e), (0, d.default)(t, [{
                    key: "renderList",
                    value: function () {
                        var e = "",
                            t = this._video.global.programList && this._video.global.programList.videoList ? this._video.global.programList.videoList : [],
                            n = !0,
                            i = !1,
                            o = void 0;
                        try {
                            for (var a, s = (0, r.default)(t); !(n = (a = s.next()).done); n = !0) {
                                var l = a.value;
                                l.encodevid === this.currentVid ? e += '<p class="item cur" data-vid="' + l.encodevid + '">' : e += '<p class="item" data-vid="' + l.encodevid + '">', l.seq ? e += "<span>" + l.seq + "</span>" + (0, b.htmlEncodeAll)(l.title || "") + "</p>" : e += (0, b.htmlEncodeAll)(l.title || "") + "</p>"
                            }
                        } catch (e) {
                            i = !0, o = e
                        } finally {
                            try {
                                !n && s.return && s.return()
                            } finally {
                                if (i) throw o
                            }
                        }
                        this.list.innerHTML = e, this._seriesBind()
                    }
                }, {
                    key: "_seriesBind",
                    value: function () {
                        this.bind(".item", "click", this.chooseVideo.bind(this)), this._el.addEventListener("mouseout", this.hide.bind(this)), this._el.addEventListener("mouseover", this.showLayer.bind(this))
                    }
                }, {
                    key: "chooseVideo",
                    value: function (e) {
                        var t = e.target,
                            n = t.getAttribute("data-vid");
                        this._video.global.emit(y.MessageConfig.uimessage, {
                            type: "resetVid",
                            data: {
                                vid: n
                            }
                        }), this.hide()
                    }
                }, {
                    key: "showLayer",
                    value: function () {
                        clearTimeout(E), this._el.style.display = "block"
                    }
                }, {
                    key: "hide",
                    value: function () {
                        var e = this;
                        clearTimeout(E), E = setTimeout(function () {
                            e._el.style.display = "none", _.default.removeClass(document.querySelector("#controlSeries"), "clicked")
                        }, 300)
                    }
                }, {
                    key: "render",
                    value: function () {
                        return '<div class="seriesList" id ="seriesList" style="display:none;">\n                <div class="list"></div>\n                </div>'
                    }
                }]), t
            }(m.Layer);
        t.default = k
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(2),
            r = i(o),
            a = n(0),
            s = i(a),
            l = n(1),
            u = i(l),
            c = n(4),
            d = i(c),
            h = n(3),
            p = i(h),
            f = n(5),
            g = function (e) {
                function t(e) {
                    return (0, s.default)(this, t), (0, d.default)(this, (t.__proto__ || (0, r.default)(t)).call(this, e))
                }
                return (0, p.default)(t, e), (0, u.default)(t, [{
                    key: "render",
                    value: function () {
                        return '<div class="subtitle-container"></div>'
                    }
                }]), t
            }(f.Layer);
        t.default = g
    },
    function (e, t, n) {
        "use strict";

        function i(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(18),
            r = i(o),
            a = n(2),
            s = i(a),
            l = n(4),
            u = i(l),
            c = n(3),
            d = i(c),
            h = n(0),
            p = i(h),
            f = n(1),
            g = i(f),
            m = n(5),
            y = n(6),
            v = n(238),
            _ = i(v),
            b = function () {
                function e() {
                    (0, p.default)(this, e), this._timeout = null
                }
                return (0, g.default)(e, [{
                    key: "set",
                    value: function (e) {
                        var t = this;
                        t.clear(), t._timeout = window.setTimeout(e, 300)
                    }
                }, {
                    key: "clear",
                    value: function () {
                        var e = this;
                        e._timeout && window.clearTimeout(e._timeout)
                    }
                }]), e
            }(),
            E = function (e) {
                function t(e) {  
                    return e
                }
                return (0, d.default)(t, e), (0, g.default)(t, []), t
            }(m.Layer);
        t.default = E
    },
    function (e, t, n) {
        e.exports = {
            default: n(245),
            __esModule: !0
        }
    },
    function (e, t, n) {
        e.exports = {
            default: n(246),
            __esModule: !0
        }
    },
    function (e, t, n) {
        e.exports = {
            default: n(248),
            __esModule: !0
        }
    },
    function (e, t, n) {
        e.exports = {
            default: n(251),
            __esModule: !0
        }
    },
    function (e, t, n) {
        e.exports = {
            default: n(253),
            __esModule: !0
        }
    },
    function (e, t, n) {
        e.exports = {
            default: n(254),
            __esModule: !0
        }
    },
    function (e, t, n) {
        var i, o, r;
        ! function (a, s) {
            o = [e, n(310)], i = s, void 0 !== (r = "function" == typeof i ? i.apply(t, o) : i) && (e.exports = r)
        }(0, function (e, t) {
            "use strict";

            function n(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }
            var i = function (e) {
                    return e && e.__esModule ? e : {
                        default: e
                    }
                }(t),
                o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                    return typeof e
                } : function (e) {
                    return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                },
                r = function () {
                    function e(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var i = t[n];
                            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
                        }
                    }
                    return function (t, n, i) {
                        return n && e(t.prototype, n), i && e(t, i), t
                    }
                }(),
                a = function () {
                    function e(t) {
                        n(this, e), this.resolveOptions(t), this.initSelection()
                    }
                    return r(e, [{
                        key: "resolveOptions",
                        value: function () {
                            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                            this.action = e.action, this.container = e.container, this.emitter = e.emitter, this.target = e.target, this.text = e.text, this.trigger = e.trigger, this.selectedText = ""
                        }
                    }, {
                        key: "initSelection",
                        value: function () {
                            this.text ? this.selectFake() : this.target && this.selectTarget()
                        }
                    }, {
                        key: "selectFake",
                        value: function () {
                            var e = this,
                                t = "rtl" == document.documentElement.getAttribute("dir");
                            this.removeFake(), this.fakeHandlerCallback = function () {
                                return e.removeFake()
                            }, this.fakeHandler = this.container.addEventListener("click", this.fakeHandlerCallback) || !0, this.fakeElem = document.createElement("textarea"), this.fakeElem.style.fontSize = "12pt", this.fakeElem.style.border = "0", this.fakeElem.style.padding = "0", this.fakeElem.style.margin = "0", this.fakeElem.style.position = "absolute", this.fakeElem.style[t ? "right" : "left"] = "-9999px";
                            var n = window.pageYOffset || document.documentElement.scrollTop;
                            this.fakeElem.style.top = n + "px", this.fakeElem.setAttribute("readonly", ""), this.fakeElem.value = this.text, this.container.appendChild(this.fakeElem), this.selectedText = (0, i.default)(this.fakeElem), this.copyText()
                        }
                    }, {
                        key: "removeFake",
                        value: function () {
                            this.fakeHandler && (this.container.removeEventListener("click", this.fakeHandlerCallback), this.fakeHandler = null, this.fakeHandlerCallback = null), this.fakeElem && (this.container.removeChild(this.fakeElem), this.fakeElem = null)
                        }
                    }, {
                        key: "selectTarget",
                        value: function () {
                            this.selectedText = (0, i.default)(this.target), this.copyText()
                        }
                    }, {
                        key: "copyText",
                        value: function () {
                            var e = void 0;
                            try {
                                e = document.execCommand(this.action)
                            } catch (t) {
                                e = !1
                            }
                            this.handleResult(e)
                        }
                    }, {
                        key: "handleResult",
                        value: function (e) {
                            this.emitter.emit(e ? "success" : "error", {
                                action: this.action,
                                text: this.selectedText,
                                trigger: this.trigger,
                                clearSelection: this.clearSelection.bind(this)
                            })
                        }
                    }, {
                        key: "clearSelection",
                        value: function () {
                            this.trigger && this.trigger.focus(), window.getSelection().removeAllRanges()
                        }
                    }, {
                        key: "destroy",
                        value: function () {
                            this.removeFake()
                        }
                    }, {
                        key: "action",
                        set: function () {
                            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "copy";
                            if (this._action = e, "copy" !== this._action && "cut" !== this._action) throw new Error('Invalid "action" value, use either "copy" or "cut"')
                        }, get: function () {
                            return this._action
                        }
                    }, {
                        key: "target",
                        set: function (e) {
                            if (void 0 !== e) {
                                if (!e || "object" !== (void 0 === e ? "undefined" : o(e)) || 1 !== e.nodeType) throw new Error('Invalid "target" value, use a valid Element');
                                if ("copy" === this.action && e.hasAttribute("disabled")) throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');
                                if ("cut" === this.action && (e.hasAttribute("readonly") || e.hasAttribute("disabled"))) throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');
                                this._target = e
                            }
                        }, get: function () {
                            return this._target
                        }
                    }]), e
                }();
            e.exports = a
        })
    },
    function (e, t, n) {
        var i, o, r;
        ! function (a, s) {
            o = [e, n(237), n(315), n(305)], i = s, void 0 !== (r = "function" == typeof i ? i.apply(t, o) : i) && (e.exports = r)
        }(0, function (e, t, n, i) {
            "use strict";

            function o(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }

            function r(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }

            function a(e, t) {
                if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !t || "object" != typeof t && "function" != typeof t ? e : t
            }

            function s(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }

            function l(e, t) {
                var n = "data-clipboard-" + e;
                if (t.hasAttribute(n)) return t.getAttribute(n)
            }
            var u = o(t),
                c = o(n),
                d = o(i),
                h = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                    return typeof e
                } : function (e) {
                    return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                },
                p = function () {
                    function e(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var i = t[n];
                            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
                        }
                    }
                    return function (t, n, i) {
                        return n && e(t.prototype, n), i && e(t, i), t
                    }
                }(),
                f = function (e) {
                    function t(e, n) {
                        r(this, t);
                        var i = a(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
                        return i.resolveOptions(n), i.listenClick(e), i
                    }
                    return s(t, e), p(t, [{
                        key: "resolveOptions",
                        value: function () {
                            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                            this.action = "function" == typeof e.action ? e.action : this.defaultAction, this.target = "function" == typeof e.target ? e.target : this.defaultTarget, this.text = "function" == typeof e.text ? e.text : this.defaultText, this.container = "object" === h(e.container) ? e.container : document.body
                        }
                    }, {
                        key: "listenClick",
                        value: function (e) {
                            var t = this;
                            this.listener = (0, d.default)(e, "click", function (e) {
                                return t.onClick(e)
                            })
                        }
                    }, {
                        key: "onClick",
                        value: function (e) {
                            var t = e.delegateTarget || e.currentTarget;
                            this.clipboardAction && (this.clipboardAction = null), this.clipboardAction = new u.default({
                                action: this.action(t),
                                target: this.target(t),
                                text: this.text(t),
                                container: this.container,
                                trigger: t,
                                emitter: this
                            })
                        }
                    }, {
                        key: "defaultAction",
                        value: function (e) {
                            return l("action", e)
                        }
                    }, {
                        key: "defaultTarget",
                        value: function (e) {
                            var t = l("target", e);
                            if (t) return document.querySelector(t)
                        }
                    }, {
                        key: "defaultText",
                        value: function (e) {
                            return l("text", e)
                        }
                    }, {
                        key: "destroy",
                        value: function () {
                            this.listener.destroy(), this.clipboardAction && (this.clipboardAction.destroy(), this.clipboardAction = null)
                        }
                    }], [{
                        key: "isSupported",
                        value: function () {
                            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ["copy", "cut"],
                                t = "string" == typeof e ? [e] : e,
                                n = !!document.queryCommandSupported;
                            return t.forEach(function (e) {
                                n = n && !!document.queryCommandSupported(e)
                            }), n
                        }
                    }]), t
                }(c.default);
            e.exports = f
        })
    },
    function (e, t, n) {
        var i = n(306);
        e.exports = function (e, t, n) {
            for (var o = n ? e : e.parentNode; o && o !== document;) {
                if (i(o, t)) return o;
                o = o.parentNode
            }
        }
    },
    function (e, t) {
        function n() {
            i = window.addEventListener ? "addEventListener" : "attachEvent", o = window.removeEventListener ? "removeEventListener" : "detachEvent", r = "addEventListener" !== i ? "on" : ""
        }
        var i, o, r;
        t.bind = function (e, t, o, a) {
            return i || n(), e[i](r + t, o, a || !1), o
        }, t.unbind = function (e, t, i, a) {
            return o || n(), e[o](r + t, i, a || !1), i
        }
    },
    function (e, t, n) {
        n(49), n(279), e.exports = n(7).Array.from
    },
    function (e, t, n) {
        n(59), n(49), e.exports = n(278)
    },
    function (e, t, n) {
        var i = n(7),
            o = i.JSON || (i.JSON = {
                stringify: JSON.stringify
            });
        e.exports = function (e) {
            return o.stringify.apply(o, arguments)
        }
    },
    function (e, t, n) {
        n(93), n(49), n(59), n(281), n(293), n(292), n(291), e.exports = n(7).Map
    },
    function (e, t, n) {
        n(282), e.exports = n(7).Object.assign
    },
    function (e, t, n) {
        n(283);
        var i = n(7).Object;
        e.exports = function (e, t) {
            return i.create(e, t)
        }
    },
    function (e, t, n) {
        n(284);
        var i = n(7).Object;
        e.exports = function (e, t, n) {
            return i.defineProperty(e, t, n)
        }
    },
    function (e, t, n) {
        n(285);
        var i = n(7).Object;
        e.exports = function (e, t) {
            return i.getOwnPropertyDescriptor(e, t)
        }
    },
    function (e, t, n) {
        n(286), e.exports = n(7).Object.getPrototypeOf
    },
    function (e, t, n) {
        n(287), e.exports = n(7).Object.keys
    },
    function (e, t, n) {
        n(288), e.exports = n(7).Object.setPrototypeOf
    },
    function (e, t, n) {
        n(93), n(49), n(59), n(289), n(294), n(295), e.exports = n(7).Promise
    },
    function (e, t, n) {
        n(290), n(93), n(296), n(297), e.exports = n(7).Symbol
    },
    function (e, t, n) {
        n(49), n(59), e.exports = n(91).f("iterator")
    },
    function (e, t) {
        e.exports = function () {}
    },
    function (e, t, n) {
        var i = n(43);
        e.exports = function (e, t) {
            var n = [];
            return i(e, !1, n.push, n, t), n
        }
    },
    function (e, t, n) {
        var i = n(33),
            o = n(57),
            r = n(276);
        e.exports = function (e) {
            return function (t, n, a) {
                var s, l = i(t),
                    u = o(l.length),
                    c = r(a, u);
                if (e && n != n) {
                    for (; u > c;)
                        if ((s = l[c++]) != s) return !0
                } else
                    for (; u > c; c++)
                        if ((e || c in l) && l[c] === n) return e || c || 0; return !e && -1
            }
        }
    },
    function (e, t, n) {
        var i = n(27),
            o = n(78),
            r = n(34),
            a = n(57),
            s = n(260);
        e.exports = function (e, t) {
            var n = 1 == e,
                l = 2 == e,
                u = 3 == e,
                c = 4 == e,
                d = 6 == e,
                h = 5 == e || d,
                p = t || s;
            return function (t, s, f) {
                for (var g, m, y = r(t), v = o(y), _ = i(s, f, 3), b = a(v.length), E = 0, k = n ? p(t, b) : l ? p(t, 0) : void 0; b > E; E++)
                    if ((h || E in v) && (g = v[E], m = _(g, E, y), e))
                        if (n) k[E] = m;
                        else if (m) switch (e) {
                case 3:
                    return !0;
                case 5:
                    return g;
                case 6:
                    return E;
                case 2:
                    k.push(g)
                } else if (c) return !1;
                return d ? -1 : u || c ? c : k
            }
        }
    },
    function (e, t, n) {
        var i = n(21),
            o = n(111),
            r = n(16)("species");
        e.exports = function (e) {
            var t;
            return o(e) && (t = e.constructor, "function" != typeof t || t !== Array && !o(t.prototype) || (t = void 0), i(t) && null === (t = t[r]) && (t = void 0)), void 0 === t ? Array : t
        }
    },
    function (e, t, n) {
        var i = n(259);
        e.exports = function (e, t) {
            return new(i(e))(t)
        }
    },
    function (e, t, n) {
        "use strict";
        var i = n(22).f,
            o = n(55),
            r = n(85),
            a = n(27),
            s = n(73),
            l = n(43),
            u = n(79),
            c = n(114),
            d = n(121),
            h = n(20),
            p = n(80).fastKey,
            f = n(124),
            g = h ? "_s" : "size",
            m = function (e, t) {
                var n, i = p(t);
                if ("F" !== i) return e._i[i];
                for (n = e._f; n; n = n.n)
                    if (n.k == t) return n
            };
        e.exports = {
            getConstructor: function (e, t, n, u) {
                var c = e(function (e, i) {
                    s(e, c, t, "_i"), e._t = t, e._i = o(null), e._f = void 0, e._l = void 0, e[g] = 0, void 0 != i && l(i, n, e[u], e)
                });
                return r(c.prototype, {
                    clear: function () {
                        for (var e = f(this, t), n = e._i, i = e._f; i; i = i.n) i.r = !0, i.p && (i.p = i.p.n = void 0), delete n[i.i];
                        e._f = e._l = void 0, e[g] = 0
                    }, delete: function (e) {
                        var n = f(this, t),
                            i = m(n, e);
                        if (i) {
                            var o = i.n,
                                r = i.p;
                            delete n._i[i.i], i.r = !0, r && (r.n = o), o && (o.p = r), n._f == i && (n._f = o), n._l == i && (n._l = r), n[g]--
                        }
                        return !!i
                    }, forEach: function (e) {
                        f(this, t);
                        for (var n, i = a(e, arguments.length > 1 ? arguments[1] : void 0, 3); n = n ? n.n : this._f;)
                            for (i(n.v, n.k, this); n && n.r;) n = n.p
                    }, has: function (e) {
                        return !!m(f(this, t), e)
                    }
                }), h && i(c.prototype, "size", {
                    get: function () {
                        return f(this, t)[g]
                    }
                }), c
            }, def: function (e, t, n) {
                var i, o, r = m(e, t);
                return r ? r.v = n : (e._l = r = {
                    i: o = p(t, !0),
                    k: t,
                    v: n,
                    p: i = e._l,
                    n: void 0,
                    r: !1
                }, e._f || (e._f = r), i && (i.n = r), e[g]++, "F" !== o && (e._i[o] = r)), e
            }, getEntry: m,
            setStrong: function (e, t, n) {
                u(e, t, function (e, n) {
                    this._t = f(e, t), this._k = n, this._l = void 0
                }, function () {
                    for (var e = this, t = e._k, n = e._l; n && n.r;) n = n.p;
                    return e._t && (e._l = n = n ? n.n : e._t._f) ? "keys" == t ? c(0, n.k) : "values" == t ? c(0, n.v) : c(0, [n.k, n.v]) : (e._t = void 0, c(1))
                }, n ? "entries" : "values", !n, !0), d(t)
            }
        }
    },
    function (e, t, n) {
        var i = n(74),
            o = n(256);
        e.exports = function (e) {
            return function () {
                if (i(this) != e) throw TypeError(e + "#toJSON isn't generic");
                return o(this)
            }
        }
    },
    function (e, t, n) {
        "use strict";
        var i = n(14),
            o = n(13),
            r = n(80),
            a = n(31),
            s = n(28),
            l = n(85),
            u = n(43),
            c = n(73),
            d = n(21),
            h = n(48),
            p = n(22).f,
            f = n(258)(0),
            g = n(20);
        e.exports = function (e, t, n, m, y, v) {
            var _ = i[e],
                b = _,
                E = y ? "set" : "add",
                k = b && b.prototype,
                w = {};
            return g && "function" == typeof b && (v || k.forEach && !a(function () {
                (new b).entries().next()
            })) ? (b = t(function (t, n) {
                c(t, b, e, "_c"), t._c = new _, void 0 != n && u(n, y, t[E], t)
            }), f("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","), function (e) {
                var t = "add" == e || "set" == e;
                e in k && (!v || "clear" != e) && s(b.prototype, e, function (n, i) {
                    if (c(this, b, e), !t && v && !d(n)) return "get" == e && void 0;
                    var o = this._c[e](0 === n ? 0 : n, i);
                    return t ? this : o
                })
            }), v || p(b.prototype, "size", {
                get: function () {
                    return this._c.size
                }
            })) : (b = m.getConstructor(t, e, y, E), l(b.prototype, n), r.NEED = !0), h(b, e), w[e] = b, o(o.G + o.W + o.F, w), v || m.setStrong(b, e, y), b
        }
    },
    function (e, t, n) {
        "use strict";
        var i = n(22),
            o = n(47);
        e.exports = function (e, t, n) {
            t in e ? i.f(e, t, o(0, n)) : e[t] = n
        }
    },
    function (e, t, n) {
        var i = n(46),
            o = n(83),
            r = n(56);
        e.exports = function (e) {
            var t = i(e),
                n = o.f;
            if (n)
                for (var a, s = n(e), l = r.f, u = 0; s.length > u;) l.call(e, a = s[u++]) && t.push(a);
            return t
        }
    },
    function (e, t) {
        e.exports = function (e, t, n) {
            var i = void 0 === n;
            switch (t.length) {
            case 0:
                return i ? e() : e.call(n);
            case 1:
                return i ? e(t[0]) : e.call(n, t[0]);
            case 2:
                return i ? e(t[0], t[1]) : e.call(n, t[0], t[1]);
            case 3:
                return i ? e(t[0], t[1], t[2]) : e.call(n, t[0], t[1], t[2]);
            case 4:
                return i ? e(t[0], t[1], t[2], t[3]) : e.call(n, t[0], t[1], t[2], t[3])
            }
            return e.apply(n, t)
        }
    },
    function (e, t, n) {
        "use strict";
        var i = n(55),
            o = n(47),
            r = n(48),
            a = {};
        n(28)(a, n(16)("iterator"), function () {
            return this
        }), e.exports = function (e, t, n) {
            e.prototype = i(a, {
                next: o(1, n)
            }), r(e, t + " Iterator")
        }
    },
    function (e, t, n) {
        var i = n(14),
            o = n(123).set,
            r = i.MutationObserver || i.WebKitMutationObserver,
            a = i.process,
            s = i.Promise,
            l = "process" == n(42)(a);
        e.exports = function () {
            var e, t, n, u = function () {
                var i, o;
                for (l && (i = a.domain) && i.exit(); e;) {
                    o = e.fn, e = e.next;
                    try {
                        o()
                    } catch (i) {
                        throw e ? n() : t = void 0, i
                    }
                }
                t = void 0, i && i.enter()
            };
            if (l) n = function () {
                a.nextTick(u)
            };
            else if (!r || i.navigator && i.navigator.standalone)
                if (s && s.resolve) {
                    var c = s.resolve(void 0);
                    n = function () {
                        c.then(u)
                    }
                } else n = function () {
                    o.call(i, u)
                };
            else {
                var d = !0,
                    h = document.createTextNode("");
                new r(u).observe(h, {
                    characterData: !0
                }), n = function () {
                    h.data = d = !d
                }
            }
            return function (i) {
                var o = {
                    fn: i,
                    next: void 0
                };
                t && (t.next = o), e || (e = o, n()), t = o
            }
        }
    },
    function (e, t, n) {
        "use strict";
        var i = n(20),
            o = n(46),
            r = n(83),
            a = n(56),
            s = n(34),
            l = n(78),
            u = Object.assign;
        e.exports = !u || n(31)(function () {
            var e = {},
                t = {},
                n = Symbol(),
                i = "abcdefghijklmnopqrst";
            return e[n] = 7, i.split("").forEach(function (e) {
                t[e] = e
            }), 7 != u({}, e)[n] || Object.keys(u({}, t)).join("") != i
        }) ? function (e, t) {
            for (var n = s(e), u = arguments.length, c = 1, d = r.f, h = a.f; u > c;)
                for (var p, f = l(arguments[c++]), g = d ? o(f).concat(d(f)) : o(f), m = g.length, y = 0; m > y;) p = g[y++], i && !h.call(f, p) || (n[p] = f[p]);
            return n
        } : u
    },
    function (e, t, n) {
        var i = n(22),
            o = n(25),
            r = n(46);
        e.exports = n(20) ? Object.defineProperties : function (e, t) {
            o(e);
            for (var n, a = r(t), s = a.length, l = 0; s > l;) i.f(e, n = a[l++], t[n]);
            return e
        }
    },
    function (e, t, n) {
        var i = n(33),
            o = n(115).f,
            r = {}.toString,
            a = "object" == typeof window && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [],
            s = function (e) {
                try {
                    return o(e)
                } catch (e) {
                    return a.slice()
                }
            };
        e.exports.f = function (e) {
            return a && "[object Window]" == r.call(e) ? s(e) : o(i(e))
        }
    },
    function (e, t, n) {
        "use strict";
        var i = n(13),
            o = n(41),
            r = n(27),
            a = n(43);
        e.exports = function (e) {
            i(i.S, e, {
                from: function (e) {
                    var t, n, i, s, l = arguments[1];
                    return o(this), t = void 0 !== l, t && o(l), void 0 == e ? new this : (n = [], t ? (i = 0, s = r(l, arguments[2], 2), a(e, !1, function (e) {
                        n.push(s(e, i++))
                    })) : a(e, !1, n.push, n), new this(n))
                }
            })
        }
    },
    function (e, t, n) {
        "use strict";
        var i = n(13);
        e.exports = function (e) {
            i(i.S, e, {
                of: function () {
                    for (var e = arguments.length, t = new Array(e); e--;) t[e] = arguments[e];
                    return new this(t)
                }
            })
        }
    },
    function (e, t, n) {
        var i = n(21),
            o = n(25),
            r = function (e, t) {
                if (o(e), !i(t) && null !== t) throw TypeError(t + ": can't set as prototype!")
            };
        e.exports = {
            set: Object.setPrototypeOf || ("__proto__" in {} ? function (e, t, i) {
                try {
                    i = n(27)(Function.call, n(82).f(Object.prototype, "__proto__").set, 2), i(e, []), t = !(e instanceof Array)
                } catch (e) {
                    t = !0
                }
                return function (e, n) {
                    return r(e, n), t ? e.__proto__ = n : i(e, n), e
                }
            }({}, !1) : void 0),
            check: r
        }
    },
    function (e, t, n) {
        var i = n(88),
            o = n(75);
        e.exports = function (e) {
            return function (t, n) {
                var r, a, s = String(o(t)),
                    l = i(n),
                    u = s.length;
                return l < 0 || l >= u ? e ? "" : void 0 : (r = s.charCodeAt(l), r < 55296 || r > 56319 || l + 1 === u || (a = s.charCodeAt(l + 1)) < 56320 || a > 57343 ? e ? s.charAt(l) : r : e ? s.slice(l, l + 2) : a - 56320 + (r - 55296 << 10) + 65536)
            }
        }
    },
    function (e, t, n) {
        var i = n(88),
            o = Math.max,
            r = Math.min;
        e.exports = function (e, t) {
            return e = i(e), e < 0 ? o(e + t, 0) : r(e, t)
        }
    },
    function (e, t, n) {
        var i = n(14),
            o = i.navigator;
        e.exports = o && o.userAgent || ""
    },
    function (e, t, n) {
        var i = n(25),
            o = n(92);
        e.exports = n(7).getIterator = function (e) {
            var t = o(e);
            if ("function" != typeof t) throw TypeError(e + " is not iterable!");
            return i(t.call(e))
        }
    },
    function (e, t, n) {
        "use strict";
        var i = n(27),
            o = n(13),
            r = n(34),
            a = n(112),
            s = n(110),
            l = n(57),
            u = n(264),
            c = n(92);
        o(o.S + o.F * !n(113)(function (e) {
            Array.from(e)
        }), "Array", {
            from: function (e) {
                var t, n, o, d, h = r(e),
                    p = "function" == typeof this ? this : Array,
                    f = arguments.length,
                    g = f > 1 ? arguments[1] : void 0,
                    m = void 0 !== g,
                    y = 0,
                    v = c(h);
                if (m && (g = i(g, f > 2 ? arguments[2] : void 0, 2)), void 0 == v || p == Array && s(v))
                    for (t = l(h.length), n = new p(t); t > y; y++) u(n, y, m ? g(h[y], y) : h[y]);
                else
                    for (d = v.call(h), n = new p; !(o = d.next()).done; y++) u(n, y, m ? a(d, g, [o.value, y], !0) : o.value);
                return n.length = y, n
            }
        })
    },
    function (e, t, n) {
        "use strict";
        var i = n(255),
            o = n(114),
            r = n(44),
            a = n(33);
        e.exports = n(79)(Array, "Array", function (e, t) {
            this._t = a(e), this._i = 0, this._k = t
        }, function () {
            var e = this._t,
                t = this._k,
                n = this._i++;
            return !e || n >= e.length ? (this._t = void 0, o(1)) : "keys" == t ? o(0, n) : "values" == t ? o(0, e[n]) : o(0, [n, e[n]])
        }, "values"), r.Arguments = r.Array, i("keys"), i("values"), i("entries")
    },
    function (e, t, n) {
        "use strict";
        var i = n(261),
            o = n(124);
        e.exports = n(263)("Map", function (e) {
            return function () {
                return e(this, arguments.length > 0 ? arguments[0] : void 0)
            }
        }, {
            get: function (e) {
                var t = i.getEntry(o(this, "Map"), e);
                return t && t.v
            }, set: function (e, t) {
                return i.def(o(this, "Map"), 0 === e ? 0 : e, t)
            }
        }, i, !0)
    },
    function (e, t, n) {
        var i = n(13);
        i(i.S + i.F, "Object", {
            assign: n(269)
        })
    },
    function (e, t, n) {
        var i = n(13);
        i(i.S, "Object", {
            create: n(55)
        })
    },
    function (e, t, n) {
        var i = n(13);
        i(i.S + i.F * !n(20), "Object", {
            defineProperty: n(22).f
        })
    },
    function (e, t, n) {
        var i = n(33),
            o = n(82).f;
        n(84)("getOwnPropertyDescriptor", function () {
            return function (e, t) {
                return o(i(e), t)
            }
        })
    },
    function (e, t, n) {
        var i = n(34),
            o = n(116);
        n(84)("getPrototypeOf", function () {
            return function (e) {
                return o(i(e))
            }
        })
    },
    function (e, t, n) {
        var i = n(34),
            o = n(46);
        n(84)("keys", function () {
            return function (e) {
                return o(i(e))
            }
        })
    },
    function (e, t, n) {
        var i = n(13);
        i(i.S, "Object", {
            setPrototypeOf: n(274).set
        })
    },
    function (e, t, n) {
        "use strict";
        var i, o, r, a, s = n(45),
            l = n(14),
            u = n(27),
            c = n(74),
            d = n(13),
            h = n(21),
            p = n(41),
            f = n(73),
            g = n(43),
            m = n(122),
            y = n(123).set,
            v = n(268)(),
            _ = n(81),
            b = n(118),
            E = n(277),
            k = n(119),
            w = l.TypeError,
            S = l.process,
            T = S && S.versions,
            x = T && T.v8 || "",
            A = l.Promise,
            D = "process" == c(S),
            L = function () {},
            C = o = _.f,
            M = !! function () {
                try {
                    var e = A.resolve(1),
                        t = (e.constructor = {})[n(16)("species")] = function (e) {
                            e(L, L)
                        };
                    return (D || "function" == typeof PromiseRejectionEvent) && e.then(L) instanceof t && 0 !== x.indexOf("6.6") && -1 === E.indexOf("Chrome/66")
                } catch (e) {}
            }(),
            I = function (e) {
                var t;
                return !(!h(e) || "function" != typeof (t = e.then)) && t
            },
            R = function (e, t) {
                if (!e._n) {
                    e._n = !0;
                    var n = e._c;
                    v(function () {
                        for (var i = e._v, o = 1 == e._s, r = 0; n.length > r;)! function (t) {
                            var n, r, a, s = o ? t.ok : t.fail,
                                l = t.resolve,
                                u = t.reject,
                                c = t.domain;
                            try {
                                s ? (o || (2 == e._h && O(e), e._h = 1), !0 === s ? n = i : (c && c.enter(), n = s(i), c && (c.exit(), a = !0)), n === t.promise ? u(w("Promise-chain cycle")) : (r = I(n)) ? r.call(n, l, u) : l(n)) : u(i)
                            } catch (e) {
                                c && !a && c.exit(), u(e)
                            }
                        }(n[r++]);
                        e._c = [], e._n = !1, t && !e._h && P(e)
                    })
                }
            },
            P = function (e) {
                y.call(l, function () {
                    var t, n, i, o = e._v,
                        r = N(e);
                    if (r && (t = b(function () {
                        D ? S.emit("unhandledRejection", o, e) : (n = l.onunhandledrejection) ? n({
                            promise: e,
                            reason: o
                        }) : (i = l.console) && i.error && i.error("Unhandled promise rejection", o)
                    }), e._h = D || N(e) ? 2 : 1), e._a = void 0, r && t.e) throw t.v
                })
            },
            N = function (e) {
                return 1 !== e._h && 0 === (e._a || e._c).length
            },
            O = function (e) {
                y.call(l, function () {
                    var t;
                    D ? S.emit("rejectionHandled", e) : (t = l.onrejectionhandled) && t({
                        promise: e,
                        reason: e._v
                    })
                })
            },
            j = function (e) {
                var t = this;
                t._d || (t._d = !0, t = t._w || t, t._v = e, t._s = 2, t._a || (t._a = t._c.slice()), R(t, !0))
            },
            U = function (e) {
                var t, n = this;
                if (!n._d) {
                    n._d = !0, n = n._w || n;
                    try {
                        if (n === e) throw w("Promise can't be resolved itself");
                        (t = I(e)) ? v(function () {
                            var i = {
                                _w: n,
                                _d: !1
                            };
                            try {
                                t.call(e, u(U, i, 1), u(j, i, 1))
                            } catch (e) {
                                j.call(i, e)
                            }
                        }): (n._v = e, n._s = 1, R(n, !1))
                    } catch (e) {
                        j.call({
                            _w: n,
                            _d: !1
                        }, e)
                    }
                }
            };
        M || (A = function (e) {
            f(this, A, "Promise", "_h"), p(e), i.call(this);
            try {
                e(u(U, this, 1), u(j, this, 1))
            } catch (e) {
                j.call(this, e)
            }
        }, i = function (e) {
            this._c = [], this._a = void 0, this._s = 0, this._d = !1, this._v = void 0, this._h = 0, this._n = !1
        }, i.prototype = n(85)(A.prototype, {
            then: function (e, t) {
                    var n = C(m(this, A));
                    return n.ok = "function" != typeof e || e, n.fail = "function" == typeof t && t, n.domain = D ? S.domain : void 0, this._c.push(n), this._a && this._a.push(n), this._s && R(this, !1), n.promise
                },
                catch: function (e) {
                    return this.then(void 0, e)
                }
        }), r = function () {
            var e = new i;
            this.promise = e, this.resolve = u(U, e, 1), this.reject = u(j, e, 1)
        }, _.f = C = function (e) {
            return e === A || e === a ? new r(e) : o(e)
        }), d(d.G + d.W + d.F * !M, {
            Promise: A
        }), n(48)(A, "Promise"), n(121)("Promise"), a = n(7).Promise, d(d.S + d.F * !M, "Promise", {
            reject: function (e) {
                var t = C(this);
                return (0, t.reject)(e), t.promise
            }
        }), d(d.S + d.F * (s || !M), "Promise", {
            resolve: function (e) {
                return k(s && this === a ? A : this, e)
            }
        }), d(d.S + d.F * !(M && n(113)(function (e) {
            A.all(e).catch(L)
        })), "Promise", {
            all: function (e) {
                var t = this,
                    n = C(t),
                    i = n.resolve,
                    o = n.reject,
                    r = b(function () {
                        var n = [],
                            r = 0,
                            a = 1;
                        g(e, !1, function (e) {
                            var s = r++,
                                l = !1;
                            n.push(void 0), a++, t.resolve(e).then(function (e) {
                                l || (l = !0, n[s] = e, --a || i(n))
                            }, o)
                        }), --a || i(n)
                    });
                return r.e && o(r.v), n.promise
            }, race: function (e) {
                var t = this,
                    n = C(t),
                    i = n.reject,
                    o = b(function () {
                        g(e, !1, function (e) {
                            t.resolve(e).then(n.resolve, i)
                        })
                    });
                return o.e && i(o.v), n.promise
            }
        })
    },
    function (e, t, n) {
        "use strict";
        var i = n(14),
            o = n(32),
            r = n(20),
            a = n(13),
            s = n(120),
            l = n(80).KEY,
            u = n(31),
            c = n(87),
            d = n(48),
            h = n(58),
            p = n(16),
            f = n(91),
            g = n(90),
            m = n(265),
            y = n(111),
            v = n(25),
            _ = n(21),
            b = n(34),
            E = n(33),
            k = n(89),
            w = n(47),
            S = n(55),
            T = n(271),
            x = n(82),
            A = n(83),
            D = n(22),
            L = n(46),
            C = x.f,
            M = D.f,
            I = T.f,
            R = i.Symbol,
            P = i.JSON,
            N = P && P.stringify,
            O = p("_hidden"),
            j = p("toPrimitive"),
            U = {}.propertyIsEnumerable,
            B = c("symbol-registry"),
            F = c("symbols"),
            z = c("op-symbols"),
            H = Object.prototype,
            Y = "function" == typeof R && !!A.f,
            V = i.QObject,
            q = !V || !V.prototype || !V.prototype.findChild,
            G = r && u(function () {
                return 7 != S(M({}, "a", {
                    get: function () {
                        return M(this, "a", {
                            value: 7
                        }).a
                    }
                })).a
            }) ? function (e, t, n) {
                var i = C(H, t);
                i && delete H[t], M(e, t, n), i && e !== H && M(H, t, i)
            } : M,
            Q = function (e) {
                var t = F[e] = S(R.prototype);
                return t._k = e, t
            },
            W = Y && "symbol" == typeof R.iterator ? function (e) {
                return "symbol" == typeof e
            } : function (e) {
                return e instanceof R
            },
            K = function (e, t, n) {
                return e === H && K(z, t, n), v(e), t = k(t, !0), v(n), o(F, t) ? (n.enumerable ? (o(e, O) && e[O][t] && (e[O][t] = !1), n = S(n, {
                    enumerable: w(0, !1)
                })) : (o(e, O) || M(e, O, w(1, {})), e[O][t] = !0), G(e, t, n)) : M(e, t, n)
            },
            X = function (e, t) {
                v(e);
                for (var n, i = m(t = E(t)), o = 0, r = i.length; r > o;) K(e, n = i[o++], t[n]);
                return e
            },
            J = function (e, t) {
                return void 0 === t ? S(e) : X(S(e), t)
            },
            Z = function (e) {
                var t = U.call(this, e = k(e, !0));
                return !(this === H && o(F, e) && !o(z, e)) && (!(t || !o(this, e) || !o(F, e) || o(this, O) && this[O][e]) || t)
            },
            $ = function (e, t) {
                if (e = E(e), t = k(t, !0), e !== H || !o(F, t) || o(z, t)) {
                    var n = C(e, t);
                    return !n || !o(F, t) || o(e, O) && e[O][t] || (n.enumerable = !0), n
                }
            },
            ee = function (e) {
                for (var t, n = I(E(e)), i = [], r = 0; n.length > r;) o(F, t = n[r++]) || t == O || t == l || i.push(t);
                return i
            },
            te = function (e) {
                for (var t, n = e === H, i = I(n ? z : E(e)), r = [], a = 0; i.length > a;)!o(F, t = i[a++]) || n && !o(H, t) || r.push(F[t]);
                return r
            };
        Y || (R = function () {
            if (this instanceof R) throw TypeError("Symbol is not a constructor!");
            var e = h(arguments.length > 0 ? arguments[0] : void 0),
                t = function (n) {
                    this === H && t.call(z, n), o(this, O) && o(this[O], e) && (this[O][e] = !1), G(this, e, w(1, n))
                };
            return r && q && G(H, e, {
                configurable: !0,
                set: t
            }), Q(e)
        }, s(R.prototype, "toString", function () {
            return this._k
        }), x.f = $, D.f = K, n(115).f = T.f = ee, n(56).f = Z, A.f = te, r && !n(45) && s(H, "propertyIsEnumerable", Z, !0), f.f = function (e) {
            return Q(p(e))
        }), a(a.G + a.W + a.F * !Y, {
            Symbol: R
        });
        for (var ne = "hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","), ie = 0; ne.length > ie;) p(ne[ie++]);
        for (var oe = L(p.store), re = 0; oe.length > re;) g(oe[re++]);
        a(a.S + a.F * !Y, "Symbol", {
            for: function (e) {
                return o(B, e += "") ? B[e] : B[e] = R(e)
            }, keyFor: function (e) {
                if (!W(e)) throw TypeError(e + " is not a symbol!");
                for (var t in B)
                    if (B[t] === e) return t
            }, useSetter: function () {
                q = !0
            }, useSimple: function () {
                q = !1
            }
        }), a(a.S + a.F * !Y, "Object", {
            create: J,
            defineProperty: K,
            defineProperties: X,
            getOwnPropertyDescriptor: $,
            getOwnPropertyNames: ee,
            getOwnPropertySymbols: te
        });
        var ae = u(function () {
            A.f(1)
        });
        a(a.S + a.F * ae, "Object", {
            getOwnPropertySymbols: function (e) {
                return A.f(b(e))
            }
        }), P && a(a.S + a.F * (!Y || u(function () {
            var e = R();
            return "[null]" != N([e]) || "{}" != N({
                a: e
            }) || "{}" != N(Object(e))
        })), "JSON", {
            stringify: function (e) {
                for (var t, n, i = [e], o = 1; arguments.length > o;) i.push(arguments[o++]);
                if (n = t = i[1], (_(t) || void 0 !== e) && !W(e)) return y(t) || (t = function (e, t) {
                    if ("function" == typeof n && (t = n.call(this, e, t)), !W(t)) return t
                }), i[1] = t, N.apply(P, i)
            }
        }), R.prototype[j] || n(28)(R.prototype, j, R.prototype.valueOf), d(R, "Symbol"), d(Math, "Math", !0), d(i.JSON, "JSON", !0)
    },
    function (e, t, n) {
        n(272)("Map")
    },
    function (e, t, n) {
        n(273)("Map")
    },
    function (e, t, n) {
        var i = n(13);
        i(i.P + i.R, "Map", {
            toJSON: n(262)("Map")
        })
    },
    function (e, t, n) {
        "use strict";
        var i = n(13),
            o = n(7),
            r = n(14),
            a = n(122),
            s = n(119);
        i(i.P + i.R, "Promise", {
            finally: function (e) {
                var t = a(this, o.Promise || r.Promise),
                    n = "function" == typeof e;
                return this.then(n ? function (n) {
                    return s(t, e()).then(function () {
                        return n
                    })
                } : e, n ? function (n) {
                    return s(t, e()).then(function () {
                        throw n
                    })
                } : e)
            }
        })
    },
    function (e, t, n) {
        "use strict";
        var i = n(13),
            o = n(81),
            r = n(118);
        i(i.S, "Promise", {
            try: function (e) {
                var t = o.f(this),
                    n = r(e);
                return (n.e ? t.reject : t.resolve)(n.v), t.promise
            }
        })
    },
    function (e, t, n) {
        n(90)("asyncIterator")
    },
    function (e, t, n) {
        n(90)("observable")
    },
    function (e, t, n) {
        t = e.exports = n(125)(!1), t.push([e.i, "@font-face {\n  font-family: 'youkuplayerfont';\n  /* project id 1027320 */\n  src: url('//g.alicdn.com/player/playericons/1.0.9/iconfont.eot');\n  src: url('//g.alicdn.com/player/playericons/1.0.9/iconfont.eot?#iefix') format('embedded-opentype'), url('//g.alicdn.com/player/playericons/1.0.9/iconfont.woff2') format('woff2'), url('//g.alicdn.com/player/playericons/1.0.9/iconfont.woff') format('woff'), url('//g.alicdn.com/player/playericons/1.0.9/iconfont.ttf') format('truetype'), url('//g.alicdn.com/player/playericons/1.0.9/iconfont.svg') format('svg');\n}\n.youku-player .iconfont {\n  font-family: \"youkuplayerfont\";\n  font-size: 20px;\n  width: 20px;\n  height: 20px;\n  font-style: normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  position: relative;\n}\n.youku-player .iconfont:before {\n  position: absolute;\n  font-size: 20px;\n}\n.youku-player .icon-next:before {\n  content: \"\\E623\";\n  line-height: 20px;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  margin-left: -10px;\n  margin-top: -10px;\n  font-size: 20px;\n}\n.youku-player .icon-pause:before {\n  content: \"\\E624\";\n}\n.youku-player .icon-play:before {\n  content: \"\\E626\";\n}\n.youku-player .icon-play:before,\n.youku-player .icon-pause:before {\n  line-height: 50px;\n  font-size: 28px;\n}\n.youku-player .icon-setting:before {\n  content: \"\\E60E\";\n}\n.youku-player .icon-webfullscreen:before {\n  content: \"\\E622\";\n}\n.youku-player .icon-exit-webfullscreen:before {\n  content: \"\\E621\";\n}\n.youku-player .icon-volume:before {\n  content: \"\\E60D\";\n}\n.youku-player .icon-mute:before {\n  content: \"\\E612\";\n}\n.youku-player .icon-picture:before {\n  content: \"\\E60B\";\n}\n.youku-player .icon-fullscreen:before {\n  content: \"\\E60C\";\n}\n.youku-player .icon-exit-fullscreen:before {\n  content: \"\\E609\";\n}\n.youku-player .icon-select:before {\n  content: \"\\E616\";\n}\n.youku-player .icon-selected:before {\n  content: \"\\E617\";\n}\n.youku-player .icon-favorite:before {\n  content: \"\\E618\";\n}\n.youku-player .icon-favorited:before {\n  content: \"\\E619\";\n}\n.youku-player .icon-subscibe:before {\n  content: \"\\E61A\";\n}\n.youku-player .icon-history:before {\n  content: \"\\E61B\";\n}\n.youku-player .icon-upload:before {\n  content: \"\\E61C\";\n}\n.youku-player .icon-download-app:before {\n  content: \"\\E61D\";\n}\n.youku-player .icon-close:before {\n  content: \"\\E61E\";\n  font-size: 12px;\n}\n.youku-player .icon-ykhd_bofang_hdr_jin_x:before {\n  content: \"\\E629\";\n}\n.youku-player .icon-ykhd_bofang_hdr_bai_x:before {\n  content: \"\\E629\";\n}\n.youku-player .icon-ykhd_bofang_hdr_jin_x:before,\n.youku-player .icon-ykhd_bofang_hdr_bai_x:before {\n  font-size: 24px;\n}\n.youku-player .fullscreen-hdr .icon-ykhd_bofang_hdr_jin_x:before,\n.youku-player .fullscreen-hdr .icon-ykhd_bofang_hdr_bai_x:before {\n  font-size: 30px;\n}\n.youku-player .icon-pingmu-:before {\n  content: \"\\E604\";\n}\n.youku-player .icon-pingmu-1:before {\n  content: \"\\E606\";\n}\n.youku-player .icon-pingmu-2:before {\n  content: \"\\E607\";\n}\n.youku-player .percent-item-current:before {\n  font-size: 30px;\n  position: relative;\n}\n.youku-player .icon--shoujikan:before {\n  content: \"\\E600\";\n  font-size: 18px;\n}\n.big-mode .iconfont {\n  font-size: 30px;\n  width: 30px;\n  height: 30px;\n}\n.big-mode .iconfont:before {\n  font-size: 30px;\n}\n.big-mode .icon-next:before {\n  line-height: 30px;\n  margin-left: -15px;\n  margin-top: -15px;\n  font-size: 30px;\n}\n.big-mode .icon-play:before,\n.big-mode .icon-pause:before {\n  line-height: 75px;\n  font-size: 42px;\n}\n.big-mode .icon-ykhd_bofang_hdr_jin_x:before,\n.big-mode .icon-ykhd_bofang_hdr_bai_x:before {\n  font-size: 36px;\n}\n.big-mode .fullscreen-hdr .icon-ykhd_bofang_hdr_jin_x:before,\n.big-mode .fullscreen-hdr .icon-ykhd_bofang_hdr_bai_x:before {\n  font-size: 45px;\n}\n.big-mode .percent-item-current:before {\n  font-size: 45px;\n}\n.big-mode .icon--shoujikan:before {\n  font-size: 27px;\n}\n.big-mode .icon-close:before {\n  font-size: 12px !important;\n}\n.h5-layer-conatiner {\n  overflow: hidden;\n}\n.shareLayer {\n  display: none;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  padding: 10px;\n  background: rgba(0, 0, 0, 0.8);\n  color: #fff;\n  font-size: 12px;\n  transform: translate(-50%, -50%);\n  border-radius: 5px;\n  z-index: 112;\n}\n.shareLayer .close {\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  font-size: 20px;\n  line-height: 17px;\n  cursor: pointer;\n}\n.shareLayer .mc {\n  padding: 5px 10px;\n}\n.shareLayer .mc .info {\n  text-align: center;\n}\n.shareLayer .mc .share {\n  margin: 8px 0;\n}\n.shareLayer .mc .share p {\n  margin: 10px 0 0;\n}\n.shareLayer .mc .share a {\n  display: inline-block;\n  width: 25px;\n  height: 25px;\n  background-size: 25px 25px;\n  background-position: center center;\n  background-repeat: no-repeat;\n  margin: 0 2px;\n  cursor: pointer;\n}\n.shareLayer .mc .share .zoom {\n  background-image: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjdweCIgaGVpZ2h0PSIyNnB4IiB2aWV3Qm94PSIwIDAgMjcgMjYiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ1LjIgKDQzNTE0KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT7nqbrpl7Q8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iMDQtMDDmloflrZciIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00OTkuMDAwMDAwLCAtODAuMDAwMDAwKSI+CiAgICAgICAgICAgIDxnIGlkPSLnqbrpl7QiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQ5OS4wMDAwMDAsIDgwLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPGVsbGlwc2UgaWQ9Ik92YWwtQ29weSIgZmlsbD0iI0U4QjgyNSIgY3g9IjEzLjAzNjAxMTEiIGN5PSIxMyIgcng9IjEzLjAzNjAxMTEiIHJ5PSIxMyI+PC9lbGxpcHNlPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTkuNzc2NDIyODYsMTYuMjUxODUyMSBMMTQuMjg1Mjc4NCwxMi41ODcxNDQ4IEwxMC4wODc0NjI2LDExLjg2OTM5NTggTDE2LjQ2MjA2ODMsMTEuODY5Mzk1OCBMMTIuNTc0ODAzOSwxNS4zNzkyNTY0IEwxNi42MTc4MzIzLDE2LjI1MTg1MjEgTDkuNzc2NDIyODYsMTYuMjUxODUyMSBMOS43NzY0MjI4NiwxNi4yNTE4NTIxIFogTTIwLjAzODc4MTIsMTEuNDk0OTM5MyBDMjAuMDM4NzgxMiwxMS4zNDAwOTI1IDIwLjAzODc4MTIsMTEuMzgyNDU2MyAxOS44ODMwMTcxLDExLjM4MjQ1NjMgTDE4LjMyODMwNjcsMTEuMzgyNDU2MyBMMTUuNjg1MjAxNCwxMS4zODI0NTYzIEwxNS4wNjI2MzM2LDEwLjI3NzEwMzQgTDEzLjM1MjY0NzQsNyBMMTMuMDQxNjA3Nyw3IEwxMS40ODY4OTczLDEwLjI3NzEwMzQgTDEwLjg2NDgxNzgsMTEuMzgyNDU2MyBMOC4yMjA3MzU4NiwxMS4zODI0NTYzIEw2LDExLjM4MjQ1NjMgTDYsMTEuNDUzMDYyNSBMNi44NzY5NjYwNSwxMi4wNzM0MjM1IEw5LjMzNzkzOTgzLDE0LjI0NTE3NDEgTDguNzc5MzM3ODUsMTkuMjEwMDEwMSBDOC43NzkzMzc4NSwxOS4zNjQ4NTY5IDguODExMDc2NTksMTkuMzY0ODU2OSA5LjEyMjExNjM0LDE5LjM2NDg1NjkgTDEzLjE4MTI1ODIsMTYuODgyNDM4OSBMMTcuMjMxNjEwOSwxOS4zNjQ4NTY5IEMxNy4zODczNzQ5LDE5LjM2NDg1NjkgMTcuMzkxMjgxMiwxOS4zNjQ4NTY5IDE3LjU0NjU1NjksMTkuMjEwMDEwMSBMMTYuNzcxMTU0OSwxNC4yNDUxNzQxIEwxOS4xMDQ2ODU0LDEyLjI0OTIwODcgTDIwLjAzODc4MTIsMTEuNDk0OTM5MyBMMjAuMDM4NzgxMiwxMS40OTQ5MzkzIFoiIGlkPSJTaGFwZSIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=');\n}\n.shareLayer .mc .share .qq {\n  background-image: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjdweCIgaGVpZ2h0PSIyNnB4IiB2aWV3Qm94PSIwIDAgMjcgMjYiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ1LjIgKDQzNTE0KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5RUTwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSIwNC0wMOaWh+WtlyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU5NC4wMDAwMDAsIC02MS4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9InFxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1OTQuMDAwMDAwLCA2MS4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxlbGxpcHNlIGlkPSJPdmFsLUNvcHkiIGZpbGw9IiM1QkE2RUEiIGN4PSIxMy4wMzYwMTExIiBjeT0iMTMiIHJ4PSIxMy4wMzYwMTExIiByeT0iMTMiPjwvZWxsaXBzZT4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik03LjMyOTgxNzgzLDE2LjQ4NzY3OTggQzYuODkwNzk2NzEsMTYuMTYwNTE4NSA2LjkyOTgyODIyLDE1LjMyNzQzNzQgNy4yMTQzOTEzLDE0LjUyODA4NDQgQzcuNTAwOTU2LDEzLjcyMTk4NTcgOC4yMjMyMDU3OCwxMi45NDI4Njk1IDguMjMxNTQ1ODUsMTIuNzc0MjI5NiBDOC4yNjAyMzU2OCwxMi4xMzY3NzA4IDguMTY5MTYyMTUsMTIuMDI4ODQxMyA4LjIzMTU0NTg1LDExLjg2MzU3NDIgQzguMzY5OTkwOTYsMTEuNDg5MTkzNyA4LjUzODc5MzkxLDExLjYzMDg1MTIgOC41Mzg3OTM5MSwxMS40MzUyMjg5IEM4LjUzODc5MzkxLDguOTg2NTc3ODIgMTAuMzQwMjQ4Myw3IDEyLjU2MzA0Myw3IEMxNC43ODU1MDQsNyAxNi41ODc2MjU2LDguOTg2NTc3ODIgMTYuNTg3NjI1NiwxMS40MzUyMjg5IEMxNi41ODc2MjU2LDExLjUyOTY2NzMgMTYuODI4ODIwMywxMS40MzUyMjg5IDE2Ljk0NDU4MDUsMTEuODYzNTc0MiBDMTYuOTY4MjY2MywxMS45NTEyNjcgMTYuOTg0NjEyOCwxMi4yODg1NDY3IDE2Ljk1NjU5MDIsMTIuNzc0MjI5NiBDMTYuOTQyOTEyNSwxMy4wMDY5NTI2IDE3LjU2ODc1MTEsMTMuMjg2ODk0OCAxNy44OTIwMTIxLDE0LjUyODA4NDQgQzE4LjIxNTYwNjYsMTUuNzY1OTAxMSAxNy44OTIwMTIxLDE2LjM0OTM5NTEgMTcuNzMwMjE0OCwxNi40ODc2Nzk4IEMxNy41Mjk3MTk2LDE2LjY2MzA2NTMgMTcuMjk4MTk5MywxNi4zNjI4ODYzIDE3LjExMTA0ODIsMTYuMDU5MzM0NSBDMTYuOTM2NTc0LDE1Ljc3OTM5MjMgMTYuODAwNDY0MSwxNS40OTYwNzczIDE2Ljc2NTQzNTgsMTUuNjA0MDA2OCBDMTYuNTg4OTYsMTYuMTQzNjU0NSAxNi41MDYyMjY2LDE2LjUwNDU0MzggMTUuOTg1ODA2NCwxNy4wOTQ3ODM0IEMxNS45NTgxMTc0LDE3LjEyNTEzODYgMTYuNTg3NjI1NiwxNy4zNTQ0ODg4IDE2Ljc2NTQzNTgsMTcuODQ2OTE3MyBDMTYuOTM2MjQwNCwxOC4zMTU3MzYyIDE3LjI2ODE3NTEsMTkuMDYxMTI0NCAxNS4wOTU0MjA4LDE5LjI5Mzg0NzUgQzE0LjQxMTUzNTQsMTkuMzY4MDQ5IDEzLjgzMDA2NTksMTkuMTY1NjgxMiAxMy40MjM0MDQzLDE4Ljk2MzMxMzMgQzEzLjA3MTExOTgsMTguNzg3OTI3OCAxMi44NDk5NDEzLDE4LjYxMjU0MjQgMTIuODA3NTczNywxOC42MTU5MTUyIEMxMi42MzcxMDI4LDE4LjYyOTQwNjMgMTIuNzEyODMwNiwxOC42MTU5MTUyIDEyLjUzMDAxNjMsMTguNjE1OTE1MiBDMTIuMzgwNTYyMywxOC42MTU5MTUyIDEyLjM3MDU1NDIsMTguNjI2MDMzNSAxMi4yMjk3NzM5LDE4LjYxNTkxNTIgQzEyLjE5MTA3NiwxOC42MTI1NDI0IDExLjc2NzA2NywxOS4yOTM4NDc1IDkuODcyMjAzOCwxOS4yOTM4NDc1IEM4LjQwMzY4NDgzLDE5LjI5Mzg0NzUgOC4wMjMwNDQxOCwxOC4zNTk1ODI1IDguMzE4NjE2MTUsMTcuODQ2OTE3MyBDOC42MTM4NTQ1MSwxNy4zMzA4NzkyIDkuMTA2OTE5MjYsMTcuMTgyNDc2MSA5LjAzNzE5NjMxLDE3LjEwMTUyOSBDOC42OTUyNTM1NywxNi43MDAxNjYxIDguNDU5Mzk2NDgsMTYuMjcxODIwOCA4LjMxODYxNjE1LDE1Ljg4Mzk0OSBDOC4yODM1ODc4NywxNS43ODYxMzc5IDguMjU0MjMwODMsMTUuNjk1MDcyNCA4LjIzMTU0NTg1LDE1LjYwNDAwNjggQzguMjA1NTI0ODQsMTUuNTAyODIyOSA4LjA5NzQzNzU4LDE1Ljc4Mjc2NTEgNy45NDI2NDU5NCwxNi4wNTkzMzQ1IEM3LjgxMDIwNTY3LDE2LjI5ODgwMzIgNy42NDM0MDQzNCwxNi41MzgyNzE4IDcuNDY1OTI3NzIsMTYuNTM4MjcxOCBDNy40MjEyMjQ5NiwxNi41MzgyNzE4IDcuMzc1NTIxMzksMTYuNTI0NzgwNiA3LjMyOTgxNzgzLDE2LjQ4NzY3OTggTDcuMzI5ODE3ODMsMTYuNDg3Njc5OCBaIiBpZD0iU2hhcGUtQ29weS00IiBmaWxsPSIjRjJGMkYyIj48L3BhdGg+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==');\n}\n.shareLayer .mc .share .weibo {\n  background-image: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjdweCIgaGVpZ2h0PSIyNnB4IiB2aWV3Qm94PSIwIDAgMjcgMjYiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ1LjIgKDQzNTE0KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT7lvq7ljZo8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iMDQtMDDmloflrZciIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01NDguMDAwMDAwLCAtODYuMDAwMDAwKSI+CiAgICAgICAgICAgIDxnIGlkPSLlvq7ljZoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDU0OC4wMDAwMDAsIDg2LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPGVsbGlwc2UgaWQ9Ik92YWwtQ29weSIgZmlsbD0iI0RBNjQ0QSIgY3g9IjEzLjAzNjAxMTEiIGN5PSIxMyIgcng9IjEzLjAzNjAxMTEiIHJ5PSIxMyI+PC9lbGxpcHNlPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTE1LjYyMjY1ODYsNy4wMDkyNzgzNiBDMTUuNjIyNjU4Niw3LjAwOTI3ODM2IDE3LjU1MTQ2MjksNi44MjA1Mzg2IDE4Ljk4Nzk4MzIsOC4xNDU1Njg3IEMyMC40MjQ1MDM2LDkuNDY2NzQ2OTYgMTkuOTc0OTIzNywxMS42NjYxNDI5IDE5Ljk3NDkyMzcsMTEuNjY2MTQyOSBDMTkuOTQ0ODcyNiwxMS45ODU4NDQ5IDE5LjY1NjYxOTYsMTIuMjUxNjIxMyAxOS4zMjg0MzAyLDEyLjI4NjI4NzggQzE5LjM1MjE1NDgsMTIuMjkwMTM5NiAxOS4zNzY2NzAxLDEyLjI5MDEzOTYgMTkuNDAxNTgwOSwxMi4yOTAxMzk2IEwxOS4yNTM2OTgsMTIuMjkwMTM5NiBDMTkuMjc5MDA0MSwxMi4yOTAxMzk2IDE5LjMwMzUxOTUsMTIuMjkwMTM5NiAxOS4zMjg0MzAyLDEyLjI4NjI4NzggQzE5LjAwOTczMDcsMTIuMjUxNjIxMyAxOC43OTcwMDA4LDExLjk4NTg0NDkgMTguODQzMjYzNiwxMS42NjYxNDI5IEMxOC44NDMyNjM2LDExLjY2NjE0MjkgMTkuMTk2NzU5MSwxMC4zMzM0MDkxIDE4LjMzNTU1ODYsOS4xMjc3ODU3OCBDMTcuNDczMTcyLDcuOTIyMTYyNDYgMTUuNjIwNjgxNSw4LjEzMDE2MTM3IDE1LjYyMDY4MTUsOC4xMzAxNjEzNyBDMTUuMjkwOTEwNSw4LjEzMDE2MTM3IDE1LjAxMTM1NjUsNy44OTUxOTk2NCAxNC45NzY5NTU5LDcuNTc5MzQ5NDQgQzE0Ljk3NDU4MzUsNy42MDI0NjA0MyAxNC45NzMzOTcyLDcuNjIxNzE5NTkgMTQuOTczMzk3Miw3LjY0NDgzMDU4IEwxNC45NzMzOTcyLDcuNTEzODY4MyBDMTQuOTczMzk3Miw3LjUzNjk3OTI5IDE0Ljk3NDU4MzUsNy41NTYyMzg0NSAxNC45NzY5NTU5LDcuNTc5MzQ5NDQgQzE1LjAxMTM1NjUsNy4yNjM0OTkyNSAxNS4yODY5NTY1LDcuMDEzMTMwMTkgMTUuNjIyNjU4Niw3LjAwOTI3ODM2IEwxNS42MjI2NTg2LDcuMDA5Mjc4MzYgWiBNNSwxNC42MjA0OTc3IEM1LDEyLjI4NjI4NzggOS41MDY0NzQ1OCw4LjYwMDA4NDg0IDExLjIzMDg1MjUsOC42MDAwODQ4NCBDMTEuOTUzNjU5OSw4LjYwMDA4NDg0IDEzLjM3MjM4NjgsOS4xMjc3ODU3OCAxMi4zNzk5MTA2LDEwLjc5MTc3NzEgQzEyLjM1MjIzMiwxMC44Mzc5OTkgMTIuNzA1NzI3NSwxMC42OTE2Mjk0IDEzLjIyMDU0OTgsMTAuNTQ1MjU5OCBDMTMuOTkwODA2MywxMC4zMjU3MDU0IDE1LjEyMzI1NzIsMTAuMTEwMDAyOSAxNS44Nzk2NzQzLDEwLjUzMzcwNDMgQzE3LjE0MTQyMzksMTEuMjUwMTQ1IDE1Ljg3OTY3NDMsMTIuMzk0MTM5IDE1Ljg3OTY3NDMsMTIuNTIxMjQ5NSBDMTUuODc5Njc0MywxMi42NDgzNTk5IDE4LjQxMzQ1NDIsMTIuNjQ4MzU5OSAxOC40MTM0NTQyLDE0LjYyMDQ5NzcgQzE4LjQxMzQ1NDIsMTYuOTUwODU1OSAxNS40MzI4NjIzLDE4Ljg0MjEwNTMgMTEuNzIxMTU5NSwxOC44NDIxMDUzIEM4LjAwOTA2MTI5LDE4Ljg0MjEwNTMgNSwxNi45NTA4NTU5IDUsMTQuNjIwNDk3NyBMNSwxNC42MjA0OTc3IFogTTE1LjgzNjk3MDIsOS4wNzAwMDgzIEMxNS44MzY5NzAyLDkuMDcwMDA4MyAxNi43NDE2NjU2LDguODMxMTk0NzQgMTcuNTI1MzY1OSw5LjUxNjgyMDc4IEMxOC4zMDkwNjYyLDEwLjIwNjI5ODYgMTcuOTg4Mzg5NywxMS4zNDI1ODkgMTcuOTg4Mzg5NywxMS4zNDI1ODkgQzE3Ljk1NDc3OTksMTEuNTczNjk4OSAxNy43MjIyNzk1LDExLjc1ODU4NjggMTcuNDgxNDc1NSwxMS43NTg1ODY4IEwxNy40Mzg3NzE0LDExLjc1ODU4NjggQzE3LjE5NzE3NjYsMTEuNzU4NTg2OCAxNy4wNTY0MTEsMTEuNTc3NTUwNyAxNy4xMjI4Mzk3LDExLjM1NDE0NDUgQzE3LjEyMjgzOTcsMTEuMzU0MTQ0NSAxNy40MjA5NzgsMTAuNjg3Nzc3NiAxNy4wMDMwMzA4LDEwLjIwNjI5ODYgQzE2LjU4NTA4MzcsOS43MjA5Njc4NSAxNS44MzgxNTY0LDkuODMyNjcwOTcgMTUuODM4MTU2NCw5LjgzMjY3MDk3IEMxNS42MTg3MDQ1LDkuODM2NTIyODEgMTUuNDQwMzc1MSw5LjY5MDE1MzIgMTUuNDExMTE0OCw5LjQ4OTg1Nzk1IEMxNS40MDgzNDcsOS41MDkxMTcxMSAxNS40MDY3NjUzLDkuNTI4Mzc2MjcgMTUuNDA2NzY1Myw5LjU0NzYzNTQzIEwxNS40MDY3NjUzLDkuNDI4MjI4NjUgQzE1LjQwNjc2NTMsOS40NDc0ODc4MSAxNS40MDgzNDcsOS40NjY3NDY5NiAxNS40MTExMTQ4LDkuNDg5ODU3OTUgQzE1LjQ0MDM3NTEsOS4yODE4NTkwNCAxNS42MTk4OTA3LDkuMTAwODIyOTYgMTUuODM2OTcwMiw5LjA3MDAwODMgTDE1LjgzNjk3MDIsOS4wNzAwMDgzIFogTTExLjExMTgzNDUsMTIuMTA5MTAzNSBDOC43NDA1Njc2NSwxMi40MzY1MDkyIDYuOTk0MDQ2NzksMTMuOTE1NjEyNSA3LjIxMDMzNTQzLDE1LjQxNzgyNjkgQzcuNDI3MDE5NDgsMTYuOTIwMDQxMyA5LjUyNTA1ODgsMTcuODc1Mjk1NSAxMS44OTY3MjEsMTcuNTQ3ODg5OCBDMTQuMjY3OTg3OSwxNy4yMjQzMzYgMTYuMDE1Mjk5NSwxNS43NDUyMzI2IDE1Ljc5ODYxNTUsMTQuMjQzMDE4MiBDMTUuNjEwNDAwOSwxMi45MzcyNDczIDE0LjAwNDI1MDIsMTIuMDQ3NDc0MiAxMi4wMzIzNDYzLDEyLjA0NzQ3NDIgQzExLjczMjYyNjQsMTIuMDQ3NDc0MiAxMS40MjQ2MDI5LDEyLjA2NjczMzMgMTEuMTExODM0NSwxMi4xMDkxMDM1IEwxMS4xMTE4MzQ1LDEyLjEwOTEwMzUgWiBNOC40OTA2NjkyNywxNS41NDg3ODkyIEM4LjI2MTcyNzU1LDE0LjQwNDc5NTIgOS4yMjA1OTM5OSwxMy4yNjA4MDEyIDEwLjYzMTAxNzMsMTIuOTk1MDI0OCBDMTIuMDQxNDQwNywxMi43MjUzOTY2IDEzLjM3MDQwOTgsMTMuNDM3OTg1NCAxMy41OTg5NTYxLDE0LjU4MTk3OTQgQzEzLjgyNzEwNywxNS43MjU5NzM0IDEyLjg2OTAzMTQsMTYuODczODE5MyAxMS40NTgyMTI2LDE3LjEzOTU5NTcgQzExLjI1Nzc0MDMsMTcuMTc4MTE0IDExLjA1OTI0NTEsMTcuMTk3MzczMSAxMC44NjUwOTk0LDE3LjE5NzM3MzEgQzkuNjkyNzEyMTUsMTcuMTk3MzczMSA4LjY4Njc5MjA1LDE2LjUzMTAwNjMgOC40OTA2NjkyNywxNS41NDg3ODkyIEw4LjQ5MDY2OTI3LDE1LjU0ODc4OTIgWiBNMTEuMDcwNzEyLDE0LjYyMDQ5NzcgQzExLjA3MDcxMiwxNC44NTE2MDc2IDExLjI2NDg1NzcsMTUuMDQwMzQ3NCAxMS41MDQ0NzU1LDE1LjA0MDM0NzQgQzExLjc0MzY5NzgsMTUuMDQwMzQ3NCAxMS45Mzc4NDM2LDE0Ljg1MTYwNzYgMTEuOTM3ODQzNiwxNC42MjA0OTc3IEMxMS45Mzc4NDM2LDE0LjM4NTUzNiAxMS43NDM2OTc4LDE0LjE5Njc5NjMgMTEuNTA0NDc1NSwxNC4xOTY3OTYzIEMxMS4yNjQ4NTc3LDE0LjE5Njc5NjMgMTEuMDcwNzEyLDE0LjM4NTUzNiAxMS4wNzA3MTIsMTQuNjIwNDk3NyBMMTEuMDcwNzEyLDE0LjYyMDQ5NzcgWiBNOS45NTQ4NjgyMSwxNC44NTU0NTk1IEM5LjUyMDcwOTMsMTUuMDUxOTAyOSA5LjI5MTc2NzU4LDE1LjQ3MTc1MjUgOS40NDM2MDQ1OCwxNS43ODc2MDI3IEM5LjU5NTQ0MTU3LDE2LjEwMzQ1MjkgMTAuMDcwMzI3NiwxNi4xOTk3NDg3IDEwLjUwNDA5MTEsMTYuMDAzMzA1MyBDMTAuOTM4MjUsMTUuODA2ODYxOSAxMS4xNjc1ODcxLDE1LjM5MDg2NDEgMTEuMDE1MzU0NywxNS4wNzUwMTM5IEMxMC45MTY4OTc5LDE0Ljg2NzAxNSAxMC42ODIwMjUxLDE0Ljc1NTMxMTkgMTAuNDEwMzc5MiwxNC43NTUzMTE5IEMxMC4yNjQwNzc5LDE0Ljc1NTMxMTkgMTAuMTA2NzA1MiwxNC43ODYxMjY1IDkuOTU0ODY4MjEsMTQuODU1NDU5NSBMOS45NTQ4NjgyMSwxNC44NTU0NTk1IFoiIGlkPSJTaGFwZSIgZmlsbD0iI0YyRjJGMiI+PC9wYXRoPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=');\n}\n.shareLayer .mc .watch p {\n  margin: 10px 0;\n  white-space: nowrap;\n}\n.shareLayer .mc .watch p img {\n  width: 90px;\n  height: 90px;\n  margin-right: 10px;\n  vertical-align: middle;\n}\n.shareLayer .mc .watch p span {\n  line-height: 20px;\n  display: inline-block;\n  vertical-align: middle;\n}\n.single-preview {\n  position: absolute;\n  left: 0px;\n  bottom: 60px;\n  height: auto;\n  width: 170px;\n  border-radius: 4px;\n  overflow: hidden;\n  cursor: pointer;\n  z-index: 20;\n}\n.single-preview .process-skip-line {\n  width: 1px;\n  height: 14px;\n  background: #fff;\n  position: absolute;\n  bottom: 0;\n  z-index: 10;\n  opacity: 0;\n}\n.single-preview .preview-tips {\n  display: none;\n  position: relative;\n  left: 50%;\n  padding: 5px 8px;\n  background-color: rgba(0, 0, 0, 0.8);\n  color: #fff;\n  border-radius: 0px 0px 4px;\n  transform: translateX(-50%);\n  font-size: 12px;\n  letter-spacing: 0;\n  line-height: 21px;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n}\n.single-preview .youku-imgBg {\n  width: 160px;\n  height: 72px;\n  background: url(//http://g1.ykimg.com/052500015C668026ADE19E1AC2024206);\n}\n.single-preview .dn {\n  display: none;\n}\n.single-preview .cover {\n  display: none;\n  position: absolute;\n  top: 0px;\n  width: 128px;\n  height: 71px;\n  z-index: 101;\n}\n.single-preview .cover .videoInfo {\n  position: absolute;\n  bottom: -16px;\n  width: 100%;\n  height: 33px;\n  line-height: 120%;\n  overflow: hidden;\n  font-size: 12px;\n  color: #FFFFFF;\n  letter-spacing: 0;\n  line-height: 12px;\n  text-align: center;\n}\n.single-preview .thumbPic {\n  position: relative;\n  height: 100%;\n  width: auto;\n}\n.preview {\n  display: none;\n  position: absolute;\n  left: 0px;\n  bottom: 56px;\n  height: 72px;\n  width: 100%;\n  cursor: pointer;\n  z-index: 20;\n}\n.preview .gradient {\n  position: absolute;\n  left: 0px;\n  top: -70px;\n  width: 100%;\n  height: 70px;\n  background: -webkit-gradient(linear, center top, center bottom, from(rgba(0, 0, 0, 0)), to(#28262b));\n  background: -moz-gradient(linear, center top, center bottom, from(rgba(0, 0, 0, 0)), to(#28262b));\n  background: gradient(linear, center top, center bottom, from(rgba(0, 0, 0, 0)), to(#28262b));\n  background: -moz-linear-gradient(to bottom, rgba(0, 0, 0, 0), #28262b);\n  background: -webkit-linear-gradient(to bottom, rgba(0, 0, 0, 0), #28262b);\n  background: linear-gradient(to bottom, rgba(0, 0, 0, 0), #28262b);\n}\n.preview .cover {\n  display: none;\n  position: absolute;\n  top: 0px;\n  width: 126px;\n  height: 68px;\n  border: 2px solid #02a8e3;\n  z-index: 100;\n}\n.preview .cover .videoInfo {\n  position: absolute;\n  left: 8px;\n  bottom: -14px;\n  width: 100%;\n  height: 33px;\n  line-height: 120%;\n  overflow: hidden;\n  font-family: PingFangSC-Semibold;\n  font-size: 14px;\n  color: #FFFFFF;\n  letter-spacing: 0;\n  line-height: 12px;\n}\n.preview .cover .shareIcon {\n  display: none;\n  position: absolute;\n  top: 2px;\n  right: 5px;\n  /*display: inline-block;*/\n  width: 30px;\n  height: 12px;\n  font-size: 12px;\n  font-weight: bold;\n  padding: 5px 5px 5px 15px;\n  background: #000 url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjFweCIgaGVpZ2h0PSIxN3B4IiB2aWV3Qm94PSIwIDAgMjEgMTciIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ1LjIgKDQzNTE0KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5zaGFyZTwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSIwNC0wMOaWh+WtlyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE0Ni4wMDAwMDAsIC01NDUuMDAwMDAwKSIgZmlsbD0iI0ZGRkZGRiI+CiAgICAgICAgICAgIDxnIGlkPSIyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNDYuMDAwMDAwLCA1NDMuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0ic2hhcmUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCAyLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0yMC43NzYyNzIyLDQuMzk3NzQ0OTkgQzIwLjY5OTQ1NTgsNC40NzQ5MyAyMC42MTAzNDg4LDQuNTMwNTAzMjIgMjAuNTE1NjA4Niw0LjU2ODA2NjU5IEMyMC40MTkzMzIxLDQuNjExODA0NzcgMjAuMzE0MzQ5Nyw0LjYzOTU5MTM3IDIwLjIwMTY4NTcsNC42Mzk1OTEzNyBMMTguODAwNTU0Nyw0LjYzOTU5MTM3IEMxOC44MDE1NzksNC42NDMxOTMzNCAxOC44MDI2MDMyLDQuNjQ3MzA5ODggMTguODA0MTM5NSw0LjY1MTQyNjQxIEwxNi40OTcwODczLDQuNjUxNDI2NDEgTDE2LjQ4MjIzNjIsNC42NzUwOTY0OCBDMTQuOTAzOTE1NSw0Ljc0NjYyMTI2IDEyLjc0NTM3NSw2LjMxODEwODIxIDExLjk2NjQ1NjgsOC41MDI0NDQxOSBMMTEuODkwMTUyNSw4LjUwMjQ0NDE5IEMxMS44OTAxNTI1LDguNTAzOTg3ODkgMTEuODkxMTc2OCw4LjUwNTUzMTU5IDExLjg5MTE3NjgsOC41MDcwNzUyOSBDMTEuODkxMTc2OCw4LjkzMTU5Mjg5IDExLjU0ODU3NTcsOS4yNzUzMjM1IDExLjEyNjU5NzcsOS4yNzUzMjM1IEMxMC43MDQ2MTk2LDkuMjc1MzIzNSAxMC4zNjI1MzA3LDguOTMxNTkyODkgMTAuMzYyNTMwNyw4LjUwNzA3NTI5IEMxMC4zNjI1MzA3LDguNTA1NTMxNTkgMTAuMzYzMDQyOCw4LjUwNDUwMjQ2IDEwLjM2MzA0MjgsOC41MDI5NTg3NiBMMTAuMzQ2MTQzMiw4LjUwMjk1ODc2IEMxMC4zNjE1MDY0LDguNDQwMTgxNjEgMTAuMzgzNTI3MSw4LjM3ODk0ODE2IDEwLjQwMDkzODgsOC4zMTY2ODU1OCBDMTAuNDEyNzE3NCw4LjI3MDg4OTE0IDEwLjQyMDM5OSw4LjIyNDU3ODEzIDEwLjQzOTg1OTEsOC4xODIzODM2NSBDMTEuMjk3MTMsNS4zMjgwODE3MyAxNC4xNzM2NDc3LDMuMTU0NTUxNjUgMTYuNTc1NDQwMSwzLjExOTU2MTEgQzE2LjYwMjA2OTcsMy4xMTY5ODgyNyAxNi42MjUxMTQ3LDMuMTA0MTI0MSAxNi42NTIyNTY0LDMuMTA0MTI0MSBMMTguNDA3NzY3LDMuMTA0MTI0MSBMMTYuNjIzMDY2MiwxLjMxMDM0NDMxIEMxNi4zMjUwMTg2LDEuMDEwODY2NDQgMTYuMzI1MDE4NiwwLjUyNDYwMDgzMiAxNi42MjMwNjYyLDAuMjI0NjA4NCBDMTYuOTIxNjI1OSwtMC4wNzQ4Njk0NjY1IDE3LjQwNTU2OTIsLTAuMDc0ODY5NDY2NSAxNy43MDM2MTY3LDAuMjI0NjA4NCBMMjAuNzc2MjcyMiwzLjMxMjAwOTA4IEMyMS4wNzQ4MzE5LDMuNjEyMDAxNTEgMjEuMDc0MzE5OCw0LjA5Nzc1MjU1IDIwLjc3NjI3MjIsNC4zOTc3NDQ5OSBaIE0xMC41MzQ1OTk0LDEuNTU2ODIxNzkgQzEwLjUwNzk2OTcsMS41NTY4MjE3OSAxMC40ODU0MzY5LDEuNTQzOTU3NjIgMTAuNDU5MzE5MywxLjU0MTM4NDc5IEwxMC40NTkzMTkzLDEuNTY0NTQwMyBMMy4wODA4NDkyNCwxLjU2NDU0MDMgQzIuMjMyMjg0MjIsMS41NjQ1NDAzIDEuNTQ0NTIxNDksMi4yNTU2MDM0OCAxLjU0NDUyMTQ5LDMuMTA4MjQwNjQgTDEuNTQ0NTIxNDksMTMuODk4MTkxNCBDMS41NDQ1MjE0OSwxNC43NTA4Mjg2IDIuMjMyMjg0MjIsMTUuNDQxODkxOCAzLjA4MDg0OTI0LDE1LjQ0MTg5MTggTDE3LjkzMjAxNzUsMTUuNDQxODkxOCBDMTguNzgwNTgyNSwxNS40NDE4OTE4IDE5LjQ2ODM0NTIsMTQuNzUwODI4NiAxOS40NjgzNDUyLDEzLjg5ODE5MTQgTDE5LjQ2ODM0NTIsOC41NTEzMjgwNCBMMTkuNDgwNjM1OCw4LjU1MTMyODA0IEMxOS40Nzg1ODc0LDguNTMwMjMwOCAxOS40NjgzNDUyLDguNTEyMjIwOTYgMTkuNDY4MzQ1Miw4LjQ5MTEyMzcyIEMxOS40NjgzNDUyLDguMDY3MTIwNyAxOS44MTA0MzQyLDcuNzIzMzkwMDkgMjAuMjMyNDEyMiw3LjcyMzM5MDA5IEMyMC42NTQ5MDIzLDcuNzIzMzkwMDkgMjAuOTk2OTkxMyw4LjA2NzEyMDcgMjAuOTk2OTkxMyw4LjQ5MTEyMzcyIEMyMC45OTY5OTEzLDguNTEyMjIwOTYgMjAuOTg2NzQ5MSw4LjUzMDIzMDggMjAuOTg0NzAwNyw4LjU1MTMyODA0IEwyMC45OTA4NDYsOC41NTEzMjgwNCBMMjAuOTkwODQ2LDEzLjkxMjU5OTMgQzIwLjk5MDg0NiwxNS42MTc4NzM2IDE5LjYxNDgwODUsMTcgMTcuOTE4MTkwNSwxNyBMMy4wNzI2NTU0OSwxNyBDMS4zNzU1MjU0NCwxNyAwLDE1LjYxNzg3MzYgMCwxMy45MTI1OTkzIEwwLDMuMTE1NDQ0NTcgQzAsMS40MTAxNzAyNiAxLjM3NTUyNTQ0LDAuMDI4MDQzODg5NSAzLjA3MjY1NTQ5LDAuMDI4MDQzODg5NSBMMTAuNDU5MzE5MywwLjAyODA0Mzg4OTUgTDEwLjQ1OTMxOTMsMC4wMzYyNzY5NTggQzEwLjQ4NTQzNjksMC4wMzMxODk1NTczIDEwLjUwNzk2OTcsMC4wMjA4Mzk5NTQ2IDEwLjUzNDU5OTQsMC4wMjA4Mzk5NTQ2IEMxMC45NTY1Nzc0LDAuMDIwODM5OTU0NiAxMS4yOTg2NjY0LDAuMzY0NTcwNTY0IDExLjI5ODY2NjQsMC43ODg1NzM1OTEgQzExLjI5ODY2NjQsMS4yMTMwOTExOCAxMC45NTY1Nzc0LDEuNTU2ODIxNzkgMTAuNTM0NTk5NCwxLjU1NjgyMTc5IFoiIGlkPSLlnIbop5Lnn6nlvaItMS3lia/mnKwiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+');\n  background-size: 12px 12px;\n  background-repeat: no-repeat;\n  background-position: 5px center;\n  text-align: right;\n}\n.preview .case {\n  position: absolute;\n  top: 0px;\n  width: 126px;\n  height: 68px;\n  border: 2px solid #02a8e3;\n  z-index: 100;\n}\n.preview .thumbPic {\n  position: absolute;\n  height: 100%;\n  width: auto;\n}\n.preview .thumbPic .item {\n  display: inline-block;\n  height: 100%;\n}\n.preloading-layer {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-color: #000;\n  text-align: center;\n  align-items: center;\n  justify-content: center;\n  display: flex;\n  z-index: 81;\n  pointer-events: none;\n}\n.preloading-layer.blackbg {\n  background-color: rgba(0, 0, 0, 0.2);\n  color: #fff;\n}\n.preloading-layer.blackbg p {\n  font-size: 14px;\n  line-height: 2.5em;\n}\n.preloading-layer .preloading-container {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 150px;\n  height: 75px;\n  margin-left: -75px;\n  margin-top: -40px;\n}\n.preloading-layer .preloading-container img {\n  width: 100%;\n}\n.preloading-layer .h5-layer-loading {\n  position: relative;\n  width: 150px;\n  height: 60px;\n  margin: 0 auto;\n}\n.preloading-layer .h5-layer-loading .spinner {\n  margin: auto;\n  width: 60px;\n  height: 60px;\n  position: relative;\n  text-align: center;\n  -webkit-animation: rotate 2.0s infinite linear;\n  animation: rotate 2.0s infinite linear;\n}\n.preloading-layer .h5-layer-loading .dot1,\n.preloading-layer .h5-layer-loading .dot2 {\n  width: 60%;\n  height: 60%;\n  display: inline-block;\n  position: absolute;\n  top: 0;\n  background-color: #FE5280;\n  border-radius: 100%;\n  -webkit-animation: bounce 2s infinite ease-in-out;\n  animation: bounce 2s infinite ease-in-out;\n}\n.preloading-layer .h5-layer-loading .dot2 {\n  background-color: #3EB0FF;\n}\n.preloading-layer .h5-layer-loading .dot2 {\n  top: auto;\n  bottom: 0px;\n  -webkit-animation-delay: -1s;\n  animation-delay: -1s;\n}\n@-webkit-keyframes rotate {\n  100% {\n    -webkit-transform: rotate(360deg);\n  }\n}\n@keyframes rotate {\n  100% {\n    transform: rotate(360deg);\n    -webkit-transform: rotate(360deg);\n  }\n}\n@-webkit-keyframes bounce {\n  0%,\n  100% {\n    -webkit-transform: scale(0);\n  }\n  50% {\n    -webkit-transform: scale(1);\n  }\n}\n@keyframes bounce {\n  0%,\n  100% {\n    transform: scale(0);\n    -webkit-transform: scale(0);\n  }\n  50% {\n    transform: scale(1);\n    -webkit-transform: scale(1);\n  }\n}\n.preloading-layer .h5-layer-loading .spinner1 {\n  margin: 20px auto 0;\n  width: 150px;\n  text-align: center;\n}\n.preloading-layer .h5-layer-loading .spinner1 > div {\n  width: 20px;\n  height: 20px;\n  background-color: #3EB0FF;\n  border-radius: 100%;\n  display: inline-block;\n  -webkit-animation: bouncedelay 1.4s infinite ease-in-out;\n  animation: bouncedelay 1.4s infinite ease-in-out;\n  /* Prevent first frame from flickering when animation starts */\n  -webkit-animation-fill-mode: both;\n  animation-fill-mode: both;\n}\n.preloading-layer .h5-layer-loading .spinner1 .bounce1 {\n  -webkit-animation-delay: -0.32s;\n  animation-delay: -0.32s;\n}\n.preloading-layer .h5-layer-loading .spinner1 .bounce2 {\n  -webkit-animation-delay: -0.16s;\n  animation-delay: -0.16s;\n}\n@-webkit-keyframes bouncedelay {\n  0%,\n  80%,\n  100% {\n    -webkit-transform: scale(0);\n  }\n  40% {\n    -webkit-transform: scale(1);\n  }\n}\n@keyframes bouncedelay {\n  0%,\n  80%,\n  100% {\n    transform: scale(0);\n    -webkit-transform: scale(0);\n  }\n  40% {\n    transform: scale(1);\n    -webkit-transform: scale(1);\n  }\n}\n.top_area {\n  pointer-events: none;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  display: block;\n  width: 100%;\n  height: 100px;\n  font-size: 14px;\n  background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0.75), rgba(255, 255, 255, 0));\n  z-index: 1000;\n}\n.top_area .top-header {\n  padding: 25px 30px 28px 30px;\n  z-index: 9;\n  box-sizing: border-box;\n  color: #fff;\n  pointer-events: none;\n}\n.top_area .top-header .title {\n  width: 33%;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  display: inline-block;\n}\n.top_area .top-header .system-time {\n  float: right;\n}\n.top_area .top-header .scale {\n  pointer-events: none;\n  z-index: 9999;\n  position: absolute;\n  right: 109px;\n  top: 20px;\n  opacity: 0.8;\n}\n.top_area .top-header .has-hdr-scale {\n  right: 287px;\n}\n.top_area .top-header .scale:hover {\n  opacity: 1;\n}\n.top_area .top-header .percent-item {\n  pointer-events: auto;\n  cursor: pointer;\n  position: relative;\n  display: none;\n  width: 36px;\n  height: 30px;\n  font-size: 30px;\n  line-height: 30px;\n  text-align: center;\n}\n.top_area .top-header .percent-item-current {\n  display: inline-block;\n}\n.hint-information {\n  position: absolute;\n  bottom: 61px;\n  left: 16px;\n  line-height: 14px;\n  font-size: 14px;\n  color: #fff;\n  text-align: center;\n  z-index: 9;\n}\n.hint-information-tip {\n  width: auto;\n  display: inline-block;\n  padding: 11px 16px 11px 16px;\n  background: rgba(0, 0, 0, 0.6);\n  border-radius: 18px;\n}\n.hint-information-tip .oppinfo {\n  display: inline-block;\n  background: url('//img.alicdn.com/tfs/TB1YKLLaxrI8KJjy0FpXXb5hVXa-529-46.png');\n  background-size: 255px 23px;\n  background-repeat: no-repeat;\n  width: 255px;\n  height: 23px;\n  top: 7px;\n  margin-right: 2px;\n  position: relative;\n}\n.hint-information-quality .oppinfo {\n  display: inline-block;\n}\n.information-tips {\n  position: absolute;\n  bottom: 61px;\n  left: 16px;\n  width: 100%;\n  z-index: 90;\n  box-sizing: border-box;\n  color: #fff;\n  font-size: 14px;\n  height: 36px;\n  border-radius: 18px;\n  width: auto;\n  display: inline-block;\n  background: rgba(0, 0, 0, 0.6);\n}\n.information-tips .information-tip-link {\n  display: inline-block;\n  color: #0D9BFF;\n  cursor: pointer;\n  text-decoration: none;\n}\n.information-tips .login-720 {\n  margin-left: 24px;\n  display: inline-block;\n}\n.information-tips .information-tip-des {\n  display: inline-block;\n  color: #fff;\n  text-shadow: 1px 1px 2px #000000;\n  vertical-align: middle;\n  line-height: 14px;\n  padding: 11px 0px 11px 16px;\n}\n.information-tips .information-tip-close {\n  cursor: pointer;\n  display: inline-block;\n  vertical-align: middle;\n  margin-left: 12px;\n  margin-right: 16px;\n  width: 12px;\n  height: 12px;\n  line-height: 12px;\n}\n.information-tips .information-tip-close .iconfont {\n  font-size: 12px;\n  display: inline-block;\n}\n.information-window-tips {\n  position: absolute;\n  bottom: 61px;\n  left: 16px;\n  width: 100%;\n  z-index: 90;\n  box-sizing: border-box;\n  color: #fff;\n  font-size: 14px;\n  height: 90px;\n  border: 1px solid #000000;\n  border-radius: 2px;\n  background: #000000;\n  width: 250px;\n  text-align: center;\n}\n.information-window-tips .information-window-tip-des {\n  display: inline-block;\n  color: #fff;\n  text-shadow: 1px 1px 2px #000000;\n  vertical-align: middle;\n  height: 40px;\n  line-height: 40px;\n}\n.information-window-tips .information-window-tip-close {\n  font-size: 20px;\n  line-height: 20px;\n  cursor: pointer;\n  display: inline-block;\n  vertical-align: middle;\n  position: relative;\n  top: -1px;\n}\n.information-window-tips .information-window-btn {\n  color: #000000;\n  background-color: white;\n  width: 80px;\n  height: 35px;\n  border: 1px solid #000000;\n  border-radius: 10px;\n  text-align: center;\n  padding: 0;\n  margin: 0 auto;\n  line-height: 35px;\n  cursor: pointer;\n}\n.information-tips2 {\n  bottom: 10px;\n}\n.information-tip-top {\n  z-index: 9;\n  bottom: 0;\n  line-height: 2;\n  padding: 0 10px;\n  background: rgba(0, 0, 0, 0.6);\n}\n/**\n* 错误提示\n*/\n.note_error_second {\n  height: 100%;\n}\n.note_error_second .note_error_panel_sec {\n  width: 100%;\n  height: 100%;\n}\n.note_error_second .error_details {\n  position: absolute;\n  top: 47%;\n  transform: translateY(-50%);\n  width: 100%;\n}\n.note_error_second .error_tips {\n  position: absolute;\n  bottom: 5px;\n  width: 100%;\n}\n.drm-error-layer,\n.note_error {\n  position: absolute;\n  top: 50%;\n  left: 0;\n  transform: translateY(-50%);\n  display: block;\n  width: 100%;\n}\n.drm-error-layer .note_error_panel,\n.note_error .note_error_panel {\n  text-align: center;\n  color: #fff;\n  font-size: 14px;\n  z-index: 19;\n}\n.drm-error-layer .note_error_icon,\n.note_error .note_error_icon {\n  width: 42px;\n  height: 40px;\n  background-repeat: no-repeat;\n  background-size: 100% 100%;\n  margin: auto;\n  cursor: pointer;\n}\n.drm-error-layer .icon_setting_cookie,\n.note_error .icon_setting_cookie {\n  background-image: url('//img.alicdn.com/tfs/TB1YOJEi8DH8KJjSspnXXbNAVXa-40-40.svg');\n}\n.drm-error-layer .icon_refrash,\n.note_error .icon_refrash {\n  background-image: url('//img.alicdn.com/tfs/TB17WlKi3vD8KJjy0FlXXagBFXa-42-40.svg');\n}\n.drm-error-layer .icon_private,\n.note_error .icon_private {\n  width: 36px;\n  background-image: url('//img.alicdn.com/tfs/TB1bl8Bi3nH8KJjSspcXXb3QFXa-40-40.svg');\n}\n.drm-error-layer .icon_note_notice,\n.note_error .icon_note_notice {\n  width: 246px;\n  height: 148px;\n  background-image: url('//img.alicdn.com/tfs/TB15DOWCXT7gK0jSZFpXXaTkpXa-492-296.png');\n}\n.drm-error-layer .note_error_sendlog_success,\n.note_error .note_error_sendlog_success {\n  background-repeat: no-repeat;\n  display: inline-block;\n  background-image: url('//img.alicdn.com/tfs/TB1ofXrg5qAXuNjy1XdXXaYcVXa-24-24.png');\n  background-size: 12px 12px;\n  padding-left: 15px;\n  background-position: left center;\n}\n.drm-error-layer .note-error-code,\n.note_error .note-error-code {\n  position: absolute;\n  bottom: 20px;\n  right: 20px;\n  opacity: .6;\n}\n.drm-error-layer .note_notice_tit,\n.note_error .note_notice_tit,\n.drm-error-layer .note_error_tit,\n.note_error .note_error_tit,\n.drm-error-layer .note_normal_tit,\n.note_error .note_normal_tit {\n  padding: 20px 0 10px;\n  font-size: 18px;\n}\n.drm-error-layer .note_error_buttons,\n.note_error .note_error_buttons {\n  margin: auto;\n  margin-top: 20px;\n  display: flex;\n}\n.drm-error-layer .note_error_button_refrash,\n.note_error .note_error_button_refrash {\n  line-height: 32px;\n  font-size: 14px;\n  width: 80px;\n  height: 32px;\n  background-image: linear-gradient(-44deg, #00D3FF 0%, #00B7FF 100%);\n  border-radius: 100px;\n  cursor: pointer;\n  margin-right: 16px;\n}\n.drm-error-layer .note_error_button_refrash:hover,\n.note_error .note_error_button_refrash:hover {\n  background-image: linear-gradient(135deg, #4CCCFE 0%, #4DE0FF 100%);\n}\n.drm-error-layer .note_error_button_custom,\n.note_error .note_error_button_custom {\n  line-height: 32px;\n  font-size: 14px;\n  width: 80px;\n  height: 32px;\n  color: #0D9BFF;\n  border: 1px solid #0D9BFF;\n  border-radius: 16px;\n  cursor: pointer;\n}\n.drm-error-layer .note_error_button_custom:hover,\n.note_error .note_error_button_custom:hover {\n  color: #10BCFF;\n  border: 1px solid #10BCFF;\n}\n.drm-error-layer .note_error_item_container,\n.note_error .note_error_item_container {\n  margin: 20px 0;\n}\n.drm-error-layer .note_error_item_list,\n.note_error .note_error_item_list {\n  width: 171px;\n  display: inline-block;\n  text-align: center;\n}\n.drm-error-layer .note_error_itembg,\n.note_error .note_error_itembg {\n  width: 96px;\n  border-radius: 20px;\n  background-color: #ffffff;\n  padding: 23px 0 23px 0;\n  margin: auto;\n}\n.drm-error-layer .note_error_itemyouku,\n.note_error .note_error_itemyouku {\n  padding: 13px 0;\n}\n.drm-error-layer .note_error_itemqrcode,\n.note_error .note_error_itemqrcode {\n  padding: 7px 0 7px 0;\n}\n.drm-error-layer .note_error_item,\n.note_error .note_error_item {\n  width: 50px;\n  height: 50px;\n  background-repeat: no-repeat;\n  background-size: 100% 100%;\n  margin: auto;\n}\n.drm-error-layer .erweima,\n.note_error .erweima {\n  width: 82px;\n  height: 82px;\n  margin: 0 auto;\n  display: block;\n  margin: auto;\n}\n.drm-error-layer .chrome,\n.note_error .chrome {\n  background-image: url('//img.alicdn.com/tfs/TB1.wxrgyqAXuNjy1XdXXaYcVXa-96-96.png');\n}\n.drm-error-layer .youku_logo,\n.note_error .youku_logo {\n  cursor: pointer;\n  background-image: url('//img.alicdn.com/tfs/TB1b1JWXX67gK0jSZPfXXahhFXa-1024-1024.svg');\n  width: 70px;\n  height: 70px;\n}\n.drm-error-layer .note_error_item_title,\n.note_error .note_error_item_title {\n  font-size: 14px;\n  color: #DDDDDD;\n  padding: 10px 10px;\n  overflow: hidden;\n  white-space: nowrap;\n}\n.drm-error-layer .note_error_item_desc,\n.note_error .note_error_item_desc {\n  font-size: 12px;\n  color: #999999;\n}\n.drm-error-layer .note_error_item_ad,\n.note_error .note_error_item_ad {\n  font-size: 12px;\n  color: #000000;\n  background: #ffffff;\n  border-radius: 2px;\n  padding: 1px 3px;\n  width: 60px;\n  margin: auto;\n}\n.drm-error-layer a.note_error_link,\n.note_error a.note_error_link {\n  padding: 0 3px;\n  color: #008FFF;\n  cursor: pointer;\n  text-decoration: none;\n}\n.drm-error-layer .note_error_code,\n.note_error .note_error_code {\n  padding: 2px 0;\n  color: #aaaaaa;\n  font-size: 16px;\n}\n.drm-error-layer .note_error_code_ext,\n.note_error .note_error_code_ext {\n  padding: 2px 0;\n  color: #aaaaaa;\n  font-size: 12px;\n}\n.note_info {\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: #000000;\n  z-index: 10;\n}\n.note_info .note_panel {\n  position: relative;\n  top: 25%;\n  left: 0;\n  padding: 10px;\n  text-align: center;\n  color: #fff;\n  font-size: 14px;\n  z-index: 19;\n}\n.note_info .note_panel .note_title {\n  padding: 10px 0;\n  font-size: 16px;\n  line-height: 1.7;\n}\n.note_info .note_panel .note_desc {\n  padding: 20px 0;\n  line-height: 1.7;\n  text-align: center;\n}\n.note_info .note_panel .note_span {\n  display: inline-block;\n  vertical-align: top;\n  text-align: left;\n}\n.note_info .note_panel .note_type {\n  margin: 0 5px;\n  display: inline-block;\n  color: #f60;\n}\n.note_info .note_panel .note_fans {\n  display: inline-block;\n  margin: 0 15px 0 15px;\n}\n.note_info .note_panel .note_subscribe {\n  display: block;\n  align-items: center;\n}\n.note_info .note_panel .note_uploader {\n  border-radius: 50%;\n  width: 68px;\n  height: 68px;\n  margin: auto;\n  padding: 15px;\n  display: block;\n}\n.note_info .note_panel .note_btnsubscribe {\n  font-size: 18px;\n  display: inline-block;\n  background: #0D9BFF;\n  padding: 5px 15px;\n  border-radius: 25px;\n  cursor: pointer;\n}\n.note_info .note_panel .note_option {\n  padding: 10px 0;\n}\n.note_info .note_panel a.note_action {\n  display: inline-block;\n  background: #f60;\n  padding: 5px 15px;\n  border-radius: 3px;\n  cursor: pointer;\n  color: #fff;\n  text-decoration: none;\n}\n.note_info .note_panel .note_submit {\n  display: inline-block;\n  background: #0D9BFF;\n  padding: 5px 15px;\n  border-radius: 3px;\n  cursor: pointer;\n}\n.note_info .note_panel a.note_link {\n  padding: 0 10px;\n  color: #999;\n}\n.note_info .note_panel input.note_password {\n  width: 100px;\n  height: 28px;\n  margin: 0;\n  padding: 0;\n  text-align: center;\n  border: 1px solid #333;\n}\n.preplay-layer {\n  display: none;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-color: #101010;\n  text-align: center;\n  z-index: 110;\n}\n.preplay-layer .ykplayer-poster-logo {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n}\n.preplay-background {\n  width: 100%;\n  height: 100%;\n  opacity: 0.3;\n  filter: alpha(opacity=30);\n  -webkit-filter: blur(10px);\n  /* Chrome, Opera */\n  -moz-filter: blur(10px);\n  -ms-filter: blur(10px);\n  filter: blur(10px);\n  filter: progid:DXImageTransform.Microsoft.Blur(PixelRadius=10, MakeShadow=false);\n  /* IE6~IE9 */\n}\n.h5player-dashboard .h5-control-wrap {\n  background-image: linear-gradient(180deg, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.6));\n  padding: 0px 16px;\n  height: 50px;\n}\n.h5player-dashboard .h5-control-wrap .control-left-grid,\n.h5player-dashboard .h5-control-wrap .control-right-grid {\n  line-height: 50px;\n  padding: 0px;\n  font-size: 0px;\n}\n.h5player-progress .progress-hover-container {\n  height: 10px;\n}\n.h5player-progress .progress-container {\n  height: 3px;\n}\n.h5player-progress .progress-played {\n  transform: scaleX(-1);\n  background-image: linear-gradient(270deg, #0D9BFF 0%, #00D3FF 100%);\n}\n.h5player-progress .progress-hover-container:hover .progress-container {\n  height: 10px;\n}\n.h5player-dashboard .input-range-container .input-range-thumb {\n  border: 8px solid #00D3FF;\n}\n.h5player-dashboard .input-range-container .input-range-thumb:after {\n  top: -8px;\n  left: -8px;\n  border: 8px solid #00D3FF;\n}\n.h5player-dashboard .input-range-container .input-range-thumb:before {\n  border-color: rgba(0, 211, 255, 0.5);\n}\n.youku_player_fullscreen {\n  object-fit: contain;\n  position: absolute !important;\n  top: 0px !important;\n  right: 0px !important;\n  bottom: 0px !important;\n  left: 0px !important;\n  box-sizing: border-box !important;\n  width: 100% !important;\n  height: 100% !important;\n  z-index: 9000;\n}\n.youku_player_prefullscreen {\n  object-fit: contain;\n  position: fixed !important;\n  top: 0px !important;\n  right: 0px !important;\n  left: 0px !important;\n  box-sizing: border-box !important;\n  width: 100% !important;\n  z-index: 9000;\n  height: 100%;\n  bottom: 0;\n}\n.youku_player_fullpage {\n  object-fit: contain;\n  position: fixed !important;\n  top: 0px !important;\n  right: 0px !important;\n  bottom: 0px !important;\n  left: 0px !important;\n  box-sizing: border-box !important;\n  width: 100% !important;\n  height: 100% !important;\n  transform: none !important;\n  margin: 0px !important;\n  z-index: 9000 !important;\n}\n@media screen and (max-width: 289px) {\n  .youku_player_fullpage .h5-control-wrap .control-fullscreen-icon {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .icon-exit-webfullscreen {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .icon-picture {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-settings-icon {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .icon-volume {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-quality-icon .js-quality-text {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-quality-icon .js-language-text {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-phonewatch {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-rate-btn {\n    display: none !important;\n  }\n}\n@media screen and (min-width: 290px) and (max-width: 324px) {\n  .youku_player_fullpage .h5-control-wrap .icon-exit-webfullscreen {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .icon-picture {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-settings-icon {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .icon-volume {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-quality-icon .js-quality-text {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-quality-icon .js-language-text {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-phonewatch {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-rate-btn {\n    display: none !important;\n  }\n}\n@media screen and (min-width: 325px) and (max-width: 362px) {\n  .youku_player_fullpage .h5-control-wrap .icon-picture {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-settings-icon {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .icon-volume {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-quality-icon .js-quality-text {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-quality-icon .js-language-text {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-phonewatch {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-rate-btn {\n    display: none !important;\n  }\n}\n@media screen and (min-width: 363px) and (max-width: 398px) {\n  .youku_player_fullpage .h5-control-wrap .control-settings-icon {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .icon-volume {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-quality-icon .js-quality-text {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-quality-icon .js-language-text {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-phonewatch {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-rate-btn {\n    display: none !important;\n  }\n}\n@media screen and (min-width: 399px) and (max-width: 440px) {\n  .youku_player_fullpage .h5-control-wrap .icon-volume {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-quality-icon .js-quality-text {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-quality-icon .js-language-text {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-phonewatch {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-rate-btn {\n    display: none !important;\n  }\n}\n@media screen and (min-width: 441px) and (max-width: 488px) {\n  .youku_player_fullpage .h5-control-wrap .control-quality-icon .js-quality-text {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-quality-icon .js-language-text {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-phonewatch {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-rate-btn {\n    display: none !important;\n  }\n}\n@media screen and (min-width: 489px) and (max-width: 536px) {\n  .youku_player_fullpage .h5-control-wrap .control-quality-icon .js-language-text {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-phonewatch {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-rate-btn {\n    display: none !important;\n  }\n}\n@media screen and (min-width: 537px) and (max-width: 584px) {\n  .youku_player_fullpage .h5-control-wrap .control-quality-icon .js-language-text {\n    display: none !important;\n  }\n  .youku_player_fullpage .h5-control-wrap .control-phonewatch {\n    display: none !important;\n  }\n}\n@media screen and (min-width: 585px) and (max-width: 1023px) {\n  .youku_player_fullpage .h5-control-wrap .control-phonewatch {\n    display: none !important;\n  }\n}\n.youku_player_fullscreen_new {\n  box-sizing: border-box !important;\n  width: 100% !important;\n  height: 100% !important;\n  transform: none !important;\n  margin: 0px !important;\n  z-index: 9000;\n}\n.youku_player_fullscreen .danmuform {\n  visibility: hidden;\n}\n.yk-dmform {\n  z-index: 100 !important;\n}\n.youku-player {\n  position: relative;\n  overflow: hidden;\n  text-align: left;\n  white-space: normal;\n  background: #000;\n  color: #fff;\n  font: 12px/1.5 PingFangSC-Regular, Helvetica, Arial, Microsoft Yahei, sans-serif;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  -khtml-user-select: none;\n  user-select: none;\n  outline: none;\n  -webkit-touch-callout: none;\n}\n.youku-player :focus,\n.youku-player a:active {\n  outline: 0 none;\n}\n.youku-player,\n.youku-player * {\n  visibility: visible;\n  font-family: PingFangSC-Regular, sans-serif;\n}\n.youku-film-player {\n  position: relative;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  width: 100%;\n  height: 100%;\n  background-color: #000000;\n}\n.youku-inter-player {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: none;\n  background-color: #000000;\n}\n.ykplayer-dashboard-hidden .information-tips {\n  bottom: 0;\n}\n.ykplayer-dashboard-hidden .top_area {\n  display: none !important;\n}\n.fullscreen-75-percent video {\n  position: absolute !important;\n  width: 75% !important;\n  height: 75% !important;\n  top: 50% !important;\n  left: 50% !important;\n  transform: translate(-50%, -50%) !important;\n  background-color: #000000 !important;\n}\n.fullscreen-50-percent video {\n  position: absolute !important;\n  width: 50% !important;\n  height: 50% !important;\n  top: 50% !important;\n  left: 50% !important;\n  transform: translate(-50%, -50%) !important;\n  background-color: #000000 !important;\n}\n.h5player-dashboard .progress-container .input-range-container .yk-custom-thumb {\n  width: 20px;\n  height: 20px;\n  top: -10px;\n  border: 0px solid #fff;\n  border-radius: 0;\n  background: transparent;\n}\n.h5player-dashboard .progress-container .input-range-container .yk-custom-thumb:before {\n  display: none;\n}\n/**\n * 进度条颜色重置\n **/\n/***小窗样式***/\n.min-pattern {\n  width: 426px;\n  height: 240px;\n  max-width: 426px;\n  max-height: 240px;\n  position: fixed;\n  right: 0px;\n  top: 73px;\n  z-index: 1201;\n}\n.min-pattern .h5player-dashboard {\n  display: block !important;\n}\n.min-pattern .h5player-dashboard .h5-control-wrap {\n  display: none;\n}\n.min-pattern .h5player-dashboard .h5player-progress {\n  padding-bottom: 0px;\n}\n.min-pattern .h5player-dashboard .h5player-progress .progress-hover-container {\n  height: 0px;\n}\n.min-pattern .h5player-dashboard .h5player-progress .progress-container {\n  height: 3px !important;\n}\n.min-pattern .h5player-dashboard .h5player-progress .progress-hightlights {\n  display: none !important;\n}\n.min-pattern .h5player-dashboard .h5player-progress .input-range-thumb {\n  display: none !important;\n}\n.min-pattern .h5-layer-conatiner .yk-trigger-layer,\n.min-pattern .h5-layer-conatiner .preview {\n  display: none !important;\n}\n.min-pattern .h5-layer-conatiner .yk-trigger-layer,\n.min-pattern .h5-layer-conatiner .single-preview {\n  display: none !important;\n}\n.min-pattern .h5-layer-conatiner .minisize-layer {\n  display: block;\n}\n.min-pattern .h5-layer-conatiner .layer-recommend {\n  display: none !important;\n}\n.min-pattern .h5-layer-conatiner .information-tips {\n  bottom: 2px;\n  font-size: 12px;\n  height: 23px;\n  line-height: 20px;\n}\n.min-pattern .h5-layer-conatiner .information-tips .information-tip-des {\n  line-height: 12px;\n  padding: 4px 0px 4px 9px;\n}\n.min-pattern .yk-player-danmu {\n  z-index: 111;\n}\n.min-pattern .youku-film-player {\n  z-index: 112;\n}\n.min-pattern .preplay-layer {\n  z-index: 112;\n}\n.min-pattern .h5-ext-layer {\n  z-index: 112;\n}\n.min-pattern .js-hdr {\n  z-index: 110 !important;\n}\n.fast-forward-box {\n  position: absolute;\n  top: 50%;\n  padding: 4px;\n  border-radius: 20px;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 121;\n}\n.fast-forward-box .ff-text {\n  font-size: 14px;\n  margin-top: 12px;\n  vertical-align: middle;\n  text-shadow: 0 0 8px rgba(0, 0, 0, 0.4);\n}\n.fast-forward-box .ff-icon-box {\n  width: 32px;\n  height: 32px;\n  vertical-align: middle;\n  position: relative;\n}\n.fast-forward-box .ff-circle {\n  width: 32px;\n  height: 32px;\n  position: absolute;\n  left: 0;\n  top: 0;\n  animation-name: rotate;\n  animation-duration: 1s;\n  animation-iteration-count: infinite;\n  animation-timing-function: linear;\n}\n.fast-forward-box .ff-back {\n  width: 40px;\n  height: 40px;\n  position: absolute;\n  left: -4px;\n  top: -4px;\n}\n.fast-forward-box .ff-arrow {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 32px;\n  height: 32px;\n}\n@keyframes rotate {\n  0% {\n    transform: rotate(0);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n@keyframes horizontal-shake {\n  0% {\n    transform: translateX(0px);\n  }\n  25% {\n    transform: translateX(2px);\n  }\n  75% {\n    transform: translateX(-2px);\n  }\n  100% {\n    transform: translateX(0px);\n  }\n}\n/*清除浮动*/\n.clearfix:after {\n  content: \"\";\n  clear: both;\n  display: block;\n  height: 0;\n  visibility: hidden;\n}\n.clearfix {\n  zoom: 1;\n}\n.layer-recommend {\n  display: none;\n  position: absolute;\n  left: 0px;\n  bottom: 0px;\n  width: 100%;\n  height: 100%;\n  background: #111;\n  overflow: hidden;\n}\n.layer-recommend .endReload {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  font-size: 20px;\n  color: #fff;\n  text-decoration: none;\n  -webkit-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n}\n.layer-recommend .recommend-wrap {\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  /*bottom:35px;*/\n  height: 100%;\n}\n.layer-recommend .list {\n  position: relative;\n  float: left;\n  width: 100%;\n  height: 100%;\n}\n.layer-recommend .list .mc {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  width: 80%;\n  /*max-width: 935px;*/\n  -webkit-transform: translate(-50%, -55%);\n  transform: translate(-50%, -55%);\n}\n.layer-recommend .list .sp-rd {\n  float: left;\n  width: 417px;\n}\n.layer-recommend .list .recommend-img {\n  width: 100%;\n  height: 100%;\n  transition: all .2s ease 0s;\n}\n.layer-recommend .list .recommend-bg {\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  width: 100%;\n  height: 100%;\n  transition: all .2s;\n}\n.layer-recommend .list .spv_private {\n  float: left;\n  position: relative;\n  display: inline-block;\n  width: 417px;\n  height: 233px;\n  margin: 1px 1px 0 0;\n  overflow: hidden;\n}\n.layer-recommend .list .spv_private .recommend-bg {\n  background: rgba(11, 11, 11, 0.6);\n}\n.layer-recommend .list .spv_private .recommend-replay {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  width: 41px;\n  height: 72px;\n  font-size: 20px;\n  color: rgba(255, 255, 255, 0.4);\n  background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAABICAMAAABcFiw7AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAFuUExURf///////////////////////////0xpcf///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////90C9KcAAAB6dFJOU7OdQxYtqJIAWocLryJPAXA4rbKnBGUCLDCuHW2aaqR8HBkSD2kDc4WpLkp6J3dEDI6YW3gIRXuKg36wFzNxSRpuK0Fya6MRqxsYpZGJBkaGbJkTNYB1JqBCiKyxUzQJTm8Of4I+FapZR5ZLSCVmj5spUnZUVip5FKYFeCs7QAAAAstJREFUSMftlldX4zAQha9t2ZIcO70SQu+9LCxt6bDA9t577739+5VsB2zixOad+xLl6Du6MxppZNCA9ua2B9tzlUyufXB7ojswBd94l7UjoHdvepyJqakA2duXAHLj9vC+SeljrfR+qwNI9D2TEPzkpo7s4kre71ccnl1C7mWQzD8FuEUb1PYCqBV9ZP45EnaShii5WkGnjxzAUJk2UUnHETmCxHA4dtbbBY9cy2CVtiQveuQ8Fmm0BNmWTazFI2s4R2OR/QcYi0eWoCTjkT+xTuORvzERk7yAX9HYpelboH/xJ5rsxQ5oBmY0eQbnIQ7fvzhR4iRrHmA/mtxFh8y9FE2O4TPoOD5Ekyq+g/5AKpqs4RvoBu5E1/0LvoIWO7ARBX7ETlKczz4MRJFVfHLP/FJXa3C5kt1z7tEoFlpHOoot98YtZ/CkFTiB16+O7vtKi13P4K2vh9x/1LSHDLk30utLnXjwMDzWkQxG875O278O3Lsd0usWgGox2JPvDiF780agfybL81nomw3du6cmerI+a5e7J4v9k91le1z25GpvWJ+/PnMt2OenZ3rCXwShrsvVK0ouURFvx9W5rqZvR2QHOyVPSUo155XXGGkkVV6XfvjuUgJGNUJsJiRmUJAkEV8LDqfzlJxgdVL1zrPOuWH73Tn3WUnSZHpacwaGoQmSoUHCTYqpUCxBmgZS4ikAYZ4UpT5SC9yAwlXhnxZkWkbpuIvIpQzD/dXq7kEfSR7zP8xIrJ6SCcGQPi5JfBnVyYKtUUsXaRQMdGquO0PKF6dLpsVihEGXcZrieymVdknD208pSaoieV0Rtha1RGJU1etxHnc3RHAsED7Xwte0VaeakPGAy8RY0ziJM8c9D+KRGjF97kf7SWXFuSiBqAPzTkhQpBlpkmCNHIcwdzWk7hYxQtbkTc6S5ZFSnnuIxPlKyxwL3n9n+/8D/W1v8N8ZaF4AAAAASUVORK5CYII=') no-repeat;\n  -webkit-transform: translate(-50%, -50%);\n  -moz-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n  text-align: center;\n  cursor: pointer;\n}\n.layer-recommend .list .spv_private .recommend-dw {\n  position: absolute;\n  left: 0px;\n  bottom: 0px;\n  width: 417px;\n  height: 56px;\n  background: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAaEAAAA4CAMAAABjaLfPAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAMAUExURR50wh1yvjB+yD6GzYzB9B50wR1wukxpcXWu51SW1xporxtsth5yv5bK+maj4EqO0oG47nuz6h5zv5vO/ZHG9x1wu4e98W6p5B1xvB5zwF6c2x1vuhttthtttxtstB93xSJ6x0q3/x1wvCKF3ySL6RtqsiKG4CKF4B91w0Cm8CaBzjaX40u3/zCP20aw+CKH4R5yvyB+1COJ5h53yB1zwh10wyGA1xtttjic5zKS3i+O2UGo8kiy+ku3/0q2/iN8yj2j7S2L2ESu9j6l7zea5TWW4Uiz+0Wv+Em0/Eax+TSV4Duh60Kq8yF/1COK5h51wx1xvU+y9hxvvB97zyOJ5iGC2SGC2RxuuEmz+yF4xku3/yZ/zEOq9Dqe6CyK1ku3/0u3/yqH1EOs9UOr9Eu3/0u3/0u3/0u3/0qu9FC2+kWq8Tqd5zuf6Uu3/0u3/0u3/0u3/0u3/0u3/0u3/0u3/0u3/0u3/0u3/0u3/0u3/0u3/0u3/0u3/0u3/0u3/0q1/SSM6v///5rX/9vx/0u3/5/R/3Ot76rL9dfm+orR/2Ol7vb5/lGd7Uy3/z2V65DT//7//8HZ953E81O6/+Lt+5C88k24/7bS9tfv//j8//z+/4bP/4K18VG6/5nX/5bV/+b1/0+5/93x/4jQ/1+//4zR//r9/4nQ/1a7/5HT/3HH/9Ht/9rw/1i8//D5/4HN/1C5/3rL/5fW//v9/43S//7+/5PU/6/f/+Pz/9vw/2fC/+zz/Vm9/83f+b7l/8Dm/7bi/9/y/2XC/5TV//P6/7zk/23F/5jW/47S/7zl/3nJ/9Tu/37L/+v3/2HA/8fp/1u+/3fJ/3zL/5vX/8/s/7jj/53Y/0y4/+T0/8To/+74/16//3TI/2nD/2zE/8rq/4vR/5XV/+z3/6ve/6La/4DM/7Hg/2PB/7Ph/8np/6Xb/8Pn/+f1//b7/6jd/7vj/+n2/8vq/83r//X7/+Hz/1S7/73l//H5/5/Z/6DZ/27F/6/f/1W7/5fU/8Lm/3DG/y1nwYYAAACAdFJOU7O0uL3ss7YA2ca6t7T10MHi3rT68bXn1LW0y7a3t7i1t/617f658O+0577V/cz077vd+MnFy+O72s/K6fdP/LriyPDl2NP58vv10uDr2PjBufDF2vnj4r74t+q97NzGvhXE7+6wpPMg7fjo2925MA9xw+7Sh+BelNiBIziqB2P368k6sQAADoBJREFUeNrsm3lwE9cdx9erhezOWFqttZKMSIbDmUkLTQjHH00bHJK0oU2bhH+SSdOmaZujf3R63+dotb+1ZMsHvmTjE6d2bKcBbOJAg7GBEsfUXMY4wAA20IRjSJoWQo4yael7b9+uVtLaiGNwZqIv45X0tPv28fu83/Ge18xNl9V3lv7imZ//7HMAz/3yqV//6vs3ZXRDxVwOz09+OgfWdG9488zAwKm32l+PwW9++7uM2T4RhH701BM/XPps/sF9Gy+sVEy9d65zzZxnfp8x3NQT+vETgNSx/99KsuoGxuEPmWA35YSWIj5dJ/6q2GnlB63P/Slju6kndOnY7gQwq47tH9m0Z3zdWVX55w549o8Z690QQhNo3h0loVffseB55dzxSjA09r+V/S1Pz2YymjLNu7vllHrhFZPPh++2Ahy5dLK+sLC+e6wLYGT3zo7vZRBNmb75QMtWVV1l8Nnd3AgdL9a3t/X0tLUXIkgXYzCs1jZ+/TMZU02NZi8vQYD+Qfm8FmqB1pHjZSeaQqE3a9UtzYjRug74WN1b8mTGVlOj++E/qrpNj3Er/7UGjpzs2Y7wIL2GWl7o70FutBmGd38E384Yayp0F+x7VVUPE0CHh6Cju6w5RPUCaTzTiRC9D0dXbVo+K2OuKYhxD1SOqqpah1mMboaxtvUhU39fi5trQxsKC3eVwMZReDBjrxuvJ+EAArQaAxqIdXU3hxL0Fvri7VCorLBwHNasOnp3xoluvAvlr6lFhD5EgE5BZX1TKEkfbXkDHZt6CutjcGYv3J6x2I3WfBhEgFSUcT6AxrbQREIV3Rh0123+bMZiVNOuQVd0o+VwHgF6XlGe74odD02sHYXd0FXXmZ8JczqeGTk52VhZVyRySU7OjCuANA/GsQtdUOrGoXsSQKEThfUAh/vhuxk8DMKTnZU71+udfhXyeufmZmUjSGne7Mt6kFutDMDm9ZMRamr/M8A7q2F+hs+0nOxc7yMP5T18a/AqdOvDeQ894s3NzknTj5bBVp3QRRgKTao25EOr6mJfyzhQTpZ38YLgNWnBYm9Wmm50H0lD6upDUFJ2GUK7oFVRjnzxUw8oO3fFY8Fr1mMrcrPTQvQ44FpbPbQVWk5MTuj4RehUlD3fygC6c0HwOmjBnekhgvcxIHVbCLomTUOhwfZKqP0EEBKmmFBO7orrAgghWpGbkw6hRkJI7YHKyQltOApDaFU7nBrlOMNoPMc4XHYNDIsPLhdtdvC6GJeP0SYfHjopSZYLcN8Oh34SfqVihQTpX+g3l0SGFdEZbs7NkpH5JfMyc3j6ROAtEiyAsqY/GrxOenR6VhqIAHRC9dA4OaH6rtgFRakrWTYpIYGza2Bli7U1TEhD/3iGkyYmFOCwnE7yEoiD1fDBT5DjvnGnxg+VSC6RPZwuZHijIzwyfJGbF3i3wIkcLzs5NwVAeuESCWnuJEIzsr2LrUYuaEiweVFE/0lVcRgfihIbF3uzZ1yW0AMwSgi1Qdf2yQB1DsNG5ELb4Eu2hMh/xO3kfbxdg0w4+IidWY+OCTU5NJnTsOEYCZtScpi2cTEOp+CK+4HTgS+UzEktOfF5qHvehhA1MWd5LwhuNzoYhMiLwDl4STMASCLuIYCnEm86k8uZGuNm3ma1cSRSQIVomb+ijlYHI9YnPoLhcLkSDocrIuid5erbZqYR5+6DLYTQAYhNVss174E2srcK96Z0IbIGEI332zW4ESHEwCMTr8ChifgQ60BG07DhGM6PXiQPi93NKWFCyIIamzAJAlzirKBxSNLpSHaExORwiZwRBzcKCiGQ4x3iMwTNOJXXLDL7npbtXZLgGSYE5DilBQUVCvkpjwSLMLWqckqPEiqoSiQUXOLNviyhZXCWEHoDoH5iQP/dA+vIryfa59yT1IEjPuUYYtOUBsbFaowoCB6/IPtxWmCdmJDExdOKHhclhNPtNq6V4xbyOJJTEr4AJRVJdHgspyQRYjWag8xwSY6S4UM4/CHG5CSZEGLwFbzPoJrsQsyMrJkL7WJYqYKiXXHU5EUxRMLBmmIMUmeHD9XVpZbrFs7MumyYexDWEUIvdcDrE4a5smHY8TK+88sdTzMphHym6ZyCXYPBQRMpCWQbTY9ziYSwzUxLs/4A9SG/R2TsCHEkatG6gGVsfIgOxCG4/PpZbh86iCahgIYDp5Ml4yD9ewQ9GREH9XBJpQIOcnkJZGoiRFVKTWmwIFpQo/uQkW4Qod4K9Bq2hrwCy/V5aYS5eVBJFkRqO3S1N9nv94w0HnxXf1K4327Th0xGPI8FapGUBsJB1JgkQjil4zxkkAv4GIfH7FbyaJzfwTg4TofmthKSRUpIovUAJ9mMiuYRh+B26mUdTU6c4PLxAsd6NHN6UEIccmM/JeSR+RRCc29ZZCVUE0WxS+lDh2hFsChOoS/uQ1XkXV+N7mpJpcKiW+amk4g2EkLHYjDWabupfRpa/0LvfCl/tj0hWh747BsIIZyFDUIsIWSUxSxt51wJ+Z0ReVnzaD7qHpyTMyX7GEpIjHtG6qhYTdSjnCbrZZ0DDcQlEEKoluN9pFDAjs5SQnga0DH4aSHH86IlDd2csBeHEKBcVETfNUR7G4gPNSjm1+Rbo4Yo6K0u7Su27tHdnEYimq9vbqtqGZQMbUit4cZbSja8R++wF+x25eJABI99AyEkuU1CHgkthLC1/Lhyxue6cX3mTqjAhADPedwuyYlcCduI4y2LHMYghGe7jKJRwHZUbt2zRE1f/eCwy3oEM8qxJiFBpgUCR8sFRvT4DA9yshMSQq5R0UthlCtKTZjUBEVxQsEq7D3V0WAEc+wrD0dLr5TQN76i752qtZugZSQRUdOO8UbYp+LH60kW2pT/hbtuv2diQoyeMVIaCCHZbxLSnCjJaxrjxkbwuXVCBINJSNA4Hw0uDr/P49dTRHKVzwmCjKoOVHY7XXajCugzROKMjiWJj1fbNAuSqcTphLCjE0IoAvqN6SALFkIJUa5CiUSiUZKIqoMNVVEjKxXFCRGAfb1hpRyVcdXRaEIttygdQszn4bSeic63QuzFHYMmn/X1f4vB0fOYzflmfDwAdww1t52+f9aEhPS8k9KALUEKK0pIZgkDWiZoljUu67GUIKYceFNCsyWE7KqZ9k0dlYf4lpPWhKjVqQlWQgYAFI5JDwJZpuGi383JRkz1WAnlJS5RC6qipKg2Il0NXq9WFViDIPqAs1V5uLy0VOm1ulAwLy1Cs74KzXqcO3ca4Miusu3rBwfXb6+/tBlKTu5EYNYO7IN9+EGgg/mj+Im6nh9MSEhfX6Q0YAgka1NCTn3BbkPIUss544T0aou9CkJm8Y4+CgERzROJsRIyAKDlFOmBpWuEAGcZk/kOVwpJ1XY5qrMj8eK6OFqOEEQshEgkLGoIK1WKUl2jJG44LEynUmCYe6FEj3PqzvoSgFhXZWVXy0GA4QPkAaCzcGTo5H5FOdQxp59ko7WP2xLyB/x0BZLSQCDwaRGSjMLAWjPgr0XNZqUsslZCLjZlVKLu1C4e15ayi5VlfaKIeNfHEuVQkRJnrHsrF1+PCZYthSWJuzzRapxd9E/V4fJob1SpqjGqAUKoFAdDJaKUFxRXKGF8vmXFOjOtzVMU5z5+W0ek9o80kr92KBnbP1pH/0hlcDC0/yVldSscoAVDawqh/7dzvi9NRWEcX05kS7xzKUW7P1BkWpS9m1MTLVS08o0a+C6oVxX9Ec171DBNKYtdneAvKmPOInQk4S8mDKxGllQSBWpZqSVhQW+sc3/fs02ZNuZg9/vqcmEMzofzPN/nOc+52nhYXyaxHa8DwV6wi8ih4hs/wuIHJRRnrOOtsz8hvT8hg84YzxpiiZApZZOuj64udX9yKuc2kjVJXDo0JsdxNYHQTmWhyE3UOj2ycxRPsGKlFF2fRhuX/x22Nph9Gq/ZbG1w/Rsb4MNtmRALCRJjg12T4+rN6wovl0WFULGyOnQY3N8QENF239jUOyejrLFcy+u29T4wLCBrv4T+HMYjvc7EWwJTUrAXcBH5cGPg+pd8AIPpW3IKKHHOOvtHOcSHcwEs3qjTawVCxhRM0Y7wIxQnbynWSArll9znw7gNqk0RO628M9AFejk2EZEWxR5wiNkI6oajXsox9U0BbYcG4ZWyp2AhQ0lDXCo6DjrHaUldnla/S3ie0V/glUhtKjegraBHj28CXuiFCM91AAQTwPanMW59ggtxCmykCn5cpNfoNFoMM0m+UcSCFkgGaYdgBg2mRf4AQ04ttFxfUcOXAmg9xIU5Kidcpw85VIhBjkVUDJr77TKjnhUXI+4YxrVi729+6HYJgJyV0TmQpTVG4E8Owk1kzQwPoEwrGcrpg6iSo2BylkY0sQ7VQ9NO9wuwtCxeXrFXFsXyIfi+PQlETVgQZdYQIZ3gSTpfBsBLP0ZcXnJ/AHda7HMCoJ8X02J7TgHGuURrGAJdjjUx9Bgn+IUj5QAs1fqcSjxTXlgVzfhoMcRtXI7xmVN2kgQnKEvW//HJslAEHuKwj7IBVHoMGu2BT7Wff/t8yz++Dz/oBuBWr4+eEE3CWHHMX5RkESWQlLmqOuPsziYaz2ZUV5kpMmH7gKDyCweWmoGsvkG3nX6y1i4CqlCntvmJRpykKLN5745kNlMUiYc80YgCSv87TU/PLrZ0DA52eP984UYYuqTa6HVBmgpInArGcZIgEncggiBxfBtTwSigGbu/UViTa9e5pydVPOI2itxkvULn0u/Nv0Xs9ppnSFG3ei+obOR9FLHbKYrz8PJnMN+0tt9lmNVVhmEeD6GNhfk3eSoZBFKEbnhJbYWyyVXbVlooVLPQruo0GN0SkG1EvSC5u8oDj8YXvCMD7k0ATYN8dZF2V9kVp8rOZJe834RQb4H6VZ+oUGlLcEDPu3PVxYkKXVkMTqg2vUhdnKhQ8TfpI7RfP8rVqqfzhLo2EdE/dw7Fo/0yMXUAAAAASUVORK5CYII=\") no-repeat;\n  cursor: pointer;\n}\n.layer-recommend .list .spv_private:hover img {\n  transform: scale(1.2, 1.2);\n}\n.layer-recommend .list .spv_private:hover .recommend-replay {\n  background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAABICAMAAABcFiw7AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAG/UExURUxpcf///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////7Z6U2IAAACUdFJOUwAg4BDw0GCAwEAw+VCg7nCQAz74KpsBAgaX6vcoRCT+BKT9vdvxrmphsA/2EcuBGd8Wce+r+mIFr5XEuvshtEmhnCVoPUKjGOjzqjgi687DZL9FmgnaS7Yb2Nk2pwvkljfCXvUxwUqxdvxvDRWfQRqeXFm18hS5Hgxlf12pmdwn1R9rmGcmNHiRdajMOt16PB2s7Ae1N/YfAAACzElEQVRIx+2WVXvbMBSG5cS2bIeTpk2bMjO3a9euXbnr2jEzMzMzM3w/eJJhsRs79vPsdt9FIsuvDugcKSHEoeejT5ua45l8vLnpdXst8dISfQaHXjy6rr/o6XFwA+MRIP4ksbDaScjll+lXi1VAZPwuewXYwZsiGqemN9inUteGJxG/5SRzN4CzZ4oDKrsHVKZsZO42RgbL3WIvn8ugw0Y2oKXGK8+0iALZhsiCO7bR3AXzcTaPOVKS3G4+jmGKBFJZXWQ2GFmJzcHA+jWcCEam0V8ejPyGmWAg+Yn2gOQ2fPeH9hw6Qsgv/PAnB7BMSBc6/cmj2MKb73eAGHnpA9l8wG2uYdWfXEIVzz3tT27FZ0JW8MaflPGJkPe4GqSLPhIyj2MVvuRXfGFntQrzfuA7LHNrx9HgR2bxwej5yerS4KZM41t90IqJ0h3aikVzSR6XSoHtuHO/cN6nS+x6Fx7a7pDT5zxPT4v9RObO4+IF911ty6M1Zz+gM8DJwy53wQSQTTnnTrWgbv8+x/1ZUTPWiKHHRcv7KkeAoeHBmtruVH137a7ECr+Ts1fcQjrQu9d5zx/s7fPckeod2Z398UiG/XbsHq0m//Vf/yBB0z+p6nKNKZbEwu+uCkoEVU1QJvYGSWMSBicqMf6CWqRs9rOoKFLCbltRbA+cDFMxKugDSRLYHEWRmDcuKiOkMTIsIRbmq6mpUMgayUlFQkiRmf8oI6NGlDxPVZckGd+C5d3phxT7/5sRsx7jCUHifgxStWVkkcmEQDQRFEkJHYLhnSJmi9Mgo8yYSiHyOMPs/1IsapCSuZ9cnJRZ8mKIudWIxhIjsmjFud67xIKjjvAVwd1mQtarCR4PFJ4Y9YyTk0R3yQeqSQpq2Oa9sJ+EV1xhJWB1MJevk+pFhlVnjXQPbt5ll7prquRiU/HoJc0kuUzvLmL9xWuiWD2kb/8fLpv1qMZfH4UAAAAASUVORK5CYII=');\n}\n.layer-recommend .list .spv_private:hover .recommend-bg {\n  display: none;\n}\n.layer-recommend .list .spv-interact {\n  position: relative;\n  float: left;\n  width: 417px;\n  height: 116px;\n  background: rgba(80, 80, 80, 0.6);\n  display: -webkit-box;\n  display: -moz-box;\n  display: -o-box;\n  display: box;\n  -webkit-box-pack: justify;\n  -moz-box-pack: justify;\n  -o-box-pack: justify;\n  box-pack: justify;\n  margin: 1px 1px 0 0;\n}\n.layer-recommend .list .spv-interact .line {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  width: 1px;\n  height: 85px;\n  background: rgba(0, 0, 0, 0.3);\n  transform: translate(-50%, -50%);\n}\n.layer-recommend .list .spv-interact .spv-evaluate,\n.layer-recommend .list .spv-interact .spv-share {\n  width: 50%;\n  height: 100%;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -o-box;\n  display: box;\n  -webkit-box-orient: vertical;\n  -moz-box-orient: vertical;\n  -o-box-orient: vertical;\n  box-orient: vertical;\n  -webkit-box-pack: center;\n  -moz-box-pack: center;\n  -o-box-pack: center;\n  box-pack: center;\n  text-align: center;\n}\n.layer-recommend .list .spv-interact .spv-evaluate span,\n.layer-recommend .list .spv-interact .spv-share span {\n  font-size: 14px;\n  color: #999;\n}\n.layer-recommend .list .spv-interact .spv-evaluate .grade,\n.layer-recommend .list .spv-interact .spv-share .grade {\n  width: 165px;\n  margin: 15px auto 0;\n  font-size: 10px;\n}\n.layer-recommend .list .spv-interact .spv-evaluate .grade .support,\n.layer-recommend .list .spv-interact .spv-share .grade .support {\n  float: left;\n  height: 20px;\n  line-height: 150%;\n  padding-left: 20px;\n  background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAQCAMAAADH72RtAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABXUExURf///////////////////////////0xpcf///////////////////////////////////////////////////////////////////////////////////+vJMeQAAAAddFJOU+blDnrKxCgAD9YXWhzLDBY/3skFXLK84jSwt7vjtgeWxAAAAFhJREFUGNOtz8kOgCAMRdGnIhUnnOf//06bgMHK1rtpcxZNCnJVJvMb/GzQS7EAWiETS/qWUrHUBTcS9LyCBjyZDgsPQkgh+YjrD4kvn5Ho4xKSuy/2ANsNuBYDwARpU3wAAAAASUVORK5CYII=') left top no-repeat;\n  cursor: pointer;\n}\n.layer-recommend .list .spv-interact .spv-evaluate .grade .support:hover,\n.layer-recommend .list .spv-interact .spv-share .grade .support:hover,\n.layer-recommend .list .spv-interact .spv-evaluate .grade .support.click-support,\n.layer-recommend .list .spv-interact .spv-share .grade .support.click-support {\n  color: #f13d0f;\n  background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAQCAMAAADH72RtAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABXUExURUxpcfE9EPE9EPE9EPE9EPE9EPE9EPE9EPE9EPE9EPE9EPE9EPE9EPE9EPE9EPE9EPE9EPE9EPE9EPE9EPE9EPE9EPE9EPE9EPE9EPE9EPE9EPE9EPE9ECDy66oAAAAcdFJOUwBk34fZ/iwR4O0fBQ8ZZvYY4UYN0MX7OsPLz/zWVsEpAAAAVklEQVQY063PRw6AMAxE0aGFhN7r3P+cWIpQMGz5G8tvYcmAL3IJdD1bDR3JUUkjUj2htiJFLpWAmRci5p0bMMkAQxbZS/zyh3wvHx8x+6kk9V9sAdYLkFoToNMaFvYAAAAASUVORK5CYII=') left top no-repeat;\n}\n.layer-recommend .list .spv-interact .spv-evaluate .grade .stamp,\n.layer-recommend .list .spv-interact .spv-share .grade .stamp {\n  float: right;\n  height: 20px;\n  line-height: 150%;\n  padding-right: 20px;\n  background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAQCAMAAADH72RtAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABgUExURf///////////////////////////0xpcf///////////////////////////////////////////////////////////////////////////////////////////////+Cbqo0AAAAgdFJOU+bM1hdc5A4AD8ocDBY/3nzJBdizJrbixDPD5bC3uuMpl8wzGwAAAF5JREFUGNOtz0cOgDAMBMAFAib03sv/f4khERByZQ/Weg6WDDozT9AZB+zrBsKTHgvPtwC+JfhJ7MvtRySaugMVN7gpri88yUsUckpSQoIlUFVLwhIbQg4yMkVUuW4H8V8EE/2ORwUAAAAASUVORK5CYII=') right center no-repeat;\n  cursor: pointer;\n}\n.layer-recommend .list .spv-interact .spv-evaluate .grade .stamp:hover,\n.layer-recommend .list .spv-interact .spv-share .grade .stamp:hover,\n.layer-recommend .list .spv-interact .spv-evaluate .grade .stamp.click-stamp,\n.layer-recommend .list .spv-interact .spv-share .grade .stamp.click-stamp {\n  color: #00a6e4;\n  background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAQCAMAAADH72RtAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABgUExURUxpcQCm5ACm5ACm5ACm5ACm5ACm5ACm5ACm5ACm5ACm5ACm5ACm5ACm5ACm5ACm5ACm5ACm5ACm5ACm5ACm5ACm5ACm5ACm5ACm5ACm5ACm5ACm5ACm5ACm5ACm5ACm5JVkuIIAAAAfdFJOUwAF7Q/93x8RZuAZ4or2GEbwDcoq+8fZ2Dj+w8vOLvxi8QY5AAAAXElEQVQY063PyQ6AIAxF0ecMTjjP2v//S6shCrL1Lhp6Fk0ArpaZdOOEfTsI9DZg5WkKIXSEfhL3cvMRibbvCNEDvro/gVTyEiecB51gCWBWstSWIKPCBogq168TBGsVuarHU04AAAAASUVORK5CYII=') right center no-repeat;\n}\n.layer-recommend .list .spv-interact .spv-evaluate .plan,\n.layer-recommend .list .spv-interact .spv-share .plan {\n  position: relative;\n  width: 165px;\n  height: 3px;\n  background: #1a7da3;\n  margin: 10px auto 0;\n  border-radius: 2px;\n}\n.layer-recommend .list .spv-interact .spv-evaluate .plan .supNum,\n.layer-recommend .list .spv-interact .spv-share .plan .supNum {\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  width: 20%;\n  height: 3px;\n  background: #aa3e23;\n  border-radius: 2px;\n}\n.layer-recommend .list .spv-interact .spv-evaluate .share,\n.layer-recommend .list .spv-interact .spv-share .share {\n  margin-top: 15px;\n}\n.layer-recommend .list .spv-interact .spv-evaluate .share a,\n.layer-recommend .list .spv-interact .spv-share .share a {\n  display: inline-block;\n  width: 32px;\n  height: 32px;\n  margin: 0 5px;\n  background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJ4AAAAgCAMAAADUmzFMAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAMAUExURUxpcV7KfvfHH/lbT0/K+U/K+V7KfvlbT/fHH/lbT0/K+V7KfvfHH/lbT17KfvlbT/fHH/fHH0/K+ffHH/fHH/lbT/fHH/fHH/fHH/fHH/lbT/lbT0/K+V7Kfk/K+V7Kfk/K+U/K+U/K+flbT17Kfk/K+U/K+ffHH/lbT/fHH17Kfl7KfvlbT17Kfk/K+V7Kfl7KfvfHH/lbT0/K+V7KfvlbT/fHH0/K+flbT17Kfl7KfvlbT17Kfk/K+flbT17Kfk/K+flbT17Kfk/K+ffHH17Kfl7Kfk/K+flbT17Kfl7KfvfHH/fHH17KfvfHH/fHH/lbT17Kfk/K+f///////v3+/vlmW/p9c8Tt/f/9+Pvhhf3Rzv/z8ojYn2HLgfjLLvnTTfljWPyhm/p2bP/29fuGffpzaLnox1rO+ff9+WzPis3v17PmwsPrz3PRj//99f755//++/zoo/rddPjRRv/x8P7i4P7u7P3V0v7g3ZzfsIXa+3jTk+f4/uL2/s7w/djy4P3uud/15nHU+qDgs8ft0rzpyfT89+v5/u/68tXx3fvkk/744/zrrvvjj/766f3wxPfJJ/rccf29uPreef3Dv//+/v3zz/yspv7q6f7k4vuMg//88fp6cf/9/fuQiPypo/refP7Y1fy3sorZob7r/dfz/vH7//b9/4/d+971/q3m/LPo/Ljq/cvw/fjNN+L16Kjjua/n/Jvh/GDP+nrX+uz5/tvz4r/qy/733fnUUfjOOfjQQffKKv3yy/301f3vv/767P712Pznn/zqqPuLgvnVV/y5tPvggvynoflfVP3MyP7o5v/49/nWW/3Cvf/6+v7l4/3GwvpvZPubk/uEevrZZMru1X3Y+5HappDbpmfNhXnW+snt0/zssfzrsOv47+X26vfII/zttnzX+4HZ+7Lo/PnXX+T26fz+/aTj/IDVmfraavqCefldUZfdrPviiv3vvfvmnPuak/uXkPvllf3xxvuclfyzrvuZkvuVjfuSivuUjPpsYvuTi/jRRCPpysgAAABPdFJOUwAk6+sk+vokJPrr0QgICIn6+QjJ9QwMmZxXyZmJDJyZDMmZ9fX16enpierpV4lXV8jR0dEyMjIynOucm5vQ0Pj4+CUjzyPJWFhYiorQiIiVKrPpAAAGCUlEQVRYw81YZXRURxhd4u4QJZsEiHvw4FCk9t7ut40SYiQkIe4pGtyhuASXluLFpbgVDVp3Td29PTzbmXn75qVpe9rD/bG7b+buvHu+me/ON6PRIHSM0cZG9O8fEauN6ahpFe0jfX1CBw4M9fGNbN86s4O3p3uIq2uIu6d3h9aZAdFBgcEDBgQHBkUHULrb9emsQ+jcp536QNaJnViETonW6kwbLw8GwcPLRp1p4d9Fj9DF38Kk2+kJK50MVlFO9IEcnW1ZGWydHelMhyddGRlcwxzoTDc/S70Mln5uZP8j9joF7KkBtO7HKtCPGkCbIYwCQ6gBHNxXr0BfIoBdI3QURHRVjtQtlKUgtJuS2T2EoSCku5LZI1hPQXAPtOzCdVSEK+Jnbc5SYa6In40ZQ4WZIn4Wdnoq7KT4OdnrVGBvsv4c+7EqiDdZfw6PE5LS3iYe4kzWn1tfvQoSxPUXpVNFlHwoZ1YVznJmGBmxCsgknsLkTD+sZ1zKhIlbX8HPfkJaSDk7fsy7LdAypbiUzF/Z9Fqb5Cybnb68bkmumL+y6bVxIfQsBjhHPLrIpncwztkUELAT5y8/vX0EIaPGGMReaCkehfX1JodKNA1Z9rJl6QDfC797kkwvMnhnAAzPEM9eJNPfVB3ADtTkz+0VohuPBYyxhD8T+0d7wo2/WLnkAv9974/cGhDi14nYPzp4yIMHsIBo8CD2jwDkxm/g909F/hygiRFkTOOiNj6D6/qqqBBgGtYXg4eKROKSlnHM5iSWzW+G3/LhttAYiZneZPAW8m9sIlu8MTNaGTyAragxWqMVVOzlWovHcB/T9xlg5hwsT0uZ2+QafpBrSbk5vyRfgvyrI4XWRMz0NArJPJFVKb6ysvr4i8ZWT8wMQkomYnnPo8YgTaygwoD6Zs84Mmfv4SMZkrxYPJSPpG6toA6uN6wD2JwL6zevE5p9MNOdFzH/9KJ5qRyvvPxMk/CHsqOLGhv5HnfMDERKJmB521BjoKaXoKLF2DWnRFI6WczgXngoyZKT6vju0XWjhRDeuZtUK0bPHDMFS57L95d/821a1cXqrOrqrLP88/uCNWMmsuSC57C8ZwuQNWtEW5ks9XyCU2R2kWAteCjJVrhcrdm8lkvb5JU1kM4twAt5orVgplgKXEwFQ1lqRUVqWdN9hllazo15WSwNMBPZyjgiNWEcshZJXobUMYNLkdISgM+4dVhClbcGYNMdNnsNryn/Fox8CVUupvKYE+XSqJeZG/P4788ZVXnbSHmTsDxxcnX7RM8r4ad1JsDh2QCF1MndBJtYdgNHu5XMLcPlAGuM+67J5PKZcYofdBHDnOO/K44Z913l5H4IMnyAJjdWyoGn+ebCN0kSNTVGQx67Hmrqb0I9y17hssQYPtPUEHAaDBuZ+2JmIGumpMZuubzdKDW0RnmGsdOnvFNMcKZQjWUV5LPp9WxyAzRwFsNFL1mSRzMW5vxJTlRW1eKNaXMXZO1RN5ZZcnmzkLHEGOWN5z+LZmLOFqotfwc/s3dr790G+JNNqgW4ZFx7VFs+taLyfGXa0o1pP5w/uyBT3ZafmkVm7gRAttyxs6xGySiUOIZpKpvaTVjJ/l7bnJ7H5nHqrn5pPHTQNrXMVCIkx1rZ1PYf2IGJnx7YjzY1TW95DVX6suiBM5QlQU9RSM71upycDb/+1ACwKgdtdNSS4GNhqBU/SvnbakkwUblp+PO1sskhSPd6xmtbil6dLtjKIFpBlb0hffW1mpGrl6y/gg9E1IJqKfe2hVUMc2MF92M+raCykKylYMcho7xDLxQQBVVr5eij/7IcbYSyr8WttuoowHvCr8eo5ehU0fAmkSWL398t5uNVi3mT47hDnCDl5Ft7UJbMnXecWswniFoOfpSya7tev31Xys6DsmL+IT8KPewHSS5+bT+GU+Y3nn4Mj1Oqi6Mewy0SKMc02T2GU9R/cIkR5iIX5/JPLzE4DJJdAfUe1NYroJ7/xxWQcIE2Qjs03MoqfKh2xF9doA339TG3tTX38R3ehgs0MxcXszZcoA0LCrSztLQLDBpGXKA9AOM/SSzcVPzPAAAAAElFTkSuQmCC') no-repeat;\n}\n.layer-recommend .list .spv-interact .spv-evaluate .share .wx,\n.layer-recommend .list .spv-interact .spv-share .share .wx {\n  background-position: 0px 0px;\n}\n.layer-recommend .list .spv-interact .spv-evaluate .share .qzoom,\n.layer-recommend .list .spv-interact .spv-share .share .qzoom {\n  background-position: -84px 0;\n}\n.layer-recommend .list .spv-interact .spv-evaluate .share .qq,\n.layer-recommend .list .spv-interact .spv-share .share .qq {\n  background-position: -126px 0;\n}\n.layer-recommend .list .spv-interact .spv-evaluate .share .wb,\n.layer-recommend .list .spv-interact .spv-share .share .wb {\n  background-position: -42px 0;\n}\n.layer-recommend .list .spv-interact .spv-evaluate.spv-support .plan .supNum,\n.layer-recommend .list .spv-interact .spv-share.spv-support .plan .supNum,\n.layer-recommend .list .spv-interact .spv-evaluate.spv-click-support .plan .supNum,\n.layer-recommend .list .spv-interact .spv-share.spv-click-support .plan .supNum {\n  background: #f13d0f;\n}\n.layer-recommend .list .spv-interact .spv-evaluate.spv-stamp .plan,\n.layer-recommend .list .spv-interact .spv-share.spv-stamp .plan,\n.layer-recommend .list .spv-interact .spv-evaluate .cpv-click-stamp .plan,\n.layer-recommend .list .spv-interact .spv-share .cpv-click-stamp .plan {\n  background: #00a6e4;\n}\n.layer-recommend .list .spv-interact .spv-share {\n  width: 100%;\n  height: 100%;\n}\n.layer-recommend .list .recommend-item {\n  float: left;\n  position: relative;\n  display: inline-block;\n  width: 208px;\n  height: 116px;\n  font-size: 12px;\n  line-height: 150%;\n  background: #fff;\n  margin: 1px 1px 0 0;\n  overflow: hidden;\n}\n.layer-recommend .list .recommend-item a,\n.layer-recommend .list .recommend-item a:hover {\n  display: block;\n  overflow: hidden;\n  text-decoration: none;\n}\n.layer-recommend .list .recommend-item .recommend-bg {\n  display: none;\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  width: 198px;\n  height: 106px;\n  background: rgba(0, 0, 0, 0.5);\n  border: 5px solid rgba(30, 116, 195, 0.85);\n  transition: all .2s;\n}\n.layer-recommend .list .recommend-item .recommend-info {\n  position: absolute;\n  width: 90%;\n  height: 90%;\n  left: 0%;\n  top: 80px;\n  -webkit-box-flex: 1;\n  box-flex: 1;\n  display: -webkit-box;\n  display: box;\n  -webkit-box-orient: vertical;\n  box-orient: vertical;\n  -webkit-box-pack: justify;\n  padding: 5%;\n  text-align: left;\n  transition: all .2s;\n}\n.layer-recommend .list .recommend-item .recommend-info .name {\n  display: block;\n  height: 20px;\n  color: #fff;\n  overflow: hidden;\n  font-size: 14px;\n}\n.layer-recommend .list .recommend-item .recommend-info .msg {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  height: 18px;\n  color: #afafaf;\n  margin: 10px 0 0;\n}\n.layer-recommend .list .recommend-item .recommend-info .msg span {\n  margin-right: 10px;\n  font-weight: bold;\n}\n.layer-recommend .list .recommend-item .recommend-info .control {\n  display: -webkit-box;\n  display: box;\n  -webkit-box-align: center;\n  -webkit-box-pack: justify;\n  color: #afafaf;\n  margin-bottom: 10px;\n}\n.layer-recommend .list .recommend-item .recommend-info .control span {\n  display: block;\n  height: 24px;\n  line-height: 24px;\n}\n.layer-recommend .list .recommend-item .recommend-info .control .play {\n  width: 58px;\n  background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAAYCAYAAACr3+4VAAAEm0lEQVRYhe2XPWgbZxzGf/clW8Vn0KCCz0SDApJJoB5kUShdbDK0S7R0dJaoi7pkc5ZkSpZ4SpZqcpamU6frVih2hy5F8pCAi+xBg4tOAQ0HPhN93Ht3HU539kWy40A+iptnennfV/d/nv/nK+mqGXwLbAELXE50gap01QwsLq/ICF2Zyy8SYEH+2Aw+FD4JfR26GqCrwfvkciEY6SSHi/JSL2rgaWmINZC483xm6vmS7k8YbDkyi+kkEUdItJzQvy9uvKK6O4MjpMSdlYyf+E69rQFQzng8WR7x3V+zWH0JgLXPPWp5l2/+TJ/L/8JCNw80tkpDyhmPhq1MnG8URhjpICawpAfceZ6ilncTxJu2zO3d2cRvi7rPg2sjmrYcR8y0VNayHtu9E1sNW6HlSFQWxCnxPs0pfC4s9MWNV1P3t0rDib0vfv8sJhcReFoaxOf1tka9rVHLu5QzHhVDUFkQAGwUXLZ7CsdCwhrINGyJcsZjXg1YTAfs9BTKGS9hdyXjU8u7/HyocnNBYA2khD2zq2JaSWlnCq3uzqCrYU3sO9LEecXwaNhyHMFwT1DOeEAY0bPQsBWsvsRWaYjZVVnPuRwJWMt6HAmYV2FJD9cbhRH1tkZ1d4at0pDNg1TMp2KEtu7vpWKnNW15asadKbRhK6znBD/kXb76YzL/nyyPcFwwrVS817QVTEuJjZ4Fqy9h9ZV4vbkffuPh9RHzY0ZzasBPhxpNW6blyDgi6WxdhZvjrIjqfjE9YvNASTj/jUIBtnsKG4URFUMkUqFiiJDIP1rivjHrs5IJjeja+Z0wqsXHy0PqbY2KIeIMKeo+ZlfjwbUROz2FZ4dqHKWNwih00ECi3tYoZzyKus+RkJhTAzqD6YPkXKFWX2Knp7B+JSl0LevRfC1tI/JlPIx0EEdmGtZzIia801Oo5V2O46gEOELCmA3rs6j7iWhWd8OuX8u71Nsa84WAtayHrobip0UTLjBHTUulqPss6X4sZjXrYXYnlZiWyp3nMxizAY8OtIlamR+PkO2eEhN+dqhy/+8UR2LsrFmf4tiWrgaYlkrLOenGDVtJzNLtnsJq1mM95040oNN443iJOmJlQdByUty64mINpHM/2rRlHlwbsT+el2vZsGmcbmBRjUKYOfNqOCejbIjW2OGdyri7hs44EdqwFaxBmAHPDt9SqK4GcQQBfmxr7DvSeDSEZKPuCuHDQFfD2r2VE3TGKf94eYjjSjgiJL49rrdp6PSlca16FOf8eB3xuZUT8Uw9zS1qYMdC4uH1Eff2UhON60yhS7o/dV5GWM16rGZPhFZ3Z1hMB3T6Evf3wpTV1YCK4bGWFTRsJZ6vEI0hn2Mh0RnILM76LKYDank3jmi07vRVKobHnBrguCfz/deuyi9fDlhMB9wel8HT0pDfvh5wby+VeGgASFfN4J08YE+/ik7jbmFE61hOpLqRDqgsCHZ6Ci1HZkn3Wc+JeDRFWMn4WAOJfUdmJeNjWkocTUdI1PIujw5SsV1dDbhbdHm0r01E9Z0J/a/j09+0y4b/ldDuxybxAfBSBr4HXn5sJu8RHaD6L9ZhKXZ+nwzvAAAAAElFTkSuQmCC') no-repeat;\n}\n.layer-recommend .list .recommend-item:hover img {\n  transform: scale(1.2, 1.2);\n}\n.layer-recommend .list .recommend-item:hover .recommend-bg {\n  display: block;\n}\n.layer-recommend .list .recommend-item:hover .recommend-info {\n  top: 0px;\n}\n.layer-recommend .list .recommend-item:hover .recommend-info .name {\n  height: 37px;\n}\n.layer-recommend .recommend-control {\n  position: absolute;\n  left: 0px;\n  bottom: 65px;\n  width: 100%;\n  text-align: center;\n}\n.layer-recommend .recommend-control .prev,\n.layer-recommend .recommend-control .next {\n  display: inline-block;\n  width: 12px;\n  height: 20px;\n  vertical-align: middle;\n  cursor: pointer;\n  margin: 0 10px;\n}\n.layer-recommend .recommend-control .prev {\n  background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAATCAMAAACeNWzcAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABFUExURUxpcf///////////////////////////////////////////////////////////////////////////////////////4aDdakAAAAWdFJOUwCQ+yiRJvyXLCWUoxz+7nunoPdlL7QYPWQdAAAAQElEQVQI12NggAIBIRiLXUwQzmKEs1jwsmDquOAsbjF+mIFiYjwwJjMfLweMzcomRpDNyYSTLQJni4nBmAzCogAlHwL+YuXe7wAAAABJRU5ErkJggg==') center center no-repeat;\n}\n.layer-recommend .recommend-control .next {\n  background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAATCAMAAABx9wfiAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABLUExURUxpcf///////////////////////////////////////////////////////////////////////////////////////////////1SsvH4AAAAYdFJOUwCQ+xuRJvyXLCWUozQoHO57/qeg92UvtICsvQ8AAABESURBVAjXYxARYoADYQl2BIcRmcNCHIcRlcOF4AhIcDPD2HwSEjxQJocgPy+MKcHGSoDJxInJFEMwGSQk4EwGcVE4EwBnUQNPyYEUNgAAAABJRU5ErkJggg==') center center no-repeat;\n}\n.layer-recommend .recommend-control p {\n  display: inline-block;\n}\n.layer-recommend .recommend-control p a {\n  display: inline-block;\n  width: 5px;\n  height: 5px;\n  background: #414141;\n  border-radius: 50%;\n  margin: 0 5px;\n  vertical-align: middle;\n  cursor: pointer;\n}\n.layer-recommend .recommend-control p .active-control-btn {\n  background: #fff;\n}\n.youku_player_fullscreen .recommend-control {\n  bottom: 140px;\n}\n.youku-layer-wuliao .logo-new {\n  position: absolute;\n  top: 0;\n  right: 0;\n  background-repeat: no-repeat;\n}\n.youku-layer-wuliao .youku-layer-logo {\n  pointer-events: none;\n}\n.youku-layer-wuliao .qualification {\n  display: none;\n  font-size: 16px;\n  -webkit-text-shadow: 2px 2px 1px #000;\n  -moz-text-shadow: 2px 2px 1px #000;\n  text-shadow: 2px 2px 1px #000;\n}\n.youku-layer-wuliao .qualification .serial {\n  position: absolute;\n  top: 50px;\n  right: 30px;\n}\n.youku-layer-wuliao .qualification .license {\n  position: absolute;\n  right: 30px;\n  bottom: 78px;\n}\n@-webkit-keyframes fadeInRight {\n  0% {\n    opacity: 0;\n    -webkit-transform: translateX(0px);\n  }\n  100% {\n    opacity: 1;\n    -webkit-transform: translateX(0);\n  }\n}\n@-moz-keyframes fadeInRight {\n  0% {\n    opacity: 0;\n    -moz-transform: translateX(0px);\n  }\n  100% {\n    opacity: 1;\n    -moz-transform: translateX(0);\n  }\n}\n@keyframes fadeInRight {\n  0% {\n    opacity: 0;\n    transform: translateX(0px);\n  }\n  100% {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n.seriesList {\n  display: none;\n  position: absolute;\n  right: 100px;\n  bottom: 46px;\n  width: 300px;\n  height: 275px;\n  font-size: 12px;\n  color: #aaa;\n  background: rgba(0, 0, 0, 0.8);\n  overflow-y: auto;\n  -webkit-animation: fadeInRight .5s ease .2s both;\n  -moz-animation: fadeInRight .5s ease .2s both;\n  animation: fadeInRight .5s ease .2s both;\n  z-index: 101;\n  /*三角箭头的颜色*/\n  scrollbar-arrow-color: rgba(0, 0, 0, 0);\n  /*滚动条滑块按钮的颜色*/\n  scrollbar-face-color: rgba(0, 0, 0, 0);\n  /*滚动条整体颜色*/\n  scrollbar-highlight-color: rgba(0, 0, 0, 0);\n  /*滚动条阴影*/\n  scrollbar-shadow-color: rgba(0, 0, 0, 0);\n  /*滚动条轨道颜色*/\n  scrollbar-track-color: rgba(0, 0, 0, 0);\n  scrollbar-3dlight-color: rgba(0, 0, 0, 0);\n  scrollbar-darkshadow-color: rgba(0, 0, 0, 0);\n}\n.seriesList .list p {\n  height: 34px;\n  font-weight: bold;\n  padding: 0 20px;\n  line-height: 34px;\n  border-top: 1px solid #1b1c21;\n  cursor: pointer;\n  overflow: hidden;\n}\n.seriesList .list p span {\n  margin: 0 10px 0 0;\n}\n.seriesList .list p.cur {\n  color: #00acfe;\n}\n.seriesList .list p:hover {\n  background: #3f4042;\n}\n.h5-control-wrap .control-icon:after {\n  font-size: 12px;\n  border-radius: 4px;\n  padding: 4px;\n  color: rgba(255, 255, 255, 0.6);\n  bottom: 53px;\n  line-height: 12px;\n}\n.h5-control-wrap .control-icon {\n  height: 50px;\n  line-height: 50px;\n}\n.h5-control-wrap .control-icon .iconfont {\n  position: relative;\n  width: 20px;\n  height: 50px;\n  line-height: 50px;\n}\n.h5-control-wrap .control-play-icon,\n.h5-control-wrap .control-pause-icon {\n  width: 28px;\n  vertical-align: inherit;\n}\n.h5-control-wrap .control-play-icon .iconfont,\n.h5-control-wrap .control-pause-icon .iconfont {\n  position: relative;\n  width: 28px;\n}\n.control-next-video {\n  width: 20px;\n  vertical-align: inherit !important;\n  /**下一集内容**/\n}\n.control-next-video .iconfont {\n  display: block;\n}\n.control-next-video .next-content {\n  display: none;\n  height: 102px;\n  position: absolute;\n  bottom: 60px;\n  left: -60px;\n}\n.control-next-video .next-content img {\n  position: absolute;\n  width: 183px;\n  height: 102px;\n  border-radius: 4px 0px 0px 0px;\n}\n.control-next-video .next-content div {\n  width: 154px;\n  height: 102px;\n  left: 181px;\n  position: relative;\n  box-sizing: inherit;\n  display: inline-block;\n  opacity: 0.8;\n  background: #000000;\n  border-radius: 0 4px 4px 0;\n  font-size: 12px;\n}\n.control-next-video .next-content div span {\n  font-size: 16px;\n  font-weight: bold;\n  color: #FFFFFF;\n  letter-spacing: 0;\n  line-height: 18px;\n  position: absolute;\n  top: 20px;\n  left: 10px;\n}\n.control-next-video .next-content div p {\n  margin: 0px;\n  font-size: 12px;\n  color: #FFFFFF;\n  letter-spacing: 0;\n  line-height: 14px;\n  width: 134px;\n  position: absolute;\n  left: 10px;\n  top: 54px;\n  max-width: 280px;\n  max-height: 28px;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  overflow: hidden;\n  /*! autoprefixer: off */\n  -webkit-box-orient: vertical;\n}\n.control-next-video .next-content .no-picture {\n  left: 0;\n}\n.control-next-video:hover .next-content {\n  display: block;\n}\n.h5-control-wrap .control-time {\n  padding: 0px;\n  font-family: 'PingFangSC-Regular, sans-serif';\n  font-size: 12px;\n  line-height: 50px;\n  height: 50px;\n  vertical-align: top;\n}\n.h5-control-wrap .control-time .control-time-current,\n.h5-control-wrap .control-time .control-time-split,\n.h5-control-wrap .control-time .control-time-duration {\n  vertical-align: middle;\n}\n.control-series {\n  display: none;\n  font-size: 14px;\n  margin-left: 16px;\n  cursor: pointer;\n  text-align: center;\n  vertical-align: middle;\n  color: #fff;\n  opacity: .8;\n}\n.control-series:hover {\n  opacity: 1;\n}\n.control-scroll-info {\n  z-index: 1501;\n  display: none;\n  font-size: 14px;\n  margin-left: -47px;\n  cursor: pointer;\n  border-radius: 14px;\n  width: 94px;\n  height: 22px !important;\n  text-align: center;\n  line-height: 20px !important;\n  color: #fff;\n  opacity: .6;\n  position: absolute !important;\n  left: 50%;\n  bottom: 10px;\n  text-shadow: 2px 2px 1px #000;\n}\n.control-scroll-info:hover {\n  opacity: 1;\n}\n.control-scroll-info .to-down-icon-white {\n  background: url('https://img.alicdn.com/tfs/TB157RedKP2gK0jSZFoXXauIVXa-18-18.svg');\n  display: none;\n  background-size: 14px 14px;\n  background-size: cover;\n  width: 14px !important;\n  height: 14px !important;\n  transform: translate(0, -50%);\n}\n.control-scroll-info .to-down-icon-gray {\n  background: url('https://img.alicdn.com/tfs/TB1Wq0fdHH1gK0jSZFwXXc7aXXa-18-18.svg');\n  background-size: 14px 14px;\n  display: inline-block;\n  background-size: cover;\n  width: 14px !important;\n  height: 14px !important;\n  transform: translate(0, -50%);\n}\n.control-scroll-info.active {\n  color: #ffffff;\n}\n.control-scroll-info.active .to-down-icon-white {\n  display: inline-block;\n}\n.control-scroll-info.active .to-down-icon-gray {\n  display: none;\n}\n.control-playmode-icon,\n.control-next-video,\n.control-webfullscreen-icon,\n.exit-webfullscreen-icon,\n.control-rotate-screen-icon {\n  margin-left: 16px;\n}\n.control-playmode-icon .iconfont,\n.control-next-video .iconfont,\n.control-webfullscreen-icon .iconfont,\n.exit-webfullscreen-icon .iconfont,\n.control-rotate-screen-icon .iconfont {\n  color: #ffffff;\n  opacity: 0.8;\n}\n.control-playmode-icon:hover .iconfont,\n.control-next-video:hover .iconfont,\n.control-webfullscreen-icon:hover .iconfont,\n.exit-webfullscreen-icon:hover .iconfont,\n.control-rotate-screen-icon:hover .iconfont {\n  opacity: 1;\n}\n.control-webfullscreen-icon .icon-webfullscreen {\n  display: block;\n}\n.control-webfullscreen-icon .icon-exit-webfullscreen {\n  display: none;\n}\n.exit-webfullscreen-icon .icon-webfullscreen {\n  display: none;\n}\n.exit-webfullscreen-icon .icon-exit-webfullscreen {\n  display: block;\n}\n.control-quality-icon .js-language-text {\n  max-width: 60px;\n  width: auto !important;\n}\n.control-quality-icon .control-quality-btn,\n.control-quality-icon .control-rate-btn {\n  overflow: hidden;\n  width: auto;\n  text-align: center;\n  display: inline-block;\n  color: #fff;\n}\n.control-quality-icon .js-quality-text {\n  width: 29px;\n  height: 50px;\n}\n.control-quality-btn.q1080p {\n  width: 55px;\n}\n.control-quality-btn.q1080p_hdr {\n  width: 55px;\n}\n.control-rate-note,\n.control-quality-note {\n  display: none;\n  position: absolute;\n  bottom: 53px;\n  left: 50%;\n  padding: 5px 20px 5px 5px;\n  height: 14px;\n  line-height: 14px;\n  background-color: rgba(0, 0, 0, 0.8);\n  border-radius: 2px;\n  transform: translateX(-50%);\n  word-break: keep-all;\n  width: 170px;\n  color: #fff;\n  word-wrap: break-word;\n}\n.control-rate-note:before,\n.control-quality-note:before {\n  display: inline-block;\n  content: '';\n  position: absolute;\n  bottom: -13px;\n  left: 50%;\n  width: 0;\n  height: 0;\n  border-width: 7px;\n  border-style: solid;\n  transform: translateX(-50%);\n  border-color: rgba(0, 0, 0, 0.8) transparent transparent;\n}\n.control-rate-note:after,\n.control-quality-note:after {\n  display: inline-block;\n  content: '\\D7';\n  font-size: 20px;\n  position: absolute;\n  bottom: 9px;\n  right: 5px;\n  width: 12px;\n  height: 12px;\n}\n.control-quality-icon {\n  margin-left: 16px;\n  color: #fff;\n  opacity: 0.8;\n  font-size: 14px;\n}\n.control-quality-icon.dashboard-show .quality-dashboard,\n.control-quality-icon.dashboard-show .rate-dashboard {\n  display: block;\n}\n.control-quality-icon .quality-dashboard,\n.control-quality-icon .rate-dashboard {\n  display: none;\n  width: 80px;\n  position: absolute;\n  bottom: 40px;\n  padding-bottom: 13px;\n  left: 50%;\n  transform: translateX(-50%);\n  border-radius: 4px;\n  opacity: 0.8;\n}\n.control-quality-icon .quality-dashboard:after,\n.control-quality-icon .rate-dashboard:after {\n  content: '';\n  display: block;\n  height: 0px !important;\n}\n.control-quality-icon .quality-dashboard:hover,\n.control-quality-icon .rate-dashboard:hover {\n  opacity: 0.8;\n}\n.control-quality-icon .quality-dashboard a,\n.control-quality-icon .rate-dashboard a {\n  text-decoration: none;\n}\n.control-quality-icon .quality-dashboard .settings-item,\n.control-quality-icon .rate-dashboard .settings-item {\n  display: block;\n  cursor: pointer;\n  background-color: #000000;\n  color: #fff;\n  text-align: center;\n  font-size: 14px;\n  padding-top: 20px;\n  line-height: 16px;\n}\n.control-quality-icon .quality-dashboard .settings-item .iconfont,\n.control-quality-icon .rate-dashboard .settings-item .iconfont {\n  font-size: 16px;\n  display: inline-block;\n  position: absolute;\n  right: 22px;\n}\n.control-quality-icon .quality-dashboard .settings-item .quality-tips-icon,\n.control-quality-icon .rate-dashboard .settings-item .quality-tips-icon {\n  width: 16px;\n  height: 16px;\n}\n.control-quality-icon .quality-dashboard .settings-item .tooltip a,\n.control-quality-icon .rate-dashboard .settings-item .tooltip a {\n  color: #0D9BFF;\n}\n.control-quality-icon .quality-dashboard .settings-item .tooltip,\n.control-quality-icon .rate-dashboard .settings-item .tooltip {\n  display: none;\n  width: 275px;\n  height: 100px;\n  font-size: 14px;\n  color: #fff;\n  position: absolute;\n  opacity: 0;\n  transition: opacity 0.2s ease-in-out;\n  -webkit-transition: opacity 0.2s ease-in-out;\n  -moz-transition: opacity 0.2s ease-in-out;\n  margin-left: -275px;\n  margin-top: -50px;\n  line-height: 20px;\n}\n.control-quality-icon .quality-dashboard .settings-item .tooltip-content,\n.control-quality-icon .rate-dashboard .settings-item .tooltip-content {\n  width: 245px;\n  height: 80px;\n  padding: 10px;\n  border-radius: 2px;\n  background: rgba(0, 0, 0, 0.87);\n}\n.control-quality-icon .quality-dashboard .settings-item .vip-label,\n.control-quality-icon .rate-dashboard .settings-item .vip-label {\n  display: inline-block;\n  text-align: center;\n  background-color: #ebba73;\n  border-radius: 2px;\n  padding: 2px 3px;\n  line-height: 12px;\n  margin-left: 4px;\n  margin-right: 3px;\n  font-size: 12px;\n  color: #ffffff;\n  letter-spacing: 0;\n}\n.control-quality-icon .quality-dashboard .settings-item.active,\n.control-quality-icon .rate-dashboard .settings-item.active {\n  color: #0D9BFF;\n}\n.control-quality-icon .quality-dashboard .settings-item:first-of-type,\n.control-quality-icon .rate-dashboard .settings-item:first-of-type {\n  border-radius: 4px 4px 0 0;\n}\n.control-quality-icon .quality-dashboard .settings-item:last-of-type,\n.control-quality-icon .rate-dashboard .settings-item:last-of-type {\n  padding-bottom: 20px;\n  border-radius: 0px 0px 4px 4px;\n}\n.control-quality-icon .quality-dashboard .settings-item:hover,\n.control-quality-icon .rate-dashboard .settings-item:hover {\n  color: #0D9BFF;\n}\n.control-quality-icon .quality-dashboard .settings-item:hover .tooltip,\n.control-quality-icon .rate-dashboard .settings-item:hover .tooltip {\n  display: block;\n  opacity: 1;\n  transition: opacity 0.5s ease-in-out;\n  -webkit-transition: opacity 0.5s ease-in-out;\n  -moz-transition: opacity 0.5s ease-in-out;\n}\n.control-quality-icon .quality-dashboard .login-canuse .vip-label,\n.control-quality-icon .rate-dashboard .login-canuse .vip-label {\n  background-color: #FC4273;\n}\n.control-quality-icon .quality-dashboard .free-canuse .vip-label,\n.control-quality-icon .rate-dashboard .free-canuse .vip-label {\n  background-color: #1db509;\n}\n.control-quality-icon .quality-dashboard.larger,\n.control-quality-icon .rate-dashboard.larger {\n  width: 124px;\n}\n.control-quality-icon .quality-dashboard.largest,\n.control-quality-icon .rate-dashboard.largest {\n  width: 161px;\n}\n.control-quality-icon .quality-dashboard.biglargest,\n.control-quality-icon .rate-dashboard.biglargest {\n  width: 175px !important;\n}\n.control-quality-icon .quality-dashboard .disable,\n.control-quality-icon .rate-dashboard .disable {\n  color: rgba(255, 255, 255, 0.7);\n}\n.h5-control-wrap .control-volume-icon {\n  margin-left: 16px;\n  padding-top: 0px;\n}\n.h5-control-wrap .control-volume-box {\n  bottom: 40px;\n  padding-bottom: 13px!important;\n  width: 60px;\n  height: 200px;\n}\n.h5-control-wrap .control-volume-box .control-volume-slider {\n  top: 48px;\n  width: 4px;\n  height: 136px;\n  background: rgba(255, 255, 255, 0.2);\n  border-radius: 4px;\n}\n.h5-control-wrap .control-volume-box .control-volume-current {\n  background-image: linear-gradient(-180deg, #05E4FC 0%, #148AFF 100%);\n  width: 4px;\n}\n.h5-control-wrap .control-volume-box:before {\n  width: 60px;\n  height: 200px;\n}\n.h5player-dashboard .input-range-container .input-range-thumb:before {\n  top: -13px;\n  left: -13px;\n  border: 13px solid rgba(255, 255, 255, 0.2);\n  border-radius: 13px;\n}\n.h5player-dashboard .input-range-container .input-range-thumb:after {\n  display: none !important;\n}\n.h5-control-wrap .control-volume-box .control-volume-slider .input-range-container .input-range-thumb {\n  margin-left: -3px;\n}\n.h5player-dashboard .h5-control-wrap .control-volume-box .control-volume-slider .input-range-container .input-range-thumb {\n  border: 5px solid #ffffFF;\n}\n.h5-control-wrap .control-volume-icon.slide-show .volume-tip {\n  top: -199px;\n  width: 60px;\n  margin-left: -20px;\n}\n.control-settings-icon .iconfont {\n  display: inline-block;\n}\n.control-settings-icon .settings-dashboard {\n  display: none;\n  width: 166px;\n}\n.control-settings-icon .settings-dashboard .settings-item {\n  position: relative;\n  text-align: left;\n  line-height: 18px;\n  padding-top: 14px;\n  padding: 14px 20px 0px;\n  cursor: auto;\n}\n.control-settings-icon .settings-dashboard .settings-item .iconfont {\n  right: 20px;\n  cursor: pointer;\n}\n.control-settings-icon .settings-dashboard .settings-item .switch-open {\n  background: url('https://img.alicdn.com/tfs/TB1ic8FnKT2gK0jSZFvXXXnFXXa-30-18.svg');\n  display: none;\n  background-size: 30px 18px;\n  width: 30px;\n  height: 18px;\n}\n.control-settings-icon .settings-dashboard .settings-item .switch-close {\n  background: url('https://img.alicdn.com/tfs/TB18Z0InQL0gK0jSZFxXXXWHVXa-30-18.svg');\n  background-size: 30px 18px;\n  display: inline-block;\n  width: 30px;\n  height: 18px;\n}\n.control-settings-icon .settings-dashboard .settings-item.active {\n  color: #ffffff;\n}\n.control-settings-icon .settings-dashboard .settings-item.active .switch-open {\n  display: inline-block;\n}\n.control-settings-icon .settings-dashboard .settings-item.active .switch-close {\n  display: none;\n}\n.control-settings-icon .settings-dashboard .settings-item.active .icon-select {\n  display: none;\n}\n.control-settings-icon .settings-dashboard .settings-item.active .icon-selected {\n  display: inline-block;\n}\n.control-settings-icon .settings-dashboard .settings-item:hover {\n  color: #ffffff;\n}\n.control-settings-icon .settings-dashboard .settings-item:first-of-type {\n  padding-top: 20px;\n}\n.control-settings-icon .settings-dashboard .settings-item:last-of-type {\n  padding-bottom: 20px;\n}\n.js-top-icon {\n  pointer-events: none;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  display: block;\n  width: 100%;\n  height: 100px;\n  font-size: 14px;\n  z-index: 1000;\n}\n.js-top-icon .control-hdr-icon {\n  padding: 24px;\n  z-index: 9;\n  box-sizing: border-box;\n  pointer-events: none;\n}\n.js-top-icon .control-hdr-icon .js-hdr {\n  pointer-events: auto;\n  z-index: 1000;\n  margin: 0 auto;\n  background: rgba(0, 0, 0, 0.6);\n  width: 147px;\n  height: 40px;\n  border-radius: 20px;\n  cursor: pointer;\n}\n.js-top-icon .control-hdr-icon .js-hdr .hdr-close-text {\n  opacity: 0.6;\n  font-size: 14px;\n  color: #FFFFFF;\n  line-height: 40px;\n  margin: 0px 16px 0px 7px;\n  float: right;\n}\n.js-top-icon .control-hdr-icon .js-hdr .icon-ykhd_bofang_hdr_jin_x,\n.js-top-icon .control-hdr-icon .js-hdr .icon-ykhd_bofang_hdr_bai_x {\n  width: 24px;\n  height: 40px;\n  font-size: 24px;\n  line-height: 40px;\n  margin: 0px 0 0px 16px;\n}\n.js-top-icon .control-hdr-icon .js-hdr .icon-ykhd_bofang_hdr_jin_x {\n  display: none;\n  color: #EBBA73;\n}\n.js-top-icon .control-hdr-icon .js-hdr .icon-ykhd_bofang_hdr_bai_x {\n  display: inline-block;\n  color: #ffffff;\n  opacity: 0.6;\n}\n.js-top-icon .control-hdr-icon .js-hdr .hdr-open-text {\n  font-size: 14px;\n  color: #EBBA73;\n  opacity: 1;\n  line-height: 40px;\n  height: 40px;\n  display: none;\n  margin: 0px 16px 0px 7px;\n  float: right;\n}\n.js-top-icon .control-hdr-icon .js-hdr.active .icon-ykhd_bofang_hdr_jin_x {\n  display: inline-block;\n}\n.js-top-icon .control-hdr-icon .js-hdr.active .hdr-open-text {\n  display: inline-block;\n}\n.js-top-icon .control-hdr-icon .js-hdr.active .icon-ykhd_bofang_hdr_bai_x {\n  display: none;\n}\n.js-top-icon .control-hdr-icon .js-hdr.active .hdr-close-text {\n  display: none;\n}\n.js-top-icon .control-hdr-icon .js-hdr:hover .icon-ykhd_bofang_hdr_bai_x,\n.js-top-icon .control-hdr-icon .js-hdr:hover .hdr-close-text {\n  opacity: 1;\n}\n.js-top-icon .control-hdr-icon .active:hover .icon-ykhd_bofang_hdr_jin_x {\n  color: #FFD496;\n}\n.js-top-icon .control-hdr-icon .active:hover .hdr-open-text {\n  color: #FFD496;\n}\n.js-top-icon .control-hdr-icon .fullscreen-hdr {\n  position: absolute;\n  top: 13px;\n  right: 109px;\n  margin: 0px;\n  transform: none;\n  width: 153px;\n  height: 40px;\n  line-height: 40px;\n}\n.js-top-icon .control-hdr-icon .fullscreen-hdr .iconfont {\n  width: 30px;\n  height: 40px;\n  font-size: 30px;\n  line-height: 40px;\n  margin-top: 0px;\n  margin-bottom: 0px;\n}\n.js-top-icon .control-hdr-icon .fullscreen-hdr .hdr-close-text,\n.js-top-icon .control-hdr-icon .fullscreen-hdr .hdr-open-text {\n  line-height: 40px;\n  height: 40px;\n  margin-top: 0px;\n  margin-bottom: 0px;\n}\n.control-danmaku-icon {\n  height: 20px;\n  line-height: 20px;\n  transition: fill .25s ease;\n}\n.control-danmaku-icon.active text,\n.control-danmaku-icon.active rect {\n  fill: #148AFF;\n}\n.current-level {\n  display: inline-block;\n  text-align: right;\n}\n.control-icon:hover {\n  color: #ffffff;\n}\n.control-phonewatch {\n  font-size: 14px;\n  height: 32px !important;\n  line-height: 32px !important;\n  background-color: rgba(255, 255, 255, 0.15) !important;\n  border-radius: 16px;\n  padding: 0 12px;\n  color: rgba(255, 255, 255, 0.6);\n  margin-left: 16px;\n  transform: translateY(-25px);\n}\n.control-phonewatch:hover {\n  color: #0D9BFF;\n}\n.control-phonewatch .icon--shoujikan {\n  width: 18px;\n  font-size: 18px;\n  line-height: 32px !important;\n  height: 32px !important;\n  position: relative;\n  display: inline-block;\n  float: left;\n  vertical-align: middle;\n}\n.control-phonewatch .text {\n  line-height: 32px;\n  display: inline-block;\n  height: 32px;\n  margin-left: 2px;\n}\n.progress-container .input-range-container .input-range-thumb {\n  border: 8px solid #00D3FF;\n  top: -3px;\n}\n.progress-container .input-range-container .input-range-thumb:before {\n  top: -15px;\n  left: -15px;\n  border: 15px solid rgba(0, 211, 255, 0.5);\n  border-radius: 15px;\n}\n.progress-container .progress-hightlights {\n  top: 2px;\n}\n.h5-control-wrap .control-fullscreen-icon .iconfont,\n.h5-control-wrap .control-halfscreen-icon .iconfont {\n  display: inline-block;\n}\n.big-mode .single-preview {\n  bottom: 90px;\n  border-radius: 6px;\n}\n.big-mode .h5player-dashboard {\n  font-size: 21px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap {\n  height: 75px;\n  padding: 0px 24px 0px 24px;\n  font-size: 21px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-left-grid,\n.big-mode .h5player-dashboard .h5-control-wrap .control-right-grid {\n  line-height: 75px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-next-video,\n.big-mode .h5player-dashboard .h5-control-wrap .control-time,\n.big-mode .h5player-dashboard .h5-control-wrap .control-phonewatch {\n  margin-left: 28px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-right-grid .control-icon {\n  margin-left: 28px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-icon {\n  height: 75px;\n  line-height: 75px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-icon .iconfont {\n  width: 30px;\n  height: 75px;\n  line-height: 75px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-icon:after {\n  font-size: 18px;\n  border-radius: 6px;\n  padding: 6px;\n  bottom: 79.5px;\n  line-height: 18px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .h5-control-wrap .control-icon div {\n  font-size: 21px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-play-icon,\n.big-mode .h5player-dashboard .h5-control-wrap .control-pause-icon {\n  width: 42px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-play-icon .iconfont,\n.big-mode .h5player-dashboard .h5-control-wrap .control-pause-icon .iconfont {\n  width: 42px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-next-video .next-content {\n  height: 153px;\n  bottom: 90px;\n  left: -90.3px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-next-video .next-content img {\n  width: 274.5px;\n  height: 153px;\n  border-radius: 6px 0px 0px 0px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-next-video .next-content div {\n  width: 231px;\n  height: 153px;\n  left: 271.5px;\n  border-radius: 0 6px 6px 0;\n  font-size: 18px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-next-video .next-content div span {\n  font-size: 24px;\n  line-height: 27px;\n  top: 30px;\n  left: 15px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-next-video .next-content div p {\n  font-size: 18px;\n  line-height: 21px;\n  width: 201px;\n  left: 15px;\n  top: 81px;\n  max-width: 420px;\n  max-height: 42px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-next-video,\n.big-mode .h5player-dashboard .h5-control-wrap .control-volume-icon,\n.big-mode .h5player-dashboard .h5-control-wrap .control-settings-icon,\n.big-mode .h5player-dashboard .h5-control-wrap .control-fullscreen-icon,\n.big-mode .h5player-dashboard .h5-control-wrap .control-halfscreen-icon,\n.big-mode .h5player-dashboard .h5-control-wrap .control-webfullscreen-icon,\n.big-mode .h5player-dashboard .h5-control-wrap .exit-webfullscreen-icon,\n.big-mode .h5player-dashboard .h5-control-wrap .control-rotate-screen-icon {\n  width: 30px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-time {\n  font-size: 18px;\n  line-height: 75px;\n  height: 75px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-scroll-info {\n  bottom: 105px !important;\n  font-size: 21px;\n  margin-left: -70.5px;\n  border-radius: 21px;\n  width: 126px;\n  height: 33px !important;\n  line-height: 33px !important;\n  text-shadow: 2px 2px 1px #000;\n  margin-left: -63px !important;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-scroll-info .iconfont {\n  width: 21px !important;\n  height: 21px !important;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-phonewatch {\n  font-size: 21px;\n  height: 48px !important;\n  line-height: 48px !important;\n  transform: translateY(-37.5px);\n  margin: 0px 0px 0 28px;\n  border-radius: 24px;\n  padding: 0 18px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-phonewatch .icon--shoujikan {\n  width: 27px;\n  font-size: 27px;\n  line-height: 48px !important;\n  height: 48px !important;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-phonewatch .phone-watch-panel {\n  width: 487.5px;\n  height: 165px;\n  bottom: 55.5px;\n  padding: 30px;\n  background: #323232;\n  box-shadow: 0 0 36px 0 rgba(0, 0, 0, 0.22), 0 36px 36px 0 rgba(0, 0, 0, 0.3);\n  border-radius: 6px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-phonewatch .phone-watch-panel .arrow {\n  bottom: -18px;\n  border: 9px solid;\n  border-color: #323232 transparent transparent;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-phonewatch .phone-watch-panel .left-wrap {\n  width: 291px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-phonewatch .phone-watch-panel .left-wrap .title-wrap {\n  padding-bottom: 18px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-phonewatch .phone-watch-panel .left-wrap .title-wrap .title {\n  font-size: 24px;\n  line-height: 33px;\n  height: 33px;\n  margin-bottom: 6px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-phonewatch .phone-watch-panel .left-wrap .title-wrap .subtitle {\n  font-size: 18px;\n  height: 25.5px;\n  line-height: 25.5px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-phonewatch .phone-watch-panel .left-wrap .video-wrap {\n  padding-top: 18px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-phonewatch .phone-watch-panel .left-wrap .video-wrap .video-title {\n  font-size: 21px;\n  height: 30px;\n  line-height: 30px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-phonewatch .phone-watch-panel .left-wrap .video-wrap .time {\n  margin-top: 6px;\n  font-size: 18px;\n  height: 25.5px;\n  line-height: 25.5px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-phonewatch .phone-watch-panel .right-wrap .erweima {\n  width: 150px;\n  height: 150px;\n  border-radius: 6px;\n  border: #fff solid 7.5px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-quality-icon {\n  font-size: 21px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-quality-icon .js-language-text {\n  max-width: 90px;\n  width: auto !important;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-quality-icon .js-quality-text {\n  width: 43.5px;\n  height: 75px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-quality-btn.q1080p {\n  width: 82.5px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-quality-btn.q1080p_hdr {\n  width: 82.5px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-rate-note,\n.big-mode .h5player-dashboard .h5-control-wrap .control-quality-note {\n  bottom: 79.5px;\n  padding: 7.5px 30px 7.5px 7.5px;\n  border-radius: 3px;\n  width: 255px;\n  height: 21px;\n  line-height: 21px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-rate-note:before,\n.big-mode .h5player-dashboard .h5-control-wrap .control-quality-note:before {\n  bottom: -19.5px;\n  border-width: 10.5px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-rate-note:after,\n.big-mode .h5player-dashboard .h5-control-wrap .control-quality-note:after {\n  font-size: 30px;\n  bottom: 13.5px;\n  right: 7.5px;\n  width: 18px;\n  height: 18px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-quality-icon .quality-dashboard,\n.big-mode .h5player-dashboard .h5-control-wrap .control-quality-icon .rate-dashboard {\n  width: 120px;\n  bottom: 60px;\n  padding-bottom: 19.5px;\n  border-radius: 6px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-quality-icon .quality-dashboard .settings-item,\n.big-mode .h5player-dashboard .h5-control-wrap .control-quality-icon .rate-dashboard .settings-item {\n  font-size: 21px;\n  padding-top: 30px;\n  line-height: 24px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-quality-icon .quality-dashboard.largest,\n.big-mode .h5player-dashboard .h5-control-wrap .control-quality-icon .rate-dashboard.largest {\n  width: 241.5px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-quality-icon .quality-dashboard .settings-item:first-of-type,\n.big-mode .h5player-dashboard .h5-control-wrap .control-quality-icon .rate-dashboard .settings-item:first-of-type {\n  border-radius: 6px 6px 0 0;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-quality-icon .quality-dashboard .settings-item .vip-label,\n.big-mode .h5player-dashboard .h5-control-wrap .control-quality-icon .rate-dashboard .settings-item .vip-label {\n  border-radius: 3px;\n  padding: 3px 4.5px;\n  line-height: 18px;\n  margin-left: 6px;\n  margin-right: 4.5px;\n  font-size: 18px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-quality-icon .quality-dashboard .settings-item:last-of-type,\n.big-mode .h5player-dashboard .h5-control-wrap .control-quality-icon .rate-dashboard .settings-item:last-of-type {\n  padding-bottom: 30px;\n  border-radius: 0px 0px 6px 6px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-volume-box {\n  bottom: 60px;\n  padding-bottom: 19.5px!important;\n  width: 90px;\n  height: 300px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-volume-box .control-volume-slider {\n  top: 72px;\n  width: 6px;\n  height: 204px;\n  left: 42px;\n  border-radius: 6px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-volume-box .control-volume-slider .input-range-container .input-range-thumb {\n  margin-left: -4.5px;\n  margin-bottom: -10.5px;\n  border: 7.5px solid #ffffFF;\n  border-radius: 15px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-volume-box .control-volume-slider .input-range-container .input-range-thumb:before {\n  top: -19.5px;\n  left: -19.5px;\n  border: 19.5px solid rgba(255, 255, 255, 0.2);\n  border-radius: 19.5px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-volume-box .control-volume-current {\n  width: 6px;\n  border-radius: 6px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-volume-box:before {\n  width: 90px;\n  height: 300px;\n  border-radius: 6px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-volume-icon.slide-show .volume-tip {\n  font-size: 21px;\n  line-height: 36px;\n  top: -298.5px;\n  padding-top: 10.5px;\n  width: 90px;\n  margin-left: -30px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-settings-icon .settings-dashboard {\n  width: 249px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-settings-icon .settings-dashboard .settings-item:first-of-type {\n  padding-top: 30px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-settings-icon .settings-dashboard .settings-item {\n  line-height: 29px;\n  padding-top: 21px;\n  padding: 21px 30px 0px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-settings-icon .settings-dashboard .settings-item .iconfont {\n  right: 30px;\n  width: 45px;\n  height: 27px;\n  background-size: 45px 27px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-settings-icon .settings-dashboard .settings-item:last-of-type {\n  padding-bottom: 30px;\n}\n.big-mode .h5player-dashboard .h5-control-wrap .control-quality-icon .quality-dashboard .settings-item:first-of-type,\n.big-mode .h5player-dashboard .h5-control-wrap .control-quality-icon .rate-dashboard .settings-item:first-of-type {\n  border-radius: 6px 6px 0 0;\n}\n.big-mode .js-top-icon .control-hdr-icon .js-hdr {\n  top: 19.5px;\n  right: 163.5px;\n  width: 229.5px;\n  height: 60px;\n  line-height: 60px;\n  border-radius: 30px;\n  font-size: 21px;\n}\n.big-mode .js-top-icon .control-hdr-icon .js-hdr .iconfont {\n  width: 36px;\n  height: 60px;\n  font-size: 36px;\n  line-height: 60px;\n  /* margin-top: 7.5px; */\n  /* margin-bottom: 7.5px; */\n  margin-left: 24px;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n.big-mode .js-top-icon .control-hdr-icon .js-hdr .hdr-close-text,\n.big-mode .js-top-icon .control-hdr-icon .js-hdr .hdr-open-text {\n  line-height: 60px;\n  font-size: 21px;\n  margin: 0px 24px 0px 10.5px;\n}\n.big-mode .js-top-icon .control-hdr-icon .fullscreen-hdr .iconfont {\n  width: 45px;\n}\n.big-mode .js-top-icon .control-hdr-icon .fullscreen-hdr .hdr-close-text,\n.big-mode .js-top-icon .control-hdr-icon .fullscreen-hdr .hdr-open-text {\n  line-height: 60px;\n  font-size: 21px;\n  margin: 0px 24px 0px 10.5px;\n}\n.big-mode .top_area {\n  font-size: 21px;\n}\n.big-mode .top_area .top-header {\n  padding: 33.5px 45px 42px 45px;\n}\n.big-mode .top_area .top-header .scale {\n  top: 30px;\n  right: 163.5px;\n}\n.big-mode .top_area .top-header .has-hdr-scale {\n  right: 430.5px;\n}\n.big-mode .top_area .top-header .percent-item {\n  width: 54px;\n  height: 45px;\n  font-size: 45px;\n  line-height: 45px;\n}\n.big-mode .vip_limit_box {\n  padding-bottom: 82px;\n}\n.big-mode .hint-information,\n.big-mode .information-tips {\n  bottom: 90.5px;\n}\n.minisize-layer {\n  background: none !important;\n  display: none;\n  cursor: move;\n  pointer-events: auto;\n}\n.minisize-layer .btn-control {\n  cursor: default;\n  display: none;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 28px;\n  padding-left: 15px;\n  line-height: 28px;\n  font-size: 14px;\n  color: #fff;\n  -webkit-user-select: none;\n  text-align: left;\n  z-index: 11;\n}\n.minisize-layer .btn-control:before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-image: linear-gradient(to bottom, rgba(3, 0, 0, 0.85) 0, transparent 100%);\n}\n.minisize-layer .btn-control .min-closeicon {\n  cursor: default;\n  width: 28px;\n  height: 28px;\n  position: absolute;\n  right: 15px;\n  background: rgba(0, 0, 0, 0.5);\n  display: inline-block;\n  cursor: pointer;\n}\n.minisize-layer .btn-control .min-closeicon .iconfont {\n  position: relative;\n  left: 4px;\n  font-size: 20px;\n}\n.minisize-layer .btn-control .min-closeicon:hover .iconfont {\n  color: #0D9BFF;\n}\n.minisize-layer .btn-control:after {\n  height: 28px;\n  width: 28px;\n}\n.minisize-layer .icon-play:before,\n.minisize-layer .icon-pause::before {\n  line-height: 30px;\n  height: auto;\n  position: static;\n  font-size: 24px;\n}\n.minisize-layer .icon-close {\n  display: inline-block;\n}\n.minisize-layer .icon-close:before {\n  font-size: 20px;\n}\n.minisize-layer .h5-control-wrap {\n  cursor: default;\n  display: none;\n  padding: 4px 10px 10px;\n  line-height: 30px;\n  height: 24px;\n  width: 20px;\n  position: absolute;\n  bottom: 20px;\n  left: 20px;\n  background: rgba(0, 0, 0, 0.4);\n  border: 0px solid #fff;\n  border-radius: 20px;\n  -webkit-box-shadow: 0px 0px 20px rgba(255, 255, 255, 0.3);\n  box-shadow: 0px 0px 3px rgba(255, 255, 255, 0.3);\n}\n.minisize-layer .h5-control-wrap .iconfont {\n  font-size: 24px;\n  left: -1px;\n  position: relative;\n}\n.minisize-layer .h5-control-wrap .icon-pause {\n  display: none;\n}\n.minisize-layer .h5-control-wrap .icon-play {\n  display: block;\n}\n.minisize-layer .control-play-icon .icon-pause {\n  display: block;\n}\n.minisize-layer .control-play-icon .icon-play {\n  display: none;\n}\n.minisize-layer .h5-mininote-layer {\n  width: 120px;\n  height: 46px;\n  display: none;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin: -23px 0 0 -60px;\n  color: #fff;\n  background-color: #000;\n  opacity: 0.8;\n  text-align: center;\n  line-height: 46px;\n}\n.minisize-layer .h5-mininote-mask {\n  display: none;\n  width: 100%;\n  height: 100%;\n}\n.minisize-layer:hover .btn-control,\n.minisize-layer:hover .h5-mininote-mask,\n.minisize-layer:hover .h5-control-wrap {\n  display: block;\n}\n.yk-video-fixed {\n  position: fixed;\n}\n.yk-video-fixed .youku-layer-logo {\n  display: none;\n}\n.yk-video-fixed .h5player-dashboard {\n  opacity: 0;\n}\n.yk-video-fixed .btn-control {\n  display: block;\n}\n.note-show-miniplayer {\n  background-color: #000000;\n  display: block;\n}\n.note-show-miniplayer .h5-mininote-mask {\n  display: block;\n}\n.note-show-miniplayer .h5-mininote-layer {\n  display: block;\n}\n.note-show-miniplayer .btn-control {\n  display: none;\n}\n.yk-video-fixed:hover .minisize-layer {\n  display: block;\n}\n.not-support-layer {\n  display: none;\n  width: 100%;\n  height: 70%;\n  position: absolute;\n  bottom: 15%;\n  left: 0;\n  background-color: #000;\n  font-size: 14px;\n  color: #fff;\n  text-align: center;\n}\n.not-support-layer .left-info-layer {\n  position: absolute;\n  display: inline-block;\n  width: 48%;\n  height: 100%;\n  left: 0;\n  border-right: rgba(216, 216, 216, 0.15) solid 1px;\n  color: #fff;\n  font-size: 20px;\n  line-height: 36px;\n}\n.not-support-layer .left-info-layer .warn-img {\n  display: block;\n  height: 58px;\n  padding: 20px 0 32px 0;\n}\n.not-support-layer .left-info-layer .warn-img i {\n  display: block;\n  width: 58px;\n  height: 58px;\n  background: url('//img.alicdn.com/tfs/TB1hptSeMMPMeJjy1XcXXXpppXa-58-58.png') no-repeat;\n  margin: 0 auto;\n}\n.not-support-layer .left-info-layer .warn-reason {\n  display: block;\n  padding-bottom: 16px;\n}\n.not-support-layer .left-info-layer .warn-txt {\n  color: #666;\n}\n.not-support-layer .right-info-layer {\n  width: 50%;\n  height: 100%;\n  float: right;\n  left: 0;\n  top: 0;\n  box-sizing: border-box;\n}\n.not-support-layer .right-info-layer .right-info-content {\n  text-align: left;\n  display: inline-block;\n  margin: 0 auto;\n}\n.not-support-layer .right-info-layer .note-txt {\n  color: #666;\n  margin-bottom: 30px;\n}\n.not-support-layer .right-info-layer li {\n  position: relative;\n  list-style: none;\n  display: block;\n  margin-bottom: 30px;\n}\n.not-support-layer .right-info-layer .type-txt i {\n  display: block;\n  left: 215px;\n  position: absolute;\n  top: 0;\n  width: 61px;\n  height: 21px;\n  background: url('//img.alicdn.com/tfs/TB13i4zeMMPMeJjy1XdXXasrXXa-61-21.png') no-repeat;\n}\n.not-support-layer .right-info-layer .type-txt a {\n  color: #3a72bf;\n  display: inline-block;\n  padding: 0 10px;\n  cursor: pointer;\n}\n.not-support-layer .right-info-layer .erweima {\n  border: #fff solid 3px;\n  width: 100px;\n  height: 100px;\n}\n.ykplayer-poster-logo {\n  display: none;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  background-repeat: no-repeat;\n  background-size: cover;\n  cursor: pointer;\n}\n.safari-player-layer {\n  background-color: rgba(0, 0, 0, 0.7);\n  z-index: 112;\n  pointer-events: auto;\n}\n.safari-player-layer .play-btn {\n  cursor: pointer;\n  display: block;\n  margin: 10px auto;\n  line-height: 36px;\n  background-color: transparent;\n  width: 100px;\n  border-radius: 18px;\n  color: rgba(255, 255, 255, 0.8);\n  border: 1px solid #fff;\n}\n.safari-player-layer .play-btn:hover {\n  color: #fff;\n  background-color: rgba(255, 255, 255, 0.1);\n}\n.safari-player-layer .play-area {\n  text-align: center;\n}\n.safari-player-layer .play-area img {\n  margin: 0 auto;\n}\n.safari-player-layer .tips {\n  font-size: 13px;\n  color: rgba(255, 255, 255, 0.8);\n}\n.safari-player-layer .tips a {\n  color: #098fff;\n}\n.limit-show-layer {\n  display: none;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-color: #edf7fc;\n  text-align: center;\n  align-items: center;\n  justify-content: center;\n}\n.limit-show-layer .limit-panel,\n.limit-show-layer .pretected-panel {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin-left: -201px;\n  margin-top: -94px;\n}\n.limit-show-layer .limit-panel .tips,\n.limit-show-layer .pretected-panel .tips {\n  font-size: 20px;\n  opacity: .6;\n}\n.limit-show-layer .limit-panel .note-tit,\n.limit-show-layer .pretected-panel .note-tit {\n  margin-bottom: 20px;\n  line-height: 180%;\n  font-size: 20px;\n}\n.limit-show-layer .note-error-code {\n  position: absolute;\n  bottom: 20px;\n  right: 20px;\n  opacity: .6;\n}\n.limit-show-layer .limit-panel .wait-time b {\n  font-weight: bold;\n}\n.limit-show-layer .limit-panel .btn-reload {\n  display: inline-block;\n  line-height: 40px;\n  height: 40px;\n  width: 150px;\n  font-size: 16px;\n  text-align: center;\n  color: #3b9eff;\n  text-decoration: none;\n  margin-top: 20px;\n  margin-bottom: 20px;\n  border-radius: 39px;\n  border: 1px solid #3b9eff;\n}\n.limit-show-layer .pretected-panel .nc-container {\n  font-size: 12px;\n  -ms-touch-action: none;\n  touch-action: none;\n}\n.limit-show-layer .pretected-panel #nocaptcha {\n  margin-top: 20px;\n  margin-right: 0;\n  height: 64px;\n}\n.limit-show-layer .pretected-panel #nocaptcha #nc_1_wrapper,\n.limit-show-layer .pretected-panel .nc-container.tb-login #nc_1_wrapper {\n  width: 100%;\n  height: 100%;\n  background-color: rgba(59, 158, 255, 0.3);\n  border-radius: 38px;\n}\n.limit-show-layer .pretected-panel #nocaptcha .nc_scale {\n  top: 6px;\n  height: 54px;\n  margin-left: 6px;\n  margin-right: 6px;\n  background-color: transparent;\n  border-radius: 33px;\n}\n.limit-show-layer .pretected-panel #nocaptcha .nc_scale .btn_slide {\n  width: 80px;\n  height: 52px;\n  border-radius: 32px;\n  color: #3b9eff;\n  font-size: 25px;\n  font-weight: 400;\n  border-color: transparent;\n  border-bottom-color: rgba(0, 0, 0, 0.11);\n}\n.limit-show-layer .pretected-panel #nocaptcha .nc_scale span {\n  line-height: 52px;\n}\n.limit-show-layer .pretected-panel #nocaptcha .nc_scale .nc_ok,\n.limit-show-layer .pretected-panel #nocaptcha .nc_scale .nc_bg {\n  left: 40px;\n  background-color: #3b9eff;\n  border-radius: 33px;\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n}\n.limit-show-layer .pretected-panel #nocaptcha .nc_scale .nc_bg:after {\n  content: '';\n  display: inline-block;\n  position: absolute;\n  left: -40px;\n  top: 0;\n  height: 100%;\n  width: 41px;\n  background-color: #3b9eff;\n  border-top-left-radius: 33px;\n  border-bottom-left-radius: 33px;\n}\n.limit-show-layer .pretected-panel #nocaptcha .nc_scale .imgCaptcha,\n.limit-show-layer .pretected-panel #nocaptcha .nc_scale .clickCaptcha,\n.limit-show-layer .pretected-panel #nocaptcha .imgCaptcha div {\n  background: none;\n}\n.limit-show-layer .pretected-panel #nocaptcha .imgCaptcha,\n.limit-show-layer .pretected-panel #nocaptcha .clickCaptcha {\n  margin-left: 33px;\n  margin-right: 33px;\n  border-color: none;\n}\n.limit-show-layer .pretected-panel #nocaptcha .imgCaptcha,\n.limit-show-layer .pretected-panel #nocaptcha .nc_scale .clickCaptcha {\n  top: 70px;\n  border-color: transparent;\n}\n.limit-show-layer .pretected-panel #nocaptcha .imgCaptcha .btn_refresh {\n  background-color: transparent;\n  color: #3b9eff;\n}\n.limit-show-layer .pretected-panel #nocaptcha .imgCaptcha .imgCaptcha_btn {\n  background: #3b9eff;\n}\n.limit-show-layer .pretected-panel #nocaptcha .errloading {\n  width: auto;\n  margin-right: 40px;\n  height: 76px;\n  padding: 0 15px;\n  border-color: #3b9eff;\n  color: #3b9eff;\n  border-radius: 38px;\n  line-height: 76px;\n  text-align: center;\n}\n.limit-show-layer .pretected-panel #nocaptcha .errloading .icon_warn {\n  color: #3b9eff;\n  display: inline-block;\n  float: none;\n  vertical-align: middle;\n  margin-right: 12px;\n  margin-top: -1px;\n}\n.yk-trigger-layer {\n  display: block;\n  position: absolute;\n  width: 100%;\n  top: 0;\n  bottom: 60px;\n  left: 0;\n  font-size: 13px;\n  cursor: pointer;\n}\n.ykplayer-dashboard-hidden .fullscreen .yk-trigger-layer {\n  cursor: none !important;\n}\n.youku_player_fullpage.ykplayer-dashboard-hidden .yk-trigger-layer {\n  cursor: none !important;\n}\n.yk-info-menu {\n  display: none;\n  background: rgba(30, 30, 32, 0.8);\n  position: fixed;\n  width: 200px;\n  z-index: 9999;\n  padding: 10px 0;\n  color: #eee;\n  overflow: hidden;\n}\n.yk-info-menu .yk-info-menuitem {\n  padding-left: 20px;\n  height: 34px;\n  line-height: 34px;\n  cursor: pointer;\n  max-width: 100%;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.yk-info-menu .yk-info-nopoint {\n  cursor: none;\n}\n.yk-detail-info {\n  display: none;\n  position: absolute;\n}\n.sufei-note-layer {\n  display: none;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  font-size: 14px;\n  color: #fff;\n  text-align: center;\n}\n.ykplayer-broadcast-layer {\n  display: none;\n  position: absolute;\n  z-index: 120;\n  width: 334px;\n  height: 170px;\n  right: 16px;\n  top: 16px;\n  font-family: PingFangSC-Regular, sans-serif;\n  font-size: 12px;\n  color: #FFFFFF;\n  text-align: center;\n  line-height: 12px;\n}\n.ykplayer-broadcast-layer span {\n  display: block;\n}\n.ykplayer-broadcast-layer .broadcast-top-banner {\n  position: relative;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 36px;\n  background-color: rgba(0, 0, 0, 0.8);\n  /*.mini-flag-left{\n            position: absolute;\n            display: block;\n            width: 16px;\n            height: 16px;\n            left: 108px;\n            top: 50%;\n            margin-top: -8px;\n        }\n        .mini-flag-right{\n            position: absolute;\n            display: block;\n            width: 16px;\n            height: 16px;\n            right: 47px;\n            top: 50%;\n            margin-top: -8px;\n        }\n        .mini-name-left{\n            position: absolute;\n            height: 36px;\n            line-height: 36px;\n            text-align: center;\n            left:130px;\n            top:0;\n        }\n        .mini-name-right{\n            position: absolute;\n            height: 36px;\n            line-height: 36px;\n            text-align: center;\n            right: 66px;\n            top:0;\n        }\n        .mini-vs-text{\n            position: absolute;\n            right: -15px;\n            height: 36px;\n            width: 300px;\n            line-height: 36px;\n        }*/\n}\n.ykplayer-broadcast-layer .broadcast-top-banner .blue-btn {\n  display: block;\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 36px;\n  height: 36px;\n  background: #148AFF;\n  background: url('data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/4QBMRXhpZgAATU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAQqADAAQAAAABAAAAQAAAAAD/7QA4UGhvdG9zaG9wIDMuMAA4QklNBAQAAAAAAAA4QklNBCUAAAAAABDUHYzZjwCyBOmACZjs+EJ+/9sAhAAICAgICQgJCgoJDQ4MDg0TERAQERMcFBYUFhQcKxsfGxsfGysmLiUjJS4mRDUvLzVETkI+Qk5fVVVfd3F3nJzRAQgICAgJCAkKCgkNDgwODRMREBARExwUFhQWFBwrGx8bGx8bKyYuJSMlLiZENS8vNUROQj5CTl9VVV93cXecnNH/wgARCABAAEIDASIAAhEBAxEB/8QAGQABAAMBAQAAAAAAAAAAAAAAAAQFBwYB/9oACAEBAAAAALgAAAvaIBs1Fn8YGz1GeQgdRzHgAAA//8QAGAEBAAMBAAAAAAAAAAAAAAAAAAMEBQb/2gAIAQIQAAAA7YGfNaM6W4B//8QAGAEBAAMBAAAAAAAAAAAAAAAAAAMEBQf/2gAIAQMQAAAA5+DTgpmpFQA//8QALBAAAgIAAgcHBQAAAAAAAAAAAQQCAwAFBhETICExQRIjMDM0QLJRU3Jzwf/aAAgBAQABPwD2reQOUK0sw72udcZHsjjHWNfgo6ggqT9iv44zXRuhsSuXAqt+nSWGlGFLTVfWYyG+h6FP9FfxxmOdqoAjzLekB/cPZgw/btLpfjEchvs6TMSToVXGzEa4xlLrwGJSMiTIkk8yfb//xAAhEQACAQIGAwAAAAAAAAAAAAABBAIDEQAFEyAiQTBRUv/aAAgBAgEBPwDc+zUW0pRsbk3GFm6LA4m0u4nZmC1RjRjAdm59YVSpLi45T+vB/8QAIREAAQMDBAMAAAAAAAAAAAAAAQIDBAURQQATICIwQlL/2gAIAQMBAT8A5U2I1K3kruCEixGNSoL0U9hdGFDhTJTUbfU4fUWAzqZUHpRseqPkeD//2Q==') 0 0 no-repeat;\n  background-size: 36px 36px;\n  cursor: pointer;\n}\n.ykplayer-broadcast-layer .broadcast-top-banner .blue-btn:hover,\n.ykplayer-broadcast-layer .broadcast-top-banner .blue-btn:active {\n  background: url('data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/4QBMRXhpZgAATU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAQaADAAQAAAABAAAAQgAAAAD/7QA4UGhvdG9zaG9wIDMuMAA4QklNBAQAAAAAAAA4QklNBCUAAAAAABDUHYzZjwCyBOmACZjs+EJ+/9sAhAAICAgICQgJCgoJDQ4MDg0TERAQERMcFBYUFhQcKxsfGxsfGysmLiUjJS4mRDUvLzVETkI+Qk5fVVVfd3F3nJzRAQgICAgJCAkKCgkNDgwODRMREBARExwUFhQWFBwrGx8bGx8bKyYuJSMlLiZENS8vNUROQj5CTl9VVV93cXecnNH/wgARCABCAEEDASIAAhEBAxEB/8QAGgABAQADAQEAAAAAAAAAAAAAAAYEBwgBBf/aAAgBAQAAAADCAAAKmWAdCz2qMIHRU7qf54K2T8AAAAA//8QAGAEBAAMBAAAAAAAAAAAAAAAAAAMEBQf/2gAIAQIQAAAA6UDJnvmTPfAB/8QAFwEBAQEBAAAAAAAAAAAAAAAAAAUDB//aAAgBAxAAAADloK+E8r4zgAf/xAAwEAABBAACBgcJAAAAAAAAAAABAgMEBQAGERIgIkFREyEjMDE1QFBSZHFydIKhsv/aAAgBAQABPwD0svKk9mBGmsdu24yhxQSN5GsNPc1SkiorR8Iz1fgMXuU4dgVusaGJP6V9QxPrplc+WJTRQvhyI5jbp/KK37Rn+Bi5zVCq0qaaIele6PBHzxY2cyyfL0pzWVwHBI5DbmZumu18WFGHQobYQ2pYO8rVGjBJJJPsD//EACERAAEDBAEFAAAAAAAAAAAAAAECAwQABRFBIBIhIjAx/9oACAECAQE/AOV0muxAwtvByohQO6h3BiWPE4XtB+8LrDelhhDeOyjknVQrcxEGUjqXtZ9v/8QAIREAAQMDBQEBAAAAAAAAAAAAAgEDBAURQQASICIxITD/2gAIAQMBAT8A5UmCzNN8HLpYLiqYXU6myIRd03Bg084UiazDN9xy/wBCwomV1OqciaXddreATz9f/9k=') 0 0 no-repeat;\n  background-size: 36px 36px;\n}\n.ykplayer-broadcast-layer .broadcast-top-banner .match-status {\n  position: absolute;\n  display: block;\n  height: 100%;\n  width: 70px;\n  line-height: 36px;\n  text-align: center;\n  opacity: 0.8;\n  left: 36px;\n  cursor: pointer;\n}\n.ykplayer-broadcast-layer .broadcast-top-banner .mini-match-info {\n  position: absolute;\n  width: 170px;\n  height: 100%;\n  left: 116px;\n  cursor: pointer;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-pack: justify;\n  -ms-flex-pack: justify;\n  -webkit-justify-content: space-between;\n  justify-content: space-between;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n}\n.ykplayer-broadcast-layer .broadcast-top-banner .mini-match-info img {\n  display: block;\n  width: 16px;\n  height: 16px;\n}\n.ykplayer-broadcast-layer .broadcast-top-banner .mini-match-info .match-left {\n  white-space: nowrap;\n  padding: 11px 0;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: -webkit-flex;\n  display: flex;\n}\n.ykplayer-broadcast-layer .broadcast-top-banner .mini-match-info .match-left span {\n  line-height: 16px;\n  margin-left: 10px;\n}\n.ykplayer-broadcast-layer .broadcast-top-banner .mini-match-info .match-right {\n  white-space: nowrap;\n  padding: 11px 0;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: -webkit-flex;\n  display: flex;\n}\n.ykplayer-broadcast-layer .broadcast-top-banner .mini-match-info .match-right span {\n  line-height: 16px;\n  margin-right: 10px;\n}\n.ykplayer-broadcast-layer .broadcast-top-banner .mini-match-info .mini-vs-text {\n  height: 36px;\n  width: 80px;\n  line-height: 36px;\n}\n.ykplayer-broadcast-layer .broadcast-top-banner .long {\n  width: 200px;\n}\n.ykplayer-broadcast-layer .broadcast-top-banner .broadcast-close {\n  position: absolute;\n  height: 36px;\n  line-height: 33px;\n  text-align: center;\n  right: 8px;\n  font-size: 20px;\n  cursor: pointer;\n}\n@keyframes myfirst {\n  0% {\n    height: 26.8px;\n  }\n  25% {\n    height: 53.6px;\n  }\n  50% {\n    height: 80.4px;\n  }\n  100% {\n    height: 134px;\n  }\n}\n.ykplayer-broadcast-layer .broadcast-ceneter {\n  position: relative;\n  float: right;\n  width: 298px;\n  height: 0px;\n  background-color: rgba(0, 0, 0, 0.7);\n  overflow: hidden;\n  cursor: pointer;\n}\n.ykplayer-broadcast-layer .broadcast-ceneter .broadcast-logo {\n  position: relative;\n  width: 112px;\n  height: 18px;\n  left: 50%;\n  top: 10px;\n  margin-left: -56px;\n  background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAAAkCAMAAADRsHT6AAAAUVBMVEVHcEwOW///GTIPW/8PW/8OW///GTIUX/+9RYQOWv8QXf8OWv//GjMPW/8OWv8OWv//GjMPXP//GzT/Hjf/GTL/GTL/GTL/GjP/GjMOWv//GTJjLlMOAAAAGXRSTlMAtaJ4U5PoFAbvK8lYYqXedUIzGNG99keJpp+kRAAABk5JREFUWMPtWdmW3CoMxCt4t8Hb9P9/6AUkdtzTk5yc5OFWHpqxjYOkklRgQv4RUA2WG/xg8r8K+qUxkR4GNWEwqD6Z3elHm99ZwJ/1zQbGbGSCQW/snH7im1817bp3rgZrqXD790QZY2VcQcCd66P/Aa2ipIIBI7Wx8we++RWIsTxfr5dQ4+OlcMhReSishIyvGCXXP/eqf1bOPwh8oxfYEVLowUKMnfQnvvkOx67gRYevYNGr1X+2sH45OsEEGdDEvDW22JrXFDlUpB8ge76WBQadGXwtG+m7BIt8QEJm26T+hEfloOgXHxFdGa4PwyYIt0s8SHmeYNPrtKNRhjExb4wsbqMSEKMy7s+CGppmZ2LYDebwTRFduV004ff+ujzmlWR/pZAJmV7mkcWHeX2fX2QdrTFAZ2manYlktvZWkWsCoDX8KjULBbkd45COIWRC8gseWiFm93WxyOI7KgEx+miNAQZC5sebfUyIeo5cEwCtMRw0pUThEhnrWm+WAN9cJi9PyNO2bUfz+ocwMLI8mzcTMqjfYtu22qHBmWSaJnxtIy/TekJ6DvJGHZkXsmr3mSeujHmSdmLfwQ78afdbtAort0S35JwQaE6n/5CL6JGdlIL3O0or1xe6THtvsL7282zybZNDV0abSd6IzAtZVapSs8O1k622nujScmIJTfvCLXTb4xDUkXP7+iEbn4IY/i3mkcHrFKZpY22UUJYWGFlZdhb0RK1fwNB1VZEqnjC9VtnyBEZ09wpr0NXX3y6cjTW88ORVYexMM1ZxbsHHpGkz+qbSLzDJty3woNcWgvQ6VuFFtPQLK181RMpnXZjuV8zxQDvFmDzRiI8MTdOZzEu7hiQsMzOlNQ36Rg1devep4rHpdZajMDafLmJIRHF73TrtC+yIRIxNvUHCVJFlMNg80biljQ1o2hXq0c4UlN60NWnahL5RQ+uKrocHM0QrL5ZthRipFuvp7vhcCllXWnHA7TYSMVg2Gw1D0MaCpYI64KFJMzOUCYadnuqwY9dXVm62wwyQiZnC2eYiyp0kO+yvUjZggcrKdtXXD9aGuN4lHlQPqy+blIeQZotSb7N+Rycr5IAz6Zc1T7mI2g4zQyaGijMUGX5EmQvk6leYC7Mx08Szm5Zs344Ftd8Snyeq5W+ucMphxxyr53T/14a5EkcULeU+XyEd+Rhz8Sr3djfV6Y1iAdrZMtnMc6H+IeZnJQeFU5K5QN/I4eCerYdk/yeCXEkjeqClaIsiHUPFosCcbOGm4Jy3SeO+rk1oqtqH5R/m18Nu51FQY+Ec5HB24rvvngT19RBRYQrhavWmr9peYjWXR69/HiyRZLo3f3WueiD/mj6FDHtjE6pQlWiwvaPXYa+wcBZaUHfoQ/ooqMVDRFdjfZlsAEGhlihU+ZnbL1TPsrh/J6i9iZutnqryEwg7RqxSw7lAVbdsT4L6ZJnCeVlLWoat7nA65lBNfoTrTqgaIy9vO54V1G/41wT7BUoskeXqN+jutZVkX/1m9c8ErkmryP4Q0csWRlh3e9yGzwecwKAMhWs7J2x1fnjc1Czk3Yau8huKDgfzI9tDSTF9gTn902AqC9eg0OnugouoU1+cCK8F2Ip5usKpjTqF5YOczDzrlipATcib7d7mE3cIt8Ry+VtRNEgLNfQOzaqiqAMhlmK3pWO3defwZqxZQQ02gQS/sGdSb0PX9FavzLIP1B7fcompGwqUDx2OOhBsflPJHpqtz+aVvqAubSLZGVdWUGP0mH25Cj1VKQG8maZEUNNHaOJ2W+3sASJX7lhzsbuq3KFZ+Wze7W2BuAvo7Z1EZAQ1RreU9l2nzT1ayP0zOLZ5d9qTOSEcaN25I88ZsrA2+4HoMLuJTiGOZ/NGT1Af3iHTiFDUHiPIiDJI4vPYPXVDWMXA8bR4d9qToGjY5IoQVkZJxa1jue8LLPra0D6bx72zpZfpCh8g3MDvdg46fptArgy50570BNr2lM0pcy3WPjtff4a7TfxL38PP51aEZxEDg13eApu34YPXFR796OffVf4YmFNlh4i+48x9chLxHVTx6Cq/MtZ/+XuWWFXitcH3E3R8nWzHP/j+U/R+Zex68tfBBMt9x6mrZDv+Dfpu3rxc+me/UOqCQuXOqN7qDfHBaikl/yOP/wC5onxC+Rc0AQAAAABJRU5ErkJggg==') 0 0 no-repeat;\n  background-size: 112px 18px;\n}\n.ykplayer-broadcast-layer .broadcast-ceneter .team-info {\n  height: 102px;\n  position: relative;\n  top: -20px;\n  left: 0;\n}\n.ykplayer-broadcast-layer .broadcast-ceneter .team-info .vs-text {\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  height: 20px;\n  font-size: 20px;\n  color: #FFFFFF;\n  letter-spacing: 0;\n  text-align: center;\n  line-height: 20px;\n  margin: auto;\n}\n.ykplayer-broadcast-layer .broadcast-ceneter .team-info .live-icon {\n  position: absolute;\n  bottom: 10px;\n  left: 50%;\n  margin-left: -20px;\n  width: 40px;\n  height: 20px;\n  line-height: 20px;\n  background-color: #FF285D;\n}\n.ykplayer-broadcast-layer .broadcast-ceneter .team-info .left-side {\n  position: absolute;\n  width: 70px;\n  height: 70px;\n  top: 35px;\n  left: 36px;\n}\n.ykplayer-broadcast-layer .broadcast-ceneter .team-info .left-side img {\n  display: block;\n  width: 32px;\n  height: 32px;\n  margin: 0 auto;\n}\n.ykplayer-broadcast-layer .broadcast-ceneter .team-info .left-side span {\n  position: absolute;\n  font-size: 14px;\n  width: 100%;\n  line-height: 20px;\n  text-align: center;\n  bottom: 10px;\n  left: 0;\n}\n.ykplayer-broadcast-layer .broadcast-ceneter .team-info .right-side {\n  position: absolute;\n  width: 70px;\n  height: 70px;\n  top: 35px;\n  right: 36px;\n}\n.ykplayer-broadcast-layer .broadcast-ceneter .team-info .right-side img {\n  display: block;\n  width: 32px;\n  height: 32px;\n  margin: 0 auto;\n}\n.ykplayer-broadcast-layer .broadcast-ceneter .team-info .right-side span {\n  position: absolute;\n  font-size: 14px;\n  width: 100%;\n  line-height: 20px;\n  text-align: center;\n  bottom: 10px;\n  left: 0;\n}\n.ykplayer-broadcast-layer .broadcast-ceneter .match-info {\n  position: relative;\n  height: 22px;\n  width: 100%;\n  bottom: 0;\n  left: 0;\n  line-height: 22px;\n  text-align: center;\n  background-color: #000000;\n  opacity: 0.6;\n}\n.ykplayer-broadcast-layer .ceneter-show {\n  height: 134px;\n}\n.fullscreen .ykplayer-broadcast-layer {\n  top: 110px;\n}\n.subtitle-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  pointer-events: none;\n}\n.hdr-mask {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  overflow: hidden;\n  pointer-events: none;\n}\n.hdr-mask .hdr-mask-cover {\n  background: rgba(0, 0, 0, 0.3);\n  height: 100%;\n  width: 100%;\n  transition: 1.5s;\n  position: absolute;\n  transform: translate3d(0, 0, 0);\n  transition-property: transform;\n  transition-timing-function: linear;\n}\n.hdr-loading {\n  width: 20%;\n  position: absolute;\n  transform: translate3d(-50%, -50%, 0);\n  left: 50%;\n  top: 50%;\n  opacity: 0;\n}\n.control-phonewatch .phone-watch-panel {\n  position: absolute;\n  width: 325px;\n  height: 110px;\n  z-index: 1000;\n  bottom: 37px;\n  padding: 20px;\n  background: #323232;\n  box-shadow: 0 0 24px 0 rgba(0, 0, 0, 0.22), 0 24px 24px 0 rgba(0, 0, 0, 0.3);\n  border-radius: 4px;\n  display: none;\n}\n.control-phonewatch .phone-watch-panel .arrow {\n  position: absolute;\n  bottom: -12px;\n  width: 0;\n  height: 0;\n  border: 6px solid;\n  border-color: #323232 transparent transparent ;\n}\n.control-phonewatch .phone-watch-panel .left-wrap {\n  width: 194px;\n  float: left;\n  text-align: left;\n}\n.control-phonewatch .phone-watch-panel .left-wrap .title-wrap {\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n  padding-bottom: 12px;\n}\n.control-phonewatch .phone-watch-panel .left-wrap .title-wrap .title {\n  color: rgba(255, 255, 255, 0.87);\n  font-size: 16px;\n  line-height: 22px;\n  height: 22px;\n  margin-bottom: 4px;\n}\n.control-phonewatch .phone-watch-panel .left-wrap .title-wrap .subtitle {\n  color: rgba(255, 255, 255, 0.6);\n  font-size: 12px;\n  height: 17px;\n  line-height: 17px;\n}\n.control-phonewatch .phone-watch-panel .left-wrap .title-wrap .subtitle .notice {\n  font-family: 'Microsoft YaHei';\n  color: #0D9BFF;\n}\n.control-phonewatch .phone-watch-panel .left-wrap .video-wrap {\n  width: 100%;\n  padding-top: 12px;\n}\n.control-phonewatch .phone-watch-panel .left-wrap .video-wrap .video-title {\n  display: block;\n  width: 100%;\n  color: rgba(255, 255, 255, 0.87);\n  font-size: 16px;\n  line-height: 22px;\n  height: 22px;\n  font-size: 14px;\n  height: 20px;\n  line-height: 20px;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n}\n.control-phonewatch .phone-watch-panel .left-wrap .video-wrap .time {\n  margin-top: 4px;\n  color: rgba(255, 255, 255, 0.6);\n  font-size: 12px;\n  height: 17px;\n  line-height: 17px;\n}\n.control-phonewatch .phone-watch-panel .right-wrap {\n  float: right;\n  height: 100%;\n}\n.control-phonewatch .phone-watch-panel .right-wrap .erweima {\n  width: 100px;\n  height: 100px;\n  border-radius: 4px;\n  border: #fff solid 5px;\n}\n", ""])
    },
    function (e, t, n) {
        t = e.exports = n(125)(!1), t.push([e.i, ".h5-ext-layer {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  z-index: 1200 !important;\n  pointer-events: none;\n}\n.h5-ext-layer > * {\n  pointer-events: auto;\n}\n", ""])
    },
    function (e, t, n) {
        var i = n(239),
            o = n(240),
            r = ["focus", "blur"];
        t.bind = function (e, t, n, a, s) {
            return -1 !== r.indexOf(n) && (s = !0), o.bind(e, n, function (n) {
                var o = n.target || n.srcElement;
                n.delegateTarget = i(o, t, !0, e), n.delegateTarget && a.call(e, n)
            }, s)
        }, t.unbind = function (e, t, n, i) {
            -1 !== r.indexOf(t) && (i = !0), o.unbind(e, t, n, i)
        }
    },
    function (e, t) {
        function n(e, t) {
            for (; e && e.nodeType !== i;) {
                if ("function" == typeof e.matches && e.matches(t)) return e;
                e = e.parentNode
            }
        }
        var i = 9;
        if ("undefined" != typeof Element && !Element.prototype.matches) {
            var o = Element.prototype;
            o.matches = o.matchesSelector || o.mozMatchesSelector || o.msMatchesSelector || o.oMatchesSelector || o.webkitMatchesSelector
        }
        e.exports = n
    },
    function (e, t, n) {
        function i(e, t, n, i, o) {
            var a = r.apply(this, arguments);
            return e.addEventListener(n, a, o), {
                destroy: function () {
                    e.removeEventListener(n, a, o)
                }
            }
        }

        function o(e, t, n, o, r) {
            return "function" == typeof e.addEventListener ? i.apply(null, arguments) : "function" == typeof n ? i.bind(null, document).apply(null, arguments) : ("string" == typeof e && (e = document.querySelectorAll(e)), Array.prototype.map.call(e, function (e) {
                return i(e, t, n, o, r)
            }))
        }

        function r(e, t, n, i) {
            return function (n) {
                n.delegateTarget = a(n.target, t), n.delegateTarget && i.call(e, n)
            }
        }
        var a = n(301);
        e.exports = o
    },
    function (e, t, n) {
        var i, o;
        ! function (r, a, s) {
            void 0 !== e && e.exports ? e.exports = s() : (i = s, void 0 !== (o = "function" == typeof i ? i.call(t, n, t, e) : i) && (e.exports = o))
        }(0, 0, function () {
            "use strict";
            var e = function (e) {
                var t, n;
                t = Array.prototype.forEach, n = Array.prototype.map, this.each = function (e, n, i) {
                    if (null !== e)
                        if (t && e.forEach === t) e.forEach(n, i);
                        else if (e.length === +e.length) {
                        for (var o = 0, r = e.length; o < r; o++)
                            if (n.call(i, e[o], o, e) === {}) return
                    } else
                        for (var a in e)
                            if (e.hasOwnProperty(a) && n.call(i, e[a], a, e) === {}) return
                }, this.map = function (e, t, i) {
                    var o = [];
                    return null == e ? o : n && e.map === n ? e.map(t, i) : (this.each(e, function (e, n, r) {
                        o[o.length] = t.call(i, e, n, r)
                    }), o)
                }, "object" == typeof e ? (this.hasher = e.hasher, this.screen_resolution = e.screen_resolution, this.canvas = e.canvas, this.ie_activex = e.ie_activex) : "function" == typeof e && (this.hasher = e)
            };
            return e.prototype = {
                get: function () {
                    var e = [];
                    if (e.push(navigator.userAgent), e.push(navigator.language), e.push(screen.colorDepth), this.screen_resolution) {
                        void 0 !== this.getScreenResolution() && e.push(this.getScreenResolution().join("x"))
                    }
                    return e.push((new Date).getTimezoneOffset()), e.push(this.hasSessionStorage()), e.push(this.hasLocalStorage()), e.push(!!window.indexedDB), document.body ? e.push(typeof document.body.addBehavior) : e.push("undefined"), e.push(typeof window.openDatabase), e.push(navigator.cpuClass), e.push(navigator.platform), e.push(navigator.doNotTrack), e.push(this.getPluginsString()), this.canvas && this.isCanvasSupported() && e.push(this.getCanvasFingerprint()), this.hasher ? this.hasher(e.join("###"), 31) : this.murmurhash3_32_gc(e.join("###"), 31)
                }, murmurhash3_32_gc: function (e, t) {
                    var n, i, o, r, a, s, l, u;
                    for (n = 3 & e.length, i = e.length - n, o = t, a = 3432918353, s = 461845907, u = 0; u < i;) l = 255 & e.charCodeAt(u) | (255 & e.charCodeAt(++u)) << 8 | (255 & e.charCodeAt(++u)) << 16 | (255 & e.charCodeAt(++u)) << 24, ++u, l = (65535 & l) * a + (((l >>> 16) * a & 65535) << 16) & 4294967295, l = l << 15 | l >>> 17, l = (65535 & l) * s + (((l >>> 16) * s & 65535) << 16) & 4294967295, o ^= l, o = o << 13 | o >>> 19, r = 5 * (65535 & o) + ((5 * (o >>> 16) & 65535) << 16) & 4294967295, o = 27492 + (65535 & r) + ((58964 + (r >>> 16) & 65535) << 16);
                    switch (l = 0, n) {
                    case 3:
                        l ^= (255 & e.charCodeAt(u + 2)) << 16;
                    case 2:
                        l ^= (255 & e.charCodeAt(u + 1)) << 8;
                    case 1:
                        l ^= 255 & e.charCodeAt(u), l = (65535 & l) * a + (((l >>> 16) * a & 65535) << 16) & 4294967295, l = l << 15 | l >>> 17, l = (65535 & l) * s + (((l >>> 16) * s & 65535) << 16) & 4294967295, o ^= l
                    }
                    return o ^= e.length, o ^= o >>> 16, o = 2246822507 * (65535 & o) + ((2246822507 * (o >>> 16) & 65535) << 16) & 4294967295, o ^= o >>> 13, o = 3266489909 * (65535 & o) + ((3266489909 * (o >>> 16) & 65535) << 16) & 4294967295, (o ^= o >>> 16) >>> 0
                }, hasLocalStorage: function () {
                    try {
                        return !!window.localStorage
                    } catch (e) {
                        return !0
                    }
                }, hasSessionStorage: function () {
                    try {
                        return !!window.sessionStorage
                    } catch (e) {
                        return !0
                    }
                }, isCanvasSupported: function () {
                    var e = document.createElement("canvas");
                    return !(!e.getContext || !e.getContext("2d"))
                }, isIE: function () {
                    return "Microsoft Internet Explorer" === navigator.appName || !("Netscape" !== navigator.appName || !/Trident/.test(navigator.userAgent))
                }, getPluginsString: function () {
                    return this.isIE() && this.ie_activex ? this.getIEPluginsString() : this.getRegularPluginsString()
                }, getRegularPluginsString: function () {
                    return this.map(navigator.plugins, function (e) {
                        var t = this.map(e, function (e) {
                            return [e.type, e.suffixes].join("~")
                        }).join(",");
                        return [e.name, e.description, t].join("::")
                    }, this).join(";")
                }, getIEPluginsString: function () {
                    if (window.ActiveXObject) {
                        var e = ["ShockwaveFlash.ShockwaveFlash", "AcroPDF.PDF", "PDF.PdfCtrl", "QuickTime.QuickTime", "rmocx.RealPlayer G2 Control", "rmocx.RealPlayer G2 Control.1", "RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)", "RealVideo.RealVideo(tm) ActiveX Control (32-bit)", "RealPlayer", "SWCtl.SWCtl", "WMPlayer.OCX", "AgControl.AgControl", "Skype.Detection"];
                        return this.map(e, function (e) {
                            try {
                                return new ActiveXObject(e), e
                            } catch (e) {
                                return null
                            }
                        }).join(";")
                    }
                    return ""
                }, getScreenResolution: function () {
                    return [screen.height, screen.width]
                }, getCanvasFingerprint: function () {
                    var e = document.createElement("canvas"),
                        t = e.getContext("2d"),
                        n = "http://valve.github.io";
                    return t.textBaseline = "top", t.font = "14px 'Arial'", t.textBaseline = "alphabetic", t.fillStyle = "#f60", t.fillRect(125, 1, 62, 20), t.fillStyle = "#069", t.fillText(n, 2, 15), t.fillStyle = "rgba(102, 204, 0, 0.7)", t.fillText(n, 4, 17), e.toDataURL()
                }
            }, e
        })
    },
    function (e, t) {
        t.node = function (e) {
            return void 0 !== e && e instanceof HTMLElement && 1 === e.nodeType
        }, t.nodeList = function (e) {
            var n = Object.prototype.toString.call(e);
            return void 0 !== e && ("[object NodeList]" === n || "[object HTMLCollection]" === n) && "length" in e && (0 === e.length || t.node(e[0]))
        }, t.string = function (e) {
            return "string" == typeof e || e instanceof String
        }, t.fn = function (e) {
            return "[object Function]" === Object.prototype.toString.call(e)
        }
    },
    function (e, t, n) {
        function i(e, t, n) {
            if (!e && !t && !n) throw new Error("Missing required arguments");
            if (!s.string(t)) throw new TypeError("Second argument must be a String");
            if (!s.fn(n)) throw new TypeError("Third argument must be a Function");
            if (s.node(e)) return o(e, t, n);
            if (s.nodeList(e)) return r(e, t, n);
            if (s.string(e)) return a(e, t, n);
            throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")
        }

        function o(e, t, n) {
            return e.addEventListener(t, n), {
                destroy: function () {
                    e.removeEventListener(t, n)
                }
            }
        }

        function r(e, t, n) {
            return Array.prototype.forEach.call(e, function (e) {
                e.addEventListener(t, n)
            }), {
                destroy: function () {
                    Array.prototype.forEach.call(e, function (e) {
                        e.removeEventListener(t, n)
                    })
                }
            }
        }

        function a(e, t, n) {
            return l(document.body, e, t, n)
        }
        var s = n(304),
            l = n(302);
        e.exports = i
    },
    function (e, t) {
        function n(e, t) {
            if (o) return o.call(e, t);
            for (var n = e.parentNode.querySelectorAll(t), i = 0; i < n.length; ++i)
                if (n[i] == e) return !0;
            return !1
        }
        var i = Element.prototype,
            o = i.matchesSelector || i.webkitMatchesSelector || i.mozMatchesSelector || i.msMatchesSelector || i.oMatchesSelector;
        e.exports = n
    },
    function (e, t, n) {
        (function (t) {
            ! function (n) {
                function i() {}

                function o(e, t) {
                    return function () {
                        e.apply(t, arguments)
                    }
                }

                function r(e) {
                    if (!(this instanceof r)) throw new TypeError("Promises must be constructed via new");
                    if ("function" != typeof e) throw new TypeError("not a function");
                    this._state = 0, this._handled = !1, this._value = void 0, this._deferreds = [], d(e, this)
                }

                function a(e, t) {
                    for (; 3 === e._state;) e = e._value;
                    if (0 === e._state) return void e._deferreds.push(t);
                    e._handled = !0, r._immediateFn(function () {
                        var n = 1 === e._state ? t.onFulfilled : t.onRejected;
                        if (null === n) return void(1 === e._state ? s : l)(t.promise, e._value);
                        var i;
                        try {
                            i = n(e._value)
                        } catch (e) {
                            return void l(t.promise, e)
                        }
                        s(t.promise, i)
                    })
                }

                function s(e, t) {
                    try {
                        if (t === e) throw new TypeError("A promise cannot be resolved with itself.");
                        if (t && ("object" == typeof t || "function" == typeof t)) {
                            var n = t.then;
                            if (t instanceof r) return e._state = 3, e._value = t, void u(e);
                            if ("function" == typeof n) return void d(o(n, t), e)
                        }
                        e._state = 1, e._value = t, u(e)
                    } catch (t) {
                        l(e, t)
                    }
                }

                function l(e, t) {
                    e._state = 2, e._value = t, u(e)
                }

                function u(e) {
                    2 === e._state && 0 === e._deferreds.length && r._immediateFn(function () {
                        e._handled || r._unhandledRejectionFn(e._value)
                    });
                    for (var t = 0, n = e._deferreds.length; t < n; t++) a(e, e._deferreds[t]);
                    e._deferreds = null
                }

                function c(e, t, n) {
                    this.onFulfilled = "function" == typeof e ? e : null, this.onRejected = "function" == typeof t ? t : null, this.promise = n
                }

                function d(e, t) {
                    var n = !1;
                    try {
                        e(function (e) {
                            n || (n = !0, s(t, e))
                        }, function (e) {
                            n || (n = !0, l(t, e))
                        })
                    } catch (e) {
                        if (n) return;
                        n = !0, l(t, e)
                    }
                }
                var h = setTimeout;
                r.prototype.catch = function (e) {
                    return this.then(null, e)
                }, r.prototype.then = function (e, t) {
                    var n = new this.constructor(i);
                    return a(this, new c(e, t, n)), n
                }, r.all = function (e) {
                    return new r(function (t, n) {
                        function i(e, a) {
                            try {
                                if (a && ("object" == typeof a || "function" == typeof a)) {
                                    var s = a.then;
                                    if ("function" == typeof s) return void s.call(a, function (t) {
                                        i(e, t)
                                    }, n)
                                }
                                o[e] = a, 0 == --r && t(o)
                            } catch (e) {
                                n(e)
                            }
                        }
                        if (!e || void 0 === e.length) throw new TypeError("Promise.all accepts an array");
                        var o = Array.prototype.slice.call(e);
                        if (0 === o.length) return t([]);
                        for (var r = o.length, a = 0; a < o.length; a++) i(a, o[a])
                    })
                }, r.resolve = function (e) {
                    return e && "object" == typeof e && e.constructor === r ? e : new r(function (t) {
                        t(e)
                    })
                }, r.reject = function (e) {
                    return new r(function (t, n) {
                        n(e)
                    })
                }, r.race = function (e) {
                    return new r(function (t, n) {
                        for (var i = 0, o = e.length; i < o; i++) e[i].then(t, n)
                    })
                }, r._immediateFn = "function" == typeof t && function (e) {
                    t(e)
                } || function (e) {
                    h(e, 0)
                }, r._unhandledRejectionFn = function (e) {
                    "undefined" != typeof console && console && console.warn("Possible Unhandled Promise Rejection:", e)
                }, r._setImmediateFn = function (e) {
                    r._immediateFn = e
                }, r._setUnhandledRejectionFn = function (e) {
                    r._unhandledRejectionFn = e
                }, void 0 !== e && e.exports ? e.exports = r : n.Promise || (n.Promise = r)
            }(this)
        }).call(t, n(314).setImmediate)
    },
    function (e, t, n) {
        var i = function () {
                return this
            }() || Function("return this")(),
            o = i.regeneratorRuntime && Object.getOwnPropertyNames(i).indexOf("regeneratorRuntime") >= 0,
            r = o && i.regeneratorRuntime;
        if (i.regeneratorRuntime = void 0, e.exports = n(309), o) i.regeneratorRuntime = r;
        else try {
            delete i.regeneratorRuntime
        } catch (e) {
            i.regeneratorRuntime = void 0
        }
    },
    function (e, t) {
        ! function (t) {
            "use strict";

            function n(e, t, n, i) {
                var r = t && t.prototype instanceof o ? t : o,
                    a = Object.create(r.prototype),
                    s = new p(i || []);
                return a._invoke = u(e, n, s), a
            }

            function i(e, t, n) {
                try {
                    return {
                        type: "normal",
                        arg: e.call(t, n)
                    }
                } catch (e) {
                    return {
                        type: "throw",
                        arg: e
                    }
                }
            }

            function o() {}

            function r() {}

            function a() {}

            function s(e) {
                ["next", "throw", "return"].forEach(function (t) {
                    e[t] = function (e) {
                        return this._invoke(t, e)
                    }
                })
            }

            function l(e) {
                function t(n, o, r, a) {
                    var s = i(e[n], e, o);
                    if ("throw" !== s.type) {
                        var l = s.arg,
                            u = l.value;
                        return u && "object" == typeof u && v.call(u, "__await") ? Promise.resolve(u.__await).then(function (e) {
                            t("next", e, r, a)
                        }, function (e) {
                            t("throw", e, r, a)
                        }) : Promise.resolve(u).then(function (e) {
                            l.value = e, r(l)
                        }, a)
                    }
                    a(s.arg)
                }

                function n(e, n) {
                    function i() {
                        return new Promise(function (i, o) {
                            t(e, n, i, o)
                        })
                    }
                    return o = o ? o.then(i, i) : i()
                }
                var o;
                this._invoke = n
            }

            function u(e, t, n) {
                var o = T;
                return function (r, a) {
                    if (o === A) throw new Error("Generator is already running");
                    if (o === D) {
                        if ("throw" === r) throw a;
                        return g()
                    }
                    for (n.method = r, n.arg = a;;) {
                        var s = n.delegate;
                        if (s) {
                            var l = c(s, n);
                            if (l) {
                                if (l === L) continue;
                                return l
                            }
                        }
                        if ("next" === n.method) n.sent = n._sent = n.arg;
                        else if ("throw" === n.method) {
                            if (o === T) throw o = D, n.arg;
                            n.dispatchException(n.arg)
                        } else "return" === n.method && n.abrupt("return", n.arg);
                        o = A;
                        var u = i(e, t, n);
                        if ("normal" === u.type) {
                            if (o = n.done ? D : x, u.arg === L) continue;
                            return {
                                value: u.arg,
                                done: n.done
                            }
                        }
                        "throw" === u.type && (o = D, n.method = "throw", n.arg = u.arg)
                    }
                }
            }

            function c(e, t) {
                var n = e.iterator[t.method];
                if (n === m) {
                    if (t.delegate = null, "throw" === t.method) {
                        if (e.iterator.return && (t.method = "return", t.arg = m, c(e, t), "throw" === t.method)) return L;
                        t.method = "throw", t.arg = new TypeError("The iterator does not provide a 'throw' method")
                    }
                    return L
                }
                var o = i(n, e.iterator, t.arg);
                if ("throw" === o.type) return t.method = "throw", t.arg = o.arg, t.delegate = null, L;
                var r = o.arg;
                return r ? r.done ? (t[e.resultName] = r.value, t.next = e.nextLoc, "return" !== t.method && (t.method = "next", t.arg = m), t.delegate = null, L) : r : (t.method = "throw", t.arg = new TypeError("iterator result is not an object"), t.delegate = null, L)
            }

            function d(e) {
                var t = {
                    tryLoc: e[0]
                };
                1 in e && (t.catchLoc = e[1]), 2 in e && (t.finallyLoc = e[2], t.afterLoc = e[3]), this.tryEntries.push(t)
            }

            function h(e) {
                var t = e.completion || {};
                t.type = "normal", delete t.arg, e.completion = t
            }

            function p(e) {
                this.tryEntries = [{
                    tryLoc: "root"
                }], e.forEach(d, this), this.reset(!0)
            }

            function f(e) {
                if (e) {
                    var t = e[b];
                    if (t) return t.call(e);
                    if ("function" == typeof e.next) return e;
                    if (!isNaN(e.length)) {
                        var n = -1,
                            i = function t() {
                                for (; ++n < e.length;)
                                    if (v.call(e, n)) return t.value = e[n], t.done = !1, t;
                                return t.value = m, t.done = !0, t
                            };
                        return i.next = i
                    }
                }
                return {
                    next: g
                }
            }

            function g() {
                return {
                    value: m,
                    done: !0
                }
            }
            var m, y = Object.prototype,
                v = y.hasOwnProperty,
                _ = "function" == typeof Symbol ? Symbol : {},
                b = _.iterator || "@@iterator",
                E = _.asyncIterator || "@@asyncIterator",
                k = _.toStringTag || "@@toStringTag",
                w = "object" == typeof e,
                S = t.regeneratorRuntime;
            if (S) return void(w && (e.exports = S));
            S = t.regeneratorRuntime = w ? e.exports : {}, S.wrap = n;
            var T = "suspendedStart",
                x = "suspendedYield",
                A = "executing",
                D = "completed",
                L = {},
                C = {};
            C[b] = function () {
                return this
            };
            var M = Object.getPrototypeOf,
                I = M && M(M(f([])));
            I && I !== y && v.call(I, b) && (C = I);
            var R = a.prototype = o.prototype = Object.create(C);
            r.prototype = R.constructor = a, a.constructor = r, a[k] = r.displayName = "GeneratorFunction", S.isGeneratorFunction = function (e) {
                var t = "function" == typeof e && e.constructor;
                return !!t && (t === r || "GeneratorFunction" === (t.displayName || t.name))
            }, S.mark = function (e) {
                return Object.setPrototypeOf ? Object.setPrototypeOf(e, a) : (e.__proto__ = a, k in e || (e[k] = "GeneratorFunction")), e.prototype = Object.create(R), e
            }, S.awrap = function (e) {
                return {
                    __await: e
                }
            }, s(l.prototype), l.prototype[E] = function () {
                return this
            }, S.AsyncIterator = l, S.async = function (e, t, i, o) {
                var r = new l(n(e, t, i, o));
                return S.isGeneratorFunction(t) ? r : r.next().then(function (e) {
                    return e.done ? e.value : r.next()
                })
            }, s(R), R[k] = "Generator", R[b] = function () {
                return this
            }, R.toString = function () {
                return "[object Generator]"
            }, S.keys = function (e) {
                var t = [];
                for (var n in e) t.push(n);
                return t.reverse(),
                    function n() {
                        for (; t.length;) {
                            var i = t.pop();
                            if (i in e) return n.value = i, n.done = !1, n
                        }
                        return n.done = !0, n
                    }
            }, S.values = f, p.prototype = {
                constructor: p,
                reset: function (e) {
                        if (this.prev = 0, this.next = 0, this.sent = this._sent = m, this.done = !1, this.delegate = null, this.method = "next", this.arg = m, this.tryEntries.forEach(h), !e)
                            for (var t in this) "t" === t.charAt(0) && v.call(this, t) && !isNaN(+t.slice(1)) && (this[t] = m)
                    }, stop: function () {
                        this.done = !0;
                        var e = this.tryEntries[0],
                            t = e.completion;
                        if ("throw" === t.type) throw t.arg;
                        return this.rval
                    }, dispatchException: function (e) {
                        function t(t, i) {
                            return r.type = "throw", r.arg = e, n.next = t, i && (n.method = "next", n.arg = m), !!i
                        }
                        if (this.done) throw e;
                        for (var n = this, i = this.tryEntries.length - 1; i >= 0; --i) {
                            var o = this.tryEntries[i],
                                r = o.completion;
                            if ("root" === o.tryLoc) return t("end");
                            if (o.tryLoc <= this.prev) {
                                var a = v.call(o, "catchLoc"),
                                    s = v.call(o, "finallyLoc");
                                if (a && s) {
                                    if (this.prev < o.catchLoc) return t(o.catchLoc, !0);
                                    if (this.prev < o.finallyLoc) return t(o.finallyLoc)
                                } else if (a) {
                                    if (this.prev < o.catchLoc) return t(o.catchLoc, !0)
                                } else {
                                    if (!s) throw new Error("try statement without catch or finally");
                                    if (this.prev < o.finallyLoc) return t(o.finallyLoc)
                                }
                            }
                        }
                    }, abrupt: function (e, t) {
                        for (var n = this.tryEntries.length - 1; n >= 0; --n) {
                            var i = this.tryEntries[n];
                            if (i.tryLoc <= this.prev && v.call(i, "finallyLoc") && this.prev < i.finallyLoc) {
                                var o = i;
                                break
                            }
                        }
                        o && ("break" === e || "continue" === e) && o.tryLoc <= t && t <= o.finallyLoc && (o = null);
                        var r = o ? o.completion : {};
                        return r.type = e, r.arg = t, o ? (this.method = "next", this.next = o.finallyLoc, L) : this.complete(r)
                    }, complete: function (e, t) {
                        if ("throw" === e.type) throw e.arg;
                        return "break" === e.type || "continue" === e.type ? this.next = e.arg : "return" === e.type ? (this.rval = this.arg = e.arg, this.method = "return", this.next = "end") : "normal" === e.type && t && (this.next = t), L
                    }, finish: function (e) {
                        for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                            var n = this.tryEntries[t];
                            if (n.finallyLoc === e) return this.complete(n.completion, n.afterLoc), h(n), L
                        }
                    },
                    catch: function (e) {
                        for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                            var n = this.tryEntries[t];
                            if (n.tryLoc === e) {
                                var i = n.completion;
                                if ("throw" === i.type) {
                                    var o = i.arg;
                                    h(n)
                                }
                                return o
                            }
                        }
                        throw new Error("illegal catch attempt")
                    }, delegateYield: function (e, t, n) {
                        return this.delegate = {
                            iterator: f(e),
                            resultName: t,
                            nextLoc: n
                        }, "next" === this.method && (this.arg = m), L
                    }
            }
        }(function () {
            return this
        }() || Function("return this")())
    },
    function (e, t) {
        function n(e) {
            var t;
            if ("SELECT" === e.nodeName) e.focus(), t = e.value;
            else if ("INPUT" === e.nodeName || "TEXTAREA" === e.nodeName) {
                var n = e.hasAttribute("readonly");
                n || e.setAttribute("readonly", ""), e.select(), e.setSelectionRange(0, e.value.length), n || e.removeAttribute("readonly"), t = e.value
            } else {
                e.hasAttribute("contenteditable") && e.focus();
                var i = window.getSelection(),
                    o = document.createRange();
                o.selectNodeContents(e), i.removeAllRanges(), i.addRange(o), t = i.toString()
            }
            return t
        }
        e.exports = n
    },
    function (e, t, n) {
        (function (e, t) {
            ! function (e, n) {
                "use strict";

                function i(e) {
                    "function" != typeof e && (e = new Function("" + e));
                    for (var t = new Array(arguments.length - 1), n = 0; n < t.length; n++) t[n] = arguments[n + 1];
                    var i = {
                        callback: e,
                        args: t
                    };
                    return u[l] = i, s(l), l++
                }

                function o(e) {
                    delete u[e]
                }

                function r(e) {
                    var t = e.callback,
                        i = e.args;
                    switch (i.length) {
                    case 0:
                        t();
                        break;
                    case 1:
                        t(i[0]);
                        break;
                    case 2:
                        t(i[0], i[1]);
                        break;
                    case 3:
                        t(i[0], i[1], i[2]);
                        break;
                    default:
                        t.apply(n, i)
                    }
                }

                function a(e) {
                    if (c) setTimeout(a, 0, e);
                    else {
                        var t = u[e];
                        if (t) {
                            c = !0;
                            try {
                                r(t)
                            } finally {
                                o(e), c = !1
                            }
                        }
                    }
                }
                if (!e.setImmediate) {
                    var s, l = 1,
                        u = {},
                        c = !1,
                        d = e.document,
                        h = Object.getPrototypeOf && Object.getPrototypeOf(e);
                    h = h && h.setTimeout ? h : e, "[object process]" === {}.toString.call(e.process) ? function () {
                        s = function (e) {
                            t.nextTick(function () {
                                a(e)
                            })
                        }
                    }() : function () {
                        if (e.postMessage && !e.importScripts) {
                            var t = !0,
                                n = e.onmessage;
                            return e.onmessage = function () {
                                t = !1
                            }, e.postMessage("", "*"), e.onmessage = n, t
                        }
                    }() ? function () {
                        var t = "setImmediate$" + Math.random() + "$",
                            n = function (n) {
                                n.source === e && "string" == typeof n.data && 0 === n.data.indexOf(t) && a(+n.data.slice(t.length))
                            };
                        e.addEventListener ? e.addEventListener("message", n, !1) : e.attachEvent("onmessage", n), s = function (n) {
                            e.postMessage(t + n, "*")
                        }
                    }() : e.MessageChannel ? function () {
                        var e = new MessageChannel;
                        e.port1.onmessage = function (e) {
                            a(e.data)
                        }, s = function (t) {
                            e.port2.postMessage(t)
                        }
                    }() : d && "onreadystatechange" in d.createElement("script") ? function () {
                        var e = d.documentElement;
                        s = function (t) {
                            var n = d.createElement("script");
                            n.onreadystatechange = function () {
                                a(t), n.onreadystatechange = null, e.removeChild(n), n = null
                            }, e.appendChild(n)
                        }
                    }() : function () {
                        s = function (e) {
                            setTimeout(a, 0, e)
                        }
                    }(), h.setImmediate = i, h.clearImmediate = o
                }
            }("undefined" == typeof self ? void 0 === e ? this : e : self)
        }).call(t, n(129), n(126))
    },
    function (e, t, n) {
        var i = n(299);
        "string" == typeof i && (i = [
            [e.i, i, ""]
        ]);
        var o = {};
        o.transform = void 0;
        n(128)(i, o);
        i.locals && (e.exports = i.locals)
    },
    function (e, t) {
        e.exports = function (e) {
            var t = "undefined" != typeof window && window.location;
            if (!t) throw new Error("fixUrls requires window.location");
            if (!e || "string" != typeof e) return e;
            var n = t.protocol + "//" + t.host,
                i = n + t.pathname.replace(/\/[^\/]*$/, "/");
            return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi, function (e, t) {
                var o = t.trim().replace(/^"(.*)"$/, function (e, t) {
                    return t
                }).replace(/^'(.*)'$/, function (e, t) {
                    return t
                });
                if (/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o)) return e;
                var r;
                return r = 0 === o.indexOf("//") ? o : 0 === o.indexOf("/") ? n + o : i + o.replace(/^\.\//, ""), "url(" + JSON.stringify(r) + ")"
            })
        }
    },
    function (e, t, n) {
        (function (e) {
            function i(e, t) {
                this._id = e, this._clearFn = t
            }
            var o = void 0 !== e && e || "undefined" != typeof self && self || window,
                r = Function.prototype.apply;
            t.setTimeout = function () {
                return new i(r.call(setTimeout, o, arguments), clearTimeout)
            }, t.setInterval = function () {
                return new i(r.call(setInterval, o, arguments), clearInterval)
            }, t.clearTimeout = t.clearInterval = function (e) {
                e && e.close()
            }, i.prototype.unref = i.prototype.ref = function () {}, i.prototype.close = function () {
                this._clearFn.call(o, this._id)
            }, t.enroll = function (e, t) {
                clearTimeout(e._idleTimeoutId), e._idleTimeout = t
            }, t.unenroll = function (e) {
                clearTimeout(e._idleTimeoutId), e._idleTimeout = -1
            }, t._unrefActive = t.active = function (e) {
                clearTimeout(e._idleTimeoutId);
                var t = e._idleTimeout;
                t >= 0 && (e._idleTimeoutId = setTimeout(function () {
                    e._onTimeout && e._onTimeout()
                }, t))
            }, n(311), t.setImmediate = "undefined" != typeof self && self.setImmediate || void 0 !== e && e.setImmediate || this && this.setImmediate, t.clearImmediate = "undefined" != typeof self && self.clearImmediate || void 0 !== e && e.clearImmediate || this && this.clearImmediate
        }).call(t, n(129))
    },
    function (e, t) {
        function n() {}
        n.prototype = {
            on: function (e, t, n) {
                var i = this.e || (this.e = {});
                return (i[e] || (i[e] = [])).push({
                    fn: t,
                    ctx: n
                }), this
            }, once: function (e, t, n) {
                function i() {
                    o.off(e, i), t.apply(n, arguments)
                }
                var o = this;
                return i._ = t, this.on(e, i, n)
            }, emit: function (e) {
                var t = [].slice.call(arguments, 1),
                    n = ((this.e || (this.e = {}))[e] || []).slice(),
                    i = 0,
                    o = n.length;
                for (i; i < o; i++) n[i].fn.apply(n[i].ctx, t);
                return this
            }, off: function (e, t) {
                var n = this.e || (this.e = {}),
                    i = n[e],
                    o = [];
                if (i && t)
                    for (var r = 0, a = i.length; r < a; r++) i[r].fn !== t && i[r].fn._ !== t && o.push(i[r]);
                return o.length ? n[e] = o : delete n[e], this
            }
        }, e.exports = n, e.exports.TinyEmitter = n
    },
    function (e, t) {
        ! function (e) {
            "use strict";

            function t(e) {
                if ("string" != typeof e && (e = String(e)), /[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e)) throw new TypeError("Invalid character in header field name");
                return e.toLowerCase()
            }

            function n(e) {
                return "string" != typeof e && (e = String(e)), e
            }

            function i(e) {
                var t = {
                    next: function () {
                        var t = e.shift();
                        return {
                            done: void 0 === t,
                            value: t
                        }
                    }
                };
                return y.iterable && (t[Symbol.iterator] = function () {
                    return t
                }), t
            }

            function o(e) {
                this.map = {}, e instanceof o ? e.forEach(function (e, t) {
                    this.append(t, e)
                }, this) : Array.isArray(e) ? e.forEach(function (e) {
                    this.append(e[0], e[1])
                }, this) : e && Object.getOwnPropertyNames(e).forEach(function (t) {
                    this.append(t, e[t])
                }, this)
            }

            function r(e) {
                if (e.bodyUsed) return Promise.reject(new TypeError("Already read"));
                e.bodyUsed = !0
            }

            function a(e) {
                return new Promise(function (t, n) {
                    e.onload = function () {
                        t(e.result)
                    }, e.onerror = function () {
                        n(e.error)
                    }
                })
            }

            function s(e) {
                var t = new FileReader,
                    n = a(t);
                return t.readAsArrayBuffer(e), n
            }

            function l(e) {
                var t = new FileReader,
                    n = a(t);
                return t.readAsText(e), n
            }

            function u(e) {
                for (var t = new Uint8Array(e), n = new Array(t.length), i = 0; i < t.length; i++) n[i] = String.fromCharCode(t[i]);
                return n.join("")
            }

            function c(e) {
                if (e.slice) return e.slice(0);
                var t = new Uint8Array(e.byteLength);
                return t.set(new Uint8Array(e)), t.buffer
            }

            function d() {
                return this.bodyUsed = !1, this._initBody = function (e) {
                    if (this._bodyInit = e, e)
                        if ("string" == typeof e) this._bodyText = e;
                        else if (y.blob && Blob.prototype.isPrototypeOf(e)) this._bodyBlob = e;
                    else if (y.formData && FormData.prototype.isPrototypeOf(e)) this._bodyFormData = e;
                    else if (y.searchParams && URLSearchParams.prototype.isPrototypeOf(e)) this._bodyText = e.toString();
                    else if (y.arrayBuffer && y.blob && _(e)) this._bodyArrayBuffer = c(e.buffer), this._bodyInit = new Blob([this._bodyArrayBuffer]);
                    else {
                        if (!y.arrayBuffer || !ArrayBuffer.prototype.isPrototypeOf(e) && !b(e)) throw new Error("unsupported BodyInit type");
                        this._bodyArrayBuffer = c(e)
                    } else this._bodyText = "";
                    this.headers.get("content-type") || ("string" == typeof e ? this.headers.set("content-type", "text/plain;charset=UTF-8") : this._bodyBlob && this._bodyBlob.type ? this.headers.set("content-type", this._bodyBlob.type) : y.searchParams && URLSearchParams.prototype.isPrototypeOf(e) && this.headers.set("content-type", "application/x-www-form-urlencoded;charset=UTF-8"))
                }, y.blob && (this.blob = function () {
                    var e = r(this);
                    if (e) return e;
                    if (this._bodyBlob) return Promise.resolve(this._bodyBlob);
                    if (this._bodyArrayBuffer) return Promise.resolve(new Blob([this._bodyArrayBuffer]));
                    if (this._bodyFormData) throw new Error("could not read FormData body as blob");
                    return Promise.resolve(new Blob([this._bodyText]))
                }, this.arrayBuffer = function () {
                    return this._bodyArrayBuffer ? r(this) || Promise.resolve(this._bodyArrayBuffer) : this.blob().then(s)
                }), this.text = function () {
                    var e = r(this);
                    if (e) return e;
                    if (this._bodyBlob) return l(this._bodyBlob);
                    if (this._bodyArrayBuffer) return Promise.resolve(u(this._bodyArrayBuffer));
                    if (this._bodyFormData) throw new Error("could not read FormData body as text");
                    return Promise.resolve(this._bodyText)
                }, y.formData && (this.formData = function () {
                    return this.text().then(f)
                }), this.json = function () {
                    return this.text().then(JSON.parse)
                }, this
            }

            function h(e) {
                var t = e.toUpperCase();
                return E.indexOf(t) > -1 ? t : e
            }

            function p(e, t) {
                t = t || {};
                var n = t.body;
                if (e instanceof p) {
                    if (e.bodyUsed) throw new TypeError("Already read");
                    this.url = e.url, this.credentials = e.credentials, t.headers || (this.headers = new o(e.headers)), this.method = e.method, this.mode = e.mode, n || null == e._bodyInit || (n = e._bodyInit, e.bodyUsed = !0)
                } else this.url = String(e); if (this.credentials = t.credentials || this.credentials || "omit", !t.headers && this.headers || (this.headers = new o(t.headers)), this.method = h(t.method || this.method || "GET"), this.mode = t.mode || this.mode || null, this.referrer = null, ("GET" === this.method || "HEAD" === this.method) && n) throw new TypeError("Body not allowed for GET or HEAD requests");
                this._initBody(n)
            }

            function f(e) {
                var t = new FormData;
                return e.trim().split("&").forEach(function (e) {
                    if (e) {
                        var n = e.split("="),
                            i = n.shift().replace(/\+/g, " "),
                            o = n.join("=").replace(/\+/g, " ");
                        t.append(decodeURIComponent(i), decodeURIComponent(o))
                    }
                }), t
            }

            function g(e) {
                var t = new o;
                return e.replace(/\r?\n[\t ]+/g, " ").split(/\r?\n/).forEach(function (e) {
                    var n = e.split(":"),
                        i = n.shift().trim();
                    if (i) {
                        var o = n.join(":").trim();
                        t.append(i, o)
                    }
                }), t
            }

            function m(e, t) {
                t || (t = {}), this.type = "default", this.status = void 0 === t.status ? 200 : t.status, this.ok = this.status >= 200 && this.status < 300, this.statusText = "statusText" in t ? t.statusText : "OK", this.headers = new o(t.headers), this.url = t.url || "", this._initBody(e)
            }
            if (!e.fetch) {
                var y = {
                    searchParams: "URLSearchParams" in e,
                    iterable: "Symbol" in e && "iterator" in Symbol,
                    blob: "FileReader" in e && "Blob" in e && function () {
                        try {
                            return new Blob, !0
                        } catch (e) {
                            return !1
                        }
                    }(),
                    formData: "FormData" in e,
                    arrayBuffer: "ArrayBuffer" in e
                };
                if (y.arrayBuffer) var v = ["[object Int8Array]", "[object Uint8Array]", "[object Uint8ClampedArray]", "[object Int16Array]", "[object Uint16Array]", "[object Int32Array]", "[object Uint32Array]", "[object Float32Array]", "[object Float64Array]"],
                    _ = function (e) {
                        return e && DataView.prototype.isPrototypeOf(e)
                    },
                    b = ArrayBuffer.isView || function (e) {
                        return e && v.indexOf(Object.prototype.toString.call(e)) > -1
                    };
                o.prototype.append = function (e, i) {
                    e = t(e), i = n(i);
                    var o = this.map[e];
                    this.map[e] = o ? o + "," + i : i
                }, o.prototype.delete = function (e) {
                    delete this.map[t(e)]
                }, o.prototype.get = function (e) {
                    return e = t(e), this.has(e) ? this.map[e] : null
                }, o.prototype.has = function (e) {
                    return this.map.hasOwnProperty(t(e))
                }, o.prototype.set = function (e, i) {
                    this.map[t(e)] = n(i)
                }, o.prototype.forEach = function (e, t) {
                    for (var n in this.map) this.map.hasOwnProperty(n) && e.call(t, this.map[n], n, this)
                }, o.prototype.keys = function () {
                    var e = [];
                    return this.forEach(function (t, n) {
                        e.push(n)
                    }), i(e)
                }, o.prototype.values = function () {
                    var e = [];
                    return this.forEach(function (t) {
                        e.push(t)
                    }), i(e)
                }, o.prototype.entries = function () {
                    var e = [];
                    return this.forEach(function (t, n) {
                        e.push([n, t])
                    }), i(e)
                }, y.iterable && (o.prototype[Symbol.iterator] = o.prototype.entries);
                var E = ["DELETE", "GET", "HEAD", "OPTIONS", "POST", "PUT"];
                p.prototype.clone = function () {
                    return new p(this, {
                        body: this._bodyInit
                    })
                }, d.call(p.prototype), d.call(m.prototype), m.prototype.clone = function () {
                    return new m(this._bodyInit, {
                        status: this.status,
                        statusText: this.statusText,
                        headers: new o(this.headers),
                        url: this.url
                    })
                }, m.error = function () {
                    var e = new m(null, {
                        status: 0,
                        statusText: ""
                    });
                    return e.type = "error", e
                };
                var k = [301, 302, 303, 307, 308];
                m.redirect = function (e, t) {
                    if (-1 === k.indexOf(t)) throw new RangeError("Invalid status code");
                    return new m(null, {
                        status: t,
                        headers: {
                            location: e
                        }
                    })
                }, e.Headers = o, e.Request = p, e.Response = m, e.fetch = function (e, t) {
                    return new Promise(function (n, i) {
                        var o = new p(e, t),
                            r = new XMLHttpRequest;
                        r.onload = function () {
                            var e = {
                                status: r.status,
                                statusText: r.statusText,
                                headers: g(r.getAllResponseHeaders() || "")
                            };
                            e.url = "responseURL" in r ? r.responseURL : e.headers.get("X-Request-URL");
                            var t = "response" in r ? r.response : r.responseText;
                            n(new m(t, e))
                        }, r.onerror = function () {
                            i(new TypeError("Network request failed"))
                        }, r.ontimeout = function () {
                            i(new TypeError("Network request failed"))
                        }, r.open(o.method, o.url, !0), "include" === o.credentials ? r.withCredentials = !0 : "omit" === o.credentials && (r.withCredentials = !1), "responseType" in r && y.blob && (r.responseType = "blob"), o.headers.forEach(function (e, t) {
                            r.setRequestHeader(t, e)
                        }), r.send(void 0 === o._bodyInit ? null : o._bodyInit)
                    })
                }, e.fetch.polyfill = !0
            }
        }("undefined" != typeof self ? self : this)
    }
]);
